{"ast":null,"code":"import { map, filter } from 'rxjs/operators';\nimport { Message } from './events.models';\nimport { truthy, build } from '../shared/utils';\nexport function eventsSelector(store) {\n  return store.select(function (s) {\n    return s['events'];\n  }).pipe(map(function (events) {\n    return events.items;\n  }));\n}\nexport function eventSelector(store, key) {\n  return eventsSelector(store).pipe(map(function (events) {\n    return events[key];\n  }));\n}\nexport function eventValueSelector(store, key) {\n  return eventSelector(store, key).pipe(map(function (e) {\n    return e ? e.value : null;\n  }));\n}\nexport function messagesSelector(store) {\n  return store.select('messages');\n}\nexport function messageSubscriptionsSelector(store) {\n  return messagesSelector(store).pipe(map(function (x) {\n    return x.subscriptions;\n  }));\n}\nexport function messageSelector(store, channel) {\n  return messagesSelector(store).pipe(map(function (x) {\n    return build(Message, x.get(channel)).message;\n  }), filter(function (x) {\n    return truthy(x);\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}