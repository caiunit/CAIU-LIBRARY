{"hash":"480d1d9a50eabc4c110c009a489f219d70830e6d","fesm2020":{"code":"import * as i0 from '@angular/core';\nimport { Injectable, Component, EventEmitter, Input, Output, Directive, NgModule, ViewEncapsulation, ViewChildren, Optional, Inject, Pipe, forwardRef, ChangeDetectionStrategy, HostListener, ViewChild, ContentChild, PLATFORM_ID, ErrorHandler, InjectionToken } from '@angular/core';\nimport * as i2$2 from '@angular/material/button';\nimport { MatButtonModule } from '@angular/material/button';\nimport * as i1$6 from '@angular/material/card';\nimport { MatCardModule } from '@angular/material/card';\nimport * as i4 from '@angular/material/checkbox';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport * as i8 from '@angular/material/input';\nimport { MatInputModule } from '@angular/material/input';\nimport * as i3$3 from '@angular/material/progress-bar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport * as i2$7 from '@angular/material/progress-spinner';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRadioModule } from '@angular/material/radio';\nimport * as i2$3 from '@angular/material/select';\nimport { MatSelectModule } from '@angular/material/select';\nimport * as i3$2 from '@angular/material/table';\nimport { MatTableModule } from '@angular/material/table';\nimport * as i3$4 from '@angular/material/tabs';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport * as i2 from '@angular/material/toolbar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport * as i3 from '@angular/material/icon';\nimport { MatIconModule } from '@angular/material/icon';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i2$1 from '@angular/common';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport * as i1$5 from '@angular/router';\nimport { RouterModule as RouterModule$1, NavigationCancel, NavigationEnd, NavigationError, NavigationStart, RoutesRecognized } from '@angular/router';\nimport * as i5 from '@angular/forms';\nimport { Validators as Validators$1, FormArray as FormArray$1, FormBuilder, NG_VALUE_ACCESSOR, FormGroup, FormsModule as FormsModule$1, ReactiveFormsModule, FormControl } from '@angular/forms';\nimport * as i1$1 from '@ngrx/store';\nimport { Store, StoreModule as StoreModule$1 } from '@ngrx/store';\nimport { filter, map, take, catchError, finalize, debounceTime, distinctUntilChanged, switchMap, combineLatest as combineLatest$1, skip, mergeMap, withLatestFrom } from 'rxjs/operators';\nimport { __decorate, __metadata } from 'tslib';\nimport * as i1 from '@ngrx/effects';\nimport { Effect, EffectsModule as EffectsModule$1, ofType } from '@ngrx/effects';\nimport * as i2$5 from 'rxjs';\nimport { Observable, of, throwError, BehaviorSubject, combineLatest, from } from 'rxjs';\nimport * as i3$1 from '@angular/material/core';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport * as i2$4 from '@angular/material/datepicker';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport * as i1$2 from '@angular/material/dialog';\nimport { MatDialogClose, MAT_DIALOG_DATA, MatDialogModule } from '@angular/material/dialog';\nimport * as i1$3 from '@angular/material/form-field';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport * as i1$4 from '@angular/common/http';\nimport { HttpHeaders, HttpClient, HttpClientModule } from '@angular/common/http';\nimport * as i2$6 from '@angular/cdk/drag-drop';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i2$8 from '@angular/platform-browser';\nimport * as signalR from '@Microsoft/signalr';\n\nclass LibraryService {\r\n    constructor() { }\r\n}\r\n/** @nocollapse */ LibraryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ LibraryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass LibraryComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ LibraryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ LibraryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: LibraryComponent, selector: \"iu-library\", ngImport: i0, template: `\r\n    <p>\r\n      library works!\r\n    </p>\r\n  `, isInline: true });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'iu-library',\r\n                    template: `\r\n    <p>\r\n      library works!\r\n    </p>\r\n  `,\r\n                    styles: []\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass AccordionComponent {\r\n    constructor() {\r\n        this.active = true;\r\n        this.opened = true;\r\n        this.showArrow = false;\r\n        this.closeStart = new EventEmitter();\r\n        this.closeDone = new EventEmitter();\r\n        this.openStart = new EventEmitter();\r\n        this.openDone = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    toggle() {\r\n        this.opened = !this.opened;\r\n    }\r\n    open() {\r\n        this.opened = true;\r\n    }\r\n    close() {\r\n        this.opened = false;\r\n    }\r\n    onStart(e) {\r\n        if (this.opened) {\r\n            this.openStart.emit();\r\n        }\r\n        else {\r\n            this.closeStart.emit();\r\n        }\r\n    }\r\n    onDone(e) {\r\n        if (this.opened) {\r\n            this.openDone.emit();\r\n        }\r\n        else {\r\n            this.closeDone.emit();\r\n        }\r\n    }\r\n    onClickTrigger() {\r\n        if (this.active) {\r\n            this.toggle();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ AccordionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AccordionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AccordionComponent, selector: \"iu-accordion\", inputs: { active: \"active\", opened: \"opened\", showArrow: \"showArrow\" }, outputs: { closeStart: \"closeStart\", closeDone: \"closeDone\", openStart: \"openStart\", openDone: \"openDone\" }, ngImport: i0, template: \"<div class=\\\"accordion\\\">\\r\\n  <div class=\\\"trigger-wrapper\\\" (click)=\\\"onClickTrigger()\\\" [class.active]=\\\"active\\\">\\r\\n    <ng-content select=\\\".accordion-trigger\\\"></ng-content>\\r\\n  </div>\\r\\n  <div class=\\\"content-wrapper\\\" [@toggle]=\\\"opened ? 'show' : 'hide'\\\" (@toggle.start)=\\\"onStart($event)\\\" (@toggle.done)=\\\"onDone($event)\\\">\\r\\n    <ng-content select=\\\".accordion-content\\\"></ng-content>\\r\\n  </div>\\r\\n</div>\", styles: [\".trigger-wrapper{position:relative;padding:0}.trigger-wrapper.active{cursor:pointer}.content-wrapper{overflow:hidden;clear:both}.mat-icon{position:absolute;right:2%;top:25%;color:#fff;font-size:32px;height:50%;font-weight:700}\\n\"], animations: [\r\n        trigger('toggle', [\r\n            state('*', style({ height: '0px' })),\r\n            state('show', style({ height: '*' })),\r\n            state('hide', style({ height: '0px' })),\r\n            transition('show <=> hide', [\r\n                animate('300ms ease-out')\r\n            ])\r\n        ])\r\n    ] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-accordion', animations: [\r\n                        trigger('toggle', [\r\n                            state('*', style({ height: '0px' })),\r\n                            state('show', style({ height: '*' })),\r\n                            state('hide', style({ height: '0px' })),\r\n                            transition('show <=> hide', [\r\n                                animate('300ms ease-out')\r\n                            ])\r\n                        ])\r\n                    ], template: \"<div class=\\\"accordion\\\">\\r\\n  <div class=\\\"trigger-wrapper\\\" (click)=\\\"onClickTrigger()\\\" [class.active]=\\\"active\\\">\\r\\n    <ng-content select=\\\".accordion-trigger\\\"></ng-content>\\r\\n  </div>\\r\\n  <div class=\\\"content-wrapper\\\" [@toggle]=\\\"opened ? 'show' : 'hide'\\\" (@toggle.start)=\\\"onStart($event)\\\" (@toggle.done)=\\\"onDone($event)\\\">\\r\\n    <ng-content select=\\\".accordion-content\\\"></ng-content>\\r\\n  </div>\\r\\n</div>\", styles: [\".trigger-wrapper{position:relative;padding:0}.trigger-wrapper.active{cursor:pointer}.content-wrapper{overflow:hidden;clear:both}.mat-icon{position:absolute;right:2%;top:25%;color:#fff;font-size:32px;height:50%;font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { active: [{\r\n                type: Input\r\n            }], opened: [{\r\n                type: Input\r\n            }], showArrow: [{\r\n                type: Input\r\n            }], closeStart: [{\r\n                type: Output\r\n            }], closeDone: [{\r\n                type: Output\r\n            }], openStart: [{\r\n                type: Output\r\n            }], openDone: [{\r\n                type: Output\r\n            }] } });\n\nclass Validators {\r\n    static compose(validators) {\r\n        return Validators$1.compose(validators);\r\n    }\r\n    static composeAsync(validators) {\r\n        return Validators$1.composeAsync(validators);\r\n    }\r\n    static email(control) {\r\n        if (falsy(control.value)) {\r\n            return null;\r\n        }\r\n        return Validators$1.email(control);\r\n    }\r\n    static exactLength(exactLength) {\r\n        return (control) => {\r\n            return Validators.maxLength(exactLength)(control) === null &&\r\n                Validators.minLength(exactLength)(control) === null\r\n                ? null\r\n                : { exactLength: { value: control.value } };\r\n        };\r\n    }\r\n    static max(max) {\r\n        return Validators$1.max(max);\r\n    }\r\n    static maxLength(maxLength) {\r\n        return Validators$1.maxLength(maxLength);\r\n    }\r\n    static min(min) {\r\n        return Validators$1.min(min);\r\n    }\r\n    static minLength(minLength) {\r\n        return Validators$1.minLength(minLength);\r\n    }\r\n    static numeric(maxLength = 0) {\r\n        return (control) => {\r\n            const numeric = typeof control.value === 'number';\r\n            const toInt = parseInt(control.value, 10);\r\n            const valid = maxLength\r\n                ? numeric && toInt < Math.pow(10, maxLength)\r\n                : numeric;\r\n            return !valid ? { numeric: { value: control.value } } : null;\r\n        };\r\n    }\r\n    static nullValidator(control) {\r\n        return Validators$1.nullValidator(control);\r\n    }\r\n    static pattern(pattern) {\r\n        return Validators$1.pattern(pattern);\r\n    }\r\n    static phone(control) {\r\n        if (falsy(control.value)) {\r\n            return null;\r\n        }\r\n        const toInt = parseInt(control.value, 10);\r\n        const numeric = typeof toInt === 'number' && toInt > 999999999;\r\n        return !numeric ? { phone: { value: control.value } } : null;\r\n    }\r\n    static required(control) {\r\n        return Validators$1.required(control);\r\n    }\r\n    static requiredTrue(control) {\r\n        return Validators$1.requiredTrue(control);\r\n    }\r\n    static zip(control) {\r\n        if (falsy(control.value)) {\r\n            return null;\r\n        }\r\n        return Validators.exactLength(5)(control) === null\r\n            ? null\r\n            : { zip: { value: control.value } };\r\n    }\r\n}\r\nfunction atLeastOneAlphaNumericValidator(c) {\r\n    return c.value ? /^(?=.*[a-zA-Z].*)([a-zA-Z0-9]+)$/i.test(c.value.replace(/[^\\w\\s]/gi, '').replace(/\\s/g, '').replace(/_/g, '')) ? null : {\r\n        atLeastOneAlphaNumeric: true\r\n    } : null;\r\n}\r\nfunction confirmPasswordValidator(fg) {\r\n    const pass = fg.controls['password'];\r\n    const confirm = fg.controls['confirmPassword'];\r\n    if (pass.value !== confirm.value) {\r\n        confirm.setErrors({ confirmPwdFail: true });\r\n        return { confirmPwdFail: true };\r\n    }\r\n    return null;\r\n}\r\nfunction numericValidator(length, key = 'numeric') {\r\n    return (control) => {\r\n        const toInt = parseInt(control.value, 10);\r\n        const isNumber = /^\\d+$/.test(control.value);\r\n        const numeric = isNumber && typeof toInt === 'number' && control.value.length === length;\r\n        return !numeric && !falsy(control.value)\r\n            ? { [key]: { value: control.value } }\r\n            : null;\r\n    };\r\n}\r\nfunction passwordValidator(ctrl) {\r\n    // const lengthReq = '{6,100}';\r\n    // const atleastOneNumberReq = '(?=.*[0-9])';\r\n    // {6,100}           - Assert password is between 6 and 100 characters\r\n    // (?=.*[0-9])       - Assert a string has at least one number\r\n    if (ctrl.value &&\r\n        ctrl.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)) {\r\n        return null;\r\n    }\r\n    return { password: true };\r\n}\r\nfunction phoneNumberValidator() {\r\n    return (control) => {\r\n        const formatted = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im.test(control.value);\r\n        return !formatted ? { phoneNumber: { value: control.value } } : null;\r\n    };\r\n}\r\nfunction zipCodeValidator(control) {\r\n    const val = control.value.replace(/\\s/g, '');\r\n    if (!val) {\r\n        return { zipCode: 'Please enter a zip code.' };\r\n    }\r\n    if (val.length >= 5 && val.length < 9) {\r\n        return isNumericAndHasLength(val.indexOf('-') === -1 ? val : val.substring(0, val.indexOf('-')), 5)\r\n            ? null\r\n            : { zipCode: 'Please enter a valid zip code.' };\r\n    }\r\n    if (val.length === 9) {\r\n        return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n            isNumericAndHasLength(val.substring(5), 4)\r\n            ? null\r\n            : { zipCode: 'Please enter a valid zip code.' };\r\n    }\r\n    if (val.length === 10) {\r\n        return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n            isNumericAndHasLength(val.substring(6), 4)\r\n            ? null\r\n            : { zipCode: 'Please enter a valid zip code.' };\r\n    }\r\n    return { zipCode: 'Please enter a valid zip code.' };\r\n}\r\nfunction zipPlus4Validator() {\r\n    return numericValidator(4, 'zipPlus4');\r\n}\n\nclass Address {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.addressTypeId = 0;\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n        this.address1 = '';\r\n        this.address2 = '';\r\n        this.city = '';\r\n        this.stateCode = 'PA';\r\n        this.stateId = null;\r\n        this.zip = '';\r\n        this.zipPlus4 = '';\r\n        this.isPrimaryAddress = false;\r\n        this.effectiveDate = new Date();\r\n        this.startDate = new Date();\r\n        this.endDate = new Date();\r\n        this.metadata = {\r\n            ignore: [\r\n                'id',\r\n                'cityStateZip',\r\n                'endDate',\r\n                'fullName',\r\n                'hasAddress',\r\n                'hasCityStateZip',\r\n                'hasStreetAddress',\r\n                'middleName',\r\n                'startDate',\r\n                'state'\r\n            ],\r\n            address1: {\r\n                validators: [Validators.required]\r\n            },\r\n            address2: {},\r\n            city: {\r\n                validators: [Validators.required]\r\n            },\r\n            stateCode: {\r\n                validators: [Validators.required]\r\n            },\r\n            zip: {\r\n                validators: [zipCodeValidator]\r\n            },\r\n            zipPlus4: {\r\n                validators: [zipPlus4Validator()]\r\n            }\r\n        };\r\n    }\r\n    get cityStateZip() {\r\n        return this.hasCityStateZip\r\n            ? `${this.city}, ${this.stateCode} ${this.zip} `\r\n            : '';\r\n    }\r\n    set cityStateZip(value) { }\r\n    get fullName() {\r\n        return this.firstName && this.lastName\r\n            ? `${this.firstName} ${this.lastName}`\r\n            : '';\r\n    }\r\n    set fullName(value) { }\r\n    get hasAddress() {\r\n        return this.hasStreetAddress && this.hasCityStateZip;\r\n    }\r\n    get hasCityStateZip() {\r\n        return (this.city !== '' &&\r\n            (this.stateCode !== '' || this.stateId !== 0) &&\r\n            truthy(this.zip));\r\n    }\r\n    get hasStreetAddress() {\r\n        return this.address1 !== '';\r\n    }\r\n}\r\nclass Alert {\r\n    constructor() {\r\n        this.message = '';\r\n    }\r\n}\r\nclass Coordinates {\r\n    constructor() {\r\n        this.row = 0;\r\n        this.column = 0;\r\n    }\r\n}\r\nclass Dimensions {\r\n    constructor() {\r\n        this.columns = 0;\r\n        this.height = 0;\r\n        this.rows = 0;\r\n        this.width = 0;\r\n    }\r\n    get approxRatio() {\r\n        return this.rows / this.columns;\r\n    }\r\n    get ratio() {\r\n        return this.height / this.width;\r\n    }\r\n    get orientation() {\r\n        return this.height > this.width ? 'v' : 'h';\r\n    }\r\n}\r\nclass Email {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.bcc = '';\r\n        this.body = '';\r\n        this.cc = '';\r\n        this.failed = '';\r\n        this.from = '';\r\n        this.sent = false;\r\n        this.sentDate = new Date();\r\n        this.subject = '';\r\n        this.to = '';\r\n        this.createdById = null;\r\n        this.createdDate = new Date();\r\n        this.attachments = [];\r\n    }\r\n}\r\nconst EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\nclass Filters {\r\n    constructor() {\r\n        this.skip = 0;\r\n        this.sortBy = '';\r\n        this.take = 0;\r\n    }\r\n}\r\nclass Image {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.dimensions = [];\r\n        this.height = 0;\r\n        this.src = '';\r\n        this.width = 0;\r\n    }\r\n    static Build(data) {\r\n        return build(Image, data);\r\n    }\r\n    static BuildForTile(data, dim, index) {\r\n        const img = Image.Build(data);\r\n        img.id = index;\r\n        img.dimensions = Image.FindDimensions(img, dim);\r\n        return img;\r\n    }\r\n    static FilterDimensions(image, dim) {\r\n        return Image.FilterDimensionsByOrientation(image, dim);\r\n    }\r\n    static FilterDimensionsByOrientation(image, dim) {\r\n        return dim.filter(x => x.orientation === image.orientation);\r\n    }\r\n    static FindDimensions(image, dim) {\r\n        return Image.OrderDimensions(image, Image.FilterDimensions(image, dim));\r\n    }\r\n    static OrderDimensions(image, dim) {\r\n        // console.log(image.ratio);\r\n        const d = dim.sort((a, b) => Math.abs(image.ratio - a.ratio) - Math.abs(image.ratio - b.ratio));\r\n        // console.dir(d);\r\n        return d;\r\n    }\r\n    get orientation() {\r\n        return this.height > this.width ? 'v' : 'h';\r\n    }\r\n    get horizontal() {\r\n        return this.orientation === 'h';\r\n    }\r\n    get vertical() {\r\n        return this.orientation === 'v';\r\n    }\r\n    get colspan() {\r\n        return this.vertical ? 1 : 1;\r\n    }\r\n    get rowspan() {\r\n        return this.vertical ? 2 : 1;\r\n    }\r\n    get ratio() {\r\n        return this.height / this.width;\r\n    }\r\n}\r\nclass Metadata {\r\n    constructor() {\r\n        this.controls = [];\r\n        this.ignore = [];\r\n        this.label = '';\r\n        this.name = '';\r\n    }\r\n}\r\nvar MetadataType;\r\n(function (MetadataType) {\r\n    MetadataType[MetadataType[\"CLASS\"] = 0] = \"CLASS\";\r\n    MetadataType[MetadataType[\"METHOD\"] = 1] = \"METHOD\";\r\n    MetadataType[MetadataType[\"PROPERTY\"] = 2] = \"PROPERTY\";\r\n    MetadataType[MetadataType[\"PARAMETER\"] = 3] = \"PARAMETER\";\r\n    MetadataType[MetadataType[\"STATIC_METHOD\"] = 4] = \"STATIC_METHOD\";\r\n    MetadataType[MetadataType[\"STATIC_PROPERTY\"] = 5] = \"STATIC_PROPERTY\";\r\n})(MetadataType || (MetadataType = {}));\r\nclass PropertyMetadata {\r\n    constructor() {\r\n        this.ignore = [];\r\n        this.label = '';\r\n        this.name = '';\r\n    }\r\n}\r\nclass QueryItem {\r\n    constructor() {\r\n        this.label = '';\r\n    }\r\n}\r\nclass QueryModel {\r\n    constructor() {\r\n        this.userId = 0;\r\n        this.accountId = 0;\r\n        this.fields = [];\r\n        this.filters = [];\r\n        this.groups = [];\r\n        this.skip = 0;\r\n        this.sort = [];\r\n        this.sortBy = '';\r\n        this.take = 0;\r\n        this.term = '';\r\n    }\r\n    get hasParams() {\r\n        return this.totalParams > 0;\r\n    }\r\n    get keys() {\r\n        return Object.keys(this);\r\n    }\r\n    get totalParams() {\r\n        return Object.keys(this.params).length;\r\n    }\r\n    static AppendQueryString(query) {\r\n        const obj = QueryModel.BuildQueryObject(query);\r\n        return Object.keys(obj).reduce((acc, key) => {\r\n            const str = obj[key];\r\n            return str ? QueryModel.AppendToQueryString(acc, str) : acc;\r\n        }, '');\r\n    }\r\n    static AppendToQueryString(path, str) {\r\n        return path ? `${path}&${str}` : str;\r\n    }\r\n    static BuildQueryString(query) {\r\n        const path = QueryModel.AppendQueryString(query);\r\n        return path ? `?${path}` : '';\r\n    }\r\n    static BuildQueryStringFromObject(obj) {\r\n        return Object.keys(obj).reduce((acc, key) => acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}`, '');\r\n    }\r\n    static BuildQueryObject(query) {\r\n        return Object.assign({\r\n            skip: QueryModel.QuerySkip(query),\r\n            take: QueryModel.QueryTake(query),\r\n            term: QueryModel.QueryTerm(query)\r\n        }, QueryModel.QueryParams(query));\r\n    }\r\n    static FormatDate(date) {\r\n        const d = new Date(date);\r\n        let month = '' + (d.getMonth() + 1);\r\n        let day = '' + d.getDate();\r\n        const year = d.getFullYear();\r\n        if (month.length < 2) {\r\n            month = '0' + month;\r\n        }\r\n        if (day.length < 2) {\r\n            day = '0' + day;\r\n        }\r\n        return [year, month, day].join('-');\r\n    }\r\n    static ParseQuery(queryString) {\r\n        const query = {};\r\n        const pairs = (queryString[0] === '?'\r\n            ? queryString.substr(1)\r\n            : queryString).split('&');\r\n        for (let i = 0; i < pairs.length; i++) {\r\n            const pair = pairs[i].split('=');\r\n            query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\r\n        }\r\n        return query;\r\n    }\r\n    static QueryParams(query) {\r\n        return Object.keys(query.params).reduce((acc, key) => Object.assign({}, acc, { [key]: `${key}=${query.params[key]}` }), {});\r\n    }\r\n    static QuerySkip(query) {\r\n        return query.skip ? `skip=${query.skip}` : '';\r\n    }\r\n    static QueryTake(query) {\r\n        return query.take ? `take=${query.take}` : '';\r\n    }\r\n    static QueryTerm(query) {\r\n        return query.term ? `term=${query.term}` : '';\r\n    }\r\n    get queryParams() {\r\n        return QueryModel.QueryParams(this);\r\n    }\r\n    get queryString() {\r\n        return QueryModel.BuildQueryString(this);\r\n    }\r\n    get queryObject() {\r\n        return QueryModel.BuildQueryObject(this);\r\n    }\r\n    get querySkip() {\r\n        return this.skip ? `skip=${this.skip}` : '';\r\n    }\r\n    get queryTake() {\r\n        return this.take ? `take=${this.take}` : '';\r\n    }\r\n    get queryTerm() {\r\n        return this.term ? `term=${this.term}` : '';\r\n    }\r\n}\r\nclass BaseQueryModel extends QueryModel {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.params = {};\r\n    }\r\n}\r\nclass Search {\r\n    constructor() {\r\n        this.results = [];\r\n        this.total = 0;\r\n    }\r\n}\r\nclass SearchResults {\r\n    constructor() {\r\n        this.results = [];\r\n        this.total = 0;\r\n    }\r\n}\r\nclass StyleModel {\r\n    get styles() {\r\n        const s = {};\r\n        if (this.backgroundColor) {\r\n            s['backgroundColor'] = this.backgroundColor;\r\n        }\r\n        if (this.border) {\r\n            s['border'] = this.border;\r\n        }\r\n        if (this.borderRadius) {\r\n            s['borderRadius.px'] = this.borderRadius;\r\n        }\r\n        if (this.color) {\r\n            s['color'] = this.color;\r\n        }\r\n        if (this.cursor) {\r\n            s['color'] = this.cursor;\r\n        }\r\n        if (this.display) {\r\n            s['display'] = this.display;\r\n        }\r\n        if (this.fontSize) {\r\n            s['fontSize'] = this.fontSize;\r\n        }\r\n        if (this.height) {\r\n            s['height.px'] = this.height;\r\n        }\r\n        if (this.lineHeight) {\r\n            s['line-height.px'] = this.lineHeight;\r\n        }\r\n        if (this.padding) {\r\n            s['padding.px'] = this.padding;\r\n        }\r\n        if (this.paddingTop) {\r\n            s['padding-top.px'] = this.paddingTop;\r\n        }\r\n        if (this.paddingBottom) {\r\n            s['padding-bottom.px'] = this.paddingBottom;\r\n        }\r\n        if (this.paddingLeft) {\r\n            s['padding-left.px'] = this.paddingLeft;\r\n        }\r\n        if (this.paddingRight) {\r\n            s['padding-right.px'] = this.paddingRight;\r\n        }\r\n        if (this.textDecoration) {\r\n            s['textDecoration'] = this.textDecoration;\r\n        }\r\n        if (this.width) {\r\n            s['width.px'] = this.width;\r\n        }\r\n        return s;\r\n    }\r\n}\r\nclass ColumnMetadata {\r\n    constructor() {\r\n        this.name = '';\r\n        this._label = '';\r\n    }\r\n    get label() {\r\n        return this._label || convertCamel2Space(this.name);\r\n    }\r\n    set label(value) {\r\n        this._label = value;\r\n    }\r\n}\n\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nfunction applyDecorators(derived, baseCtors) {\r\n    baseCtors.forEach(baseCtor => {\r\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n            derived[name] = baseCtor.prototype[name];\r\n        });\r\n    });\r\n}\r\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nfunction applyMixins(derivedCtor, baseCtors) {\r\n    baseCtors.forEach(baseCtor => {\r\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\r\n        });\r\n    });\r\n}\r\nfunction arrayDistinct(arr, map = x => x) {\r\n    return arr.reduce((acc, x) => {\r\n        return acc.findIndex(y => equals(map(x), map(y))) === -1 ? [...acc, x] : acc;\r\n    }, []);\r\n}\r\n/**\r\n * Find distinct elements in the union of 2 arrays.\r\n * @param array1\r\n * @param array2\r\n */\r\nfunction arrayUnion(array1, array2) {\r\n    const a = [...array1, ...array2];\r\n    for (let i = 0; i < a.length; ++i) {\r\n        for (let j = i + 1; j < a.length; ++j) {\r\n            if (a[i] === a[j]) {\r\n                a.splice(j--, 1);\r\n            }\r\n        }\r\n    }\r\n    return a;\r\n}\r\nfunction assignProps(target, props) {\r\n    Object.keys(props).forEach(key => {\r\n        if (target[key]) {\r\n            target[key] = props[key];\r\n        }\r\n    });\r\n}\r\nfunction build(ctor, ...args) {\r\n    const instance = new ctor();\r\n    return args.reduce((acc, next) => {\r\n        let ret;\r\n        try {\r\n            ret = Object.assign(acc, next);\r\n        }\r\n        catch (e) {\r\n            console.warn(e);\r\n            ret = acc;\r\n        }\r\n        finally {\r\n            return ret;\r\n        }\r\n    }, instance);\r\n}\r\nfunction buildColumnsFromMetadata(model, key) {\r\n    const metadata = findMetadataFromInstance(model);\r\n    const columns = Array.isArray(metadata[key]) ? metadata[key] : Array.isArray(model) ? (model.length > 0 ? Object.keys(model[0]) : []) : Object.keys(model);\r\n    return columns.map((x) => typeof x === 'string'\r\n        ? build(ColumnMetadata, {\r\n            name: x\r\n        })\r\n        : build(ColumnMetadata, x));\r\n}\r\nfunction buildQueryStringFromObject(obj) {\r\n    return Object.keys(obj).reduce((acc, key) => obj[key] ? acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}` : acc, '');\r\n}\r\n/** Clamps a number between zero and a maximum. */\r\nfunction clamp(value, max) {\r\n    return Math.max(0, Math.min(max, value));\r\n}\r\nfunction compareDates(a, b) {\r\n    return new Date(b).getTime() - new Date(a).getTime();\r\n}\r\nfunction compareNumbers(a, b) {\r\n    return a - b;\r\n}\r\nfunction compareStrings(a, b) {\r\n    const x = a.toLowerCase();\r\n    const y = b.toLowerCase();\r\n    if (x < y) {\r\n        return -1;\r\n    }\r\n    else if (x > y) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nfunction distinct(arr, key = '') {\r\n    return key\r\n        ? arr.reduce((acc, x) => (acc.findIndex(y => y[key] === x[key]) === -1 ? [...acc, x] : acc), [])\r\n        : arr.reduce((acc, x) => (acc.indexOf(x) === -1 ? [...acc, x] : acc), []);\r\n}\r\nfunction convertCamel2Dash(str) {\r\n    return str.replace(/([a-z][A-Z])/g, function (g) {\r\n        return g[0] + '-' + g[1].toLowerCase();\r\n    });\r\n}\r\nfunction convertCamel2Space(str) {\r\n    const result = str.replace(/([A-Z])/g, ' $1');\r\n    return result.charAt(0).toUpperCase() + result.slice(1);\r\n}\r\nfunction convertDash2Camel(str) {\r\n    return str.replace(/-([a-z])/g, function (g) {\r\n        return g[1].toUpperCase();\r\n    });\r\n}\r\nfunction equals(x1, x2) {\r\n    // check whether x1 and x2 have the same type\r\n    if (typeof x1 !== typeof x2) {\r\n        return false;\r\n    }\r\n    // check whether x1 and x2 are both null or both undefined\r\n    if ((x1 === null && x2 === null) || (x1 === undefined && x2 === undefined)) {\r\n        return true;\r\n    }\r\n    // account for non-matching null and undefined values\r\n    if (((x1 === null || x1 === undefined) && x2 !== null && x2 !== undefined) || ((x2 === null || x2 === undefined) && x1 !== null && x1 !== undefined)) {\r\n        return false;\r\n    }\r\n    // compare two arrays\r\n    if (Array.isArray(x1) && Array.isArray(x2) && x1.length === x2.length) {\r\n        return x1.findIndex((x, index) => !equals(x, x2[index])) === -1 ? true : false;\r\n    }\r\n    // compare two objects\r\n    if (x1 &&\r\n        typeof x1 === 'object' &&\r\n        typeof x2 === 'object' &&\r\n        Object.keys(x1).length === Object.keys(x2).length &&\r\n        Object.keys(x2).length === arrayUnion(Object.keys(x1), Object.keys(x2)).length) {\r\n        return Object.keys(x1).findIndex(key => !equals(x1[key], x2[key])) === -1;\r\n    }\r\n    // compare two primitives with the same type\r\n    return x1 === x2;\r\n}\r\n/**\r\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\r\n * similar to Object.assign.\r\n *\r\n * @param dest The object which will have properties copied to it.\r\n * @param sources The source objects from which properties will be copied.\r\n */\r\nfunction extendObject(dest, ...sources) {\r\n    if (dest == null) {\r\n        throw TypeError('Cannot convert undefined or null to object');\r\n    }\r\n    for (const source of sources) {\r\n        if (source != null) {\r\n            for (const key in source) {\r\n                if (source.hasOwnProperty(key)) {\r\n                    dest[key] = source[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return dest;\r\n}\r\nfunction falsy(value) {\r\n    return value === null || value === 0 || value === '' || value === undefined;\r\n}\r\n/**\r\n * Remove problematic or undesired store properties.\r\n */\r\nfunction filterState(obj) {\r\n    return removeCycles(removeProps(obj));\r\n}\r\nfunction findMetadata(ctor) {\r\n    const instance = new ctor();\r\n    return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\nfunction findMetadataFromInstance(model) {\r\n    if (!model) {\r\n        return null;\r\n    }\r\n    const instance = Array.isArray(model) && model.length > 0 ? model[0] : model;\r\n    return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\nfunction findSchoolYear() {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    return month >= 7 ? `${year}-${year + 1}` : `${year - 1}-${year}`;\r\n}\r\nfunction flattenKeys(obj, parents) {\r\n    return Object.keys(obj).reduce((acc, key) => {\r\n        const pathToRoot = [...parents, key];\r\n        const val = obj[key];\r\n        if (!Array.isArray(val) && Object.keys(val).length > 0) {\r\n            return [...acc, ...flattenKeys(val, pathToRoot)];\r\n        }\r\n        return [...acc, ...pathToRoot];\r\n    }, []);\r\n}\r\nfunction formatPhoneNumber(number = '') {\r\n    if (!number) {\r\n        return '000-000-0000';\r\n    }\r\n    const l = number.length;\r\n    return number && (l === 7 || l === 10) ? (l === 7 ? format7DigitPhoneNumber(number) : format10DigitPhoneNumber(number)) : '000-000-0000';\r\n}\r\nfunction format7DigitPhoneNumber(number = '0000000') {\r\n    const first3 = number.substring(0, 3);\r\n    const last4 = number.substring(3, 7);\r\n    return `${first3} -${last4} `;\r\n}\r\nfunction format10DigitPhoneNumber(number = '0000000000') {\r\n    const first3 = number.substring(0, 3);\r\n    const last7 = format7DigitPhoneNumber(number.substring(3, 10));\r\n    return `${first3} -${last7} `;\r\n}\r\nfunction formatPrice(total) {\r\n    const dollars = total.toFixed(2).replace(/./g, function (c, i, a) {\r\n        return i && c !== '.' && (a.length - i) % 3 === 0 ? ',' + c : c;\r\n    });\r\n    return `$${dollars}`;\r\n}\r\nfunction getTypeNameForDebugging(type) {\r\n    return type['name'] || typeof type;\r\n}\r\nfunction getAllProps(obj) {\r\n    const mapped = obj['metadata'] && obj['metadata']['include'] && Array.isArray(obj['metadata']['include'])\r\n        ? obj['metadata']['include'].reduce((acc, key) => Object.assign({}, acc, { [key]: obj[key] }), {})\r\n        : obj;\r\n    if (obj['metadata'] && obj['metadata']['exclude'] && Array.isArray(obj['metadata']['exclude'])) {\r\n        obj['metadata']['exclude'].forEach(key => {\r\n            delete mapped[key];\r\n        });\r\n    }\r\n    return [...Object.keys(mapped), ...getGetters(mapped)];\r\n}\r\nfunction getGetters(obj) {\r\n    return Reflect.ownKeys(obj.constructor.prototype).filter(name => {\r\n        return typeof Object.getOwnPropertyDescriptor(obj.constructor.prototype, name)['get'] === 'function';\r\n    });\r\n}\r\nfunction getKeyValues(model) {\r\n    const keys = getAllProps(model);\r\n    return model['metadata'] && model['metadata']['include']\r\n        ? toArray(model['metadata']['include']).reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {})\r\n        : keys.reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {});\r\n}\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n/**\r\n * Returns a random number between min (inclusive) and max (exclusive)\r\n */\r\nfunction getRandomArbitrary(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n/**\r\n * Returns a random integer between min (inclusive) and max (inclusive)\r\n * Using Math.round() will give you a non-uniform distribution!\r\n */\r\nfunction getRandomIntInRange(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\nfunction getSetters(obj) {\r\n    return Object.keys(obj.prototype).filter(name => {\r\n        return typeof Object.getOwnPropertyDescriptor(obj.prototype, name)['set'] === 'function';\r\n    });\r\n}\r\n// Gist adapted from: https://gist.github.com/cms/369133\r\nfunction getStyle(el, styleProp) {\r\n    let value;\r\n    const defaultView = el.ownerDocument.defaultView;\r\n    // W3C standard way:\r\n    if (defaultView && defaultView.getComputedStyle) {\r\n        // sanitize property name to css notation (hypen separated words eg. font-Size)\r\n        styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n        return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n    }\r\n    else if (el['currentStyle']) {\r\n        // IE\r\n        // sanitize property name to camelCase\r\n        styleProp = styleProp.replace(/\\-(\\w)/g, function (str, letter) {\r\n            return letter.toUpperCase();\r\n        });\r\n        value = el['currentStyle'][styleProp];\r\n        return value;\r\n    }\r\n    return '';\r\n}\r\nfunction getValue(model, ignore = []) {\r\n    if (model === null || typeof model === 'string' || typeof model === 'string' || model instanceof Date) {\r\n        return model;\r\n    }\r\n    const keys = getAllProps(model);\r\n    const props = keys\r\n        .filter(key => key !== 'metadata' && !ignoreKey(model, key) && !inArray(ignore, key))\r\n        .map(key => {\r\n        const obj = {};\r\n        obj[key] =\r\n            model[key] && typeof model[key] === 'object'\r\n                ? Array.isArray(model[key])\r\n                    ? model[key].length > 0\r\n                        ? model[key].map(x => (typeof x === 'object' ? getValue(x) : x))\r\n                        : []\r\n                    : getValue(model[key])\r\n                : model[key];\r\n        return obj;\r\n    });\r\n    return props.reduce((acc, val) => {\r\n        return Object.assign({}, acc, val);\r\n    }, {});\r\n}\r\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\nfunction hasChanged(changes, key, props) {\r\n    const currentValue = changes[key] && changes[key].currentValue ? changes[key].currentValue : {};\r\n    const previousValue = changes[key] && changes[key].previousValue ? changes[key].previousValue : {};\r\n    return props.reduce((acc, prop) => {\r\n        return acc ? true : currentValue[prop] !== previousValue[prop];\r\n    }, false);\r\n}\r\nfunction hashToArray(hashMap) {\r\n    return Object.keys(hashMap).map(key => hashMap[key]);\r\n}\r\nfunction htmlToString(element) {\r\n    return `${htmlElementTag(element)}${htmlElementContents(element)}${htmlElementCloseTag(element)}`;\r\n}\r\nfunction htmlElementTag(element) {\r\n    const html = element.outerHTML;\r\n    const style = htmlStyleElementToString(element);\r\n    const insertAtIndex = html.indexOf('>');\r\n    return `${html.substring(0, insertAtIndex)} style=\"${style}\">`;\r\n}\r\nfunction htmlElementContents(element) {\r\n    const children = Array.from(element.children);\r\n    return `${children.length === 0 ? element.innerText : ''}${children.reduce((acc, el) => acc + htmlToString(el), '')}`;\r\n}\r\nfunction htmlElementCloseTag(element) {\r\n    const html = element.outerHTML;\r\n    return html.substring(html.lastIndexOf('</'));\r\n}\r\nfunction htmlStyleElementToString(element) {\r\n    const computedStyle = window.getComputedStyle(element);\r\n    return ['background', 'border', 'bottom', 'color', 'display', 'fontSize', 'height', 'left', 'margin', 'overflow', 'padding', 'position', 'right', 'top', 'width'].reduce((acc, attr) => {\r\n        return `${acc}${attr}:${computedStyle[convertDash2Camel(attr)]};`;\r\n    }, '');\r\n}\r\nfunction htmlWrap(html, style) {\r\n    return `<head>${style ? '<style>' + style + '</style>' : ''}</head><body>${html}</body>`;\r\n}\r\nfunction idChanged(changes, key) {\r\n    const newId = changes[key].currentValue ? changes[key].currentValue['id'] || 0 : 0;\r\n    const oldId = changes[key].previousValue ? changes[key].previousValue['id'] || 0 : 0;\r\n    return newId !== oldId;\r\n}\r\nfunction ignoreKey(model, key) {\r\n    if (model['metadata'] && model['metadata']['ignore']) {\r\n        return inArray(model['metadata']['ignore'], key);\r\n    }\r\n    return false;\r\n}\r\nfunction inArray(arr, val) {\r\n    return arr.filter(item => item === val).length > 0;\r\n}\r\nfunction inArrayByKey(arr, val, key) {\r\n    return arr.findIndex(item => item[key] === val) !== -1;\r\n}\r\nfunction integerArray(n) {\r\n    return Array.from(Array(n).keys());\r\n}\r\nfunction isBetweenDates(dateFrom, dateTo, dateCheck) {\r\n    const d1 = dateFrom.toLocaleDateString().split('/');\r\n    const d2 = dateTo.toLocaleDateString().split('/');\r\n    const c = dateCheck.toLocaleDateString().split('/');\r\n    const from = new Date(d1[2], toInt(d1[1]) - 1, d1[0]); // -1 because months are from 0 to 11\r\n    const to = new Date(d2[2], toInt(d2[1]) - 1, d2[0]);\r\n    const check = new Date(c[2], toInt(c[1]) - 1, c[0]);\r\n    return check >= from && check <= to;\r\n}\r\n/**\r\n * Detects cycles in an object.\r\n * @param obj\r\n */\r\nfunction isCyclic(obj) {\r\n    const seenObjects = [];\r\n    const detect = (x) => {\r\n        if (x && typeof x === 'object') {\r\n            if (seenObjects.indexOf(x) !== -1) {\r\n                return true;\r\n            }\r\n            seenObjects.push(x);\r\n            for (const key in x) {\r\n                if (x.hasOwnProperty(key) && detect(x[key])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return detect(obj);\r\n}\r\nfunction isMobile() {\r\n    return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\r\n        (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) ||\r\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4))));\r\n}\r\nfunction isNumeric(str) {\r\n    const asInt = parseInt(str, 10);\r\n    const isNumber = /^\\d+$/.test(str);\r\n    return isNumber && typeof asInt === 'number';\r\n}\r\nfunction isNumericAndHasLength(str, length) {\r\n    const asInt = parseInt(str, 10);\r\n    const isNumber = /^\\d+$/.test(str);\r\n    return isNumber && typeof asInt === 'number' && str.length === length;\r\n}\r\nfunction isValidEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n/**\r\n * @param fromState The last state object from the store\r\n * @param dState A partial class containing all properties that have changed wrt fromState\r\n * @return The current/updated state of the application (toState)\r\n */\r\nfunction nextState(fromState, dState) {\r\n    const toState = Object.assign({}, fromState, dState);\r\n    return toState;\r\n}\r\nfunction positiveIntegerArray(n) {\r\n    return integerArray(n).map(x => x + 1);\r\n}\r\n/**\r\n * Remove store props that contain cycles.\r\n */\r\nfunction removeCycles(obj) {\r\n    if (obj && typeof obj === 'object') {\r\n        for (const key in obj) {\r\n            if (obj.hasOwnProperty(key) && isCyclic(obj[key])) {\r\n                delete obj[key];\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n/**\r\n * Remove any props that should not appear in the store.\r\n */\r\nfunction removeProps(obj) {\r\n    return obj;\r\n}\r\nfunction roundToDecimalPlace(num, decimalPlace) {\r\n    return Math.round(num * Math.pow(10, decimalPlace)) / Math.pow(10, decimalPlace);\r\n}\r\nfunction serialize(model) {\r\n    if (!model) {\r\n        return model;\r\n    }\r\n    if (Array.isArray(model)) {\r\n        return model.map(x => serialize(x));\r\n    }\r\n    if (model.serialize && typeof model.serialize === 'function') {\r\n        return serialize(model.serialize());\r\n    }\r\n    if (model === null || typeof model === 'number' || typeof model === 'string' || model instanceof Date) {\r\n        return model;\r\n    }\r\n    const keys = getAllProps(model);\r\n    if (keys.length === 0) {\r\n        return model;\r\n    }\r\n    return keys.filter(key => !inArray(['arguments', 'caller', 'callee'], key)).reduce((acc, key) => {\r\n        let val = null;\r\n        if (model[key] !== null && typeof model[key] === 'object' && !(model[key] instanceof Date)) {\r\n            if (model[key].serialize && typeof model[key].serialize === 'function') {\r\n                val = model[key].serialize();\r\n            }\r\n            else {\r\n                val = serialize(model[key]);\r\n            }\r\n        }\r\n        else {\r\n            val = model[key];\r\n        }\r\n        return Object.assign({}, acc, {\r\n            [key]: val\r\n        });\r\n    }, {});\r\n}\r\n/**\r\n * Reorder the elements of an array.\r\n * @param arr array to be randomized\r\n */\r\nfunction shuffle(arr) {\r\n    const shuffled = [...arr];\r\n    for (let i = shuffled.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]; // eslint-disable-line no-param-reassign\r\n    }\r\n    return shuffled;\r\n}\r\nfunction stringify(token) {\r\n    if (typeof token === 'string') {\r\n        return token;\r\n    }\r\n    if (token == null) {\r\n        return '' + token;\r\n    }\r\n    if (token.overriddenName) {\r\n        return `${token.overriddenName}`;\r\n    }\r\n    if (token.name) {\r\n        return `${token.name}`;\r\n    }\r\n    const res = token.toString();\r\n    const newLineIndex = res.indexOf('\\n');\r\n    return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\r\n}\r\nfunction str2CharCode(str) {\r\n    return str.charCodeAt(0);\r\n}\r\nfunction str2Id(str) {\r\n    const charCodes = str ? str.split('').reduce((acc, x) => `${acc}${str2CharCode(x)}`, '') : '';\r\n    return toInt(charCodes);\r\n}\r\nfunction str2int(str) {\r\n    return parseInt(str, 10);\r\n}\r\nfunction strArray2Id(strArray) {\r\n    const str = strArray.reduce((acc, x) => `${acc}${x}`, '');\r\n    return str2Id(str);\r\n}\r\nfunction throwException(errorName, errorMessage) {\r\n    throw {\r\n        name: errorName,\r\n        level: 'Show Stopper',\r\n        message: errorMessage,\r\n        htmlMessage: 'Error detected. Please contact the <a href=\\'mailto:agendamanager@caiu.com\\'>system administrator</a>.',\r\n        toString: function () {\r\n            return errorName + ': ' + errorMessage;\r\n        }\r\n    };\r\n}\r\nfunction throwNotImplementedException() {\r\n    throwException('Not Implemented', 'Not Implemented');\r\n}\r\nfunction toArray(val) {\r\n    return val ? (Array.isArray(val) ? val : [val]) : [];\r\n}\r\nfunction toInt(val) {\r\n    return val && val.toString ? str2int(val.toString()) : 0;\r\n}\r\nfunction toFullName(first, last) {\r\n    return truthy(first) && truthy(last) ? `${first} ${last}` : null;\r\n}\r\nfunction toPayload(action) {\r\n    return action ? action.payload : null;\r\n}\r\nfunction toPx(n) {\r\n    return `${n}px`;\r\n}\r\nfunction truthy(value) {\r\n    return !falsy(value);\r\n}\r\nfunction tryCast(obj, type) {\r\n    const retObj = new type();\r\n    for (const key in obj) {\r\n        if (typeof retObj[key] !== 'undefined') {\r\n            retObj[key] = obj[key];\r\n        }\r\n    }\r\n    return retObj;\r\n}\r\nfunction valueChanged(changes, key = '') {\r\n    return key\r\n        ? changes[key].currentValue !== changes[key].previousValue\r\n        : Object.keys(changes).reduce((acc, currentKey) => {\r\n            return acc ? true : changes[currentKey].currentValue !== changes[currentKey].previousValue;\r\n        }, false);\r\n}\r\nfunction valueEquals(value, formValue) {\r\n    return equals(getValue(value), formValue);\r\n}\n\nclass Collection {\r\n    constructor(ctor, findByKey = 'id') {\r\n        this.ctor = ctor;\r\n        this.findByKey = findByKey;\r\n        this.activeId = 0;\r\n        this.metadata = {};\r\n        this._items = {};\r\n    }\r\n    static AddItem(state, key, item) {\r\n        const newState = {};\r\n        Object.keys(state).forEach(k => {\r\n            newState[k] = state[k];\r\n        });\r\n        newState[key] = item;\r\n        return newState;\r\n    }\r\n    static BuildCollection(items, findByKey = 'id') {\r\n        const dictionary = Collection.BuildItems(items, findByKey);\r\n        return Object.assign(new Collection(), { items: dictionary });\r\n    }\r\n    static BuildDictionaryFromArray(value, key = 'id') {\r\n        const obj = {};\r\n        value.forEach(item => {\r\n            obj[item[key]] = item;\r\n        });\r\n        return obj;\r\n    }\r\n    static BuildFromArray(items, findByKey = 'id') {\r\n        const dictionary = Collection.BuildItems(items, findByKey);\r\n        return Object.assign(new Collection(), { items: dictionary });\r\n    }\r\n    static BuildItems(items, findByKey = 'id') {\r\n        const dictionary = {};\r\n        items.forEach(item => {\r\n            const key = item[findByKey];\r\n            dictionary[key] = item;\r\n        });\r\n        return dictionary;\r\n    }\r\n    static Filter(item, path) {\r\n        return Array.isArray(item['matches']) && inArray(item['matches'], path);\r\n    }\r\n    static FilterAnd(item, paths) {\r\n        return Array.isArray(item['matches']) && paths.every(path => inArray(item['matches'], path));\r\n    }\r\n    static FilterOr(item, paths) {\r\n        return Array.isArray(item['matches']) && paths.some(path => inArray(item['matches'], path));\r\n    }\r\n    static RemoveItem(state, key) {\r\n        const newState = {};\r\n        Object.keys(state)\r\n            .filter(k => k !== key)\r\n            .forEach(k => {\r\n            newState[k] = state[k];\r\n        });\r\n        return newState;\r\n    }\r\n    get active() {\r\n        const item = this.items[this.activeId] || {};\r\n        return this.ctor ? build(this.ctor, item) : item;\r\n    }\r\n    get count() {\r\n        return this.toArray().length;\r\n    }\r\n    get defaultItem() {\r\n        return this.ctor ? new this.ctor() : {};\r\n    }\r\n    get empty() {\r\n        return this.toArray().length === 0;\r\n    }\r\n    get instance() {\r\n        const activeId = this.activeId;\r\n        const ctor = this.ctor;\r\n        const lastUpdated = this.lastUpdated;\r\n        const metadata = this.metadata;\r\n        // const collection = this.constructor();\r\n        const collection = new Collection();\r\n        collection.activeId = activeId;\r\n        collection.ctor = ctor;\r\n        collection.lastUpdated = lastUpdated;\r\n        collection.metadata = metadata;\r\n        return collection;\r\n    }\r\n    get items() {\r\n        return this._items;\r\n    }\r\n    set items(value) {\r\n        this._items = value;\r\n        this.lastUpdated = new Date();\r\n    }\r\n    get keys() {\r\n        return Object.keys(this.items);\r\n    }\r\n    get asArray() {\r\n        return this.toArray();\r\n    }\r\n    get itemsArray() {\r\n        return this.asArray;\r\n    }\r\n    toArray() {\r\n        return Object.keys(this.items).map((key) => this.items[key]);\r\n    }\r\n    activate(id, key) {\r\n        const findByKey = key || this.findByKey;\r\n        const items = this.items[id] ? this.copyItems() : Object.assign(this.copyItems(), { [id]: { [findByKey]: id } });\r\n        return Object.assign(new Collection(), this, { activeId: id, items });\r\n    }\r\n    addItem(item, key) {\r\n        const items = this.copyItems();\r\n        return Object.assign(this.constructor(), this, {\r\n            items: Object.assign(items, { [key]: item })\r\n        });\r\n    }\r\n    addItems(items, key) {\r\n        const findByKey = key || this.findByKey;\r\n        const newItems = {};\r\n        this.toArray().forEach(item => {\r\n            newItems[item[findByKey]] = item;\r\n        });\r\n        items.forEach(item => {\r\n            const existingItem = newItems[item[findByKey]] ? newItems[item[findByKey]] : {};\r\n            const existingMatches = existingItem['matches'] || [];\r\n            const newMatches = item['matches'] || [];\r\n            const matches = arrayUnion(existingMatches, newMatches);\r\n            const newItem = this.buildItem(item, { matches: matches });\r\n            newItems[item[findByKey]] = this.buildItem(existingItem, newItem);\r\n        });\r\n        this.items = newItems;\r\n        return Object.assign(new Collection(), this);\r\n    }\r\n    build(items, ctor) {\r\n        return ctor ? build(ctor, { items }) : Object.assign(this.instance, { items });\r\n    }\r\n    buildItem(existingItem, newItem, ctor) {\r\n        const existing = existingItem || {};\r\n        const item = ctor ? build(ctor, existing, newItem) : this.ctor ? build(this.ctor, existing, newItem) : Object.assign({}, existing, newItem);\r\n        return item;\r\n    }\r\n    buildItems(items, ctor) {\r\n        const factory = ctor ? ctor : this.ctor;\r\n        return items.map(x => (factory ? build(factory, x) : Object.assign({}, x)));\r\n    }\r\n    copyItems() {\r\n        return Object.keys(this.items).reduce((acc, key) => {\r\n            acc[key] = this.get(key);\r\n            return acc;\r\n        }, {});\r\n    }\r\n    delete(key) {\r\n        return this.removeAt(key);\r\n    }\r\n    filter(f) {\r\n        const items = Collection.BuildDictionaryFromArray(this.toArray().filter(f));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    filterBy(f) {\r\n        return this.filterItems(f);\r\n    }\r\n    filterItems(f) {\r\n        return this.toArray().filter(f);\r\n    }\r\n    findBy(f) {\r\n        return this.asArray.find(f) || this.defaultItem;\r\n    }\r\n    get(id) {\r\n        const existing = this.items[id];\r\n        return this.ctor ? build(this.ctor, existing) : Object.assign({}, existing);\r\n    }\r\n    keyExists(key) {\r\n        return truthy(this.items[key]);\r\n    }\r\n    map(f) {\r\n        const items = Collection.BuildDictionaryFromArray(this.toArray().map(f));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    patch(id, props) {\r\n        const existing = this.get(id);\r\n        return this.update(this.buildItem(existing, props));\r\n    }\r\n    query(path) {\r\n        return this.toArray().filter(item => Collection.Filter(item, path));\r\n    }\r\n    queryAnd(paths) {\r\n        return this.toArray().filter(item => Collection.FilterAnd(item, paths));\r\n    }\r\n    queryOr(paths) {\r\n        return this.toArray().filter(item => Collection.FilterOr(item, paths));\r\n    }\r\n    removeAt(key) {\r\n        const keys = Object.keys(this.items);\r\n        const items = Collection.BuildDictionaryFromArray(keys.filter(x => x.toString() !== key.toString()).map(y => this.items[y]));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    removeItem(key) {\r\n        const collection = this.constructor();\r\n        const keys = Object.keys(this.items).filter(k => k !== key);\r\n        keys.forEach((k) => {\r\n            collection.items[k] = Object.assign({}, this.items[k]);\r\n        });\r\n        return collection;\r\n    }\r\n    removeItems(filter, key) {\r\n        const findByKey = key || this.findByKey;\r\n        const keys = this.toArray()\r\n            .filter(filter)\r\n            .map(x => x[findByKey]);\r\n        this.removeKeys(keys);\r\n    }\r\n    removeKeys(keys) {\r\n        keys.forEach((key) => {\r\n            this.removeItem(key);\r\n        });\r\n    }\r\n    replace(itemsArray) {\r\n        const items = Collection.BuildDictionaryFromArray(this.buildItems(itemsArray));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    replaceItems(items, filter) {\r\n        if (filter) {\r\n            const f = (x) => !filter(x);\r\n            return this.replaceItems([...this.filterItems(f), ...items]);\r\n        }\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    setValue(value) {\r\n        return Object.assign(new Collection(), this, value);\r\n    }\r\n    update(value, ctor) {\r\n        if (Array.isArray(value)) {\r\n            return this.updateItems(value, ctor);\r\n        }\r\n        return this.updateItem(value, value[this.findByKey], ctor);\r\n    }\r\n    updateItem(item, key, ctor) {\r\n        const items = this.copyItems();\r\n        const updatedItem = this.buildItem(items[key], item, ctor);\r\n        return this.build(Object.assign(items, { [key]: updatedItem }));\r\n    }\r\n    updateItems(items, ctor) {\r\n        const existingItems = this.copyItems();\r\n        const updatedItems = items.reduce((acc, item) => {\r\n            const existingItem = acc[item[this.findByKey]];\r\n            acc[item[this.findByKey]] = this.buildItem(existingItem, item, ctor);\r\n            return acc;\r\n        }, existingItems);\r\n        return this.build(updatedItems);\r\n    }\r\n}\n\nclass Event {\r\n    constructor() {\r\n        this.emittedCount = 0;\r\n        this.key = '';\r\n        this.onAction = '';\r\n        this.value = null;\r\n    }\r\n}\r\nclass Events$1 extends Collection {\r\n    get actions() {\r\n        return this.toArray().reduce((acc, event) => {\r\n            const addValues = !event.onAction\r\n                ? []\r\n                : typeof event.onAction === 'string'\r\n                    ? acc.indexOf(event.onAction) === -1\r\n                        ? [event.onAction]\r\n                        : []\r\n                    : event.onAction.filter(x => acc.indexOf(x) === -1);\r\n            return [...acc, ...addValues];\r\n        }, []);\r\n    }\r\n    get eventsByAction() {\r\n        return this.toArray().reduce((acc, event) => {\r\n            if (typeof event.onAction === 'string') {\r\n                const val = acc[event.onAction] || [];\r\n                acc[event.onAction] = [...val, event];\r\n            }\r\n            else {\r\n                event.onAction.forEach(actionType => {\r\n                    const val = acc[actionType] || [];\r\n                    acc[actionType] = [...val, event];\r\n                });\r\n            }\r\n            return acc;\r\n        }, {});\r\n    }\r\n    addEvent(payload) {\r\n        return build(Events$1, this.addItem(payload, payload.key));\r\n    }\r\n    getActionEvents(actionType) {\r\n        return this.eventsByAction[actionType];\r\n    }\r\n    removeEvent(payload) {\r\n        return build(Events$1, this.removeItem(payload));\r\n    }\r\n    replaceEvents(payload) {\r\n        const events = this.copyItems();\r\n        payload.forEach(e => {\r\n            events[e.key] = e;\r\n        });\r\n        return build(Events$1, this, { items: events });\r\n    }\r\n    triggerEvent(payload) {\r\n        const events = this.getActionEvents(payload.type).map(e => build(Event, e, { value: e.handler ? e.handler(payload) : payload }));\r\n        return this.replaceEvents(events);\r\n    }\r\n    updateValue(payload) {\r\n        const event = build(Event, this.items[payload.key], {\r\n            value: payload.value\r\n        });\r\n        return build(Events$1, this.updateItem(event, payload.key, Event));\r\n    }\r\n}\r\nclass UpdateValuePayload {\r\n}\r\nclass Message {\r\n    constructor() {\r\n        this.action = '';\r\n        this.channel = '';\r\n        this.message = '';\r\n    }\r\n    set id(value) {\r\n        this.channel = value;\r\n    }\r\n    get id() {\r\n        return this.channel;\r\n    }\r\n}\r\nclass MessageSubscription {\r\n    constructor() {\r\n        this.action = '';\r\n        this.channel = '';\r\n    }\r\n}\r\nclass Messages extends Collection {\r\n    constructor() {\r\n        super(Message);\r\n        this.subscriptions = [];\r\n    }\r\n    addMessages(data) {\r\n        return build(Messages, this, this.update(data));\r\n    }\r\n    clearMessages(data) {\r\n        const channelNames = Array.isArray(data)\r\n            ? data.map(x => x.channel)\r\n            : [data.channel];\r\n        return build(Messages, this, this.removeMessages(channelNames));\r\n    }\r\n    removeMessages(channelNames) {\r\n        return build(Messages, channelNames.reduce((acc, id) => {\r\n            return acc.delete(id);\r\n        }, this));\r\n    }\r\n    addSubscription(arr, data) {\r\n        return [\r\n            ...arr.filter(x => !(x.action === data.action && x.channel === data.channel)),\r\n            data\r\n        ];\r\n    }\r\n    addSubscriptions(data) {\r\n        const subscriptions = Array.isArray(data)\r\n            ? data.reduce((acc, x) => this.addSubscription(acc, x), this.subscriptions)\r\n            : this.addSubscription(this.subscriptions, data);\r\n        return build(Messages, this, {\r\n            subscriptions\r\n        });\r\n    }\r\n    removeSubscription(arr, data) {\r\n        return arr.filter(x => !(x.action === data.action && x.channel === data.channel));\r\n    }\r\n    removeSubscriptions(data) {\r\n        const subscriptions = Array.isArray(data)\r\n            ? data.reduce((acc, x) => this.addSubscription(acc, x), this.subscriptions)\r\n            : this.addSubscription(this.subscriptions, data);\r\n        const channels = Array.isArray(data)\r\n            ? data.map(x => x.channel)\r\n            : [data.channel];\r\n        const items = this.asArray; // TODO: filter out messages from unsubscribed channels\r\n        return build(Messages, {\r\n            items,\r\n            subscriptions\r\n        });\r\n    }\r\n}\n\nclass EventActions {\r\n    static addEvent(onAction, handler, value = null) {\r\n        const e = build(Event, {\r\n            onAction,\r\n            handler,\r\n            value,\r\n            key: guid()\r\n        });\r\n        return {\r\n            type: EventActions.ADD_EVENT,\r\n            payload: e,\r\n            key: e.key\r\n        };\r\n    }\r\n    static removeEvent(key) {\r\n        return {\r\n            type: EventActions.REMOVE_EVENT,\r\n            payload: key\r\n        };\r\n    }\r\n    static triggerEvent(action) {\r\n        return {\r\n            type: EventActions.TRIGGER_EVENT,\r\n            payload: action\r\n        };\r\n    }\r\n    static updateValue(key, value) {\r\n        const payload = build(UpdateValuePayload, {\r\n            key,\r\n            value\r\n        });\r\n        return {\r\n            type: EventActions.UPDATE_VALUE,\r\n            payload: payload\r\n        };\r\n    }\r\n}\r\nEventActions.ADD_EVENT = '[Events] Add Event';\r\nEventActions.REMOVE_EVENT = '[Events] Remove Event';\r\nEventActions.TRIGGER_EVENT = '[Events] Trigger Event';\r\nEventActions.UPDATE_VALUE = '[Events] Update Value';\r\nclass MessagesActions {\r\n    static add(e, action) {\r\n        return {\r\n            type: MessagesActions.ADD,\r\n            payload: build(Message, {\r\n                channel: e.channel,\r\n                action: e.action,\r\n                message: e.mapper && typeof e.mapper === 'function'\r\n                    ? e.mapper(action.payload)\r\n                    : ''\r\n            })\r\n        };\r\n    }\r\n    static error(action, mapper) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(MessageSubscription, {\r\n                channel: 'ERRORS',\r\n                action,\r\n                mapper\r\n            })\r\n        };\r\n    }\r\n    static toast(action, mapper) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(MessageSubscription, {\r\n                channel: 'TOASTS',\r\n                action,\r\n                mapper\r\n            })\r\n        };\r\n    }\r\n    static subscribe(payload) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload\r\n        };\r\n    }\r\n    static toastMessage(action, message) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(Message, {\r\n                channel: 'TOASTS',\r\n                action,\r\n                mapper: (e) => message\r\n            })\r\n        };\r\n    }\r\n    static unsubscribe(payload) {\r\n        return {\r\n            type: MessagesActions.UNSUBSCRIBE,\r\n            payload\r\n        };\r\n    }\r\n    static warn(action, mapper) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(MessageSubscription, {\r\n                channel: 'WARNINGS',\r\n                action,\r\n                mapper\r\n            })\r\n        };\r\n    }\r\n}\r\nMessagesActions.ADD = '[Messages] Add Messages';\r\nMessagesActions.CLEAR = '[Messages] Clear Messages';\r\nMessagesActions.REMOVE = '[Messages] Remove Messages';\r\nMessagesActions.SUBSCRIBE = '[Messages] Subscribe';\r\nMessagesActions.UNSUBSCRIBE = '[Messages] Unsubscribe';\n\nclass HttpDeletePayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nclass HttpGetPayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nclass HttpPutPayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.model = null;\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nclass HttpPostPayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.model = null;\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nvar HTTP_REQUEST_STATUS;\r\n(function (HTTP_REQUEST_STATUS) {\r\n    HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS[\"PENDING\"] = 0] = \"PENDING\";\r\n    HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS[\"ERROR\"] = 1] = \"ERROR\";\r\n    HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS[\"SUCCESS\"] = 2] = \"SUCCESS\";\r\n})(HTTP_REQUEST_STATUS || (HTTP_REQUEST_STATUS = {}));\r\nvar HTTP_STATUS_CODES;\r\n(function (HTTP_STATUS_CODES) {\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"CONTINUE\"] = 100] = \"CONTINUE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"SWITCHING_PROTOCOLS\"] = 101] = \"SWITCHING_PROTOCOLS\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"OK\"] = 200] = \"OK\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"CREATED\"] = 201] = \"CREATED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"ACCEPTED\"] = 202] = \"ACCEPTED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NON_AUTHORITATIVE_INFORMATION\"] = 203] = \"NON_AUTHORITATIVE_INFORMATION\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NO_CONTENT\"] = 204] = \"NO_CONTENT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"RESET_CONTENT\"] = 205] = \"RESET_CONTENT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PARTIAL_CONTENT\"] = 206] = \"PARTIAL_CONTENT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"MULTIPLE_CHOICES\"] = 300] = \"MULTIPLE_CHOICES\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"MOVED_PERMANENTLY\"] = 301] = \"MOVED_PERMANENTLY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"FOUND\"] = 302] = \"FOUND\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"SEE_OTHER\"] = 303] = \"SEE_OTHER\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_MODIFIED\"] = 304] = \"NOT_MODIFIED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"USE_PROXY\"] = 305] = \"USE_PROXY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"TEMPORARY_REDIRECT\"] = 307] = \"TEMPORARY_REDIRECT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"BAD_REQUEST\"] = 400] = \"BAD_REQUEST\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"UNAUTHORIZED\"] = 401] = \"UNAUTHORIZED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PAYMENT_REQUIRED\"] = 402] = \"PAYMENT_REQUIRED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"FORBIDDEN\"] = 403] = \"FORBIDDEN\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_FOUND\"] = 404] = \"NOT_FOUND\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"METHOD_NOT_ALLOWED\"] = 405] = \"METHOD_NOT_ALLOWED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_ACCEPTABLE\"] = 406] = \"NOT_ACCEPTABLE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PROXY_AUTHENTICATION_REQUIRED\"] = 407] = \"PROXY_AUTHENTICATION_REQUIRED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUEST_TIMEOUT\"] = 408] = \"REQUEST_TIMEOUT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"CONFLICT\"] = 409] = \"CONFLICT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"GONE\"] = 410] = \"GONE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"LENGTH_REQUIRED\"] = 411] = \"LENGTH_REQUIRED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PRECONDITION_FAILED\"] = 412] = \"PRECONDITION_FAILED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUEST_ENTITY_TOO_LARGE\"] = 413] = \"REQUEST_ENTITY_TOO_LARGE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUEST_URI_TOO_LONG\"] = 414] = \"REQUEST_URI_TOO_LONG\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"UNSUPPORTED_MEDIA_TYPE\"] = 415] = \"UNSUPPORTED_MEDIA_TYPE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUESTED_RANGE_NOT_SATISFIABLE\"] = 416] = \"REQUESTED_RANGE_NOT_SATISFIABLE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"EXPECTATION_FAILED\"] = 417] = \"EXPECTATION_FAILED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"UNPROCESSABLE_ENTITY\"] = 422] = \"UNPROCESSABLE_ENTITY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_IMPLEMENTED\"] = 501] = \"NOT_IMPLEMENTED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"BAD_GATEWAY\"] = 502] = \"BAD_GATEWAY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"SERVICE_UNAVAILABLE\"] = 503] = \"SERVICE_UNAVAILABLE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"GATEWAY_TIMEOUT\"] = 504] = \"GATEWAY_TIMEOUT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"HTTP_VERSION_NOT_SUPPORTED\"] = 505] = \"HTTP_VERSION_NOT_SUPPORTED\";\r\n})(HTTP_STATUS_CODES || (HTTP_STATUS_CODES = {}));\r\nclass HttpOptions {\r\n    constructor() {\r\n        this.prependBaseUrl = true;\r\n    }\r\n}\n\nclass ErrorActions {\r\n    static addAtOutlet(e, outlet) {\r\n        let payload = {\r\n            key: outlet.key,\r\n            error: outlet.handler ? outlet.handler(e) : e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n    static addError(key, e) {\r\n        let payload = {\r\n            key: key,\r\n            error: e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n    static add(payload) {\r\n        return {\r\n            type: ErrorActions.ADD,\r\n            payload: payload\r\n        };\r\n    }\r\n    static remove(key) {\r\n        return {\r\n            type: ErrorActions.REMOVE,\r\n            payload: key\r\n        };\r\n    }\r\n}\r\nErrorActions.ADD = '[Error] Add Error';\r\nErrorActions.REMOVE = '[Error] Remove Error';\r\nErrorActions.HANDLE_ERROR = '[Error Handler] Handle Error';\r\nErrorActions.THROW_ERROR = '[Error Handler] Throw Error';\n\nclass HttpActions {\r\n    static addPath(path, target) {\r\n        const existingMatches = target['matches'] || [];\r\n        const matches = inArray(existingMatches, path)\r\n            ? existingMatches\r\n            : [...existingMatches, path];\r\n        return Object.assign(target, { matches: matches });\r\n    }\r\n    static matchPath(path, payload) {\r\n        if (payload && payload['results']) {\r\n            return Object.assign(payload, {\r\n                results: HttpActions.matchPath(path, payload['results'])\r\n            });\r\n        }\r\n        if (Array.isArray(payload)) {\r\n            return payload.map(x => HttpActions.addPath(path, x));\r\n        }\r\n        return HttpActions.addPath(path, payload);\r\n    }\r\n    static buildError(payload) {\r\n        return ErrorActions.add(payload);\r\n    }\r\n    static buildErrorPayload(key, e) {\r\n        return {\r\n            key: key,\r\n            error: e\r\n        };\r\n    }\r\n    static handleError(e, onError) {\r\n        return {\r\n            type: onError,\r\n            payload: e\r\n        };\r\n    }\r\n    static handleErrorOutlet(e, outlet) {\r\n        return ErrorActions.addAtOutlet(e, outlet);\r\n    }\r\n    static handleErrorDefault(e) {\r\n        return {\r\n            type: HttpActions.DELETE_ERROR,\r\n            payload: HttpActions.buildErrorPayload('lastError', e)\r\n        };\r\n    }\r\n    static delete(path, data, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpDeletePayload(), {\r\n            path: path,\r\n            onSuccess: onSuccess || HttpActions.DELETE_SUCCESS,\r\n            data,\r\n            onError: onError || HttpActions.DELETE_ERROR\r\n        });\r\n        return HttpActions.httpDelete(payload);\r\n    }\r\n    static httpDelete(payload) {\r\n        return {\r\n            type: HttpActions.DELETE,\r\n            payload: payload\r\n        };\r\n    }\r\n    static deleteSuccess(model, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.DELETE_SUCCESS,\r\n            payload: model\r\n        };\r\n    }\r\n    static deleteError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        // else if (typeof onError === 'ErrorOutlet') {\r\n        //     return HttpActions.handleErrorOutlet(e, onError);\r\n        // }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static get(path, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpGetPayload(), {\r\n            path: path,\r\n            onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n            onError: onError || HttpActions.GET_ERROR\r\n        });\r\n        return HttpActions.httpGet(payload);\r\n    }\r\n    static httpGet(payload) {\r\n        return {\r\n            type: HttpActions.GET,\r\n            payload: payload\r\n        };\r\n    }\r\n    static getSuccess(response, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.GET_SUCCESS,\r\n            payload: response\r\n        };\r\n    }\r\n    static getError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        // else if (typeof onError === 'ErrorOutlet') {\r\n        //     return HttpActions.handleErrorOutlet(e, onError);\r\n        // }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static post(path, model, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpPostPayload(), {\r\n            path: path,\r\n            model: model,\r\n            onSuccess: onSuccess || HttpActions.POST_SUCCESS,\r\n            onError: onError || HttpActions.POST_ERROR\r\n        });\r\n        return HttpActions.httpPost(payload);\r\n    }\r\n    static httpPost(payload) {\r\n        return {\r\n            type: HttpActions.POST,\r\n            payload: payload\r\n        };\r\n    }\r\n    static postFormUrlEncoded(path, model, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpPostPayload(), {\r\n            path: path,\r\n            model: model,\r\n            onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n            onError: onError || HttpActions.GET_ERROR\r\n        });\r\n        return {\r\n            type: HttpActions.POST_FORM_URL_ENCODED,\r\n            payload\r\n        };\r\n    }\r\n    static postSuccess(model, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.POST_SUCCESS,\r\n            payload: model\r\n        };\r\n    }\r\n    static postError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        else if (typeof onError === 'object') {\r\n            return HttpActions.handleErrorOutlet(e, onError);\r\n        }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static put(path, model, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpPutPayload(), {\r\n            path: path,\r\n            model: model,\r\n            onSuccess: onSuccess || HttpActions.PUT_SUCCESS,\r\n            onError: onError || HttpActions.PUT_ERROR\r\n        });\r\n        return HttpActions.httpPut(payload);\r\n    }\r\n    static httpPut(payload) {\r\n        return {\r\n            type: HttpActions.PUT,\r\n            payload: payload\r\n        };\r\n    }\r\n    static putSuccess(model, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.PUT_SUCCESS,\r\n            payload: model\r\n        };\r\n    }\r\n    static putError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        // else if (typeof onError === 'ErrorOutlet') {\r\n        //     return HttpActions.handleErrorOutlet(e, onError);\r\n        // }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static search(path, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpGetPayload(), {\r\n            path: path,\r\n            onSuccess: onSuccess || HttpActions.SEARCH_SUCCESS,\r\n            onError: onError || HttpActions.SEARCH_ERROR\r\n        });\r\n        return {\r\n            type: HttpActions.SEARCH,\r\n            payload: payload\r\n        };\r\n    }\r\n    static searchSuccess(response, actionType, path) {\r\n        const payload = path ? HttpActions.matchPath(path, response) : response;\r\n        return {\r\n            type: actionType || HttpActions.SEARCH_SUCCESS,\r\n            payload: payload\r\n        };\r\n    }\r\n}\r\nHttpActions.DELETE = `[Http] DELETE`;\r\nHttpActions.DELETE_SUCCESS = `[Http] DELETE Success`;\r\nHttpActions.DELETE_ERROR = `[Http] DELETE Error`;\r\nHttpActions.GET = `[Http] GET`;\r\nHttpActions.GET_SUCCESS = `[Http] GET Success`;\r\nHttpActions.GET_ERROR = `[Http] GET Error`;\r\nHttpActions.POST = `[Http] POST`;\r\nHttpActions.POST_SUCCESS = `[Http] POST Success`;\r\nHttpActions.POST_ERROR = `[Http] POST Error`;\r\nHttpActions.POST_FORM_URL_ENCODED = `[Http] POST Form URL Encoded`;\r\nHttpActions.PUT = `[Http] PUT`;\r\nHttpActions.PUT_SUCCESS = `[Http] PUT Success`;\r\nHttpActions.PUT_ERROR = `[Http] PUT Error`;\r\nHttpActions.SEARCH = `[Http] SEARCH`;\r\nHttpActions.SEARCH_SUCCESS = `[Http] SEARCH Success`;\r\nHttpActions.SEARCH_ERROR = `[Http] SEARCH Error`;\n\nclass StreamActions {\r\n    static update(payload) {\r\n        return {\r\n            type: StreamActions.UPDATE,\r\n            payload\r\n        };\r\n    }\r\n}\r\nStreamActions.UPDATE = '[Stream] UPDATE';\r\nfunction actionsStreamReducer(state = null, action) {\r\n    switch (action.type) {\r\n        case StreamActions.UPDATE:\r\n            return { type: action.payload.type, payload: action.payload.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nclass ActionsEffects {\r\n    constructor(actions$) {\r\n        this.actions$ = actions$;\r\n        /**\r\n         * Update actions store with latest action\r\n         */\r\n        this.onAction = this.actions$.pipe(filter(action => action.type !== StreamActions.UPDATE), map((action) => StreamActions.update(action)));\r\n    }\r\n}\r\n/** @nocollapse */ ActionsEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ActionsEffects, deps: [{ token: i1.Actions }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ActionsEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ActionsEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], ActionsEffects.prototype, \"onAction\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ActionsEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }]; }, propDecorators: { onAction: [] } });\r\nfunction actionsStreamSelector(store) {\r\n    return store.select('actions');\r\n}\n\nclass DumbComponent {\r\n    constructor() {\r\n        this.requestState = 'DEFAULT';\r\n        this.subscriptions = [];\r\n    }\r\n    get inErrorState() {\r\n        return this.requestState === 'ERROR';\r\n    }\r\n    get inSuccessState() {\r\n        return this.requestState === 'SUCCESS';\r\n    }\r\n    get message() {\r\n        return this.inErrorState ? `An error has occurred. Please try again later.` : this.inSuccessState ? `Saved successfully!` : '';\r\n    }\r\n    get showMessage() {\r\n        return this.inErrorState || this.inSuccessState;\r\n    }\r\n    ngOnDestroy() {\r\n        this.removeSubscriptions();\r\n    }\r\n    addSubscription(subscription) {\r\n        this.subscriptions.push(subscription);\r\n    }\r\n    closeDialog(result) {\r\n        this.dialogSubscription.unsubscribe();\r\n    }\r\n    openDialog(component, config = {}) {\r\n        const dialogRef = this.dialog.open(component, config);\r\n        this.dialogSubscription = dialogRef.afterClosed().subscribe(result => {\r\n            this.closeDialog(result);\r\n        });\r\n    }\r\n    playAudioElement(tag) {\r\n        const el = document.getElementById(tag);\r\n        if (el && typeof el['play'] === 'function') {\r\n            el['play']();\r\n        }\r\n    }\r\n    playAudioFile(file) {\r\n        const audio = new Audio(file);\r\n        audio.play();\r\n    }\r\n    print(html) {\r\n        const iframe = document.createElement('iframe');\r\n        iframe.onload = function () {\r\n            const doc = iframe.contentDocument ? iframe.contentDocument : iframe.contentWindow.document;\r\n            doc.getElementsByTagName('body')[0].innerHTML = html;\r\n            iframe.contentWindow.focus(); // This is key, the iframe must have focus first\r\n            iframe.contentWindow.print();\r\n        };\r\n        document.getElementsByTagName('body')[0].appendChild(iframe);\r\n    }\r\n    removeSubscriptions() {\r\n        this.subscriptions.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n    }\r\n    subscribe(subscriptions) {\r\n        subscriptions.forEach(s => {\r\n            this.addSubscription(s);\r\n        });\r\n    }\r\n    sync(keys) {\r\n        keys.forEach(key => {\r\n            const subscription = this[`${key}$`].subscribe(e => {\r\n                this[key] = e;\r\n            });\r\n            this.addSubscription(subscription);\r\n        });\r\n    }\r\n    syncKey(key, handler) {\r\n        const subscription = this[`${key}$`].subscribe(e => {\r\n            this[key] = e;\r\n            if (handler && typeof handler === 'function') {\r\n                handler(e);\r\n            }\r\n        });\r\n        this.addSubscription(subscription);\r\n    }\r\n    flashErrorMessage(duration = 5000) {\r\n        this.toErrorState();\r\n        setTimeout(() => {\r\n            this.resetRequestState();\r\n        }, duration);\r\n    }\r\n    flashSuccessMessage(duration = 5000) {\r\n        this.toSucessState();\r\n        setTimeout(() => {\r\n            this.resetRequestState();\r\n        }, duration);\r\n    }\r\n    onError(e) {\r\n        this.flashErrorMessage();\r\n    }\r\n    onSuccess(e) {\r\n        this.flashSuccessMessage();\r\n    }\r\n    resetRequestState() {\r\n        this.requestState = 'DEFAULT';\r\n    }\r\n    setValue(value) {\r\n        if (this.form && this.form.setValue) {\r\n            this.form.setValue(getValue(value));\r\n        }\r\n    }\r\n    toErrorState() {\r\n        this.requestState = 'ERROR';\r\n    }\r\n    toSucessState() {\r\n        this.requestState = 'SUCCESS';\r\n    }\r\n}\r\n/** @nocollapse */ DumbComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DumbComponent, deps: [], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ DumbComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DumbComponent, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DumbComponent, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return []; } });\r\nclass FormComponent extends DumbComponent {\r\n    get editing() {\r\n        return truthy(this.id);\r\n    }\r\n    get id() {\r\n        return this.model.id;\r\n    }\r\n    get isValid() {\r\n        return this.form.valid;\r\n    }\r\n    getControl(key) {\r\n        return this.form.controls[key];\r\n    }\r\n    getControlValue(key, defaultValue) {\r\n        return this.form.value[key] || defaultValue;\r\n    }\r\n    getControlValueChanges(key, fn) {\r\n        const control = this.getControl(key);\r\n        return control.valueChanges.subscribe(fn);\r\n    }\r\n    getValue(defaultValue = null) {\r\n        return this.form.value || defaultValue;\r\n    }\r\n    getValueChanges(fn) {\r\n        return this.form.valueChanges.subscribe(fn);\r\n    }\r\n    markAsSubmitted() {\r\n        this.form.markAsTouched();\r\n        Object.keys(this.form.controls).forEach(key => {\r\n            this.form.controls[key].markAsTouched();\r\n        });\r\n    }\r\n    setControlValue(key, value) {\r\n        const control = this.getControl(key);\r\n        control.setValue(value);\r\n    }\r\n    subscribeToChanges(key, fn) {\r\n        this.addSubscription(this.getValueChanges(fn));\r\n    }\r\n    subscribeToControlChanges(key, fn) {\r\n        this.addSubscription(this.getControlValueChanges(key, fn));\r\n    }\r\n}\r\n/** @nocollapse */ FormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormComponent, deps: null, target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ FormComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormComponent, usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormComponent, decorators: [{\r\n            type: Directive\r\n        }] });\r\nclass SmartComponent extends DumbComponent {\r\n    constructor(store) {\r\n        super();\r\n        this.store = store;\r\n        this.messages = [];\r\n        this.channels = [];\r\n        this.actions$ = actionsStreamSelector(store);\r\n    }\r\n    get hasMessages() {\r\n        return this.messages && Array.isArray(this.messages) && this.messages.length > 0;\r\n    }\r\n    onInit() {\r\n        if (this.hasMessages) {\r\n            this.dispatch(MessagesActions.subscribe(this.messages));\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.hasMessages) {\r\n            this.dispatch(MessagesActions.unsubscribe(this.messages));\r\n        }\r\n        this.removeChannels();\r\n        super.ngOnDestroy();\r\n    }\r\n    addChannel(channel, action) {\r\n        if (this.hubService && typeof this.hubService.addEffect == 'function' && (this.channels.findIndex(x => x === channel) === -1)) {\r\n            this.hubService.addEffect(channel, action);\r\n            this.channels.push(channel);\r\n        }\r\n    }\r\n    dispatch(action) {\r\n        this.store.dispatch(action);\r\n    }\r\n    dispatchAndSubscribe(action, onSuccess, onError) {\r\n        const f1 = onSuccess\r\n            ? onSuccess\r\n            : e => {\r\n                this.flashSuccessMessage();\r\n            };\r\n        const f2 = onError\r\n            ? onError\r\n            : e => {\r\n                this.flashErrorMessage();\r\n            };\r\n        if (this.events && this.events.dispatch) {\r\n            this.addSubscription(this.events.dispatch(action).subscribe(f1, f2));\r\n        }\r\n        else {\r\n            this.store.dispatch(action);\r\n        }\r\n    }\r\n    httpDelete(path, payload, onSuccess, onError) {\r\n        this.dispatch(HttpActions.delete(path, payload, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    httpGet(path, onSuccess, onError) {\r\n        this.dispatch(HttpActions.get(path, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    httpPost(path, payload, onSuccess, onError) {\r\n        this.dispatch(HttpActions.post(path, payload, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    httpPut(path, payload, onSuccess, onError) {\r\n        this.dispatch(HttpActions.put(path, payload, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    removeChannel(channel) {\r\n        if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n            this.hubService.removeEffect(channel);\r\n        }\r\n    }\r\n    removeChannels() {\r\n        if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n            this.channels.forEach(x => {\r\n                this.hubService.removeEffect(x);\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ SmartComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SmartComponent, deps: [{ token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ SmartComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: SmartComponent, usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SmartComponent, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }]; } });\n\nclass DateMaskDirective extends DumbComponent {\r\n    constructor(el, _dateControl, renderer) {\r\n        super();\r\n        this.el = el;\r\n        this._dateControl = _dateControl;\r\n        this.renderer = renderer;\r\n    }\r\n    get dateController() {\r\n        return this._dateControl.control;\r\n    }\r\n    get dateMask() {\r\n        return this.dateController.valueChanges.subscribe(() => {\r\n            let data = this.el.nativeElement.value;\r\n            if (data.length < 10) {\r\n                if (data.length == 0) {\r\n                    data = '';\r\n                }\r\n                else if (data.length <= 3) {\r\n                    data = data.replace(/^(\\d{2})/, '$1/');\r\n                }\r\n                else if (data.length <= 5) {\r\n                    data = data.replace(/^(.{3})(\\d{2})/, '$1$2/');\r\n                }\r\n                this.renderer.setProperty(this.el.nativeElement, 'value', data);\r\n            }\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.subscribe([this.dateMask]);\r\n    }\r\n}\r\n/** @nocollapse */ DateMaskDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateMaskDirective, deps: [{ token: i0.ElementRef }, { token: i5.NgControl }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ DateMaskDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DateMaskDirective, selector: \"[dateMask]\", usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateMaskDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[dateMask]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i5.NgControl }, { type: i0.Renderer2 }]; } });\n\nclass SharedModule {\r\n}\r\n/** @nocollapse */ SharedModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ SharedModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, declarations: [DateMaskDirective], imports: [CommonModule,\r\n        RouterModule$1], exports: [CommonModule,\r\n        RouterModule$1,\r\n        DateMaskDirective] });\r\n/** @nocollapse */ SharedModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, imports: [[\r\n            CommonModule,\r\n            RouterModule$1,\r\n        ], CommonModule,\r\n        RouterModule$1] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        RouterModule$1,\r\n                    ],\r\n                    declarations: [DateMaskDirective],\r\n                    exports: [\r\n                        CommonModule,\r\n                        RouterModule$1,\r\n                        DateMaskDirective\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AccordionModule {\r\n}\r\n/** @nocollapse */ AccordionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AccordionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, declarations: [AccordionComponent], imports: [SharedModule], exports: [AccordionComponent] });\r\n/** @nocollapse */ AccordionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        AccordionComponent,\r\n                    ],\r\n                    exports: [\r\n                        AccordionComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass DialogModel {\r\n    constructor() {\r\n        this.title = ' ';\r\n        this.actions = [];\r\n        /** Whether the dialog has a backdrop. */\r\n        this.hasBackdrop = true;\r\n        /** Whether the user can use escape or clicking outside to close a modal. */\r\n        this.disableClose = false;\r\n    }\r\n    get config() {\r\n        return {\r\n            viewContainerRef: this.viewContainerRef,\r\n            role: this.role,\r\n            panelClass: this.panelClass,\r\n            hasBackdrop: this.hasBackdrop,\r\n            backdropClass: this.backdropClass,\r\n            disableClose: this.disableClose,\r\n            width: this.width,\r\n            height: this.height,\r\n            position: this.position,\r\n            data: this.data,\r\n            direction: this.direction\r\n        };\r\n    }\r\n}\r\nclass DialogAction {\r\n    constructor() {\r\n        this.value = null;\r\n        this.label = '';\r\n        this.color = 'accent';\r\n    }\r\n}\n\nclass DialogComponent {\r\n    constructor(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n        this.model = new DialogModel();\r\n        this.showActions = true;\r\n        this.showCloseAction = false;\r\n        this.showCloseIcon = true;\r\n        this.defaultActionColor = 'accent';\r\n    }\r\n    get actions() {\r\n        return this.model.actions;\r\n    }\r\n    get actionWidth() {\r\n        const actionsCount = Math.max(this.actions.length, 1);\r\n        return `${100 / actionsCount}%`;\r\n    }\r\n    get closeDialogDirectives() {\r\n        return this.actionElements['_results'];\r\n    }\r\n    get closeDialogElements() {\r\n        return this.closeDialogDirectives.map(x => x['_elementRef']);\r\n    }\r\n    get title() {\r\n        return this.model.title;\r\n    }\r\n    ngAfterViewInit() {\r\n        // setTimeout(() => {\r\n        //   console.dir(this.actionElements);\r\n        //   console.dir(this.closeDialogDirectives);\r\n        //   console.dir(this.closeDialogElements);\r\n        //   console.dir(this.closeDialogElements[1]);\r\n        //   console.log(typeof this.closeDialogElements[1].nativeElement['click']);\r\n        //   this.closeDialogElements[1].nativeElement.click();\r\n        // }, 3000);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    ngOnChanges(e) {\r\n    }\r\n    close(e) {\r\n        this.dialogRef.close(e);\r\n    }\r\n}\r\n/** @nocollapse */ DialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogComponent, deps: [{ token: i1$2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DialogComponent, selector: \"iu-dialog\", inputs: { model: \"model\", showActions: \"showActions\", showCloseAction: \"showCloseAction\", showCloseIcon: \"showCloseIcon\", defaultActionColor: \"defaultActionColor\" }, viewQueries: [{ propertyName: \"actionElements\", predicate: MatDialogClose, descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n  <span class=\\\"dialog-title\\\">\\r\\n    {{ title }}\\r\\n    <button *ngIf=\\\"showCloseIcon\\\" mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </span>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"scrollable\\\">\\r\\n  <ng-content></ng-content>\\r\\n</mat-dialog-content>\\r\\n<!-- <mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button\\r\\n    class=\\\"action\\\"\\r\\n    *ngFor=\\\"let action of actions; let first = first\\\"\\r\\n    mat-raised-button\\r\\n    [mat-dialog-close]=\\\"action.value\\\"\\r\\n    [style.width]=\\\"actionWidth\\\"\\r\\n    color=\\\"primary\\\"\\r\\n    [autofocus]=\\\"first\\\"\\r\\n  >\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions> -->\\r\\n<mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button class=\\\"action\\\" *ngFor=\\\"let action of actions; let first = first\\\" mat-raised-button\\r\\n    (click)=\\\"close(action.value)\\\" [style.width]=\\\"actionWidth\\\" color=\\\"primary\\\" [autofocus]=\\\"first\\\">\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n<mat-dialog-actions *ngIf=\\\"showCloseAction && actions.length === 0\\\">\\r\\n  <button mat-raised-button mat-dialog-close=\\\"close\\\" color=\\\"primary\\\" [style.width]=\\\"actionWidth\\\">\\r\\n    Close\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n\", styles: [\"iu-dialog .mat-toolbar{min-height:32px}iu-dialog .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}iu-dialog .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}iu-dialog .mat-toolbar .dialog-title button:hover{font-weight:700}iu-dialog .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}iu-dialog .mat-toolbar-row{height:48px}iu-dialog .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}iu-dialog .mat-dialog-actions button{padding:12px 0}iu-dialog .mat-dialog-actions button.action:focus,iu-dialog .mat-dialog-actions button.action:active{color:#000!important}iu-dialog .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1$2.MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$2.MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { type: i1$2.MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { type: i1$2.MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\" }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-dialog', encapsulation: ViewEncapsulation.None, template: \"<mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n  <span class=\\\"dialog-title\\\">\\r\\n    {{ title }}\\r\\n    <button *ngIf=\\\"showCloseIcon\\\" mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </span>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"scrollable\\\">\\r\\n  <ng-content></ng-content>\\r\\n</mat-dialog-content>\\r\\n<!-- <mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button\\r\\n    class=\\\"action\\\"\\r\\n    *ngFor=\\\"let action of actions; let first = first\\\"\\r\\n    mat-raised-button\\r\\n    [mat-dialog-close]=\\\"action.value\\\"\\r\\n    [style.width]=\\\"actionWidth\\\"\\r\\n    color=\\\"primary\\\"\\r\\n    [autofocus]=\\\"first\\\"\\r\\n  >\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions> -->\\r\\n<mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button class=\\\"action\\\" *ngFor=\\\"let action of actions; let first = first\\\" mat-raised-button\\r\\n    (click)=\\\"close(action.value)\\\" [style.width]=\\\"actionWidth\\\" color=\\\"primary\\\" [autofocus]=\\\"first\\\">\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n<mat-dialog-actions *ngIf=\\\"showCloseAction && actions.length === 0\\\">\\r\\n  <button mat-raised-button mat-dialog-close=\\\"close\\\" color=\\\"primary\\\" [style.width]=\\\"actionWidth\\\">\\r\\n    Close\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n\", styles: [\"iu-dialog .mat-toolbar{min-height:32px}iu-dialog .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}iu-dialog .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}iu-dialog .mat-toolbar .dialog-title button:hover{font-weight:700}iu-dialog .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}iu-dialog .mat-toolbar-row{height:48px}iu-dialog .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}iu-dialog .mat-dialog-actions button{padding:12px 0}iu-dialog .mat-dialog-actions button.action:focus,iu-dialog .mat-dialog-actions button.action:active{color:#000!important}iu-dialog .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef }]; }, propDecorators: { model: [{\r\n                type: Input\r\n            }], showActions: [{\r\n                type: Input\r\n            }], showCloseAction: [{\r\n                type: Input\r\n            }], showCloseIcon: [{\r\n                type: Input\r\n            }], defaultActionColor: [{\r\n                type: Input\r\n            }], actionElements: [{\r\n                type: ViewChildren,\r\n                args: [MatDialogClose]\r\n            }] } });\n\nclass ConfirmDeleteComponent {\r\n    constructor(dialogRef, data) {\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this.header = 'Delete Confirmation';\r\n        this.question = 'Are you sure you want to delete this record?';\r\n        this.dialog = new DialogModel();\r\n        this.dialog = build(DialogModel, {\r\n            title: this.headerText,\r\n            actions: data && data.actions ? toArray(data.actions) : [build(DialogAction, { label: `Yes`, value: true }), build(DialogAction, { label: `Cancel`, value: false })]\r\n        });\r\n    }\r\n    get headerText() {\r\n        return this.data && this.data.header ? this.data.header : this.header;\r\n    }\r\n    get questionText() {\r\n        return this.data && this.data.question ? this.data.question : this.question;\r\n    }\r\n}\r\n/** @nocollapse */ ConfirmDeleteComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ConfirmDeleteComponent, deps: [{ token: i1$2.MatDialogRef, optional: true }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ ConfirmDeleteComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: ConfirmDeleteComponent, selector: \"iu-confirm-delete\", inputs: { header: \"header\", question: \"question\" }, ngImport: i0, template: \"<iu-dialog id=\\\"confirm-delete\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>{{ questionText }}</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#confirm-delete{width:600px;height:600px}iu-dialog#confirm-delete .mat-toolbar{min-height:32px;height:48px;padding:12px 20px 0;color:#fff;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#confirm-delete mat-dialog-content{width:80%;margin:48px 10%;color:#999;font-size:20px;font-family:Roboto,Helvetica Neue,sans-serif}iu-dialog#confirm-delete .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#confirm-delete .mat-dialog-actions button{padding:20px 0;color:#fff;-webkit-appearance:none;cursor:pointer;font-size:20px;opacity:.9}iu-dialog#confirm-delete .mat-dialog-actions button:hover{font-weight:700;opacity:1}iu-dialog#confirm-delete .mat-raised-button{margin-left:0!important}iu-dialog#confirm-delete .dialog-title button{display:none}\\n\"], components: [{ type: DialogComponent, selector: \"iu-dialog\", inputs: [\"model\", \"showActions\", \"showCloseAction\", \"showCloseIcon\", \"defaultActionColor\"] }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ConfirmDeleteComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-confirm-delete', encapsulation: ViewEncapsulation.None, template: \"<iu-dialog id=\\\"confirm-delete\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>{{ questionText }}</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#confirm-delete{width:600px;height:600px}iu-dialog#confirm-delete .mat-toolbar{min-height:32px;height:48px;padding:12px 20px 0;color:#fff;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#confirm-delete mat-dialog-content{width:80%;margin:48px 10%;color:#999;font-size:20px;font-family:Roboto,Helvetica Neue,sans-serif}iu-dialog#confirm-delete .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#confirm-delete .mat-dialog-actions button{padding:20px 0;color:#fff;-webkit-appearance:none;cursor:pointer;font-size:20px;opacity:.9}iu-dialog#confirm-delete .mat-dialog-actions button:hover{font-weight:700;opacity:1}iu-dialog#confirm-delete .mat-raised-button{margin-left:0!important}iu-dialog#confirm-delete .dialog-title button{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef, decorators: [{\r\n                    type: Optional\r\n                }] }, { type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [MAT_DIALOG_DATA]\r\n                }] }]; }, propDecorators: { header: [{\r\n                type: Input\r\n            }], question: [{\r\n                type: Input\r\n            }] } });\n\nclass AddressPipe {\r\n    transform(value, showName = false) {\r\n        const address = value\r\n            ? `\r\n      ${value.address1 || ''}\r\n      ${value.city || ''}${truthy(value.city) && truthy(value.stateCode)\r\n                ? ', ' + value.stateCode\r\n                : ''} ${value.zip || ''}\r\n    `\r\n            : '';\r\n        return showName\r\n            ? `${value.firstName || ''} ${value.lastName || ''} ${address}`\r\n            : address;\r\n    }\r\n}\r\n/** @nocollapse */ AddressPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ AddressPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressPipe, name: \"address\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'address'\r\n                }]\r\n        }] });\n\nclass InlineAddressComponent {\r\n    constructor() {\r\n        this.canActivate = false;\r\n        this.canDelete = false;\r\n        this.canEdit = false;\r\n        this.showName = false;\r\n        this.activate = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.edit = new EventEmitter();\r\n    }\r\n    get isPrimary() {\r\n        return this.address.isPrimaryAddress;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onActivate() {\r\n        this.activate.emit(this.address);\r\n    }\r\n    onDelete() {\r\n        this.delete.emit(this.address);\r\n    }\r\n    onEdit() {\r\n        this.edit.emit(this.address);\r\n    }\r\n}\r\n/** @nocollapse */ InlineAddressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: InlineAddressComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ InlineAddressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: InlineAddressComponent, selector: \"iu-inline-address\", inputs: { address: \"address\", canActivate: \"canActivate\", canDelete: \"canDelete\", canEdit: \"canEdit\", showName: \"showName\" }, outputs: { activate: \"activate\", delete: \"delete\", edit: \"edit\" }, ngImport: i0, template: \"<div class=\\\"row inline-address\\\">\\r\\n  <div class=\\\"col mailing-address\\\" [class.primary]=\\\"isPrimary\\\">\\r\\n    {{ address | address: showName }}\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canActivate\\\">\\r\\n    <button\\r\\n      color=\\\"primary\\\"\\r\\n      mat-button\\r\\n      class=\\\"edit-icon activate-text\\\"\\r\\n      (click)=\\\"onActivate()\\\"\\r\\n    >\\r\\n      Mark Active\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canEdit\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onEdit()\\\"\\r\\n      >edit</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canDelete\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onDelete()\\\"\\r\\n      >delete</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".row.inline-address{vertical-align:inherit;border-color:inherit;border-collapse:separate}.row.inline-address .col{display:inline-block;font-size:12px;color:#1b1b1b;margin:0 2%;vertical-align:inherit}.row.inline-address .col .mat-icon{cursor:pointer}.row.inline-address .col .mat-icon:hover{color:#1b1b1b}.row.inline-address .col.mailing-address{width:60%}.row.inline-address .col.mailing-address.primary{font-size:14px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"address\": AddressPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: InlineAddressComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-inline-address', template: \"<div class=\\\"row inline-address\\\">\\r\\n  <div class=\\\"col mailing-address\\\" [class.primary]=\\\"isPrimary\\\">\\r\\n    {{ address | address: showName }}\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canActivate\\\">\\r\\n    <button\\r\\n      color=\\\"primary\\\"\\r\\n      mat-button\\r\\n      class=\\\"edit-icon activate-text\\\"\\r\\n      (click)=\\\"onActivate()\\\"\\r\\n    >\\r\\n      Mark Active\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canEdit\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onEdit()\\\"\\r\\n      >edit</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canDelete\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onDelete()\\\"\\r\\n      >delete</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".row.inline-address{vertical-align:inherit;border-color:inherit;border-collapse:separate}.row.inline-address .col{display:inline-block;font-size:12px;color:#1b1b1b;margin:0 2%;vertical-align:inherit}.row.inline-address .col .mat-icon{cursor:pointer}.row.inline-address .col .mat-icon:hover{color:#1b1b1b}.row.inline-address .col.mailing-address{width:60%}.row.inline-address .col.mailing-address.primary{font-size:14px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { address: [{\r\n                type: Input\r\n            }], canActivate: [{\r\n                type: Input\r\n            }], canDelete: [{\r\n                type: Input\r\n            }], canEdit: [{\r\n                type: Input\r\n            }], showName: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], edit: [{\r\n                type: Output\r\n            }] } });\n\nclass FormArray extends FormArray$1 {\r\n    constructor(fb, controls, validator, asyncValidator) {\r\n        super(controls, validator, asyncValidator);\r\n        this.fb = fb;\r\n    }\r\n    static Build(fb, controls, validator, asyncValidator) {\r\n        return new FormArray(fb, controls, validator, asyncValidator);\r\n    }\r\n    static BuildWithType(ctor, fb, controls = [], validator, asyncValidator) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        return fa;\r\n    }\r\n    static BuildWithTypeAndValue(ctor, value, fb, controls = [], validator, asyncValidator) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n    static BuildWithValue(value, fb, controls = [], validator, asyncValidator) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n    static GetValue(value, ctor) {\r\n        return toArray(value).map(x => getValue(build(ctor, x)));\r\n    }\r\n    get maxIndex() {\r\n        return this.length - 1;\r\n    }\r\n    get values() {\r\n        return [...this.value];\r\n    }\r\n    buildControls(n) {\r\n        return this.buildItems(n).map(x => buildAbstractControl(this.fb, x));\r\n    }\r\n    buildItems(n) {\r\n        return Array.from(Array(n).keys()).map(x => this.ctor ? getValue(new this.ctor()) : {});\r\n    }\r\n    getValue(value) {\r\n        return this.ctor ? toArray(value).map(x => getValue(build(this.ctor, x))) : value;\r\n    }\r\n    resetValue(value) {\r\n        this.removeAll();\r\n        this.addControls(value);\r\n        this.setValue(value);\r\n    }\r\n    setLength(value) {\r\n        if (this.length < value) {\r\n            this.add(value - this.length);\r\n        }\r\n        else if (this.length > value) {\r\n            this.remove(this.length - value);\r\n        }\r\n    }\r\n    setValue(value) {\r\n        this.setLength(value.length);\r\n        super.setValue(this.getValue(value));\r\n    }\r\n    findControlById(id) {\r\n        return this.controls.find(control => control.value && control.value['id'] && control.value['id'] === id);\r\n    }\r\n    removeAll() {\r\n        this.controls = [];\r\n    }\r\n    removeIndexes(indexes) {\r\n        indexes.forEach(index => {\r\n            this.removeAt(index);\r\n        });\r\n    }\r\n    add(n) {\r\n        this.buildControls(n).forEach(x => {\r\n            this.push(x);\r\n        });\r\n    }\r\n    remove(n) {\r\n        const k = Math.min(n, this.length);\r\n        Array.from(Array(k).keys()).forEach(x => {\r\n            this.removeAt(this.maxIndex);\r\n        });\r\n    }\r\n    addControls(value) {\r\n        const controls = value.map(x => this.fb.group(buildControlsConfig(x, this.fb)));\r\n        controls.forEach(control => {\r\n            this.push(control);\r\n        });\r\n    }\r\n    /**\r\n     * Set value of each control.\r\n     * @param ctor Class constructor\r\n     * @param props Values to assign to props of each control\r\n     */\r\n    setAll(ctor, props) {\r\n        this.controls.forEach(control => {\r\n            control.setValue(build(new ctor(), control.value, props));\r\n        });\r\n    }\r\n}\n\nfunction buildAbstractControl(fb, value) {\r\n    return isGroupValue(value) ? fb.group(buildControlsConfig(value, fb)) : fb.control(value);\r\n}\r\n/**\r\n * Construct form builder and initialize new form array\r\n */\r\nfunction buildArrayFromType(ctor, validator, asyncValidator) {\r\n    const fb = new FormBuilder();\r\n    return FormArray.BuildWithType(ctor, fb, [], validator, asyncValidator);\r\n}\r\nfunction buildControl(fb, model, key) {\r\n    return isFormGroup(model, key) ?\r\n        fb.group(buildControlsConfig(model[key], fb))\r\n        : (isFormArray(model, key) ? buildFormArray(fb, model, key)\r\n            : (hasValidators(model, key) ? [model[key], model['metadata'][key]['validators']]\r\n                : [model[key]]));\r\n}\r\n/**\r\n * Construct form builder and initialize new form group.\r\n */\r\nfunction buildControlFromModel(model) {\r\n    const fb = new FormBuilder();\r\n    const controlsConfig = buildControlsConfig(model, fb);\r\n    return hasGroupValidators(model) ? fb.group(controlsConfig, model['metadata']['validators']) : fb.group(controlsConfig);\r\n}\r\n/**\r\n * Function to recursively construct form control config object.\r\n */\r\nfunction buildControlsConfig(model, fb) {\r\n    const keys = getAllProps(model);\r\n    const config = {};\r\n    return keys.filter(key => key !== 'metadata' && !ignoreKey(model, key))\r\n        .reduce((acc, key) => Object.assign({}, acc, { [key]: buildControl(fb, model, key) }), {});\r\n}\r\n/**\r\n * Initialize new form array.\r\n */\r\nfunction buildFormArray(fb, model, key) {\r\n    const ctor = findFormArrayType(model, key);\r\n    const value = model[key];\r\n    const controls = buildFormArrayControls(fb, value, ctor);\r\n    return ctor ? FormArray.BuildWithType(ctor, fb, controls) : FormArray.Build(fb, []);\r\n}\r\nfunction buildFormArrayControls(fb, value, ctor) {\r\n    return ctor ? value.map(x => buildAbstractControl(fb, getValue(build(ctor, x))))\r\n        : value.map(x => buildAbstractControl(fb, x));\r\n}\r\nfunction findFormArrayType(model, key) {\r\n    return model['metadata'] && model['metadata'][key] ?\r\n        model['metadata'][key]['type'] : null;\r\n}\r\nfunction hasGroupValidators(model) {\r\n    return model['metadata'] && model['metadata']['validators'];\r\n}\r\nfunction hasValidators(model, key) {\r\n    return model['metadata'] && model['metadata'][key] && model['metadata'][key]['validators'];\r\n}\r\nfunction isArrayValue(value) {\r\n    return Array.isArray(value);\r\n}\r\nfunction isFormArray(model, key) {\r\n    return Array.isArray(model[key]) && model['metadata'] && model['metadata'][key] && model['metadata'][key]['isFormArray'];\r\n}\r\nfunction isFormControl(model, key) {\r\n    return model['metadata'] && model['metadata']['controls'] && inArray(model['metadata']['controls'], key);\r\n}\r\nfunction isFormGroup(model, key) {\r\n    return model[key]\r\n        && typeof model[key] === 'object'\r\n        && !Array.isArray(model[key])\r\n        && Object.keys(model[key]).length > 0\r\n        && !isFormControl(model, key)\r\n        && !isFormArray(model, key);\r\n}\r\nfunction isGroupValue(value) {\r\n    return typeof value === 'object' && Object.keys(value).length > 0 && !isArrayValue(value);\r\n}\n\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nfunction Control(ctor) {\r\n    const propertyDecorator = (target, propertySignature) => {\r\n        const decoratedProperty = buildControlFromModel(new ctor());\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\r\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nfunction ArrayControl(ctor, validator, asyncValidator) {\r\n    const propertyDecorator = (target, propertySignature) => {\r\n        const decoratedProperty = buildArrayFromType(ctor, validator, asyncValidator);\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\n\nconst LOOKUP_STATES = [\r\n    {\r\n        label: 'Alabama',\r\n        name: 'AL'\r\n    },\r\n    {\r\n        label: 'Alaska',\r\n        name: 'AK'\r\n    },\r\n    {\r\n        label: 'American Samoa',\r\n        name: 'AS'\r\n    },\r\n    {\r\n        label: 'Arizona',\r\n        name: 'AZ'\r\n    },\r\n    {\r\n        label: 'Arkansas',\r\n        name: 'AR'\r\n    },\r\n    {\r\n        label: 'California',\r\n        name: 'CA'\r\n    },\r\n    {\r\n        label: 'Colorado',\r\n        name: 'CO'\r\n    },\r\n    {\r\n        label: 'Connecticut',\r\n        name: 'CT'\r\n    },\r\n    {\r\n        label: 'Delaware',\r\n        name: 'DE'\r\n    },\r\n    {\r\n        label: 'District Of Columbia',\r\n        name: 'DC'\r\n    },\r\n    {\r\n        label: 'Federated States Of Micronesia',\r\n        name: 'FM'\r\n    },\r\n    {\r\n        label: 'Florida',\r\n        name: 'FL'\r\n    },\r\n    {\r\n        label: 'Georgia',\r\n        name: 'GA'\r\n    },\r\n    {\r\n        label: 'Guam',\r\n        name: 'GU'\r\n    },\r\n    {\r\n        label: 'Hawaii',\r\n        name: 'HI'\r\n    },\r\n    {\r\n        label: 'Idaho',\r\n        name: 'ID'\r\n    },\r\n    {\r\n        label: 'Illinois',\r\n        name: 'IL'\r\n    },\r\n    {\r\n        label: 'Indiana',\r\n        name: 'IN'\r\n    },\r\n    {\r\n        label: 'Iowa',\r\n        name: 'IA'\r\n    },\r\n    {\r\n        label: 'Kansas',\r\n        name: 'KS'\r\n    },\r\n    {\r\n        label: 'Kentucky',\r\n        name: 'KY'\r\n    },\r\n    {\r\n        label: 'Louisiana',\r\n        name: 'LA'\r\n    },\r\n    {\r\n        label: 'Maine',\r\n        name: 'ME'\r\n    },\r\n    {\r\n        label: 'Marshall Islands',\r\n        name: 'MH'\r\n    },\r\n    {\r\n        label: 'Maryland',\r\n        name: 'MD'\r\n    },\r\n    {\r\n        label: 'Massachusetts',\r\n        name: 'MA'\r\n    },\r\n    {\r\n        label: 'Michigan',\r\n        name: 'MI'\r\n    },\r\n    {\r\n        label: 'Minnesota',\r\n        name: 'MN'\r\n    },\r\n    {\r\n        label: 'Mississippi',\r\n        name: 'MS'\r\n    },\r\n    {\r\n        label: 'Missouri',\r\n        name: 'MO'\r\n    },\r\n    {\r\n        label: 'Montana',\r\n        name: 'MT'\r\n    },\r\n    {\r\n        label: 'Nebraska',\r\n        name: 'NE'\r\n    },\r\n    {\r\n        label: 'Nevada',\r\n        name: 'NV'\r\n    },\r\n    {\r\n        label: 'New Hampshire',\r\n        name: 'NH'\r\n    },\r\n    {\r\n        label: 'New Jersey',\r\n        name: 'NJ'\r\n    },\r\n    {\r\n        label: 'New Mexico',\r\n        name: 'NM'\r\n    },\r\n    {\r\n        label: 'New York',\r\n        name: 'NY'\r\n    },\r\n    {\r\n        label: 'North Carolina',\r\n        name: 'NC'\r\n    },\r\n    {\r\n        label: 'North Dakota',\r\n        name: 'ND'\r\n    },\r\n    {\r\n        label: 'Northern Mariana Islands',\r\n        name: 'MP'\r\n    },\r\n    {\r\n        label: 'Ohio',\r\n        name: 'OH'\r\n    },\r\n    {\r\n        label: 'Oklahoma',\r\n        name: 'OK'\r\n    },\r\n    {\r\n        label: 'Oregon',\r\n        name: 'OR'\r\n    },\r\n    {\r\n        label: 'Palau',\r\n        name: 'PW'\r\n    },\r\n    {\r\n        label: 'Pennsylvania',\r\n        name: 'PA'\r\n    },\r\n    {\r\n        label: 'Puerto Rico',\r\n        name: 'PR'\r\n    },\r\n    {\r\n        label: 'Rhode Island',\r\n        name: 'RI'\r\n    },\r\n    {\r\n        label: 'South Carolina',\r\n        name: 'SC'\r\n    },\r\n    {\r\n        label: 'South Dakota',\r\n        name: 'SD'\r\n    },\r\n    {\r\n        label: 'Tennessee',\r\n        name: 'TN'\r\n    },\r\n    {\r\n        label: 'Texas',\r\n        name: 'TX'\r\n    },\r\n    {\r\n        label: 'Utah',\r\n        name: 'UT'\r\n    },\r\n    {\r\n        label: 'Vermont',\r\n        name: 'VT'\r\n    },\r\n    {\r\n        label: 'Virgin Islands',\r\n        name: 'VI'\r\n    },\r\n    {\r\n        label: 'Virginia',\r\n        name: 'VA'\r\n    },\r\n    {\r\n        label: 'Washington',\r\n        name: 'WA'\r\n    },\r\n    {\r\n        label: 'West Virginia',\r\n        name: 'WV'\r\n    },\r\n    {\r\n        label: 'Wisconsin',\r\n        name: 'WI'\r\n    },\r\n    {\r\n        label: 'Wyoming',\r\n        name: 'WY'\r\n    }\r\n];\r\nconst COLORS = [\r\n    {\r\n        name: 'blue',\r\n        hex: '#OOOOFF'\r\n    },\r\n    {\r\n        name: 'blueviolet',\r\n        hex: '#8A2BE2'\r\n    },\r\n    {\r\n        name: 'cadetblue',\r\n        hex: '#5F9EA0'\r\n    },\r\n    {\r\n        name: 'crimson',\r\n        hex: '#DC143C'\r\n    },\r\n    // {\r\n    //   name: 'darkblue',\r\n    //   hex: '#00008B'\r\n    // },\r\n    {\r\n        name: 'darkcyan',\r\n        hex: '#008B8B'\r\n    },\r\n    {\r\n        name: 'darkgreen',\r\n        hex: '#006400'\r\n    },\r\n    {\r\n        name: 'darkmagenta',\r\n        hex: '#8B008B'\r\n    },\r\n    {\r\n        name: 'darkolivegreen',\r\n        hex: '#556B2F'\r\n    },\r\n    {\r\n        name: 'darkorange',\r\n        hex: '#FF8C00'\r\n    },\r\n    {\r\n        name: 'darkorchid',\r\n        hex: '#9932CC'\r\n    },\r\n    {\r\n        name: 'darkred',\r\n        hex: '#8B0000'\r\n    },\r\n    {\r\n        name: 'darkslateblue',\r\n        hex: '#483D8B'\r\n    },\r\n    {\r\n        name: 'darkslategray',\r\n        hex: '#2F4F4F'\r\n    },\r\n    {\r\n        name: 'darkturquoise',\r\n        hex: '#00CED1'\r\n    },\r\n    {\r\n        name: 'darkviolet',\r\n        hex: '#9400D3'\r\n    },\r\n    {\r\n        name: 'deeppink',\r\n        hex: '#FF1493'\r\n    },\r\n    {\r\n        name: 'deepskyblue',\r\n        hex: '#00BFFF'\r\n    },\r\n    {\r\n        name: 'dodgerblue',\r\n        hex: '#1E90FF'\r\n    },\r\n    {\r\n        name: 'firebrick',\r\n        hex: '#B22222'\r\n    },\r\n    {\r\n        name: 'forestgreen',\r\n        hex: '#228B22'\r\n    },\r\n    {\r\n        name: 'fuchsia',\r\n        hex: '\t#FF00FF'\r\n    },\r\n    {\r\n        name: 'gold',\r\n        hex: '#FFD700'\r\n    },\r\n    {\r\n        name: 'goldenrod',\r\n        hex: '#DAA520'\r\n    },\r\n    {\r\n        name: 'green',\r\n        hex: '#008000'\r\n    },\r\n    {\r\n        name: 'grey',\r\n        hex: '#808080'\r\n    },\r\n    {\r\n        name: 'hotpink',\r\n        hex: '#FF69B4'\r\n    },\r\n    {\r\n        name: 'indianred',\r\n        hex: '\t#CD5C5C'\r\n    },\r\n    {\r\n        name: 'indigo',\r\n        hex: '#4B0082'\r\n    },\r\n    {\r\n        name: 'lawngreen',\r\n        hex: '#7CFC00'\r\n    },\r\n    {\r\n        name: 'lightcoral',\r\n        hex: '#F08080'\r\n    },\r\n    {\r\n        name: 'lightsalmon',\r\n        hex: '\t#FFA07A'\r\n    },\r\n    {\r\n        name: 'lightseagreen',\r\n        hex: '#20B2AA'\r\n    },\r\n    {\r\n        name: 'lightslategrey',\r\n        hex: '#778899'\r\n    },\r\n    {\r\n        name: 'lightsteelblue',\r\n        hex: '#B0C4DE'\r\n    },\r\n    {\r\n        name: 'lime',\r\n        hex: '#00FF00'\r\n    },\r\n    {\r\n        name: 'limegreen',\r\n        hex: '#32CD32'\r\n    },\r\n    {\r\n        name: 'magenta',\r\n        hex: '#FF00FF'\r\n    },\r\n    {\r\n        name: 'mediumaquamarine',\r\n        hex: '#66CDAA'\r\n    },\r\n    {\r\n        name: 'mediumorchid',\r\n        hex: '#BA55D3'\r\n    },\r\n    {\r\n        name: 'mediumpurple',\r\n        hex: '#9370DB'\r\n    },\r\n    {\r\n        name: 'mediumseagreen',\r\n        hex: '#3CB371'\r\n    },\r\n    {\r\n        name: 'mediumspringgreen',\r\n        hex: '#00FA9A'\r\n    },\r\n    {\r\n        name: 'olive',\r\n        hex: '#808000'\r\n    },\r\n    {\r\n        name: 'olivedrab',\r\n        hex: '#6B8E23'\r\n    },\r\n    {\r\n        name: 'orange',\r\n        hex: '#FFA500'\r\n    },\r\n    {\r\n        name: 'orangered',\r\n        hex: '#FF4500'\r\n    },\r\n    {\r\n        name: 'orchid',\r\n        hex: '#DA70D6'\r\n    },\r\n    {\r\n        name: 'palevioletred',\r\n        hex: '#DB7093'\r\n    },\r\n    {\r\n        name: 'red',\r\n        hex: '#FFOOOO'\r\n    },\r\n    {\r\n        name: 'royalblue',\r\n        hex: '#4169E1'\r\n    },\r\n    {\r\n        name: 'salmon',\r\n        hex: '#FA8072'\r\n    },\r\n    {\r\n        name: 'sandybrown',\r\n        hex: '#F4A460'\r\n    },\r\n    {\r\n        name: 'seagreen',\r\n        hex: '#2E8B57'\r\n    },\r\n    {\r\n        name: 'silver',\r\n        hex: '#C0C0C0'\r\n    },\r\n    {\r\n        name: 'skyblue',\r\n        hex: '#87CEEB'\r\n    },\r\n    {\r\n        name: 'slateblue',\r\n        hex: '#6A5ACD'\r\n    },\r\n    {\r\n        name: 'springgreen',\r\n        hex: '#00FF7F'\r\n    },\r\n    {\r\n        name: 'steelblue',\r\n        hex: '#4682B4'\r\n    },\r\n    {\r\n        name: 'tan',\r\n        hex: '#D2B48C'\r\n    },\r\n    {\r\n        name: 'teal',\r\n        hex: '#008080'\r\n    },\r\n    {\r\n        name: 'thistle',\r\n        hex: '#D8BFD8'\r\n    },\r\n    {\r\n        name: 'tomato',\r\n        hex: '#FF6347'\r\n    },\r\n    {\r\n        name: 'turquoise',\r\n        hex: '#40E0D0'\r\n    },\r\n    {\r\n        name: 'violet',\r\n        hex: '#EE82EE'\r\n    },\r\n    {\r\n        name: 'yellow',\r\n        hex: '#FFFF00'\r\n    },\r\n    {\r\n        name: 'yellowgreen',\r\n        hex: '#9ACD32'\r\n    }\r\n];\n\nconst STATE_PICKER_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => StatePickerComponent),\r\n    multi: true\r\n};\r\nclass StatePickerComponent {\r\n    constructor() {\r\n        this.states = LOOKUP_STATES;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.onModelChange(value);\r\n    }\r\n}\r\n/** @nocollapse */ StatePickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StatePickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ StatePickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: StatePickerComponent, selector: \"iu-state-picker\", providers: [STATE_PICKER_ACCESSOR], ngImport: i0, template: \"<mat-form-field>\\r\\n  <mat-select placeholder=\\\"State\\\" [value]=\\\"value\\\" (selectionChange)=\\\"onChange($event.value)\\\">\\r\\n    <mat-option *ngFor=\\\"let state of states\\\" [value]=\\\"state.name\\\">\\r\\n      {{ state.label }} ({{ state.name }})\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field>\\r\\n\", styles: [\"\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StatePickerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-state-picker', providers: [STATE_PICKER_ACCESSOR], template: \"<mat-form-field>\\r\\n  <mat-select placeholder=\\\"State\\\" [value]=\\\"value\\\" (selectionChange)=\\\"onChange($event.value)\\\">\\r\\n    <mat-option *ngFor=\\\"let state of states\\\" [value]=\\\"state.name\\\">\\r\\n      {{ state.label }} ({{ state.name }})\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nconst ADDRESS_FORM_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => AddressFormComponent),\r\n    multi: true\r\n};\r\nclass AddressFormComponent extends DumbComponent {\r\n    constructor() {\r\n        super();\r\n        this.address = new Address();\r\n        this.canDelete = false;\r\n        this.debug = false;\r\n        this.hasPrimaryAddress = true;\r\n        this.manager = false;\r\n        this.requireEffectiveDate = false;\r\n        this.showName = false;\r\n        this.zipPlus4 = true;\r\n        this.changes = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.save = new EventEmitter();\r\n    }\r\n    get canSave() {\r\n        return this.manager && this.form.valid && this.form.dirty;\r\n    }\r\n    get isPrimaryAddress() {\r\n        return this.isPrimaryAddressControl.value;\r\n    }\r\n    set isPrimaryAddress(value) {\r\n        this.isPrimaryAddressControl.setValue(value);\r\n    }\r\n    get isPrimaryAddressControl() {\r\n        return this.form.controls['isPrimaryAddress'];\r\n    }\r\n    get showMakePrimaryButton() {\r\n        return this.canSave && !this.isPrimaryAddress && this.hasPrimaryAddress;\r\n    }\r\n    get valueOut() {\r\n        return build(Address, this.form.value, {\r\n            id: this.address.id,\r\n            isPrimaryAddress: this.isPrimaryAddress\r\n        });\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (!equals(changes['address'], this.address)) {\r\n            if (this.debug) {\r\n                console.log('\\nCHANGE Address VALUE');\r\n                console.dir(getValue(this.address));\r\n            }\r\n            this.setValue(this.address);\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.form.valueChanges.subscribe(x => {\r\n            this.onChange();\r\n        });\r\n    }\r\n    onActivate() {\r\n        this.isPrimaryAddress = true;\r\n        this.onSubmit();\r\n        this.isPrimaryAddress = false;\r\n    }\r\n    onChange() {\r\n        this.value = this.form.value;\r\n        this.changes.emit(this.valueOut);\r\n    }\r\n    onDelete() {\r\n        this.delete.emit(this.address);\r\n    }\r\n    onSubmit() {\r\n        this.save.emit(this.valueOut);\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    setDisabledState(isDisabled) { }\r\n    writeValue(value) {\r\n        if (this.debug) {\r\n            console.log('\\nCHANGE Address VALUE');\r\n            console.dir(getValue(build(Address, value)));\r\n        }\r\n        this.value = value;\r\n        this.setValue(build(Address, value));\r\n    }\r\n}\r\n/** @nocollapse */ AddressFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressFormComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AddressFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AddressFormComponent, selector: \"iu-address-form\", inputs: { address: \"address\", canDelete: \"canDelete\", debug: \"debug\", hasPrimaryAddress: \"hasPrimaryAddress\", manager: \"manager\", requireEffectiveDate: \"requireEffectiveDate\", showName: \"showName\", zipPlus4: \"zipPlus4\" }, outputs: { changes: \"changes\", delete: \"delete\", save: \"save\" }, providers: [ADDRESS_FORM_ACCESSOR], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<form class=\\\"address-form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n  <mat-form-field class=\\\"control first-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"First Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"firstName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control last-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Last Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"lastName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address1\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 1\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address1\\\"\\r\\n      #address1\\r\\n    />\\r\\n    <mat-error>Street address is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address1.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address1.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address2\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 2\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address2\\\"\\r\\n      #address2\\r\\n    />\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address2.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address2.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control city\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"City\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"city\\\"\\r\\n      #city\\r\\n    />\\r\\n    <mat-error>City is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"city.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"city.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <iu-state-picker\\r\\n    class=\\\"control state\\\"\\r\\n    formControlName=\\\"stateCode\\\"\\r\\n  ></iu-state-picker>\\r\\n\\r\\n  <!--Zip Code Control-->\\r\\n  <mat-form-field class=\\\"control zip\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip Code\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zip\\\"\\r\\n      #zip\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zip']?.hasError('zipCode') &&\\r\\n        form.controls['zip'].touched\\r\\n      \\\"\\r\\n      >Please enter a valid 5-digit zip code.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Code Control-->\\r\\n\\r\\n  <!--Zip Plus 4 Control-->\\r\\n  <mat-form-field class=\\\"control zip-4\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip + 4\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zipPlus4\\\"\\r\\n      #zip4\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zipPlus4']?.hasError('zipPlus4') &&\\r\\n        form.controls['zipPlus4'].touched\\r\\n      \\\"\\r\\n      >Please enter 4 numeric digits.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip4.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip4.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Plus 4 Control-->\\r\\n\\r\\n  <mat-form-field class=\\\"control active-date\\\" *ngIf=\\\"requireEffectiveDate\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      [matDatepicker]=\\\"picker2\\\"\\r\\n      placeholder=\\\"Effective Date\\\"\\r\\n      formControlName=\\\"effectiveDate\\\"\\r\\n    />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker2></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"address.id && canDelete\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-delete\\\"\\r\\n    (click)=\\\"onDelete()\\\"\\r\\n    [style.right.px]=\\\"showMakePrimaryButton ? 282 : canSave ? 92 : 20\\\"\\r\\n  >\\r\\n    Delete\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"showMakePrimaryButton\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"btn-save btn-activate\\\"\\r\\n    (click)=\\\"onActivate()\\\"\\r\\n  >\\r\\n    Save and Mark Active\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"canSave\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-save\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n  >\\r\\n    Save\\r\\n  </button>\\r\\n</form>\\r\\n\", styles: [\"form{color:#1b1b1b;min-width:300px;max-width:800px;margin:10px}form .mat-form-field{padding-bottom:10px}form .control{margin-right:2%}form .control.first-name,form .control.last-name,form .control.address1,form .control.address2,form .control.city{width:48%;min-width:280px}form .control.state{width:48%;min-width:280px;display:inline-grid}form .control.zip{width:40%;min-width:260px}form .control.zip-4{width:30%;min-width:220px}form .control.last{margin-bottom:14px}form .btn-save{position:absolute;bottom:10px;right:20px;color:#fff}form .btn-save.btn-activate{right:92px}form .btn-delete{position:absolute;bottom:10px;color:#fff;background:red}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: StatePickerComponent, selector: \"iu-state-picker\" }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$3.MatError, selector: \"mat-error\", inputs: [\"id\"] }, { type: i1$3.MatSuffix, selector: \"[matSuffix]\" }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }] });\r\n__decorate([\r\n    Control(Address),\r\n    __metadata(\"design:type\", FormGroup)\r\n], AddressFormComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressFormComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-address-form', providers: [ADDRESS_FORM_ACCESSOR], template: \"<form class=\\\"address-form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n  <mat-form-field class=\\\"control first-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"First Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"firstName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control last-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Last Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"lastName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address1\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 1\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address1\\\"\\r\\n      #address1\\r\\n    />\\r\\n    <mat-error>Street address is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address1.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address1.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address2\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 2\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address2\\\"\\r\\n      #address2\\r\\n    />\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address2.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address2.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control city\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"City\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"city\\\"\\r\\n      #city\\r\\n    />\\r\\n    <mat-error>City is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"city.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"city.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <iu-state-picker\\r\\n    class=\\\"control state\\\"\\r\\n    formControlName=\\\"stateCode\\\"\\r\\n  ></iu-state-picker>\\r\\n\\r\\n  <!--Zip Code Control-->\\r\\n  <mat-form-field class=\\\"control zip\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip Code\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zip\\\"\\r\\n      #zip\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zip']?.hasError('zipCode') &&\\r\\n        form.controls['zip'].touched\\r\\n      \\\"\\r\\n      >Please enter a valid 5-digit zip code.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Code Control-->\\r\\n\\r\\n  <!--Zip Plus 4 Control-->\\r\\n  <mat-form-field class=\\\"control zip-4\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip + 4\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zipPlus4\\\"\\r\\n      #zip4\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zipPlus4']?.hasError('zipPlus4') &&\\r\\n        form.controls['zipPlus4'].touched\\r\\n      \\\"\\r\\n      >Please enter 4 numeric digits.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip4.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip4.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Plus 4 Control-->\\r\\n\\r\\n  <mat-form-field class=\\\"control active-date\\\" *ngIf=\\\"requireEffectiveDate\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      [matDatepicker]=\\\"picker2\\\"\\r\\n      placeholder=\\\"Effective Date\\\"\\r\\n      formControlName=\\\"effectiveDate\\\"\\r\\n    />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker2></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"address.id && canDelete\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-delete\\\"\\r\\n    (click)=\\\"onDelete()\\\"\\r\\n    [style.right.px]=\\\"showMakePrimaryButton ? 282 : canSave ? 92 : 20\\\"\\r\\n  >\\r\\n    Delete\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"showMakePrimaryButton\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"btn-save btn-activate\\\"\\r\\n    (click)=\\\"onActivate()\\\"\\r\\n  >\\r\\n    Save and Mark Active\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"canSave\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-save\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n  >\\r\\n    Save\\r\\n  </button>\\r\\n</form>\\r\\n\", styles: [\"form{color:#1b1b1b;min-width:300px;max-width:800px;margin:10px}form .mat-form-field{padding-bottom:10px}form .control{margin-right:2%}form .control.first-name,form .control.last-name,form .control.address1,form .control.address2,form .control.city{width:48%;min-width:280px}form .control.state{width:48%;min-width:280px;display:inline-grid}form .control.zip{width:40%;min-width:260px}form .control.zip-4{width:30%;min-width:220px}form .control.last{margin-bottom:14px}form .btn-save{position:absolute;bottom:10px;right:20px;color:#fff}form .btn-save.btn-activate{right:92px}form .btn-delete{position:absolute;bottom:10px;color:#fff;background:red}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { form: [], address: [{\r\n                type: Input\r\n            }], canDelete: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], hasPrimaryAddress: [{\r\n                type: Input\r\n            }], manager: [{\r\n                type: Input\r\n            }], requireEffectiveDate: [{\r\n                type: Input\r\n            }], showName: [{\r\n                type: Input\r\n            }], zipPlus4: [{\r\n                type: Input\r\n            }], changes: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], save: [{\r\n                type: Output\r\n            }] } });\n\nconst ADDRESS_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => AddressComponent),\r\n    multi: true\r\n};\r\nclass AddressComponent extends DumbComponent {\r\n    constructor(dialog) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this._addresses = [];\r\n        this.debug = false;\r\n        this.editing = false;\r\n        this.hasPrimaryAddress = true;\r\n        this.requireEffectiveDate = false;\r\n        this.showName = true;\r\n        this.zipPlus4 = true;\r\n        this.activate = new EventEmitter();\r\n        this.add = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.update = new EventEmitter();\r\n        this.errorMessage = '';\r\n    }\r\n    set addresses(value) {\r\n        this._addresses = value;\r\n        this.changeValue(this._addresses);\r\n    }\r\n    get addresses() {\r\n        return this._addresses.findIndex(x => x.isPrimaryAddress) === -1\r\n            ? this._addresses.map((x, index) => index === 0 ? build(Address, x, { isPrimaryAddress: true }) : x)\r\n            : this._addresses;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n    get choices() {\r\n        return this.addresses.filter((x, i) => !x.isPrimaryAddress);\r\n    }\r\n    get primaryAddress() {\r\n        return this.addresses.length === 0\r\n            ? null\r\n            : this.addresses.find(x => x.isPrimaryAddress) ||\r\n                build(Address, this.addresses[0]);\r\n    }\r\n    set primaryAddress(value) {\r\n        this.addresses = [\r\n            build(Address, value, { isPrimaryAddress: true }),\r\n            ...this.removeAddress(value).map(x => build(Address, x, { isPrimaryAddress: false }))\r\n        ];\r\n    }\r\n    get showChoices() {\r\n        return this.totalChoices > 0;\r\n    }\r\n    get totalChoices() {\r\n        return this.addresses.length;\r\n    }\r\n    ngOnInit() { }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    setDisabledState(isDisabled) { }\r\n    writeValue(value) {\r\n        if (this.debug) {\r\n            console.log('\\nWRITE Address Manager VALUE');\r\n            console.dir(value);\r\n        }\r\n        this.value = value;\r\n    }\r\n    changeValue(value) {\r\n        if (this.debug) {\r\n            console.log('\\nCHANGE Address Manager VALUE');\r\n            console.dir(value);\r\n        }\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    makePrimary(e) {\r\n        this.primaryAddress = e;\r\n        this.activate.emit(e);\r\n    }\r\n    addNew() {\r\n        this.current = new Address();\r\n        this.editing = true;\r\n    }\r\n    addressExists(e) {\r\n        return (this.addresses.findIndex(x => x.address1 === e.address1 && x.cityStateZip === e.cityStateZip) !== -1);\r\n    }\r\n    flashAddressExistsMessage() {\r\n        this.errorMessage = 'Cannot enter duplicate address!';\r\n        setTimeout(() => {\r\n            this.errorMessage = '';\r\n        }, 4000);\r\n    }\r\n    back() {\r\n        if (this.current.id === 0) {\r\n            this.addresses = this.removeAddress(this.current);\r\n        }\r\n        this.editing = false;\r\n    }\r\n    closeDialog(e) {\r\n        if (e) {\r\n            this.addresses = this.removeAddress(this.toBeDeleted);\r\n            this.delete.emit(this.toBeDeleted);\r\n            this.toBeDeleted = undefined;\r\n            this.editing = false;\r\n        }\r\n    }\r\n    remove(e) {\r\n        this.toBeDeleted = e;\r\n        this.openDialog(ConfirmDeleteComponent);\r\n    }\r\n    edit(e) {\r\n        this.current = e;\r\n        this.editing = true;\r\n    }\r\n    save(e) {\r\n        if (!this.addressExists(e)) {\r\n            this.addresses = this.setActiveDates(this.addAddress(e));\r\n            if (e.id) {\r\n                this.add.emit(e);\r\n            }\r\n            else {\r\n                this.update.emit(e);\r\n            }\r\n            this.editing = false;\r\n        }\r\n        else if (!this.toBeDeleted) {\r\n            this.flashAddressExistsMessage();\r\n        }\r\n    }\r\n    addAddress(address) {\r\n        return this.reorder([\r\n            address,\r\n            ...this.addresses\r\n                .filter(x => x.id === 0 || x.id !== address.id)\r\n                .map(x => address.isPrimaryAddress && x.isPrimaryAddress && x.id !== address.id\r\n                ? build(Address, x, { isPrimaryAddress: false })\r\n                : build(Address, x))\r\n        ]);\r\n    }\r\n    removeAddress(address) {\r\n        return this.addresses.filter(x => x !== address);\r\n    }\r\n    reorder(addresses) {\r\n        return addresses.reduce((acc, x) => (x.isPrimaryAddress ? [x, ...acc] : [...acc, x]), []);\r\n    }\r\n    setActiveDates(addresses) {\r\n        const ordered = addresses\r\n            .sort((a, b) => compareDates(a.effectiveDate, b.effectiveDate))\r\n            .reverse();\r\n        const now = new Date();\r\n        return ordered.map((x, i) => {\r\n            const startDate = x.effectiveDate;\r\n            const endDate = ordered[i + 1] &&\r\n                ordered[i + 1].effectiveDate &&\r\n                ordered[i + 1].effectiveDate > x.effectiveDate\r\n                ? ordered[i + 1].effectiveDate\r\n                : null;\r\n            const isPrimaryAddress = x.isPrimaryAddress || (startDate < now && endDate > now ? true : false);\r\n            return build(Address, x, { startDate, endDate, isPrimaryAddress });\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ AddressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressComponent, deps: [{ token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AddressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AddressComponent, selector: \"iu-address\", inputs: { debug: \"debug\", editing: \"editing\", hasPrimaryAddress: \"hasPrimaryAddress\", requireEffectiveDate: \"requireEffectiveDate\", showName: \"showName\", zipPlus4: \"zipPlus4\", addresses: \"addresses\" }, outputs: { activate: \"activate\", add: \"add\", delete: \"delete\", update: \"update\" }, providers: [ADDRESS_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"card address scrollable\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <h4 class=\\\"card-title\\\">Address Information</h4>\\r\\n  </div>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"!editing\\\"\\r\\n    (click)=\\\"addNew()\\\"\\r\\n  >\\r\\n    <mat-icon>add</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    (click)=\\\"back()\\\"\\r\\n  >\\r\\n    <mat-icon>arrow_back</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <div *ngIf=\\\"!editing\\\" class=\\\"card-body\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Current Address</h4>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"primaryAddress\\\" class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <iu-inline-address\\r\\n              [address]=\\\"primaryAddress\\\"\\r\\n              [canActivate]=\\\"false\\\"\\r\\n              [canDelete]=\\\"true\\\"\\r\\n              [canEdit]=\\\"true\\\"\\r\\n              [showName]=\\\"showName\\\"\\r\\n              (delete)=\\\"remove($event)\\\"\\r\\n              (edit)=\\\"edit($event)\\\"\\r\\n            ></iu-inline-address>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Other Addresses</h4>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content choose-address\\\">\\r\\n        <iu-inline-address\\r\\n          *ngFor=\\\"let choice of choices\\\"\\r\\n          [canActivate]=\\\"hasPrimaryAddress\\\"\\r\\n          [canDelete]=\\\"true\\\"\\r\\n          [canEdit]=\\\"true\\\"\\r\\n          [showName]=\\\"showName\\\"\\r\\n          [address]=\\\"choice\\\"\\r\\n          (activate)=\\\"makePrimary($event)\\\"\\r\\n          (delete)=\\\"remove($event)\\\"\\r\\n          (edit)=\\\"edit($event)\\\"\\r\\n        ></iu-inline-address>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <iu-address-form\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    [address]=\\\"current\\\"\\r\\n    [canDelete]=\\\"true\\\"\\r\\n    [hasPrimaryAddress]=\\\"hasPrimaryAddress\\\"\\r\\n    [showName]=\\\"showName\\\"\\r\\n    [manager]=\\\"true\\\"\\r\\n    [requireEffectiveDate]=\\\"requireEffectiveDate\\\"\\r\\n    [zipPlus4]=\\\"zipPlus4\\\"\\r\\n    [debug]=\\\"debug\\\"\\r\\n    (save)=\\\"save($event)\\\"\\r\\n    (delete)=\\\"remove($event)\\\"\\r\\n  ></iu-address-form>\\r\\n  <span id=\\\"error-message\\\">{{ errorMessage }}</span>\\r\\n</div>\\r\\n\", styles: [\".address{position:relative;border-radius:4px;background-color:#fff;margin-bottom:10px;width:100%;word-wrap:break-word;background-clip:border-box;border:1px solid rgba(0,0,0,.125);padding-bottom:25px;overflow:auto}.address .card-header{padding:15px 15px 0;margin-bottom:0;background-color:#fff;border-bottom:none!important}.address .card-header .card-title{padding-left:5px;margin:0;color:#333;font-weight:300;font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;border-color:#0000000f;text-align:-webkit-match-parent}.address .card-body{padding:15px 15px 10px;min-width:300px}.address .item{color:#1b1b1b;font-size:14px}.address .edit-icon{font-size:10pt;color:#1b1b1b}.address .activate-text{color:#6d6d6d}.address .edit-icon:hover{color:#aebfbe}.address h2{font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;color:#6d6d6d;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;margin:0 0 0 5px;border-color:#0000000f;text-align:-webkit-match-parent}.address p{font-size:14px;color:#1b1b1b;margin:5px 5px 0 20px}.address mat-card-header{background-color:#aebfbe}.address mat-card-header .example-form-field{width:200px;float:right}.address mat-list-item{width:100%}.address td{font-size:10pt;color:#1b1b1b;margin:5px 5px 0 20px}.address button.action-icon{border-radius:50%;width:50px;height:50px;position:absolute;top:14px;right:28px}.address button.action-icon .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.address button.action-icon mat-icon{color:#fff}.address #error-message{color:red;position:absolute;bottom:10px;left:50px;font-size:18px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: InlineAddressComponent, selector: \"iu-inline-address\", inputs: [\"address\", \"canActivate\", \"canDelete\", \"canEdit\", \"showName\"], outputs: [\"activate\", \"delete\", \"edit\"] }, { type: AddressFormComponent, selector: \"iu-address-form\", inputs: [\"address\", \"canDelete\", \"debug\", \"hasPrimaryAddress\", \"manager\", \"requireEffectiveDate\", \"showName\", \"zipPlus4\"], outputs: [\"changes\", \"delete\", \"save\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-address', providers: [ADDRESS_ACCESSOR], template: \"<div class=\\\"card address scrollable\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <h4 class=\\\"card-title\\\">Address Information</h4>\\r\\n  </div>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"!editing\\\"\\r\\n    (click)=\\\"addNew()\\\"\\r\\n  >\\r\\n    <mat-icon>add</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    (click)=\\\"back()\\\"\\r\\n  >\\r\\n    <mat-icon>arrow_back</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <div *ngIf=\\\"!editing\\\" class=\\\"card-body\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Current Address</h4>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"primaryAddress\\\" class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <iu-inline-address\\r\\n              [address]=\\\"primaryAddress\\\"\\r\\n              [canActivate]=\\\"false\\\"\\r\\n              [canDelete]=\\\"true\\\"\\r\\n              [canEdit]=\\\"true\\\"\\r\\n              [showName]=\\\"showName\\\"\\r\\n              (delete)=\\\"remove($event)\\\"\\r\\n              (edit)=\\\"edit($event)\\\"\\r\\n            ></iu-inline-address>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Other Addresses</h4>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content choose-address\\\">\\r\\n        <iu-inline-address\\r\\n          *ngFor=\\\"let choice of choices\\\"\\r\\n          [canActivate]=\\\"hasPrimaryAddress\\\"\\r\\n          [canDelete]=\\\"true\\\"\\r\\n          [canEdit]=\\\"true\\\"\\r\\n          [showName]=\\\"showName\\\"\\r\\n          [address]=\\\"choice\\\"\\r\\n          (activate)=\\\"makePrimary($event)\\\"\\r\\n          (delete)=\\\"remove($event)\\\"\\r\\n          (edit)=\\\"edit($event)\\\"\\r\\n        ></iu-inline-address>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <iu-address-form\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    [address]=\\\"current\\\"\\r\\n    [canDelete]=\\\"true\\\"\\r\\n    [hasPrimaryAddress]=\\\"hasPrimaryAddress\\\"\\r\\n    [showName]=\\\"showName\\\"\\r\\n    [manager]=\\\"true\\\"\\r\\n    [requireEffectiveDate]=\\\"requireEffectiveDate\\\"\\r\\n    [zipPlus4]=\\\"zipPlus4\\\"\\r\\n    [debug]=\\\"debug\\\"\\r\\n    (save)=\\\"save($event)\\\"\\r\\n    (delete)=\\\"remove($event)\\\"\\r\\n  ></iu-address-form>\\r\\n  <span id=\\\"error-message\\\">{{ errorMessage }}</span>\\r\\n</div>\\r\\n\", styles: [\".address{position:relative;border-radius:4px;background-color:#fff;margin-bottom:10px;width:100%;word-wrap:break-word;background-clip:border-box;border:1px solid rgba(0,0,0,.125);padding-bottom:25px;overflow:auto}.address .card-header{padding:15px 15px 0;margin-bottom:0;background-color:#fff;border-bottom:none!important}.address .card-header .card-title{padding-left:5px;margin:0;color:#333;font-weight:300;font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;border-color:#0000000f;text-align:-webkit-match-parent}.address .card-body{padding:15px 15px 10px;min-width:300px}.address .item{color:#1b1b1b;font-size:14px}.address .edit-icon{font-size:10pt;color:#1b1b1b}.address .activate-text{color:#6d6d6d}.address .edit-icon:hover{color:#aebfbe}.address h2{font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;color:#6d6d6d;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;margin:0 0 0 5px;border-color:#0000000f;text-align:-webkit-match-parent}.address p{font-size:14px;color:#1b1b1b;margin:5px 5px 0 20px}.address mat-card-header{background-color:#aebfbe}.address mat-card-header .example-form-field{width:200px;float:right}.address mat-list-item{width:100%}.address td{font-size:10pt;color:#1b1b1b;margin:5px 5px 0 20px}.address button.action-icon{border-radius:50%;width:50px;height:50px;position:absolute;top:14px;right:28px}.address button.action-icon .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.address button.action-icon mat-icon{color:#fff}.address #error-message{color:red;position:absolute;bottom:10px;left:50px;font-size:18px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }]; }, propDecorators: { debug: [{\r\n                type: Input\r\n            }], editing: [{\r\n                type: Input\r\n            }], hasPrimaryAddress: [{\r\n                type: Input\r\n            }], requireEffectiveDate: [{\r\n                type: Input\r\n            }], showName: [{\r\n                type: Input\r\n            }], zipPlus4: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], add: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], update: [{\r\n                type: Output\r\n            }], addresses: [{\r\n                type: Input\r\n            }] } });\n\nclass AutoLogoutComponent {\r\n    constructor(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n        this.seconds = 30;\r\n    }\r\n    ngOnInit() {\r\n        setInterval(() => {\r\n            if (this.seconds > 0) {\r\n                this.seconds--;\r\n            }\r\n            else {\r\n                this.logout();\r\n            }\r\n        }, 1000);\r\n    }\r\n    close() {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close();\r\n        }\r\n    }\r\n    logout() {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close(true);\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ AutoLogoutComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AutoLogoutComponent, deps: [{ token: i1$2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AutoLogoutComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AutoLogoutComponent, selector: \"iu-auto-logout\", ngImport: i0, template: \"<div id=\\\"auto-logout\\\">\\r\\n  <mat-toolbar mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      User Session Timed Out Due To Inactivity\\r\\n    </span>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"scrollable\\\">\\r\\n    <div class=\\\"content-wrapper\\\">\\r\\n      <h4>The system will automatically log you out in</h4>\\r\\n      <span class=\\\"countdown\\\">{{ seconds }}</span>\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      Keep me logged in\\r\\n    </button>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"logout()\\\">\\r\\n      Log Out\\r\\n    </button>\\r\\n  </mat-dialog-actions>\\r\\n</div>\\r\\n\", styles: [\":host{overflow:hidden}#auto-logout{width:600px}.mat-toolbar{margin:-24px;width:600px;min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}.mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}.mat-dialog-content{width:560px;margin:64px 20px 64px 56px;color:#999}.mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff;height:60px;width:600px;padding:0}.mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0;width:300px}.mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0}.mat-dialog-actions button.mat-button.cdk-focused{background:inherit}.mat-raised-button{margin-left:0!important}.dialog-title{color:#fff}.content-wrapper{display:flex;flex-wrap:nowrap;align-items:center;flex-direction:column;width:380px}.content-wrapper .countdown{margin:0 auto;color:#e57373;font-size:22px}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }], directives: [{ type: i1$2.MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { type: i1$2.MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { type: i1$2.MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AutoLogoutComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-auto-logout', template: \"<div id=\\\"auto-logout\\\">\\r\\n  <mat-toolbar mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      User Session Timed Out Due To Inactivity\\r\\n    </span>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"scrollable\\\">\\r\\n    <div class=\\\"content-wrapper\\\">\\r\\n      <h4>The system will automatically log you out in</h4>\\r\\n      <span class=\\\"countdown\\\">{{ seconds }}</span>\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      Keep me logged in\\r\\n    </button>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"logout()\\\">\\r\\n      Log Out\\r\\n    </button>\\r\\n  </mat-dialog-actions>\\r\\n</div>\\r\\n\", styles: [\":host{overflow:hidden}#auto-logout{width:600px}.mat-toolbar{margin:-24px;width:600px;min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}.mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}.mat-dialog-content{width:560px;margin:64px 20px 64px 56px;color:#999}.mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff;height:60px;width:600px;padding:0}.mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0;width:300px}.mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0}.mat-dialog-actions button.mat-button.cdk-focused{background:inherit}.mat-raised-button{margin-left:0!important}.dialog-title{color:#fff}.content-wrapper{display:flex;flex-wrap:nowrap;align-items:center;flex-direction:column;width:380px}.content-wrapper .countdown{margin:0 auto;color:#e57373;font-size:22px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef }]; } });\n\nclass UnsavedChangesComponent {\r\n    constructor() { }\r\n    get dialog() {\r\n        return build(DialogModel, {\r\n            title: 'You Have Unsaved Changes!',\r\n            actions: [\r\n                build(DialogAction, { label: `Yes, Discard Changes`, value: true }),\r\n                build(DialogAction, { label: `No, Stay Here`, value: false })\r\n            ]\r\n        });\r\n    }\r\n    ngOnInit() { }\r\n}\r\n/** @nocollapse */ UnsavedChangesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UnsavedChangesComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UnsavedChangesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UnsavedChangesComponent, selector: \"iu-unsaved-changes\", ngImport: i0, template: \"<iu-dialog id=\\\"unsaved-changes\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>Would you like to discard unsaved changes?</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#unsaved-changes{width:600px;height:600px}iu-dialog#unsaved-changes .mat-dialog-actions button{color:#fff!important}iu-dialog#unsaved-changes .mat-toolbar{margin:-24px;width:calc(100% + 48px);min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}iu-dialog#unsaved-changes .mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#unsaved-changes mat-dialog-content{width:80%;margin:48px 10%;color:#999}iu-dialog#unsaved-changes .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#unsaved-changes .mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0}iu-dialog#unsaved-changes .mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0;opacity:.9}iu-dialog#unsaved-changes .mat-raised-button{margin-left:0!important}iu-dialog#unsaved-changes .dialog-title button{display:none}\\n\"], components: [{ type: DialogComponent, selector: \"iu-dialog\", inputs: [\"model\", \"showActions\", \"showCloseAction\", \"showCloseIcon\", \"defaultActionColor\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UnsavedChangesComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-unsaved-changes', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<iu-dialog id=\\\"unsaved-changes\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>Would you like to discard unsaved changes?</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#unsaved-changes{width:600px;height:600px}iu-dialog#unsaved-changes .mat-dialog-actions button{color:#fff!important}iu-dialog#unsaved-changes .mat-toolbar{margin:-24px;width:calc(100% + 48px);min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}iu-dialog#unsaved-changes .mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#unsaved-changes mat-dialog-content{width:80%;margin:48px 10%;color:#999}iu-dialog#unsaved-changes .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#unsaved-changes .mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0}iu-dialog#unsaved-changes .mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0;opacity:.9}iu-dialog#unsaved-changes .mat-raised-button{margin-left:0!important}iu-dialog#unsaved-changes .dialog-title button{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass DialogModule {\r\n}\r\n/** @nocollapse */ DialogModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ DialogModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, declarations: [DialogComponent,\r\n        AutoLogoutComponent,\r\n        ConfirmDeleteComponent,\r\n        UnsavedChangesComponent], imports: [SharedModule, MatDialogModule, MatIconModule, MatToolbarModule], exports: [MatDialogModule,\r\n        DialogComponent,\r\n        AutoLogoutComponent,\r\n        ConfirmDeleteComponent,\r\n        UnsavedChangesComponent] });\r\n/** @nocollapse */ DialogModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, imports: [[SharedModule, MatDialogModule, MatIconModule, MatToolbarModule], MatDialogModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [SharedModule, MatDialogModule, MatIconModule, MatToolbarModule],\r\n                    declarations: [\r\n                        DialogComponent,\r\n                        AutoLogoutComponent,\r\n                        ConfirmDeleteComponent,\r\n                        UnsavedChangesComponent\r\n                    ],\r\n                    exports: [\r\n                        MatDialogModule,\r\n                        DialogComponent,\r\n                        AutoLogoutComponent,\r\n                        ConfirmDeleteComponent,\r\n                        UnsavedChangesComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass FormsModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: FormsModule,\r\n            providers: []\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ FormsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ FormsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, imports: [FormsModule$1,\r\n        ReactiveFormsModule], exports: [FormsModule$1,\r\n        ReactiveFormsModule] });\r\n/** @nocollapse */ FormsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, imports: [[\r\n            FormsModule$1,\r\n            ReactiveFormsModule,\r\n        ], FormsModule$1,\r\n        ReactiveFormsModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        FormsModule$1,\r\n                        ReactiveFormsModule,\r\n                    ],\r\n                    exports: [\r\n                        FormsModule$1,\r\n                        ReactiveFormsModule,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AddressModule {\r\n}\r\n/** @nocollapse */ AddressModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AddressModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, declarations: [AddressComponent,\r\n        AddressFormComponent,\r\n        InlineAddressComponent,\r\n        AddressPipe,\r\n        StatePickerComponent], imports: [SharedModule,\r\n        DialogModule,\r\n        FormsModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatDatepickerModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatNativeDateModule,\r\n        MatSelectModule], exports: [AddressComponent,\r\n        AddressFormComponent,\r\n        InlineAddressComponent,\r\n        StatePickerComponent,\r\n        AddressPipe] });\r\n/** @nocollapse */ AddressModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, imports: [[\r\n            SharedModule,\r\n            DialogModule,\r\n            FormsModule,\r\n            MatButtonModule,\r\n            MatCardModule,\r\n            MatDatepickerModule,\r\n            MatIconModule,\r\n            MatInputModule,\r\n            MatNativeDateModule,\r\n            MatSelectModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        DialogModule,\r\n                        FormsModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatDatepickerModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatNativeDateModule,\r\n                        MatSelectModule,\r\n                    ],\r\n                    declarations: [\r\n                        AddressComponent,\r\n                        AddressFormComponent,\r\n                        InlineAddressComponent,\r\n                        AddressPipe,\r\n                        StatePickerComponent,\r\n                    ],\r\n                    exports: [\r\n                        AddressComponent,\r\n                        AddressFormComponent,\r\n                        InlineAddressComponent,\r\n                        StatePickerComponent,\r\n                        AddressPipe,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AuditFieldsComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ AuditFieldsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditFieldsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AuditFieldsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AuditFieldsComponent, selector: \"iu-audit-fields\", ngImport: i0, template: \"<p>\\r\\n  audit-fields works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditFieldsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-audit-fields', template: \"<p>\\r\\n  audit-fields works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass Audited {\r\n    constructor() {\r\n        this.startDate = new Date();\r\n        this.endDate = null;\r\n    }\r\n}\r\nclass AuditHistory {\r\n}\n\nclass AuditHistoryComponent extends SmartComponent {\r\n    constructor(store, dialogRef, data) {\r\n        super(store);\r\n        this.store = store;\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this.columns = [];\r\n        this.dataSource = [];\r\n    }\r\n    ngOnInit() {\r\n        this.sync(['dataSource', 'columns']);\r\n    }\r\n    get activeRow() {\r\n        return this.dataSource.length > 0\r\n            ? this.dataSource.find(x => x.endDate === null) || this.dataSource[0]\r\n            : null;\r\n    }\r\n    get columns$() {\r\n        return this.data.columns;\r\n    }\r\n    get dataSource$() {\r\n        return this.data.dataSource;\r\n    }\r\n    get displayedColumns() {\r\n        return ['startDate', 'endDate', ...this.columns.map(x => x.name)];\r\n    }\r\n    getDate(date) {\r\n        return date === null ? null : new Date(date);\r\n    }\r\n    getList(list) {\r\n        return toArray(list).map(x => x.toString());\r\n    }\r\n}\r\n/** @nocollapse */ AuditHistoryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryComponent, deps: [{ token: i1$1.Store }, { token: i1$2.MatDialogRef }, { token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AuditHistoryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AuditHistoryComponent, selector: \"iu-audit-history\", usesInheritance: true, ngImport: i0, template: \"<div id=\\\"audit-history\\\" class=\\\"scrollable\\\">\\r\\n  <mat-table class=\\\"audit-history-table\\\" [dataSource]=\\\"dataSource\\\">\\r\\n    <!-- Start Date Column -->\\r\\n    <ng-container matColumnDef=\\\"startDate\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.startDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        {{ activeRow?.startDate | date: 'shortDate' }}\\r\\n      </mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- End Date Column -->\\r\\n    <ng-container matColumnDef=\\\"endDate\\\" sticky>\\r\\n      <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.endDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell class=\\\"active\\\" *matFooterCellDef>ACTIVE</mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Custom Columns -->\\r\\n    <ng-container *ngFor=\\\"let column of columns\\\" [matColumnDef]=\\\"column.name\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>{{ column.label }}</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ element[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(element[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(element[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-cell>\\r\\n      <!--Active Row-->\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ activeRow[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(activeRow[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(activeRow[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-footer-cell>\\r\\n      <!--End Active Row-->\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Star Column -->\\r\\n    <!-- <ng-container matColumnDef=\\\"star\\\" stickyEnd>\\r\\n      <th mat-header-cell *matHeaderCellDef></th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <mat-icon>more_vert</mat-icon>\\r\\n      </td>\\r\\n    </ng-container> -->\\r\\n\\r\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns; sticky: true\\\"></mat-header-row>\\r\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n    <mat-footer-row class=\\\"bold\\\" *matFooterRowDef=\\\"displayedColumns; sticky: true\\\"></mat-footer-row>\\r\\n  </mat-table>\\r\\n</div>\", styles: [\"#audit-history{min-width:1300px;max-height:500px}#audit-history .audit-history-table{min-width:1300px;max-height:500px;margin:10px;border:4px solid #9ea1a378;border-radius:10px;overflow-y:auto}#audit-history .audit-history-table .mat-header-row{border:none;background-color:#e1e2e1}#audit-history .audit-history-table .mat-cell,#audit-history .audit-history-table .mat-footer-cell,#audit-history .audit-history-table .mat-header-cell{justify-content:center;text-align:center}#audit-history .bold{font-weight:700}#audit-history .active{color:green}\\n\"], components: [{ type: i3$2.MatTable, selector: \"mat-table, table[mat-table]\", exportAs: [\"matTable\"] }, { type: i3$2.MatHeaderRow, selector: \"mat-header-row, tr[mat-header-row]\", exportAs: [\"matHeaderRow\"] }, { type: i3$2.MatRow, selector: \"mat-row, tr[mat-row]\", exportAs: [\"matRow\"] }, { type: i3$2.MatFooterRow, selector: \"mat-footer-row, tr[mat-footer-row]\", exportAs: [\"matFooterRow\"] }], directives: [{ type: i3$2.MatColumnDef, selector: \"[matColumnDef]\", inputs: [\"sticky\", \"matColumnDef\"] }, { type: i3$2.MatHeaderCellDef, selector: \"[matHeaderCellDef]\" }, { type: i3$2.MatHeaderCell, selector: \"mat-header-cell, th[mat-header-cell]\" }, { type: i3$2.MatCellDef, selector: \"[matCellDef]\" }, { type: i3$2.MatCell, selector: \"mat-cell, td[mat-cell]\" }, { type: i3$2.MatFooterCellDef, selector: \"[matFooterCellDef]\" }, { type: i3$2.MatFooterCell, selector: \"mat-footer-cell, td[mat-footer-cell]\" }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$2.MatHeaderRowDef, selector: \"[matHeaderRowDef]\", inputs: [\"matHeaderRowDef\", \"matHeaderRowDefSticky\"] }, { type: i3$2.MatRowDef, selector: \"[matRowDef]\", inputs: [\"matRowDefColumns\", \"matRowDefWhen\"] }, { type: i3$2.MatFooterRowDef, selector: \"[matFooterRowDef]\", inputs: [\"matFooterRowDef\", \"matFooterRowDefSticky\"] }], pipes: { \"date\": i2$1.DatePipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-audit-history', template: \"<div id=\\\"audit-history\\\" class=\\\"scrollable\\\">\\r\\n  <mat-table class=\\\"audit-history-table\\\" [dataSource]=\\\"dataSource\\\">\\r\\n    <!-- Start Date Column -->\\r\\n    <ng-container matColumnDef=\\\"startDate\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.startDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        {{ activeRow?.startDate | date: 'shortDate' }}\\r\\n      </mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- End Date Column -->\\r\\n    <ng-container matColumnDef=\\\"endDate\\\" sticky>\\r\\n      <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.endDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell class=\\\"active\\\" *matFooterCellDef>ACTIVE</mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Custom Columns -->\\r\\n    <ng-container *ngFor=\\\"let column of columns\\\" [matColumnDef]=\\\"column.name\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>{{ column.label }}</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ element[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(element[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(element[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-cell>\\r\\n      <!--Active Row-->\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ activeRow[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(activeRow[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(activeRow[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-footer-cell>\\r\\n      <!--End Active Row-->\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Star Column -->\\r\\n    <!-- <ng-container matColumnDef=\\\"star\\\" stickyEnd>\\r\\n      <th mat-header-cell *matHeaderCellDef></th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <mat-icon>more_vert</mat-icon>\\r\\n      </td>\\r\\n    </ng-container> -->\\r\\n\\r\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns; sticky: true\\\"></mat-header-row>\\r\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n    <mat-footer-row class=\\\"bold\\\" *matFooterRowDef=\\\"displayedColumns; sticky: true\\\"></mat-footer-row>\\r\\n  </mat-table>\\r\\n</div>\", styles: [\"#audit-history{min-width:1300px;max-height:500px}#audit-history .audit-history-table{min-width:1300px;max-height:500px;margin:10px;border:4px solid #9ea1a378;border-radius:10px;overflow-y:auto}#audit-history .audit-history-table .mat-header-row{border:none;background-color:#e1e2e1}#audit-history .audit-history-table .mat-cell,#audit-history .audit-history-table .mat-footer-cell,#audit-history .audit-history-table .mat-header-cell{justify-content:center;text-align:center}#audit-history .bold{font-weight:700}#audit-history .active{color:green}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i1$2.MatDialogRef }, { type: AuditHistory, decorators: [{\r\n                    type: Inject,\r\n                    args: [MAT_DIALOG_DATA]\r\n                }] }]; } });\n\nclass HttpService {\r\n    constructor(http, baseUrl$, authToken$) {\r\n        this.http = http;\r\n        this.baseUrl$ = baseUrl$;\r\n        this.authToken$ = authToken$;\r\n        this._authToken = \"\";\r\n        this._baseUrl = \"\";\r\n        this.headers = {};\r\n        this.logEvents = false;\r\n        this.useDefaultHeaders = true;\r\n        this.authTokenChanges = this.authToken$.subscribe(x => {\r\n            this.authToken = x;\r\n        });\r\n        this.baseUrlChanges = this.baseUrl$.subscribe(x => {\r\n            this.baseUrl = x;\r\n        });\r\n    }\r\n    get authToken() {\r\n        return this._authToken;\r\n    }\r\n    set authToken(value) {\r\n        this._authToken = value;\r\n    }\r\n    get baseUrl() {\r\n        return this._baseUrl;\r\n    }\r\n    set baseUrl(value) {\r\n        this._baseUrl = value;\r\n    }\r\n    get defaultHeaders() {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append(\"Content-type\", \"application/json\");\r\n        if (this.authToken) {\r\n            headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n        }\r\n        return headers;\r\n    }\r\n    get requestHeaders() {\r\n        let headers = this.useDefaultHeaders\r\n            ? this.defaultHeaders\r\n            : new HttpHeaders();\r\n        Object.keys(this.headers).forEach(key => {\r\n            headers = headers.append(key, this.headers[key]);\r\n        });\r\n        return headers;\r\n    }\r\n    appendHeaders(headers = {}) {\r\n        let requestHeaders = this.requestHeaders;\r\n        Object.keys(headers).forEach(key => {\r\n            requestHeaders = requestHeaders.append(key, this.headers[key]);\r\n        });\r\n        return requestHeaders;\r\n    }\r\n    /**\r\n     * Make a DELETE request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    delete(relativePath, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.delete(url, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), catchError(err => this.onError(err.error)), finalize(() => {\r\n            this.onComplete(\"DELETE\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a GET request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    get(relativePath, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.get(url, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => {\r\n            return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n                ? res[\"json\"]()\r\n                : res;\r\n        }), catchError(err => this.onError(err ? err.error : err)), finalize(() => {\r\n            this.onComplete(\"GET\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a GET request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    getValue(relativePath) {\r\n        const url = this.formatUrl(relativePath);\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append(\"Content-type\", \"text/plain\");\r\n        if (this.authToken) {\r\n            headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n        }\r\n        const obs = this.http.get(url, {\r\n            headers\r\n        });\r\n        return obs;\r\n    }\r\n    /**\r\n     * Make a GET request.\r\n     * @param fullPath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    getFullPath(fullPath, headers = {}, options = new HttpOptions()) {\r\n        return this.get(fullPath, headers, Object.assign({}, options, { prependBaseUrl: false }));\r\n    }\r\n    /**\r\n     * Make an autocomplete GET request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    autocomplete(relativePath, query, headers = {}, options = new HttpOptions()) {\r\n        if (!query.term || query.term.length < 1) {\r\n            return of([]);\r\n        }\r\n        const path = `${relativePath}/${QueryModel.BuildQueryString(query)}`;\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.get(url, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), debounceTime(500), distinctUntilChanged(), map(json => HttpActions.matchPath(path, json)), catchError(err => this.onError(err ? err.error : err)), finalize(() => {\r\n            this.onComplete(\"GET\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a POST request.\r\n     * @param relativePath\r\n     * @param body\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    post(relativePath, body, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.post(url, serialize(body), {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), catchError(err => {\r\n            return this.onError(err ? err.error : err);\r\n        }), finalize(() => {\r\n            this.onComplete(\"POST\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a POST request with form url-encoded content type.\r\n     * @param relativePath\r\n     * @param body\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    postFormUrlEncoded(relativePath, body, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = new HttpHeaders({\r\n            \"content-type\": \"application/x-www-form-urlencoded\"\r\n        });\r\n        const obs = this.http.post(url, body, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), catchError(err => {\r\n            return this.onError(err ? err.error : err);\r\n        }), finalize(() => {\r\n            this.onComplete(\"POST FORM URL-ENCODED\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a PUT request.\r\n     * @param relativePath\r\n     * @param body\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    put(relativePath, body, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.put(url, serialize(body), {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => {\r\n            return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n                ? res[\"json\"]()\r\n                : res;\r\n        }), catchError(err => {\r\n            return this.onError(err ? err.error : err);\r\n        }), finalize(() => {\r\n            this.onComplete(\"PUT\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * This method will be used to format URLs for all cross-origin requests.\r\n     */\r\n    formatUrl(path) {\r\n        return `${this.baseUrl}/${path}`;\r\n    }\r\n    /**\r\n     * Use this method when a promise is preferred over an observable.\r\n     */\r\n    getPromise(url) {\r\n        return this.get(url)\r\n            .toPromise()\r\n            .then(res => res.json());\r\n    }\r\n    onError(error) {\r\n        console.log(error);\r\n        // let errorBody: any;\r\n        // try {\r\n        //   errorBody = error._body\r\n        //     ? JSON.parse(error._body)\r\n        //     : { message: 'Internal server error', statusCode: error.status };\r\n        // } catch (e) {\r\n        //   if (error.status <= 0) {\r\n        //     errorBody = { message: 'Internal server error.', statusCode: 500 };\r\n        //   }\r\n        // }\r\n        // if (errorBody.message) {\r\n        //   errorBody.message = errorBody.message.replace(\r\n        //     'An error has occured in the api.System.Exception: ',\r\n        //     ''\r\n        //   );\r\n        //   errorBody.message = errorBody.message.substring(\r\n        //     0,\r\n        //     errorBody.message.indexOf(' at')\r\n        //   );\r\n        // }\r\n        return throwError({\r\n            message: error && error.Message\r\n                ? error.Message\r\n                : \"An error occurred in the API.\",\r\n            statusCode: error && error.Code ? error.Code : null\r\n        });\r\n    }\r\n    onComplete(method, url) {\r\n        if (this.logEvents) {\r\n            console.log(`Completed ${method} request to ${url}`);\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ HttpService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpService, deps: [{ token: i1$4.HttpClient }, { token: i2$5.Observable }, { token: i2$5.Observable }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HttpService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpService, providedIn: \"root\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: \"root\"\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$4.HttpClient }, { type: i2$5.Observable }, { type: i2$5.Observable }]; } });\n\nclass AuditHistoryLinkComponent extends DumbComponent {\r\n    constructor(dialog, http) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.http = http;\r\n        this.preloadData = false;\r\n        this.requestUrl = '';\r\n        this.dataLoaded = new EventEmitter();\r\n        this.columnsSubject = new BehaviorSubject([]);\r\n        this.dataSourceSubject = new BehaviorSubject([]);\r\n        this.requestUrlClicksSubject = new BehaviorSubject(null);\r\n        this._columns = [];\r\n        this._data = [];\r\n        this._placeholderText = '';\r\n        this.requestUrl$ = this.requestUrlClicksSubject.asObservable().pipe(filter(x => truthy(x)), distinctUntilChanged());\r\n        this.dataSource$ = this.dataSourceSubject\r\n            .asObservable()\r\n            .pipe(map(x => toArray(x)));\r\n        this.columnMetadata$ = combineLatest(this.dataSource$, this.columnsSubject.asObservable(), (dataSource, columns) => {\r\n            return Array.isArray(columns) && columns.length > 1\r\n                ? columns\r\n                : buildColumnsFromMetadata(dataSource, 'history').filter(x => x.name !== 'startDate' && x.name !== 'endDate');\r\n        });\r\n    }\r\n    set columns(value) {\r\n        this._columns = value;\r\n        this.columnsSubject.next(value);\r\n    }\r\n    get columns() {\r\n        return this._columns;\r\n    }\r\n    set data(value) {\r\n        this._data = value;\r\n        this.dataSourceSubject.next(value);\r\n    }\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    set placeholderText(value) {\r\n        this._placeholderText = value;\r\n    }\r\n    get placeholderText() {\r\n        return this._placeholderText || 'View Audit History';\r\n    }\r\n    set requestData(value) {\r\n        this._requestData = value;\r\n        this.dataSourceSubject.next(value);\r\n        this.dataLoaded.emit(value);\r\n    }\r\n    get requestData() {\r\n        return this._requestData;\r\n    }\r\n    get requestData$() {\r\n        return this.requestUrl$.pipe(switchMap(url => this.http.get(url)), map(x => toArray(x).map(y => this.mapper && typeof this.mapper === 'function'\r\n            ? this.mapper(y)\r\n            : build(Audited, y))));\r\n    }\r\n    ngOnInit() {\r\n        this.sync(['requestData']);\r\n        if (this.preloadData) {\r\n            this.refreshData();\r\n        }\r\n    }\r\n    refreshData() {\r\n        this.requestUrlClicksSubject.next(this.requestUrl);\r\n    }\r\n    viewHistory() {\r\n        if (!this.preloadData) {\r\n            this.refreshData();\r\n        }\r\n        this.openDialog(AuditHistoryComponent, {\r\n            data: build(AuditHistory, {\r\n                dataSource: this.dataSource$,\r\n                columns: this.columnMetadata$\r\n            })\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ AuditHistoryLinkComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryLinkComponent, deps: [{ token: i1$2.MatDialog }, { token: HttpService }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AuditHistoryLinkComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AuditHistoryLinkComponent, selector: \"iu-audit-history-link\", inputs: { mapper: \"mapper\", preloadData: \"preloadData\", requestUrl: \"requestUrl\", columns: \"columns\", data: \"data\", placeholderText: \"placeholderText\" }, outputs: { dataLoaded: \"dataLoaded\" }, usesInheritance: true, ngImport: i0, template: \"<button mat-button color=\\\"primary\\\" (click)=\\\"viewHistory()\\\">\\r\\n  {{ placeholderText }}\\r\\n</button>\\r\\n\", styles: [\"\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryLinkComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-audit-history-link', template: \"<button mat-button color=\\\"primary\\\" (click)=\\\"viewHistory()\\\">\\r\\n  {{ placeholderText }}\\r\\n</button>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }, { type: HttpService }]; }, propDecorators: { mapper: [{\r\n                type: Input\r\n            }], preloadData: [{\r\n                type: Input\r\n            }], requestUrl: [{\r\n                type: Input\r\n            }], dataLoaded: [{\r\n                type: Output\r\n            }], columns: [{\r\n                type: Input\r\n            }], data: [{\r\n                type: Input\r\n            }], placeholderText: [{\r\n                type: Input\r\n            }] } });\n\nclass AuditModule {\r\n}\r\n/** @nocollapse */ AuditModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AuditModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, declarations: [AuditFieldsComponent,\r\n        AuditHistoryComponent,\r\n        AuditHistoryLinkComponent], imports: [SharedModule, MatButtonModule, MatTableModule, MatIconModule], exports: [AuditFieldsComponent,\r\n        AuditHistoryComponent,\r\n        AuditHistoryLinkComponent] });\r\n/** @nocollapse */ AuditModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, imports: [[SharedModule, MatButtonModule, MatTableModule, MatIconModule]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        AuditFieldsComponent,\r\n                        AuditHistoryComponent,\r\n                        AuditHistoryLinkComponent\r\n                    ],\r\n                    exports: [\r\n                        AuditFieldsComponent,\r\n                        AuditHistoryComponent,\r\n                        AuditHistoryLinkComponent\r\n                    ],\r\n                    imports: [SharedModule, MatButtonModule, MatTableModule, MatIconModule]\r\n                }]\r\n        }] });\n\nclass Tile {\r\n    constructor() {\r\n        this.cellHeight = 0;\r\n        this.cellWidth = 0;\r\n        this.color = '#fff';\r\n        this.index = 0;\r\n        this.name = '';\r\n        this.src = '';\r\n        this.text = '';\r\n        this._coordinates = new Coordinates();\r\n        this._dimensions = new Dimensions();\r\n        this._image = new Image();\r\n    }\r\n    get id() {\r\n        return this.index + this.imageId * .0001;\r\n    }\r\n    get approxRatio() {\r\n        return this.rows * this.cellHeight / this.columns * this.cellWidth;\r\n    }\r\n    get columns() {\r\n        return this.dimensions.columns;\r\n    }\r\n    get coordinates() {\r\n        return this._coordinates || new Coordinates();\r\n    }\r\n    set coordinates(value) {\r\n        this._coordinates = value;\r\n    }\r\n    get dimensions() {\r\n        return this._dimensions || new Dimensions();\r\n    }\r\n    set dimensions(value) {\r\n        this._dimensions = value;\r\n    }\r\n    get height() {\r\n        return this.rows * this.cellHeight;\r\n    }\r\n    get heightScale() {\r\n        return (this.rows * this.cellHeight) / this.image.height;\r\n    }\r\n    get image() {\r\n        return this._image || new Image();\r\n    }\r\n    set image(value) {\r\n        this._image = value;\r\n    }\r\n    get imageHeight() {\r\n        return this.image.height * this.scale;\r\n    }\r\n    get imageId() {\r\n        return this.image.id;\r\n    }\r\n    get imageSrc() {\r\n        return this.image.src;\r\n    }\r\n    get imageWidth() {\r\n        return this.image.width * this.scale;\r\n    }\r\n    get positionLeft() {\r\n        return this.startColumn * this.cellWidth;\r\n    }\r\n    get positionTop() {\r\n        return this.startRow * this.cellHeight;\r\n    }\r\n    get ratio() {\r\n        return this.dimensions.ratio;\r\n    }\r\n    get rows() {\r\n        return this.dimensions.rows;\r\n    }\r\n    get scale() {\r\n        return this.heightScale >= this.widthScale ? this.heightScale : this.widthScale;\r\n    }\r\n    get startColumn() {\r\n        return this.coordinates.column;\r\n    }\r\n    get startRow() {\r\n        return this.coordinates.row;\r\n    }\r\n    get width() {\r\n        return this.columns * this.cellWidth;\r\n    }\r\n    get widthScale() {\r\n        return (this.columns * this.cellWidth) / this.image.width;\r\n    }\r\n}\n\nclass Collage {\r\n    constructor() {\r\n        this.canvasHeight = 0;\r\n        this.canvasWidth = 0;\r\n        this.cellHeight = 0;\r\n        this.cellWidth = 0;\r\n        this.maxColumns = 4;\r\n        this.maxRows = 4;\r\n        this.tileDimensions = [];\r\n        this.totalColumns = 0;\r\n        this.totalRows = 0;\r\n        this._images = [];\r\n        this._tiles = [];\r\n    }\r\n    /**\r\n     * Build new collage instance with given parameters.\r\n     * @param images\r\n     * @param canvasHeight\r\n     * @param canvasWidth\r\n     * @param totalRows\r\n     * @param totalColumns\r\n     * @param maxRows\r\n     * @param maxColumns\r\n     */\r\n    static Build(images, canvasHeight, canvasWidth, totalRows = 0, totalColumns = 0, maxRows = 0, maxColumns = 0) {\r\n        const cellHeight = canvasHeight / totalRows;\r\n        const cellWidth = canvasWidth / totalColumns;\r\n        const tileDimensions = Collage.GetTileDimensions(cellHeight, cellWidth, maxRows, maxColumns);\r\n        const collage = Object.assign(new Collage(), {\r\n            canvasHeight,\r\n            canvasWidth,\r\n            totalRows,\r\n            totalColumns,\r\n            maxRows,\r\n            maxColumns,\r\n            cellHeight,\r\n            cellWidth,\r\n            tileDimensions,\r\n        });\r\n        collage.images = images;\r\n        return collage;\r\n    }\r\n    /**\r\n     * Build array of all possible dimensions for a single tile in the collage.\r\n     * @param cellHeight\r\n     * @param cellWidth\r\n     * @param maxRows\r\n     * @param maxColumns\r\n     */\r\n    static GetTileDimensions(cellHeight, cellWidth, maxRows, maxColumns) {\r\n        return positiveIntegerArray(maxRows).reduce((acc, x) => {\r\n            const dimensions = positiveIntegerArray(maxColumns)\r\n                .map(y => build(Dimensions, {\r\n                rows: x,\r\n                columns: y,\r\n                height: x * cellHeight,\r\n                width: y * cellWidth\r\n            }));\r\n            return [...acc, ...dimensions];\r\n        }, []);\r\n    }\r\n    get cells() {\r\n        return this._cells || this.emptyCells;\r\n    }\r\n    set cells(value) {\r\n        this._cells = value;\r\n    }\r\n    get emptyCells() {\r\n        return integerArray(this.totalRows).map(x => integerArray(this.totalColumns).map(y => 0));\r\n    }\r\n    get images() {\r\n        return this._images;\r\n    }\r\n    set images(value) {\r\n        this._images = value.map((img, index) => Image.BuildForTile(img, this.tileDimensions, index + 1));\r\n        // console.dir(this.images);\r\n        // console.dir(this.tiles);\r\n        // console.dir(this);\r\n    }\r\n    get tiles() {\r\n        this.cells = this.emptyCells;\r\n        return integerArray(this.totalCells)\r\n            .reduce((acc, i) => {\r\n            // console.dir(acc);\r\n            return this.isCellFilled(i) ? acc : [...acc, this.fillCell(i)];\r\n        }, []);\r\n    }\r\n    get totalCells() {\r\n        return this.totalRows * this.totalColumns;\r\n    }\r\n    buildTile(image, dimensions, coordinates, index) {\r\n        const t = build(Tile, {\r\n            image,\r\n            dimensions,\r\n            coordinates,\r\n            index,\r\n            cellHeight: this.cellHeight,\r\n            cellWidth: this.cellWidth,\r\n        });\r\n        // console.log(\r\n        //     '\\nTILE ASSIGNED TO INDEX', index,\r\n        //     '\\nStart Row:\\t', t.startRow,\r\n        //     '\\nStartColumn:\\t', t.startColumn,\r\n        //     '\\nRows:\\t', t.rows,\r\n        //     '\\nColumns:\\t', t.columns,\r\n        // );\r\n        // console.dir(t);\r\n        return t;\r\n    }\r\n    fillCell(index) {\r\n        // console.log('\\n\\n\\n\\nFILLING CELL AT INDEX', index);\r\n        const coordinates = this.findCoordinates(index);\r\n        // console.log(\r\n        //     '\\nStart Row:\\t', coordinates.row,\r\n        //     '\\nStart Column:\\t', coordinates.column,\r\n        // );\r\n        const dim = this.findAvailableDimensions(coordinates.row, coordinates.column);\r\n        // console.log('Available Dimensions...');\r\n        dim.forEach(x => {\r\n            // console.log(\r\n            //     '\\nRows:\\t', x.rows,\r\n            //     '\\nColumns:\\t', x.columns,\r\n            // );\r\n        });\r\n        return this.images.reduce((acc, image, i) => {\r\n            if (acc) {\r\n                return acc;\r\n            }\r\n            const dimensions = this.findImageDimensions(image, dim);\r\n            if (dimensions) {\r\n                this.reorderImages(i);\r\n                const tile = this.buildTile(image, dimensions, coordinates, index);\r\n                this.markCellsFilled(tile);\r\n                // console.dir(this);\r\n                // console.dir(this.cells);\r\n                // console.log('_____________________________________________________________\\n\\n\\n\\n');\r\n                return tile;\r\n            }\r\n            return null;\r\n        }, null);\r\n    }\r\n    findAvailableColumns(startRow, startColumn) {\r\n        return Math.max(...positiveIntegerArray(this.maxColumns)\r\n            .map(k => k <= this.maxColumns && startColumn + k <= this.totalColumns && this.cells[startRow] && this.cells[startRow][startColumn + k] === 0 ? k : 1));\r\n    }\r\n    findAvailableRows(startRow, startColumn) {\r\n        return Math.max(...positiveIntegerArray(this.maxRows)\r\n            .map(k => k <= this.maxRows && startRow + k <= this.totalRows && this.cells[startRow + k] && this.cells[startRow + k][startColumn] === 0 ? k : 1));\r\n    }\r\n    findAvailableDimensions(startRow, startColumn) {\r\n        const availableRows = this.findAvailableRows(startRow, startColumn);\r\n        const availableColumns = this.findAvailableColumns(startRow, startColumn);\r\n        return this.tileDimensions.filter(x => x.rows <= availableRows && x.columns <= availableColumns);\r\n    }\r\n    findCoordinates(index) {\r\n        const remainder = (index + this.totalColumns) % this.totalColumns;\r\n        return {\r\n            row: (index - remainder) / this.totalColumns,\r\n            column: remainder\r\n        };\r\n    }\r\n    findImageDimensions(image, dim) {\r\n        return image.dimensions.find(x => inArray(dim, x));\r\n    }\r\n    isCellFilled(index) {\r\n        const coordinates = this.findCoordinates(index);\r\n        return this.cells[coordinates.row][coordinates.column] !== 0;\r\n    }\r\n    markCellsFilled(tile) {\r\n        let cells = this.cells;\r\n        const coordinates = this.findCoordinates(tile.index);\r\n        for (let i = 0; i < tile.rows; i++) {\r\n            for (let j = 0; j < tile.columns; j++) {\r\n                cells[coordinates.row + i][coordinates.column + j] = tile.id;\r\n            }\r\n        }\r\n        this.cells = cells;\r\n    }\r\n    reorderImages(index) {\r\n        this._images = [...this._images.filter((img, i) => i !== index), this._images[index]];\r\n    }\r\n}\n\nclass TileComponent {\r\n    constructor() {\r\n        this._tile = new Tile();\r\n        this.imageOpacity = 1;\r\n    }\r\n    set tile(value) {\r\n        this._tile = value;\r\n    }\r\n    get tile() {\r\n        return build(Tile, this._tile);\r\n    }\r\n    get backgroundColor() {\r\n        return '';\r\n    }\r\n    get height() {\r\n        return this.tile.height;\r\n    }\r\n    get imageHeight() {\r\n        return this.tile.imageHeight;\r\n    }\r\n    get imageSrc() {\r\n        return this.tile.image.src;\r\n    }\r\n    get imageWidth() {\r\n        return this.tile.imageWidth;\r\n    }\r\n    get position() {\r\n        return 'absolute';\r\n    }\r\n    get positionLeft() {\r\n        return this.tile.positionLeft;\r\n    }\r\n    get positionTop() {\r\n        return this.tile.positionTop;\r\n    }\r\n    get width() {\r\n        return this.tile.width;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ TileComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ TileComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TileComponent, selector: \"iu-tile\", inputs: { imageOpacity: \"imageOpacity\", tile: \"tile\" }, ngImport: i0, template: \"<div fxLayout fxLayoutAlign=\\\"center center\\\" class=\\\"tile\\\" [style.position]=\\\"position\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\" [style.background-color]=\\\"backgroundColor\\\" [style.height.px]=\\\"height\\\" [style.width.px]=\\\"width\\\">\\r\\n  <img [src]=\\\"imageSrc\\\" [style.height.px]=\\\"imageHeight\\\" [style.width.px]=\\\"imageWidth\\\" [style.opacity]=\\\"imageOpacity\\\">\\r\\n  <!-- <h4>{{tile.id}}</h4> -->\\r\\n</div>\\r\\n\", styles: [\".tile{overflow:hidden}.tile h4{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;position:absolute;top:0;left:10px}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-tile', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div fxLayout fxLayoutAlign=\\\"center center\\\" class=\\\"tile\\\" [style.position]=\\\"position\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\" [style.background-color]=\\\"backgroundColor\\\" [style.height.px]=\\\"height\\\" [style.width.px]=\\\"width\\\">\\r\\n  <img [src]=\\\"imageSrc\\\" [style.height.px]=\\\"imageHeight\\\" [style.width.px]=\\\"imageWidth\\\" [style.opacity]=\\\"imageOpacity\\\">\\r\\n  <!-- <h4>{{tile.id}}</h4> -->\\r\\n</div>\\r\\n\", styles: [\".tile{overflow:hidden}.tile h4{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;position:absolute;top:0;left:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { imageOpacity: [{\r\n                type: Input\r\n            }], tile: [{\r\n                type: Input\r\n            }] } });\n\nclass CollageComponent {\r\n    constructor() {\r\n        this.imageOpacity = 1;\r\n        this.canvasHeight = 0;\r\n        this.canvasWidth = 0;\r\n        this.totalRows = 0;\r\n        this.totalColumns = 0;\r\n        this.maxRows = 0;\r\n        this.maxColumns = 0;\r\n        this.shuffle = false;\r\n        this._images = [];\r\n    }\r\n    set images(value) {\r\n        this._images = value;\r\n    }\r\n    get images() {\r\n        return this.shuffle ? shuffle(this._images) : this._images;\r\n    }\r\n    get collage() {\r\n        return this.canvasHeight > 0 && this.canvasWidth > 0 ?\r\n            Collage.Build(this.images, this.canvasHeight, this.canvasWidth, this.totalRows, this.totalColumns, this.maxRows, this.maxColumns)\r\n            : new Collage();\r\n    }\r\n    get tiles() {\r\n        return this.collage.tiles;\r\n    }\r\n}\r\n/** @nocollapse */ CollageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CollageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CollageComponent, selector: \"iu-collage\", inputs: { imageOpacity: \"imageOpacity\", canvasHeight: \"canvasHeight\", canvasWidth: \"canvasWidth\", totalRows: \"totalRows\", totalColumns: \"totalColumns\", maxRows: \"maxRows\", maxColumns: \"maxColumns\", shuffle: \"shuffle\", _images: \"_images\", images: \"images\" }, ngImport: i0, template: \"<div class=\\\"collage\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\">\\r\\n    <iu-tile *ngFor=\\\"let tile of tiles\\\" [tile]=\\\"tile\\\" [imageOpacity]=\\\"imageOpacity\\\"></iu-tile>\\r\\n</div>\", styles: [\".collage{position:relative;overflow:hidden;z-index:-1}\\n\"], components: [{ type: TileComponent, selector: \"iu-tile\", inputs: [\"imageOpacity\", \"tile\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-collage', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"collage\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\">\\r\\n    <iu-tile *ngFor=\\\"let tile of tiles\\\" [tile]=\\\"tile\\\" [imageOpacity]=\\\"imageOpacity\\\"></iu-tile>\\r\\n</div>\", styles: [\".collage{position:relative;overflow:hidden;z-index:-1}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { imageOpacity: [{\r\n                type: Input\r\n            }], canvasHeight: [{\r\n                type: Input\r\n            }], canvasWidth: [{\r\n                type: Input\r\n            }], totalRows: [{\r\n                type: Input\r\n            }], totalColumns: [{\r\n                type: Input\r\n            }], maxRows: [{\r\n                type: Input\r\n            }], maxColumns: [{\r\n                type: Input\r\n            }], shuffle: [{\r\n                type: Input\r\n            }], _images: [{\r\n                type: Input\r\n            }], images: [{\r\n                type: Input\r\n            }] } });\n\nclass TileModule {\r\n}\r\n/** @nocollapse */ TileModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ TileModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, declarations: [TileComponent], imports: [SharedModule], exports: [TileComponent] });\r\n/** @nocollapse */ TileModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        TileComponent,\r\n                    ],\r\n                    exports: [\r\n                        TileComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass CollageModule {\r\n}\r\n/** @nocollapse */ CollageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ CollageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, declarations: [CollageComponent], imports: [SharedModule,\r\n        TileModule], exports: [CollageComponent] });\r\n/** @nocollapse */ CollageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, imports: [[\r\n            SharedModule,\r\n            TileModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        TileModule,\r\n                    ],\r\n                    declarations: [\r\n                        CollageComponent,\r\n                    ],\r\n                    exports: [\r\n                        CollageComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass ContainerComponent extends SmartComponent {\r\n    constructor(store, dialog) {\r\n        super(store);\r\n        this.store = store;\r\n        this.dialog = dialog;\r\n        this.showHelp = true;\r\n        this._hasWallpaper = true;\r\n        this._images = [];\r\n    }\r\n    set hasWallpaper(value) {\r\n        this._hasWallpaper = value;\r\n    }\r\n    get hasWallpaper() {\r\n        return this._hasWallpaper;\r\n    }\r\n    get hasBackgroundImage() {\r\n        return truthy(this.backgroundImage) && !this.hasWallpaper;\r\n    }\r\n    set images(value) {\r\n        this._images = value;\r\n    }\r\n    get images() {\r\n        return this.mobile ? this._images.filter((x, i) => i < 20) : this._images;\r\n    }\r\n    get contentWidth() {\r\n        return this.windowWidth - this.offsetLeft;\r\n    }\r\n    get mobile() {\r\n        return this.windowWidth < 1000;\r\n    }\r\n    get offsetLeft() {\r\n        return 0;\r\n    }\r\n    get offsetTop() {\r\n        return this.navbar ? 130 : 64;\r\n    }\r\n    get menuWidth() {\r\n        return this.windowWidth;\r\n    }\r\n    get windowHeight() {\r\n        return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10) - 64;\r\n    }\r\n    set windowHeight(value) {\r\n        localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n    }\r\n    get windowWidth() {\r\n        return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n    }\r\n    set windowWidth(value) {\r\n        localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n    }\r\n    ngOnInit() {\r\n        this.windowHeight = parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n        this.windowWidth = parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n    }\r\n    onLoad(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        // console.log('\\n\\nwindow:load', this.windowWidth, this.windowHeight);\r\n    }\r\n    onResize(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        // console.log('\\n\\nwindow:resize', this.windowWidth, this.windowHeight);\r\n    }\r\n}\r\n/** @nocollapse */ ContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerComponent, deps: [{ token: i1$1.Store }, { token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ ContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: ContainerComponent, selector: \"iu-container\", inputs: { backgroundImage: \"backgroundImage\", showHelp: \"showHelp\", navbar: \"navbar\", hasWallpaper: \"hasWallpaper\" }, host: { listeners: { \"window:load\": \"onLoad($event)\", \"window:resize\": \"onResize($event)\" } }, usesInheritance: true, ngImport: i0, template: \"<!-- <iu-header [windowWidth]=\\\"contentWidth\\\" [offsetLeft]=\\\"offsetLeft\\\" [mobile]=\\\"mobile\\\"></iu-header>\\r\\n<iu-navbar *ngIf=\\\"navbar\\\">\\r\\n  <iu-breadcrumbs *ngIf=\\\"breadcrumbs\\\"></iu-breadcrumbs>\\r\\n</iu-navbar>\\r\\n<iu-sidenav *ngIf=\\\"!mobile\\\" [style.height.px]=\\\"sidenavHeight\\\"></iu-sidenav>\\r\\n\\r\\n<div id=\\\"content\\\" class=\\\"scrollable\\\" [style.height.px]=\\\"windowHeight\\\" [style.width.px]=\\\"contentWidth\\\" [style.left.px]=\\\"offsetLeft\\\"\\r\\n  [style.background-image]=\\\"hasBackgroundImage ? 'url(' + backgroundImage + ')' : 'none'\\\">\\r\\n  <ng-content></ng-content>\\r\\n  <iu-wallpaper *ngIf=\\\"hasWallpaper\\\" [images]=\\\"images\\\" [imageOpacity]=\\\"0.6\\\" [shuffle]=\\\"true\\\" [offsetLeft]=\\\"offsetLeft\\\"\\r\\n    [offsetTop]=\\\"offsetTop\\\"></iu-wallpaper>\\r\\n</div> -->\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-container', template: \"<!-- <iu-header [windowWidth]=\\\"contentWidth\\\" [offsetLeft]=\\\"offsetLeft\\\" [mobile]=\\\"mobile\\\"></iu-header>\\r\\n<iu-navbar *ngIf=\\\"navbar\\\">\\r\\n  <iu-breadcrumbs *ngIf=\\\"breadcrumbs\\\"></iu-breadcrumbs>\\r\\n</iu-navbar>\\r\\n<iu-sidenav *ngIf=\\\"!mobile\\\" [style.height.px]=\\\"sidenavHeight\\\"></iu-sidenav>\\r\\n\\r\\n<div id=\\\"content\\\" class=\\\"scrollable\\\" [style.height.px]=\\\"windowHeight\\\" [style.width.px]=\\\"contentWidth\\\" [style.left.px]=\\\"offsetLeft\\\"\\r\\n  [style.background-image]=\\\"hasBackgroundImage ? 'url(' + backgroundImage + ')' : 'none'\\\">\\r\\n  <ng-content></ng-content>\\r\\n  <iu-wallpaper *ngIf=\\\"hasWallpaper\\\" [images]=\\\"images\\\" [imageOpacity]=\\\"0.6\\\" [shuffle]=\\\"true\\\" [offsetLeft]=\\\"offsetLeft\\\"\\r\\n    [offsetTop]=\\\"offsetTop\\\"></iu-wallpaper>\\r\\n</div> -->\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i1$2.MatDialog }]; }, propDecorators: { backgroundImage: [{\r\n                type: Input\r\n            }], showHelp: [{\r\n                type: Input\r\n            }], navbar: [{\r\n                type: Input\r\n            }], hasWallpaper: [{\r\n                type: Input\r\n            }], onLoad: [{\r\n                type: HostListener,\r\n                args: ['window:load', ['$event']]\r\n            }], onResize: [{\r\n                type: HostListener,\r\n                args: ['window:resize', ['$event']]\r\n            }] } });\n\nclass BreadcrumbsComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ BreadcrumbsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ BreadcrumbsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: BreadcrumbsComponent, selector: \"iu-breadcrumbs\", ngImport: i0, template: \"<p>\\r\\n  breadcrumbs works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-breadcrumbs', template: \"<p>\\r\\n  breadcrumbs works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass BreadcrumbsModule {\r\n}\r\n/** @nocollapse */ BreadcrumbsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ BreadcrumbsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, declarations: [BreadcrumbsComponent], imports: [SharedModule], exports: [BreadcrumbsComponent] });\r\n/** @nocollapse */ BreadcrumbsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        BreadcrumbsComponent,\r\n                    ],\r\n                    exports: [\r\n                        BreadcrumbsComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass HeaderComponent {\r\n    constructor() {\r\n        this.mobile = false;\r\n        this.offsetLeft = 0;\r\n        this.windowWidth = 0;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ HeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ HeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: HeaderComponent, selector: \"iu-header\", inputs: { mobile: \"mobile\", offsetLeft: \"offsetLeft\", windowWidth: \"windowWidth\" }, ngImport: i0, template: \"<mat-toolbar id=\\\"header\\\" color=\\\"primary\\\" class=\\\"mat-elevation-z6\\\" [style.width.px]=\\\"windowWidth\\\" [style.left.px]=\\\"offsetLeft\\\">\\r\\n  <a class=\\\"banner\\\" routerLink=\\\"/\\\" [class.mobile]=\\\"mobile\\\">\\r\\n    <img src=\\\"assets/banner.jpg\\\">\\r\\n  </a>\\r\\n  <div id=\\\"header-links\\\">\\r\\n    <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n      <mat-icon>home</mat-icon>\\r\\n    </a>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n\", styles: [\"#header{min-height:64px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;position:fixed;top:0;z-index:2;position:absolute;left:120px}#header .banner{margin-left:120px}#header .banner img{height:48px;margin:8px 20px}#header .banner.mobile{margin-left:0}#header .navbar-brand{color:#7cfc00;text-decoration:none;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;float:left;font-size:24px;margin-right:20px}#header .navbar-brand img{height:48px;margin:8px 20px}#header .slp-lbl{font-family:Roboto,sans-serif;color:#fff;float:left;font-size:16px;margin:16px 0 20px}#header .intro-lead-in{font-family:\\\"Droid Serif\\\",Helvetica Neue,Helvetica,Arial,sans-serif;font-style:italic;line-height:40px;margin-left:20px;float:right;font-size:15px;color:silver;position:absolute;right:280px}#header #logo{height:48px;cursor:pointer}#header #banner{padding:0 30px;color:#7cfc00;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;font-size:22px;text-decoration:none}#header rowdy-social-icons{height:100%;position:absolute;right:10px;cursor:pointer}#header #header-links .link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;top:2px;height:36px;text-decoration:none;width:44px;padding:12px 10px}#header #header-links .link mat-icon{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#8e8e8e;color:#000;color:#fff;font-size:32px;height:32px;width:32px;position:absolute;top:16px;left:16px}#header #header-links .link:nth-child(5){right:0}#header #header-links .link:nth-child(4){right:64px}#header #header-links .link:nth-child(3){right:128px}#header #header-links .link:nth-child(2){right:192px}#header #header-links .link:nth-child(1){right:256px}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1$5.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }, { type: i1$5.RouterLinkActive, selector: \"[routerLinkActive]\", inputs: [\"routerLinkActiveOptions\", \"routerLinkActive\"], outputs: [\"isActiveChange\"], exportAs: [\"routerLinkActive\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-header', template: \"<mat-toolbar id=\\\"header\\\" color=\\\"primary\\\" class=\\\"mat-elevation-z6\\\" [style.width.px]=\\\"windowWidth\\\" [style.left.px]=\\\"offsetLeft\\\">\\r\\n  <a class=\\\"banner\\\" routerLink=\\\"/\\\" [class.mobile]=\\\"mobile\\\">\\r\\n    <img src=\\\"assets/banner.jpg\\\">\\r\\n  </a>\\r\\n  <div id=\\\"header-links\\\">\\r\\n    <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n      <mat-icon>home</mat-icon>\\r\\n    </a>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n\", styles: [\"#header{min-height:64px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;position:fixed;top:0;z-index:2;position:absolute;left:120px}#header .banner{margin-left:120px}#header .banner img{height:48px;margin:8px 20px}#header .banner.mobile{margin-left:0}#header .navbar-brand{color:#7cfc00;text-decoration:none;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;float:left;font-size:24px;margin-right:20px}#header .navbar-brand img{height:48px;margin:8px 20px}#header .slp-lbl{font-family:Roboto,sans-serif;color:#fff;float:left;font-size:16px;margin:16px 0 20px}#header .intro-lead-in{font-family:\\\"Droid Serif\\\",Helvetica Neue,Helvetica,Arial,sans-serif;font-style:italic;line-height:40px;margin-left:20px;float:right;font-size:15px;color:silver;position:absolute;right:280px}#header #logo{height:48px;cursor:pointer}#header #banner{padding:0 30px;color:#7cfc00;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;font-size:22px;text-decoration:none}#header rowdy-social-icons{height:100%;position:absolute;right:10px;cursor:pointer}#header #header-links .link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;top:2px;height:36px;text-decoration:none;width:44px;padding:12px 10px}#header #header-links .link mat-icon{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#8e8e8e;color:#000;color:#fff;font-size:32px;height:32px;width:32px;position:absolute;top:16px;left:16px}#header #header-links .link:nth-child(5){right:0}#header #header-links .link:nth-child(4){right:64px}#header #header-links .link:nth-child(3){right:128px}#header #header-links .link:nth-child(2){right:192px}#header #header-links .link:nth-child(1){right:256px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { mobile: [{\r\n                type: Input\r\n            }], offsetLeft: [{\r\n                type: Input\r\n            }], windowWidth: [{\r\n                type: Input\r\n            }] } });\n\nclass HeaderModule {\r\n}\r\n/** @nocollapse */ HeaderModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ HeaderModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, declarations: [HeaderComponent], imports: [SharedModule,\r\n        MatIconModule,\r\n        MatToolbarModule], exports: [HeaderComponent] });\r\n/** @nocollapse */ HeaderModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, imports: [[\r\n            SharedModule,\r\n            MatIconModule,\r\n            MatToolbarModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatIconModule,\r\n                        MatToolbarModule,\r\n                    ],\r\n                    declarations: [\r\n                        HeaderComponent,\r\n                    ],\r\n                    exports: [\r\n                        HeaderComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass NavbarComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ NavbarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ NavbarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: NavbarComponent, selector: \"iu-navbar\", ngImport: i0, template: \"<div id=\\\"navbar\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/about\\\">About Us</a>\\r\\n</div>\\r\\n\", styles: [\"#navbar{display:flex;align-items:center;position:relative;margin-top:60px;height:70px;padding:0 0 0 160px;z-index:2}#navbar .summer-league-logo{position:absolute;height:100%;top:0;left:120px;cursor:pointer}#navbar a.link{width:auto;margin:0;cursor:pointer;padding:14px 28px;position:relative;text-decoration:none;text-shadow:0px 1px 0px rgba(255,255,255,.3);text-shadow:0px 1px 1px #4d4d4d;color:#222;font:20px LeagueGothicRegular}#navbar a.link:hover{color:#8e8e8e;font-weight:700}\\n\"], directives: [{ type: i1$5.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-navbar', template: \"<div id=\\\"navbar\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/about\\\">About Us</a>\\r\\n</div>\\r\\n\", styles: [\"#navbar{display:flex;align-items:center;position:relative;margin-top:60px;height:70px;padding:0 0 0 160px;z-index:2}#navbar .summer-league-logo{position:absolute;height:100%;top:0;left:120px;cursor:pointer}#navbar a.link{width:auto;margin:0;cursor:pointer;padding:14px 28px;position:relative;text-decoration:none;text-shadow:0px 1px 0px rgba(255,255,255,.3);text-shadow:0px 1px 1px #4d4d4d;color:#222;font:20px LeagueGothicRegular}#navbar a.link:hover{color:#8e8e8e;font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass NavbarModule {\r\n}\r\n/** @nocollapse */ NavbarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ NavbarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, declarations: [NavbarComponent], imports: [SharedModule], exports: [NavbarComponent] });\r\n/** @nocollapse */ NavbarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, imports: [[\r\n            SharedModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule\r\n                    ],\r\n                    declarations: [\r\n                        NavbarComponent,\r\n                    ],\r\n                    exports: [\r\n                        NavbarComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass SocialIconsComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ SocialIconsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ SocialIconsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: SocialIconsComponent, selector: \"iu-social-icons\", ngImport: i0, template: \"<div class=\\\"social-icons\\\">\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.facebook.com/grow.and.tellSLP/?pnref=lhc\\\"><img src=\\\"assets/facebook.png\\\"></a>\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.linkedin.com/in/jessica-over-9a697011b?trk=nav_responsive_tab_profile\\\"><img src=\\\"assets/linkedin.png\\\"></a>\\r\\n</div>\\r\\n\", styles: [\".social-icons{height:64px;overflow:hidden;max-width:160px}.social-icons a{max-height:90%;width:30%;cursor:pointer;position:relative;margin:0 6px}.social-icons a img{width:40px;margin-top:10px}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-social-icons', template: \"<div class=\\\"social-icons\\\">\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.facebook.com/grow.and.tellSLP/?pnref=lhc\\\"><img src=\\\"assets/facebook.png\\\"></a>\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.linkedin.com/in/jessica-over-9a697011b?trk=nav_responsive_tab_profile\\\"><img src=\\\"assets/linkedin.png\\\"></a>\\r\\n</div>\\r\\n\", styles: [\".social-icons{height:64px;overflow:hidden;max-width:160px}.social-icons a{max-height:90%;width:30%;cursor:pointer;position:relative;margin:0 6px}.social-icons a img{width:40px;margin-top:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass SidenavComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ SidenavComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ SidenavComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: SidenavComponent, selector: \"iu-sidenav\", ngImport: i0, template: \"<nav class=\\\"sidenav\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <img class=\\\"logo\\\" src=\\\"assets/logo.png\\\">\\r\\n  </a>\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/rankings\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <mat-icon>format_list_numbered</mat-icon>\\r\\n    <span class=\\\"label\\\">Rankings</span>\\r\\n  </a>\\r\\n  <iu-social-icons></iu-social-icons>\\r\\n</nav>\\r\\n\", styles: [\".sidenav{background:#111;box-shadow:5px 0 5px -2px #888;-webkit-box-shadow:5px 0 5px -2px #888;flex:0 0 100px;-ms-grid-column:1;-ms-grid-column-span:1;text-align:center;position:relative;z-index:9999;padding:1rem 10px 0;-webkit-backface-visibility:hidden;backface-visibility:hidden;width:100px;height:100%;font-family:Montserrat,Helvetica Neue,Helvetica,Arial,sans-serif;text-transform:uppercase;font-weight:400;letter-spacing:1px}.sidenav a.link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;left:0;text-decoration:none;width:100px;padding:12px 10px}.sidenav a.link mat-icon{color:#8e8e8e;font-size:48px;height:48px;width:48px}.sidenav a.link .label{clear:both;color:#fff;width:100px;font-size:14px;padding:12px 0;display:block}.sidenav a.link:hover{background:#fff}.sidenav a.link:hover mat-icon{color:#006400;color:#000}.sidenav a.link:hover .label{color:#111}.sidenav a.link:nth-child(1){top:60px;height:106px}.sidenav a.link:nth-child(2){top:220px}.sidenav a.link:nth-child(3){top:360px}.sidenav a.link:nth-child(4){top:500px}.sidenav a.link:nth-child(5){top:640px}.sidenav img.logo{position:absolute;top:25px;left:0;width:120px;cursor:pointer}.sidenav rowdy-social-icons{position:absolute;bottom:0;left:0;width:100%}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: SocialIconsComponent, selector: \"iu-social-icons\" }], directives: [{ type: i1$5.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }, { type: i1$5.RouterLinkActive, selector: \"[routerLinkActive]\", inputs: [\"routerLinkActiveOptions\", \"routerLinkActive\"], outputs: [\"isActiveChange\"], exportAs: [\"routerLinkActive\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-sidenav', template: \"<nav class=\\\"sidenav\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <img class=\\\"logo\\\" src=\\\"assets/logo.png\\\">\\r\\n  </a>\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/rankings\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <mat-icon>format_list_numbered</mat-icon>\\r\\n    <span class=\\\"label\\\">Rankings</span>\\r\\n  </a>\\r\\n  <iu-social-icons></iu-social-icons>\\r\\n</nav>\\r\\n\", styles: [\".sidenav{background:#111;box-shadow:5px 0 5px -2px #888;-webkit-box-shadow:5px 0 5px -2px #888;flex:0 0 100px;-ms-grid-column:1;-ms-grid-column-span:1;text-align:center;position:relative;z-index:9999;padding:1rem 10px 0;-webkit-backface-visibility:hidden;backface-visibility:hidden;width:100px;height:100%;font-family:Montserrat,Helvetica Neue,Helvetica,Arial,sans-serif;text-transform:uppercase;font-weight:400;letter-spacing:1px}.sidenav a.link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;left:0;text-decoration:none;width:100px;padding:12px 10px}.sidenav a.link mat-icon{color:#8e8e8e;font-size:48px;height:48px;width:48px}.sidenav a.link .label{clear:both;color:#fff;width:100px;font-size:14px;padding:12px 0;display:block}.sidenav a.link:hover{background:#fff}.sidenav a.link:hover mat-icon{color:#006400;color:#000}.sidenav a.link:hover .label{color:#111}.sidenav a.link:nth-child(1){top:60px;height:106px}.sidenav a.link:nth-child(2){top:220px}.sidenav a.link:nth-child(3){top:360px}.sidenav a.link:nth-child(4){top:500px}.sidenav a.link:nth-child(5){top:640px}.sidenav img.logo{position:absolute;top:25px;left:0;width:120px;cursor:pointer}.sidenav rowdy-social-icons{position:absolute;bottom:0;left:0;width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass SocialIconsModule {\r\n}\r\n/** @nocollapse */ SocialIconsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ SocialIconsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, declarations: [SocialIconsComponent], imports: [SharedModule], exports: [SocialIconsComponent] });\r\n/** @nocollapse */ SocialIconsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        SocialIconsComponent,\r\n                    ],\r\n                    exports: [\r\n                        SocialIconsComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass SidenavModule {\r\n}\r\n/** @nocollapse */ SidenavModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ SidenavModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, declarations: [SidenavComponent], imports: [SharedModule,\r\n        MatIconModule,\r\n        SocialIconsModule], exports: [SidenavComponent] });\r\n/** @nocollapse */ SidenavModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, imports: [[\r\n            SharedModule,\r\n            MatIconModule,\r\n            SocialIconsModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatIconModule,\r\n                        SocialIconsModule,\r\n                    ],\r\n                    declarations: [\r\n                        SidenavComponent,\r\n                    ],\r\n                    exports: [\r\n                        SidenavComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass WallpaperComponent {\r\n    constructor(elementRef) {\r\n        this.elementRef = elementRef;\r\n        this.debug = false;\r\n        this.images = [];\r\n        this.imageOpacity = .4;\r\n        this.bodyMargin = 0;\r\n        this.offsetTop = 0;\r\n        this.offsetLeft = 0;\r\n        // @Input() positionTop = 0;\r\n        // @Input() positionLeft = 0;\r\n        this.minCellWidth = 40;\r\n        this.minCellHeight = 40;\r\n        this.maxTileWidth = 240;\r\n        this.maxTileHeight = 400;\r\n        this.shuffle = false;\r\n        this.clientHeight = 0;\r\n        this.clientWidth = 0;\r\n    }\r\n    get maxColumns() {\r\n        return Math.floor(this.maxTileWidth / this.minCellWidth);\r\n    }\r\n    get maxRows() {\r\n        return Math.floor(this.maxTileHeight / this.minCellHeight);\r\n    }\r\n    get positionLeft() {\r\n        return this.offsetLeft === 0 ? -this.bodyMargin : this.offsetLeft - this.bodyMargin;\r\n    }\r\n    get positionTop() {\r\n        return this.offsetTop === 0 ? -this.bodyMargin : this.offsetTop - this.bodyMargin;\r\n    }\r\n    get totalColumns() {\r\n        return Math.floor(this.canvasWidth / this.minCellWidth);\r\n    }\r\n    get totalRows() {\r\n        return Math.floor(this.canvasHeight / this.minCellHeight);\r\n    }\r\n    get canvasHeight() {\r\n        return this.windowHeight ? this.windowHeight - this.offsetTop - this.bodyMargin : this.clientHeight;\r\n    }\r\n    get canvasWidth() {\r\n        return this.windowWidth ? this.windowWidth - this.offsetLeft - this.bodyMargin : this.clientWidth;\r\n    }\r\n    get windowHeight() {\r\n        return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n    }\r\n    set windowHeight(value) {\r\n        // console.log('\\n\\nWindow Height:\\t', value);\r\n        localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n    }\r\n    get windowWidth() {\r\n        return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n    }\r\n    set windowWidth(value) {\r\n        // console.log('Window Width:\\t', value);\r\n        localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n    }\r\n    onLoad(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        this.resetDimensions();\r\n    }\r\n    onResize(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        this.resetDimensions();\r\n    }\r\n    ngOnInit() {\r\n        this.resetDimensions();\r\n    }\r\n    resetDimensions() {\r\n        this.clientHeight = this.elementRef.nativeElement.clientHeight;\r\n        this.clientWidth = this.elementRef.nativeElement.clientWidth;\r\n        if (this.debug) {\r\n            this.logDimensions();\r\n        }\r\n    }\r\n    logDimensions() {\r\n        console.log('\\n\\nWindow Height:\\t', this.windowHeight);\r\n        console.log('Window Width:\\t', this.windowWidth);\r\n        console.log('Canvas Height:\\t', this.canvasHeight);\r\n        console.log('Canvas Width:\\t', this.canvasWidth);\r\n        console.log('Client Height:\\t', this.clientHeight);\r\n        console.log('Client Width:\\t', this.clientWidth);\r\n    }\r\n}\r\n/** @nocollapse */ WallpaperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ WallpaperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: WallpaperComponent, selector: \"iu-wallpaper\", inputs: { debug: \"debug\", images: \"images\", imageOpacity: \"imageOpacity\", bodyMargin: \"bodyMargin\", offsetTop: \"offsetTop\", offsetLeft: \"offsetLeft\", minCellWidth: \"minCellWidth\", minCellHeight: \"minCellHeight\", maxTileWidth: \"maxTileWidth\", maxTileHeight: \"maxTileHeight\", shuffle: \"shuffle\" }, host: { listeners: { \"window:load\": \"onLoad($event)\", \"window:resize\": \"onResize($event)\" } }, ngImport: i0, template: \"<div class=\\\"wallpaper\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\">\\r\\n  <iu-collage [images]=\\\"images\\\" [canvasHeight]=\\\"canvasHeight\\\" [canvasWidth]=\\\"canvasWidth\\\" [totalRows]=\\\"totalRows\\\"\\r\\n    [totalColumns]=\\\"totalColumns\\\" [maxRows]=\\\"maxRows\\\" [maxColumns]=\\\"maxColumns\\\" [imageOpacity]=\\\"imageOpacity\\\"\\r\\n    [shuffle]=\\\"shuffle\\\"></iu-collage>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.wallpaper{height:100%;width:100%;overflow:hidden;position:fixed}\\n\"], components: [{ type: CollageComponent, selector: \"iu-collage\", inputs: [\"imageOpacity\", \"canvasHeight\", \"canvasWidth\", \"totalRows\", \"totalColumns\", \"maxRows\", \"maxColumns\", \"shuffle\", \"_images\", \"images\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-wallpaper', template: \"<div class=\\\"wallpaper\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\">\\r\\n  <iu-collage [images]=\\\"images\\\" [canvasHeight]=\\\"canvasHeight\\\" [canvasWidth]=\\\"canvasWidth\\\" [totalRows]=\\\"totalRows\\\"\\r\\n    [totalColumns]=\\\"totalColumns\\\" [maxRows]=\\\"maxRows\\\" [maxColumns]=\\\"maxColumns\\\" [imageOpacity]=\\\"imageOpacity\\\"\\r\\n    [shuffle]=\\\"shuffle\\\"></iu-collage>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.wallpaper{height:100%;width:100%;overflow:hidden;position:fixed}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { debug: [{\r\n                type: Input\r\n            }], images: [{\r\n                type: Input\r\n            }], imageOpacity: [{\r\n                type: Input\r\n            }], bodyMargin: [{\r\n                type: Input\r\n            }], offsetTop: [{\r\n                type: Input\r\n            }], offsetLeft: [{\r\n                type: Input\r\n            }], minCellWidth: [{\r\n                type: Input\r\n            }], minCellHeight: [{\r\n                type: Input\r\n            }], maxTileWidth: [{\r\n                type: Input\r\n            }], maxTileHeight: [{\r\n                type: Input\r\n            }], shuffle: [{\r\n                type: Input\r\n            }], onLoad: [{\r\n                type: HostListener,\r\n                args: ['window:load', ['$event']]\r\n            }], onResize: [{\r\n                type: HostListener,\r\n                args: ['window:resize', ['$event']]\r\n            }] } });\n\nclass WallpaperModule {\r\n}\r\n/** @nocollapse */ WallpaperModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ WallpaperModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, declarations: [WallpaperComponent], imports: [SharedModule,\r\n        CollageModule], exports: [WallpaperComponent] });\r\n/** @nocollapse */ WallpaperModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, imports: [[\r\n            SharedModule,\r\n            CollageModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        CollageModule,\r\n                    ],\r\n                    declarations: [\r\n                        WallpaperComponent,\r\n                    ],\r\n                    exports: [\r\n                        WallpaperComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass ContainerModule {\r\n}\r\n/** @nocollapse */ ContainerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ ContainerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, declarations: [ContainerComponent], imports: [SharedModule,\r\n        BreadcrumbsModule,\r\n        HeaderModule,\r\n        NavbarModule,\r\n        SidenavModule,\r\n        SocialIconsModule,\r\n        WallpaperModule], exports: [ContainerComponent,\r\n        BreadcrumbsModule,\r\n        HeaderModule,\r\n        NavbarModule,\r\n        SidenavModule,\r\n        SocialIconsModule,\r\n        WallpaperModule] });\r\n/** @nocollapse */ ContainerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, imports: [[\r\n            SharedModule,\r\n            BreadcrumbsModule,\r\n            HeaderModule,\r\n            NavbarModule,\r\n            SidenavModule,\r\n            SocialIconsModule,\r\n            WallpaperModule,\r\n        ], BreadcrumbsModule,\r\n        HeaderModule,\r\n        NavbarModule,\r\n        SidenavModule,\r\n        SocialIconsModule,\r\n        WallpaperModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        BreadcrumbsModule,\r\n                        HeaderModule,\r\n                        NavbarModule,\r\n                        SidenavModule,\r\n                        SocialIconsModule,\r\n                        WallpaperModule,\r\n                    ],\r\n                    declarations: [\r\n                        ContainerComponent,\r\n                    ],\r\n                    exports: [\r\n                        ContainerComponent,\r\n                        BreadcrumbsModule,\r\n                        HeaderModule,\r\n                        NavbarModule,\r\n                        SidenavModule,\r\n                        SocialIconsModule,\r\n                        WallpaperModule,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass DateRange {\r\n    constructor() {\r\n        this.startDate = null;\r\n        this.endDate = null;\r\n    }\r\n}\r\nclass Month {\r\n    constructor() {\r\n        this.index = 0;\r\n        this.name = \"\";\r\n        this.abbreviation = \"\";\r\n        this.initial = \"\";\r\n    }\r\n}\r\nclass Weekday {\r\n    constructor() {\r\n        this.index = 0;\r\n        this.name = \"\";\r\n        this.abbreviation = \"\";\r\n        this.initial = \"\";\r\n    }\r\n}\r\nclass DateHelper {\r\n    static BuildStartTime(startDate, startHours, startMinutes, startMeridian) {\r\n        const startTime = new Date(startDate);\r\n        const hours = startMeridian === \"AM\" ? startHours : startHours + 12;\r\n        startTime.setHours(hours);\r\n        startTime.setMinutes(startMinutes);\r\n        return startTime;\r\n    }\r\n    static BuildEndTime(startTime, dHours, dMinutes) {\r\n        const endTime = new Date(startTime);\r\n        endTime.setHours(endTime.getHours() + dHours);\r\n        endTime.setMinutes(endTime.getMinutes() + dMinutes);\r\n        return endTime;\r\n    }\r\n    static CalendarDaySpan(startDate, endDate) {\r\n        const daysBetween = Math.ceil(DateHelper.DaysBetween(startDate, endDate) + 1);\r\n        return daysBetween && daysBetween > 0\r\n            ? integerArray(daysBetween).map((i) => {\r\n                const d = new Date(startDate);\r\n                d.setDate(new Date(startDate).getDate() + i);\r\n                return d;\r\n            })\r\n            : [new Date(startDate)];\r\n    }\r\n    static CalendarDayStringSpan(startDate, endDate) {\r\n        return DateHelper.CalendarDaySpan(startDate, endDate).map((d) => DateHelper.ToDayString(d));\r\n    }\r\n    static CountDaysInMonth(date) {\r\n        return DateHelper.DaysInMonth(date).length;\r\n    }\r\n    static DaysBetween(startDate, endDate) {\r\n        const millisecondsPerDay = 24 * 60 * 60 * 1000;\r\n        return ((DateHelper.TreatAsUTC(new Date(endDate)).getTime() -\r\n            DateHelper.TreatAsUTC(new Date(startDate)).getTime()) /\r\n            millisecondsPerDay);\r\n    }\r\n    static DaysInMonth(date) {\r\n        const d = new Date(date.getFullYear(), date.getMonth(), 1);\r\n        const days = [];\r\n        const month = d.getMonth();\r\n        while (d.getMonth() === month) {\r\n            days.push(new Date(d));\r\n            d.setDate(d.getDate() + 1);\r\n        }\r\n        return days;\r\n    }\r\n    static FormatDate(date) {\r\n        const d = new Date(date);\r\n        const month = \"\" + (d.getMonth() + 1);\r\n        const day = \"\" + d.getDate();\r\n        const year = d.getFullYear();\r\n        return month && day && year ? [month, day, year].join(\"/\") : null;\r\n    }\r\n    static FormatDateDashes(date) {\r\n        const d = new Date(date);\r\n        let month = \"\" + (d.getMonth() + 1);\r\n        let day = \"\" + d.getDate();\r\n        const year = d.getFullYear();\r\n        if (month.length < 2) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (day.length < 2) {\r\n            day = \"0\" + day;\r\n        }\r\n        return [year, month, day].join(\"-\");\r\n    }\r\n    static FormatDateSlashes(date) {\r\n        const d = new Date(date);\r\n        let month = \"\" + (d.getMonth() + 1);\r\n        let day = \"\" + d.getDate();\r\n        const year = d.getFullYear();\r\n        if (month.length < 2) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (day.length < 2) {\r\n            day = \"0\" + day;\r\n        }\r\n        return [month, day, year].join(\"/\");\r\n    }\r\n    static FromMonthYear(monthYear) {\r\n        const year = DateHelper.ToYearNumberFromMonthYear(monthYear);\r\n        const month = DateHelper.ToMonthNumberFromMonthYear(monthYear);\r\n        return year && month ? new Date(year, month) : new Date();\r\n    }\r\n    static GetFirstDayOfLastMonth(date) {\r\n        const d = new Date(date);\r\n        return new Date(d.getFullYear(), d.getMonth() - 1, 1);\r\n    }\r\n    static GetFirstDayOfMonth(date) {\r\n        const d = new Date(date);\r\n        return new Date(d.getFullYear(), d.getMonth(), 1);\r\n    }\r\n    static GetFirstDayOfNextMonth(date) {\r\n        const d = new Date(date);\r\n        return new Date(d.getFullYear(), d.getMonth() + 1, 1);\r\n    }\r\n    static GetLastDayOfMonth(date) {\r\n        const days = DateHelper.DaysInMonth(date);\r\n        return days[days.length - 1];\r\n    }\r\n    static GetHour(date) {\r\n        const d = new Date(date);\r\n        return d.getHours();\r\n    }\r\n    static GetMeridian(date) {\r\n        const hour = DateHelper.GetHour(date);\r\n        return hour >= 12 ? \"PM\" : \"AM\";\r\n    }\r\n    static GetMinute(date) {\r\n        const d = new Date(date);\r\n        return d.getMinutes();\r\n    }\r\n    static GetMonthIndex(date) {\r\n        const d = new Date(date);\r\n        return d.getMonth();\r\n    }\r\n    static GetMonthName(date) {\r\n        const d = new Date(date);\r\n        return build(Month, DateHelper.Months.find((x) => x.index === d.getMonth())).name;\r\n    }\r\n    static GetShortMonthName(date) {\r\n        const d = new Date(date);\r\n        return build(Month, DateHelper.Months.find((x) => x.index === d.getMonth())).abbreviation;\r\n    }\r\n    static GetWeekdayIndex(date) {\r\n        const d = new Date(date);\r\n        return d.getDay();\r\n    }\r\n    static GetYear(date) {\r\n        const d = new Date(date);\r\n        return d.getFullYear();\r\n    }\r\n    static HoursBetween(d1, d2) {\r\n        return DateHelper.MillisecondsBetween(d1, d2) / 3600000;\r\n    }\r\n    static HoursFromBeginningOfDay(d) {\r\n        const date = new Date(d);\r\n        return date.getHours() + date.getMinutes() / 60;\r\n    }\r\n    static IsBetween(d, startDate, endDate) {\r\n        const date = new Date(d);\r\n        const calculatedEndDate = endDate || startDate;\r\n        return (startDate &&\r\n            date > new Date(startDate) &&\r\n            date < new Date(calculatedEndDate));\r\n    }\r\n    static IsDate(date) {\r\n        return Object.prototype.toString.call(date) === \"[object Date]\";\r\n    }\r\n    static IsValidDate(date) {\r\n        const dateWrapper = new Date(date);\r\n        return !isNaN(dateWrapper.getDate());\r\n    }\r\n    static IsWeekday(d) {\r\n        const day = new Date(d).getDay();\r\n        return day === 1 || day === 2 || day === 3 || day === 4 || day === 5;\r\n    }\r\n    static IsWeekend(d) {\r\n        const day = new Date(d).getDay();\r\n        return day === 0 || day === 6;\r\n    }\r\n    static IsSameMonth(d1, d2) {\r\n        return new Date(d1).getMonth() === new Date(d2).getMonth();\r\n    }\r\n    static MillisecondsBetween(d1, d2) {\r\n        return Math.abs(new Date(d1).getTime() - new Date(d2).getTime());\r\n    }\r\n    static NextDay(fromDate) {\r\n        const today = new Date(fromDate);\r\n        const tomorrow = new Date();\r\n        tomorrow.setDate(today.getDate() + 1);\r\n        return tomorrow;\r\n    }\r\n    static ParseDateDashes(date) {\r\n        const arr = date.split(\"-\");\r\n        return new Date(toInt(arr[0]), toInt(arr[1]) - 1, toInt(arr[2]));\r\n    }\r\n    static TimeAgo(date) {\r\n        if (!date) {\r\n            return '';\r\n        }\r\n        const seconds = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);\r\n        let interval = Math.floor(seconds / 31536000);\r\n        if (interval > 1) {\r\n            return `${interval} years ago`;\r\n        }\r\n        interval = Math.floor(seconds / 2592000);\r\n        if (interval > 1) {\r\n            return `${interval} months ago`;\r\n        }\r\n        interval = Math.floor(seconds / 86400);\r\n        if (interval > 1) {\r\n            return `${interval} days ago`;\r\n        }\r\n        interval = Math.floor(seconds / 3600);\r\n        if (interval > 1) {\r\n            return `${interval} hours ago`;\r\n        }\r\n        interval = Math.floor(seconds / 60);\r\n        if (interval > 1) {\r\n            return `${interval} minutes ago`;\r\n        }\r\n        return 'Just Now';\r\n        // return Math.floor(seconds) + \" seconds`\"\r\n    }\r\n    static TimeBetween(startDate, endDate) {\r\n        return new Date(endDate).getTime() - new Date(startDate).getTime();\r\n    }\r\n    static ToDayString(d) {\r\n        const date = new Date(d);\r\n        return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    }\r\n    static ToMonthName(d) {\r\n        const date = new Date(d);\r\n        return DateHelper.MonthNames[date.getMonth()];\r\n    }\r\n    static ToMonthNumber(d) {\r\n        const date = new Date(d);\r\n        return date.getMonth() + 1;\r\n    }\r\n    static ToMonthNumberFromMonthYear(monthYear) {\r\n        const month = monthYear.substr(monthYear.length - 2);\r\n        return toInt(month) - 1;\r\n    }\r\n    static ToMonthNumberFromMonthYearName(monthYear) {\r\n        const parts = monthYear.split(/\\s*,\\s*/);\r\n        const month = DateHelper.MonthNumbers[parts[0]];\r\n        return month;\r\n    }\r\n    static ToMonthYear(d) {\r\n        const date = new Date(d);\r\n        const monthNumber = DateHelper.ToMonthNumber(date);\r\n        const month = monthNumber < 10 ? `0${monthNumber}` : monthNumber;\r\n        return `${date.getFullYear()}-${month}`;\r\n    }\r\n    static ToMonthYearName(d) {\r\n        const date = new Date(d);\r\n        const month = DateHelper.ToMonthName(date);\r\n        const year = date.getFullYear();\r\n        return month && year ? `${month} ${year}` : \"\";\r\n    }\r\n    static ToYearNumberFromMonthYear(monthYear) {\r\n        const year = monthYear.substring(0, 4);\r\n        return toInt(year);\r\n    }\r\n    static TreatAsUTC(date) {\r\n        const result = new Date(date);\r\n        result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\r\n        return result;\r\n    }\r\n    static get Today() {\r\n        return new Date();\r\n    }\r\n    static get Month() {\r\n        return DateHelper.Today.getMonth();\r\n    }\r\n    static get MonthNumbers() {\r\n        return DateHelper.MonthNames.reduce((acc, x, i) => Object.assign({}, acc, { [x]: i }));\r\n    }\r\n    static get Year() {\r\n        return DateHelper.Today.getFullYear();\r\n    }\r\n    static get NextSchoolYear() {\r\n        return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n    }\r\n    static get NextSchoolYearStartDate() {\r\n        return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));\r\n    }\r\n    static get PreviousSchoolYear() {\r\n        return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n    }\r\n    static get PreviousSchoolYearEndDate() {\r\n        return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));\r\n    }\r\n    static get FutureDate() {\r\n        const date = DateHelper.Today;\r\n        return DateHelper.AddDays(date, 100000);\r\n    }\r\n    static get PastDate() {\r\n        const date = DateHelper.Today;\r\n        return DateHelper.SubtractDays(date, 100000);\r\n    }\r\n    static AddDays(d, days) {\r\n        const date = new Date(d);\r\n        date.setDate(date.getDate() + days);\r\n        return date;\r\n    }\r\n    static SubtractDays(d, days) {\r\n        const date = new Date(d);\r\n        date.setDate(date.getDate() - days);\r\n        return date;\r\n    }\r\n    static BuildDate(year, month, day) {\r\n        const date = new Date();\r\n        date.setFullYear(year);\r\n        date.setMonth(month);\r\n        date.setDate(day);\r\n        return date;\r\n    }\r\n    static DateChanged(d1, d2) {\r\n        const date1 = new Date(d1);\r\n        const date2 = new Date(d2);\r\n        return (date1.getDate() !== date2.getDate() ||\r\n            date1.getMonth() !== date2.getMonth() ||\r\n            date1.getFullYear() !== date2.getFullYear());\r\n    }\r\n    static IsSameDay(d1, d2) {\r\n        const date1 = new Date(d1);\r\n        const date2 = new Date(d2);\r\n        return (date1.getDate() === date2.getDate() &&\r\n            date1.getMonth() === date2.getMonth() &&\r\n            date1.getFullYear() === date2.getFullYear());\r\n    }\r\n    static get YearStartDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year, 6, 1);\r\n        }\r\n    }\r\n    static get PreviousYearStartDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n        }\r\n    }\r\n    static SchoolYearStart(year) {\r\n        return DateHelper.BuildDate(year, 6, 1);\r\n    }\r\n    static get YearEndDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);\r\n        }\r\n    }\r\n    static get PreviousYearEndDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n        }\r\n    }\r\n    static SchoolYearEnd(year) {\r\n        return DateHelper.BuildDate(year - 1, 5, 30);\r\n    }\r\n    static BuildDateRange(dateRangeId) {\r\n        let startDate;\r\n        let endDate;\r\n        switch (dateRangeId) {\r\n            case 0:\r\n                break;\r\n            case 1:\r\n                break;\r\n            case 2: // Today\r\n                startDate = DateHelper.Today;\r\n                endDate = startDate;\r\n                break;\r\n            case 3: // Next 15\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.AddDays(startDate, 15);\r\n                break;\r\n            case 4: // Next 30\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.AddDays(startDate, 30);\r\n                break;\r\n            case 5: // Next 60\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.AddDays(startDate, 60);\r\n                break;\r\n            case 6: // Previous 15\r\n                endDate = DateHelper.Today;\r\n                startDate = DateHelper.SubtractDays(endDate, 15);\r\n                break;\r\n            case 7: // Previous 30\r\n                endDate = DateHelper.Today;\r\n                startDate = DateHelper.SubtractDays(endDate, 30);\r\n                break;\r\n            case 8: // Previous 60\r\n                endDate = DateHelper.Today;\r\n                startDate = DateHelper.SubtractDays(endDate, 60);\r\n                break;\r\n            case 9: // School Year - Runs from July 1st Thru June 30th\r\n                startDate = DateHelper.YearStartDate;\r\n                endDate = DateHelper.YearEndDate;\r\n                break;\r\n            case 10: // Number of meetings = 10\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.FutureDate;\r\n                break;\r\n            case 11: // Previous School Year\r\n                startDate = DateHelper.PreviousYearStartDate;\r\n                endDate = DateHelper.PreviousYearEndDate;\r\n                break;\r\n        }\r\n        return build(DateRange, { startDate, endDate });\r\n    }\r\n    static get Months() {\r\n        return [\r\n            build(Month, { name: \"January\", abbreviation: \"Jan\", index: 0 }),\r\n            build(Month, { name: \"February\", abbreviation: \"Feb\", index: 1 }),\r\n            build(Month, { name: \"March\", abbreviation: \"Mar\", index: 2 }),\r\n            build(Month, { name: \"April\", abbreviation: \"Apr\", index: 3 }),\r\n            build(Month, { name: \"May\", abbreviation: \"May\", index: 4 }),\r\n            build(Month, { name: \"June\", abbreviation: \"June\", index: 5 }),\r\n            build(Month, { name: \"July\", abbreviation: \"July\", index: 6 }),\r\n            build(Month, { name: \"August\", abbreviation: \"Aug\", index: 7 }),\r\n            build(Month, { name: \"September\", abbreviation: \"Sept\", index: 8 }),\r\n            build(Month, { name: \"October\", abbreviation: \"Oct\", index: 9 }),\r\n            build(Month, { name: \"November\", abbreviation: \"Nov\", index: 10 }),\r\n            build(Month, { name: \"December\", abbreviation: \"Dec\", index: 11 }),\r\n        ];\r\n    }\r\n    static get Weekdays() {\r\n        return [\r\n            build(Weekday, {\r\n                name: \"Sunday\",\r\n                abbreviation: \"Sun\",\r\n                initial: \"Su\",\r\n                index: 0,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Monday\",\r\n                abbreviation: \"Mon\",\r\n                initial: \"M\",\r\n                index: 1,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Tuesday\",\r\n                abbreviation: \"Tues\",\r\n                initial: \"T\",\r\n                index: 2,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Wednesday\",\r\n                abbreviation: \"Wed\",\r\n                initial: \"W\",\r\n                index: 3,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Thursday\",\r\n                abbreviation: \"Thurs\",\r\n                initial: \"Th\",\r\n                index: 4,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Friday\",\r\n                abbreviation: \"Fri\",\r\n                initial: \"F\",\r\n                index: 5,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Saturday\",\r\n                abbreviation: \"Sat\",\r\n                initial: \"S\",\r\n                index: 6,\r\n            }),\r\n        ];\r\n    }\r\n}\r\nDateHelper.MonthNames = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n];\r\nfunction noWeekendDaysValidator() {\r\n    return (control) => {\r\n        if (control.value && Date.parse(control.value.toString())) {\r\n            const dateValue = new Date(control.value.toString());\r\n            const IsWeekend = DateHelper.IsWeekend(dateValue);\r\n            const formattedDate = DateHelper.FormatDate(dateValue);\r\n            const weekendDay = DateHelper.Weekdays[new Date(dateValue).getDay()].name;\r\n            return !IsWeekend ? null : { weekend: `${formattedDate} is a ${weekendDay}. Weekend Days are not allowed.` };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n}\r\nfunction dateFormatValidator() {\r\n    return (control) => {\r\n        const dt = new Date(control.value);\r\n        const month = dt.getMonth() + 1;\r\n        const day = dt.getDate();\r\n        const year = dt.getFullYear();\r\n        if (!correctMonthFormat(month) || !correctDayFormat(day) || !correctYearFormat(year)) {\r\n            return { format: 'Date is not in a valid format.' };\r\n        }\r\n        return null;\r\n    };\r\n}\r\nfunction correctMonthFormat(month) {\r\n    return month > 0 && month < 13;\r\n}\r\n// could improve to be a specific day based on the month.\r\nfunction correctDayFormat(day) {\r\n    return day > 0 && day < 32;\r\n}\r\nfunction correctYearFormat(year) {\r\n    return year > 999 && year < 10000;\r\n}\n\nconst DATEPICKER_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DatepickerComponent),\r\n    multi: true\r\n};\r\nclass DatepickerComponent {\r\n    constructor() {\r\n        this.placeholder = 'Choose a date';\r\n        this.required = false;\r\n        this.startView = 'month';\r\n        this.selectedChanged = new EventEmitter();\r\n        this.dateInput = new FormControl('');\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(val) {\r\n        this._value = val;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value.value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value.value);\r\n        }\r\n    }\r\n    get id() {\r\n        return this.datepicker.id;\r\n    }\r\n    get opened() {\r\n        return this.datepicker.opened;\r\n    }\r\n    ngOnInit() {\r\n        this.startAt = this.value;\r\n        if (this.filter != null) {\r\n            this.dateFilter = this.filter;\r\n        }\r\n        else {\r\n            this.dateFilter = null;\r\n        }\r\n        this.dateInput.setValidators([\r\n            dateFormatValidator(),\r\n            noWeekendDaysValidator()\r\n        ]);\r\n        this.dateInput.setValue(this.value);\r\n    }\r\n    changeSelected(date) {\r\n        this.onChange(date);\r\n        this.selectedChanged.emit(date.value);\r\n    }\r\n    close() {\r\n        this.datepicker.close();\r\n    }\r\n    open() {\r\n        this.datepicker.open();\r\n    }\r\n}\r\n/** @nocollapse */ DatepickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DatepickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DatepickerComponent, selector: \"iu-datepicker\", inputs: { filter: \"filter\", min: \"min\", max: \"max\", placeholder: \"placeholder\", required: \"required\", startAt: \"startAt\", startView: \"startView\", touchUi: \"touchUi\", value: \"value\" }, outputs: { selectedChanged: \"selectedChanged\" }, providers: [DATEPICKER_ACCESSOR], viewQueries: [{ propertyName: \"datepicker\", first: true, predicate: [\"picker\"], descendants: true, static: true }], ngImport: i0, template: \"<mat-form-field>\\r\\n   <input matInput dateMask [required]=\\\"required\\\" [placeholder]=\\\"placeholder\\\" \\r\\n   [matDatepicker]=\\\"picker\\\" [matDatepickerFilter]=\\\"dateFilter\\\" \\r\\n   (dateChange)=\\\"changeSelected($event)\\\" [min]=\\\"min\\\" [max]=\\\"max\\\" [value]=\\\"value\\\" \\r\\n   [formControl]=\\\"dateInput\\\" />\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('required')\\\">\\r\\n      This date is required.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('format')\\\">\\r\\n      Please enter a valid date using <strong>mm/dd/yyyy</strong> format.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('weekend')\\\">\\r\\n      {{ dateInput.errors['weekend'] }}\\r\\n   </mat-error>\\r\\n   <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n   <mat-datepicker #picker [startAt]=\\\"startAt\\\" [startView]=\\\"startView\\\" [touchUi]=\\\"touchUi\\\"></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\".mat-input-container{float:left}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }], directives: [{ type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: DateMaskDirective, selector: \"[dateMask]\" }, { type: i5.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$3.MatError, selector: \"mat-error\", inputs: [\"id\"] }, { type: i1$3.MatSuffix, selector: \"[matSuffix]\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-datepicker', changeDetection: ChangeDetectionStrategy.OnPush, providers: [DATEPICKER_ACCESSOR], template: \"<mat-form-field>\\r\\n   <input matInput dateMask [required]=\\\"required\\\" [placeholder]=\\\"placeholder\\\" \\r\\n   [matDatepicker]=\\\"picker\\\" [matDatepickerFilter]=\\\"dateFilter\\\" \\r\\n   (dateChange)=\\\"changeSelected($event)\\\" [min]=\\\"min\\\" [max]=\\\"max\\\" [value]=\\\"value\\\" \\r\\n   [formControl]=\\\"dateInput\\\" />\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('required')\\\">\\r\\n      This date is required.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('format')\\\">\\r\\n      Please enter a valid date using <strong>mm/dd/yyyy</strong> format.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('weekend')\\\">\\r\\n      {{ dateInput.errors['weekend'] }}\\r\\n   </mat-error>\\r\\n   <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n   <mat-datepicker #picker [startAt]=\\\"startAt\\\" [startView]=\\\"startView\\\" [touchUi]=\\\"touchUi\\\"></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\".mat-input-container{float:left}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { filter: [{\r\n                type: Input\r\n            }], min: [{\r\n                type: Input\r\n            }], max: [{\r\n                type: Input\r\n            }], placeholder: [{\r\n                type: Input\r\n            }], required: [{\r\n                type: Input\r\n            }], startAt: [{\r\n                type: Input\r\n            }], startView: [{\r\n                type: Input\r\n            }], touchUi: [{\r\n                type: Input\r\n            }], selectedChanged: [{\r\n                type: Output\r\n            }], datepicker: [{\r\n                type: ViewChild,\r\n                args: ['picker', { static: true }]\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nconst DATERANGE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DaterangeComponent),\r\n    multi: true\r\n};\r\nclass DaterangeComponent {\r\n    constructor(changeDetectorRef) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.debug = false;\r\n        this.inline = false;\r\n        this.required = false;\r\n        this.startLabel = 'Start Date';\r\n        this.endLabel = 'End Date';\r\n        this.startDateChanged = new EventEmitter();\r\n        this.endDateChanged = new EventEmitter();\r\n        this._value = new DateRange();\r\n        this.focused = new DateRange();\r\n        this.now = new Date();\r\n    }\r\n    ngOnInit() { }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(val) {\r\n        this._value = val;\r\n        if (this.startDatepicker) {\r\n            this.startDatepicker.value = val?.startDate;\r\n        }\r\n        if (this.endDatepicker) {\r\n            this.endDatepicker.value = val?.endDate;\r\n        }\r\n        if (this &&\r\n            this.changeDetectorRef &&\r\n            !this.changeDetectorRef['destroyed']) {\r\n            this.changeDetectorRef.detectChanges();\r\n        }\r\n    }\r\n    get startDateId() {\r\n        return this.startDatepicker.id;\r\n    }\r\n    get startDateOpened() {\r\n        return this.startDatepicker.opened;\r\n    }\r\n    get endDateId() {\r\n        return this.endDatepicker.id;\r\n    }\r\n    get endDateOpened() {\r\n        return this.endDatepicker.opened;\r\n    }\r\n    get startDateValue() {\r\n        return this.value.startDate ? new Date(this.value.startDate) : null;\r\n    }\r\n    set startDateValue(value) {\r\n        this.changeStartDate(value);\r\n    }\r\n    get endDateValue() {\r\n        return this.value.endDate ? new Date(this.value.endDate) : null;\r\n    }\r\n    set endDateValue(value) {\r\n        this.changeEndDate(value);\r\n    }\r\n    get startDateLastDay() {\r\n        return new Date(this.startDateValue.getFullYear(), this.startDateValue.getMonth() + 1, 0);\r\n    }\r\n    filter(d) {\r\n        return this.ifMonthSame(d) || this.ifMonthDifferent(d);\r\n    }\r\n    ;\r\n    changeStartDate(date) {\r\n        this.onChange(build(DateRange, {\r\n            endDate: this.value.endDate,\r\n            startDate: date\r\n        }));\r\n        this.startDateChanged.emit(date);\r\n    }\r\n    ifMonthSame(d) {\r\n        return (d.getMonth() === this.startDateValue.getMonth() &&\r\n            d.getDate() >= this.startDateValue.getDate() &&\r\n            d.getFullYear() === this.startDateValue.getFullYear());\r\n    }\r\n    ifMonthDifferent(d) {\r\n        return ((d.getMonth() > this.startDateValue.getMonth() &&\r\n            d.getFullYear() >= this.startDateValue.getFullYear() &&\r\n            (1 < d.getDate() ||\r\n                this.startDateValue.getDate() <= this.startDateLastDay.getDate())) ||\r\n            d.getFullYear() > this.startDateValue.getFullYear());\r\n    }\r\n    closeStartDate() {\r\n        this.startDatepicker.close();\r\n    }\r\n    openStateDate() {\r\n        this.startDatepicker.open();\r\n    }\r\n    changeEndDate(date) {\r\n        this.onChange(build(DateRange, {\r\n            endDate: date,\r\n            startDate: this.value.startDate\r\n        }));\r\n        this.endDateChanged.emit(date);\r\n        if (this.debug) {\r\n            console.dir('changeEndDate ran');\r\n            console.dir('Start Date: ' + this.startDateValue);\r\n            console.dir('End Date:' + date);\r\n        }\r\n    }\r\n    closeEndDate() {\r\n        this.endDatepicker.close();\r\n    }\r\n    openEndDate() {\r\n        this.endDatepicker.open();\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onFocus(value) {\r\n        this.focused = value;\r\n        if (this.onTouch) {\r\n            this.onTouch();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ DaterangeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DaterangeComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DaterangeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DaterangeComponent, selector: \"iu-daterange\", inputs: { debug: \"debug\", inline: \"inline\", min: \"min\", max: \"max\", required: \"required\", startAt: \"startAt\", startLabel: \"startLabel\", endLabel: \"endLabel\", startView: \"startView\", touchUi: \"touchUi\", value: \"value\" }, outputs: { startDateChanged: \"startDateChanged\", endDateChanged: \"endDateChanged\" }, providers: [DATERANGE_ACCESSOR], viewQueries: [{ propertyName: \"startDatepicker\", first: true, predicate: [\"startDate\"], descendants: true, static: true }, { propertyName: \"endDatepicker\", first: true, predicate: [\"endDate\"], descendants: true, static: true }], ngImport: i0, template: \"<div class=\\\"daterange\\\">\\r\\n   <div class=\\\"start-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ startLabel }}:</label>\\r\\n      <iu-datepicker #startDate (selectedChanged)=\\\"changeStartDate($event)\\\" [startAt]=\\\"now\\\"\\r\\n      [required]=\\\"required\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n   <div class=\\\"end-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ endLabel }}:</label>\\r\\n      <iu-datepicker #endDate (selectedChanged)=\\\"changeEndDate($event)\\\" [startAt]=\\\"now\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n</div>\", styles: [\".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{min-width:76px;display:inline-block;font-size:14px;padding-top:22px;margin-right:10px}\\n\"], components: [{ type: DatepickerComponent, selector: \"iu-datepicker\", inputs: [\"filter\", \"min\", \"max\", \"placeholder\", \"required\", \"startAt\", \"startView\", \"touchUi\", \"value\"], outputs: [\"selectedChanged\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DaterangeComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-daterange', changeDetection: ChangeDetectionStrategy.OnPush, providers: [DATERANGE_ACCESSOR], template: \"<div class=\\\"daterange\\\">\\r\\n   <div class=\\\"start-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ startLabel }}:</label>\\r\\n      <iu-datepicker #startDate (selectedChanged)=\\\"changeStartDate($event)\\\" [startAt]=\\\"now\\\"\\r\\n      [required]=\\\"required\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n   <div class=\\\"end-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ endLabel }}:</label>\\r\\n      <iu-datepicker #endDate (selectedChanged)=\\\"changeEndDate($event)\\\" [startAt]=\\\"now\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n</div>\", styles: [\".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{min-width:76px;display:inline-block;font-size:14px;padding-top:22px;margin-right:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { debug: [{\r\n                type: Input\r\n            }], inline: [{\r\n                type: Input\r\n            }], min: [{\r\n                type: Input\r\n            }], max: [{\r\n                type: Input\r\n            }], required: [{\r\n                type: Input\r\n            }], startAt: [{\r\n                type: Input\r\n            }], startLabel: [{\r\n                type: Input\r\n            }], endLabel: [{\r\n                type: Input\r\n            }], startView: [{\r\n                type: Input\r\n            }], touchUi: [{\r\n                type: Input\r\n            }], startDateChanged: [{\r\n                type: Output\r\n            }], endDateChanged: [{\r\n                type: Output\r\n            }], startDatepicker: [{\r\n                type: ViewChild,\r\n                args: ['startDate', { static: true }]\r\n            }], endDatepicker: [{\r\n                type: ViewChild,\r\n                args: ['endDate', { static: true }]\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nclass DatepickerModule {\r\n}\r\n/** @nocollapse */ DatepickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ DatepickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, declarations: [DatepickerComponent,\r\n        DaterangeComponent], imports: [SharedModule,\r\n        MatDatepickerModule,\r\n        MatNativeDateModule,\r\n        MatInputModule,\r\n        ReactiveFormsModule], exports: [DatepickerComponent,\r\n        DaterangeComponent] });\r\n/** @nocollapse */ DatepickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, imports: [[\r\n            SharedModule,\r\n            MatDatepickerModule,\r\n            MatNativeDateModule,\r\n            MatInputModule,\r\n            ReactiveFormsModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatDatepickerModule,\r\n                        MatNativeDateModule,\r\n                        MatInputModule,\r\n                        ReactiveFormsModule,\r\n                    ],\r\n                    declarations: [\r\n                        DatepickerComponent,\r\n                        DaterangeComponent,\r\n                    ],\r\n                    exports: [\r\n                        DatepickerComponent,\r\n                        DaterangeComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass FileUpload {\r\n    constructor() {\r\n        this.isPrivate = false;\r\n        this.lastModified = 0;\r\n        this.lastModifiedDate = new Date();\r\n        this.name = '';\r\n        this.size = 0;\r\n        this.type = '';\r\n        this.webkitRelativePath = '';\r\n        this.order = 0;\r\n        this.readyState = 'EMPTY';\r\n        this.src = '';\r\n    }\r\n    static BuildFromFile(file) {\r\n        return build(FileUpload, {\r\n            name: file.fileName,\r\n            size: file.fileSize,\r\n            type: file.mimeType,\r\n            src: file.src,\r\n            order: file.order\r\n        });\r\n    }\r\n    static GetReadyState(reader) {\r\n        switch (reader.readyState) {\r\n            case 0:\r\n                return 'EMPTY';\r\n            case 1:\r\n                return 'LOADING';\r\n            case 2:\r\n                return 'DONE';\r\n            default:\r\n                return 'EMPTY';\r\n        }\r\n    }\r\n    set extension(value) {\r\n    }\r\n    get extension() {\r\n        return this.name.split('.').pop();\r\n    }\r\n    set isImage(value) {\r\n    }\r\n    get isImage() {\r\n        return this.type ? this.type.split('/')[0] === 'image' : false;\r\n    }\r\n    set loading(value) {\r\n    }\r\n    get loading() {\r\n        return this.readyState === 'LOADING';\r\n    }\r\n    set file(value) {\r\n    }\r\n    get file() {\r\n        return File.BuildFromFileUpload(this);\r\n    }\r\n}\r\nfunction getReadyState(reader) {\r\n    switch (reader.readyState) {\r\n        case 0:\r\n            return 'EMPTY';\r\n        case 1:\r\n            return 'LOADING';\r\n        case 2:\r\n            return 'DONE';\r\n        default:\r\n            return 'EMPTY';\r\n    }\r\n}\r\nclass File {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.fileBinary = [];\r\n        this.fileExtension = '';\r\n        this.fileName = '';\r\n        this.fileSize = 0;\r\n        this.mimeType = '';\r\n        this.order = 0;\r\n    }\r\n    static BuildFromFileUpload(upload) {\r\n        return build(File, {\r\n            fileBinary: upload.src.replace(File.GetSrcPrefix(upload.type), ''),\r\n            fileExtension: upload.extension,\r\n            fileName: upload.name,\r\n            fileSize: upload.size,\r\n            mimeType: upload.type,\r\n            order: upload.order\r\n        });\r\n    }\r\n    static GetImageBinarySrc(img, defaultSrc = null) {\r\n        if (Array.isArray(img) && img.length > 0) {\r\n            return File.GetImageBinarySrc(img[0]);\r\n        }\r\n        else {\r\n            return img && truthy(img.mimeType) && truthy(img.fileBinary) ?\r\n                `data:${img.mimeType};base64,${img.fileBinary}`\r\n                : defaultSrc;\r\n        }\r\n    }\r\n    static GetSrcPrefix(mimeType) {\r\n        return `data:${mimeType};base64,`;\r\n    }\r\n    // get fileUpload(): FileUpload {\r\n    //     return FileUpload.BuildFromFile(this);\r\n    // }\r\n    get src() {\r\n        return File.GetImageBinarySrc(this);\r\n    }\r\n}\n\nclass Permutation {\r\n    constructor(order) {\r\n        this.order = order;\r\n        this._timestamp = new Date();\r\n    }\r\n    get ranks() {\r\n        return this.order.sort((a, b) => a.order - b.order)\r\n            .map((x, index) => Object.assign({}, x, { rank: index + 1 }));\r\n    }\r\n    get timestamp() {\r\n        return this._timestamp;\r\n    }\r\n}\r\nclass OrderedItem {\r\n    constructor(item) {\r\n        this.item = item;\r\n    }\r\n}\r\nclass Ordering {\r\n    constructor(_items, ctor, orderKey, idKey = 'id') {\r\n        this._items = _items;\r\n        this.ctor = ctor;\r\n        this.orderKey = orderKey;\r\n        this.idKey = idKey;\r\n        this._history = [];\r\n    }\r\n    get count() {\r\n        return this.items.length;\r\n    }\r\n    get history() {\r\n        return this._history;\r\n    }\r\n    get instance() {\r\n        return new this.ctor();\r\n    }\r\n    get items() {\r\n        return this._items.sort((a, b) => this.getItemOrder(a) - this.getItemOrder(b));\r\n    }\r\n    get maxIndex() {\r\n        return this.count === 0 ? 0 : Math.max(...this.order.map(x => x.order));\r\n    }\r\n    get order() {\r\n        return this.permutation.ranks;\r\n    }\r\n    get permutation() {\r\n        return new Permutation(this.items.map(item => ({\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        })));\r\n    }\r\n    get nextPosition() {\r\n        return this.maxIndex + 1;\r\n    }\r\n    addItem(item) {\r\n        return this.addItemAtPosition(item, this.nextPosition);\r\n    }\r\n    addItemAtPosition(item, pos) {\r\n        const newItemId = this.getItemId(item);\r\n        return [...this.items, build(this.ctor, item, { order: pos })]\r\n            .map(x => {\r\n            const order = this.getItemOrder(x);\r\n            const id = this.getItemId(x);\r\n            return (order <= pos || id === newItemId) ? x : build(this.ctor, x, { order: order + 1 });\r\n        });\r\n    }\r\n    archive(items) {\r\n        const permutation = items ? this.getPermutation(items) : this.permutation;\r\n        this._history = [...this._history, permutation];\r\n    }\r\n    getItemId(item) {\r\n        return item[this.idKey];\r\n    }\r\n    getItemOrder(item) {\r\n        return item[this.orderKey];\r\n    }\r\n    getPermutation(items) {\r\n        return new Permutation(items.map(item => ({\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        })));\r\n    }\r\n    move(item, to) {\r\n        const from = this.getItemOrder(item);\r\n        const itemId = this.getItemId(item);\r\n        if (to === from) {\r\n            return [...this.items];\r\n        }\r\n        else if (to < from) {\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < to || order > from) ? x : build(this.ctor, x, { order: order + 1 });\r\n            });\r\n        }\r\n        else { // to > from\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < from || order > to) ? x : build(this.ctor, x, { order: order - 1 });\r\n            });\r\n        }\r\n    }\r\n    moveDown(item) {\r\n        return this.move(item, this.getItemOrder(item) + 1);\r\n    }\r\n    moveUp(item) {\r\n        return this.move(item, this.getItemOrder(item) - 1);\r\n    }\r\n    removeItem(item) {\r\n        return this.removeItemAtPosition(this.getItemOrder(item));\r\n    }\r\n    removeItemAtPosition(pos) {\r\n        return this.items.filter(item => this.getItemOrder(item) !== pos)\r\n            .map(x => {\r\n            const order = this.getItemOrder(x);\r\n            return order < pos ? x : build(this.ctor, x, { order: order - 1 });\r\n        });\r\n    }\r\n    updateItems(items) {\r\n        this.archive();\r\n        this._items = items;\r\n    }\r\n}\n\nclass FilePreviewComponent {\r\n    constructor() {\r\n        this.ordered = true;\r\n        this.first = false;\r\n        this.last = false;\r\n        this.isPrivateMessage = '';\r\n        this.changePrivacyStatus = new EventEmitter();\r\n        this.moveUp = new EventEmitter();\r\n        this.moveDown = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this._file = new FileUpload();\r\n    }\r\n    set file(value) {\r\n        this._file = value;\r\n    }\r\n    get file() {\r\n        return build(FileUpload, this._file);\r\n    }\r\n    get cursorStyle() {\r\n        return this.ordered ? 'move' : 'default';\r\n    }\r\n    get graphic() {\r\n        if (!this.file) {\r\n            return null;\r\n        }\r\n        if (this.file.loading) {\r\n            return 'cloud_upload';\r\n        }\r\n        else if (this.file.isImage) {\r\n            return 'image';\r\n        }\r\n        else {\r\n            switch (this.file.extension) {\r\n                case 'pdf':\r\n                    return 'picture_as_pdf';\r\n                default:\r\n                    return 'cloud_done';\r\n            }\r\n        }\r\n    }\r\n    set isPrivate(value) {\r\n        this.changePrivacyStatus.emit(build(FileUpload, this.file, {\r\n            isPrivate: value\r\n        }));\r\n    }\r\n    get isPrivate() {\r\n        return this._file.isPrivate;\r\n    }\r\n    get showImage() {\r\n        return this.file.isImage && truthy(this.file.src);\r\n    }\r\n    get showUpArrow() {\r\n        return this.ordered && !this.first;\r\n    }\r\n    get showDownArrow() {\r\n        return this.ordered && !this.last;\r\n    }\r\n    onMoveUp() {\r\n        this.moveUp.emit(this.file);\r\n    }\r\n    onMoveDown() {\r\n        this.moveDown.emit(this.file);\r\n    }\r\n    onRemove() {\r\n        this.remove.emit(this.file);\r\n    }\r\n}\r\n/** @nocollapse */ FilePreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FilePreviewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ FilePreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FilePreviewComponent, selector: \"iu-file-preview\", inputs: { height: \"height\", width: \"width\", ordered: \"ordered\", first: \"first\", last: \"last\", isPrivateMessage: \"isPrivateMessage\", file: \"file\" }, outputs: { changePrivacyStatus: \"changePrivacyStatus\", moveUp: \"moveUp\", moveDown: \"moveDown\", remove: \"remove\" }, ngImport: i0, template: \"<mat-card class=\\\"file-preview\\\" [style.cursor]=\\\"cursorStyle\\\">\\r\\n  <div class=\\\"graphic\\\">\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"file.src\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\">{{ graphic }}</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-bar mode=\\\"indeterminate\\\" *ngIf=\\\"file.loading\\\"></mat-progress-bar>\\r\\n  <div class=\\\"file-info\\\" [class.has-security]=\\\"isPrivateMessage\\\">\\r\\n    <span class=\\\"file-name\\\">{{ file.name }}</span>\\r\\n  </div>\\r\\n  <mat-checkbox *ngIf=\\\"isPrivateMessage\\\" [(ngModel)]=\\\"isPrivate\\\">{{ isPrivateMessage }}</mat-checkbox>\\r\\n  <mat-icon *ngIf=\\\"showUpArrow\\\" class=\\\"up-arrow\\\" (click)=\\\"onMoveUp()\\\">keyboard_arrow_up</mat-icon>\\r\\n  <mat-icon *ngIf=\\\"showDownArrow\\\" class=\\\"down-arrow\\\" (click)=\\\"onMoveDown()\\\">keyboard_arrow_down</mat-icon>\\r\\n  <mat-icon class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n</mat-card>\\r\\n\", styles: [\".file-preview{height:80px;margin:2px 0;position:relative}.file-preview mat-checkbox{position:absolute;bottom:5px;right:50px;font-size:12px}.mat-card{padding:0}.file-preview img{max-height:72px}.graphic{position:absolute;left:50px;height:72px;max-width:200px;text-align:center;padding-left:20px;overflow:hidden}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{position:absolute;left:250px;height:72px;max-width:300px;text-align:center}.filo-info.has-security{left:200px!important}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:16px;height:36px;font-weight:700;color:#000}.arrow,.down-arrow,.up-arrow{cursor:pointer}.up-arrow{position:absolute;left:6px;top:0;font-size:36px;height:36px;width:36px;font-weight:700}.down-arrow{position:absolute;left:6px;top:36px;font-size:36px;height:36px;width:36px;font-weight:700}.remove-upload{cursor:pointer;position:absolute;right:10px;top:20px;font-size:40px;height:40px;width:40px}.up-arrow:hover,.down-arrow:hover{color:#fff}\\n\"], components: [{ type: i1$6.MatCard, selector: \"mat-card\", exportAs: [\"matCard\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i3$3.MatProgressBar, selector: \"mat-progress-bar\", inputs: [\"color\", \"value\", \"bufferValue\", \"mode\"], outputs: [\"animationEnd\"], exportAs: [\"matProgressBar\"] }, { type: i4.MatCheckbox, selector: \"mat-checkbox\", inputs: [\"disableRipple\", \"color\", \"tabIndex\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"id\", \"required\", \"labelPosition\", \"name\", \"value\", \"checked\", \"disabled\", \"indeterminate\"], outputs: [\"change\", \"indeterminateChange\"], exportAs: [\"matCheckbox\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FilePreviewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-file-preview', template: \"<mat-card class=\\\"file-preview\\\" [style.cursor]=\\\"cursorStyle\\\">\\r\\n  <div class=\\\"graphic\\\">\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"file.src\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\">{{ graphic }}</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-bar mode=\\\"indeterminate\\\" *ngIf=\\\"file.loading\\\"></mat-progress-bar>\\r\\n  <div class=\\\"file-info\\\" [class.has-security]=\\\"isPrivateMessage\\\">\\r\\n    <span class=\\\"file-name\\\">{{ file.name }}</span>\\r\\n  </div>\\r\\n  <mat-checkbox *ngIf=\\\"isPrivateMessage\\\" [(ngModel)]=\\\"isPrivate\\\">{{ isPrivateMessage }}</mat-checkbox>\\r\\n  <mat-icon *ngIf=\\\"showUpArrow\\\" class=\\\"up-arrow\\\" (click)=\\\"onMoveUp()\\\">keyboard_arrow_up</mat-icon>\\r\\n  <mat-icon *ngIf=\\\"showDownArrow\\\" class=\\\"down-arrow\\\" (click)=\\\"onMoveDown()\\\">keyboard_arrow_down</mat-icon>\\r\\n  <mat-icon class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n</mat-card>\\r\\n\", styles: [\".file-preview{height:80px;margin:2px 0;position:relative}.file-preview mat-checkbox{position:absolute;bottom:5px;right:50px;font-size:12px}.mat-card{padding:0}.file-preview img{max-height:72px}.graphic{position:absolute;left:50px;height:72px;max-width:200px;text-align:center;padding-left:20px;overflow:hidden}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{position:absolute;left:250px;height:72px;max-width:300px;text-align:center}.filo-info.has-security{left:200px!important}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:16px;height:36px;font-weight:700;color:#000}.arrow,.down-arrow,.up-arrow{cursor:pointer}.up-arrow{position:absolute;left:6px;top:0;font-size:36px;height:36px;width:36px;font-weight:700}.down-arrow{position:absolute;left:6px;top:36px;font-size:36px;height:36px;width:36px;font-weight:700}.remove-upload{cursor:pointer;position:absolute;right:10px;top:20px;font-size:40px;height:40px;width:40px}.up-arrow:hover,.down-arrow:hover{color:#fff}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { height: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], first: [{\r\n                type: Input\r\n            }], last: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], changePrivacyStatus: [{\r\n                type: Output\r\n            }], moveUp: [{\r\n                type: Output\r\n            }], moveDown: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], file: [{\r\n                type: Input\r\n            }] } });\n\nclass UploadsComponent {\r\n    constructor() {\r\n        this.ordered = true;\r\n        this.isPrivateMessage = '';\r\n        this.changePrivacyStatus = new EventEmitter();\r\n        this.moveUp = new EventEmitter();\r\n        this.moveDown = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this.reorder = new EventEmitter();\r\n        this._uploads = [];\r\n    }\r\n    set uploads(value) {\r\n        this._uploads = value;\r\n    }\r\n    get uploads() {\r\n        return this._uploads;\r\n    }\r\n    onChangePrivacyStatus(f) {\r\n        this.changePrivacyStatus.emit(f);\r\n    }\r\n    onDrop(e) {\r\n        this.moveItemInArray(e.previousIndex, e.currentIndex);\r\n    }\r\n    onMoveUp(f) {\r\n        this.moveUp.emit(f);\r\n    }\r\n    onMoveDown(f) {\r\n        this.moveDown.emit(f);\r\n    }\r\n    onRemove(f) {\r\n        this.remove.emit(f);\r\n    }\r\n    /**\r\n     * Moves an item one index in an array to another.\r\n     * @param fromIndex Starting index of the item.\r\n     * @param toIndex Index to which the item should be moved.\r\n     */\r\n    moveItemInArray(fromIndex, toIndex) {\r\n        const uploads = [...this.uploads];\r\n        const from = clamp(fromIndex, uploads.length - 1);\r\n        const to = clamp(toIndex, uploads.length - 1);\r\n        if (from === to) {\r\n            return;\r\n        }\r\n        const target = uploads[from];\r\n        const delta = to < from ? -1 : 1;\r\n        for (let i = from; i !== to; i += delta) {\r\n            uploads[i] = uploads[i + delta];\r\n        }\r\n        uploads[to] = target;\r\n        this.reorder.emit(uploads.map((x, i) => build(FileUpload, x, { order: i + 1 })));\r\n    }\r\n}\r\n/** @nocollapse */ UploadsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UploadsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UploadsComponent, selector: \"iu-uploads\", inputs: { height: \"height\", width: \"width\", ordered: \"ordered\", isPrivateMessage: \"isPrivateMessage\", uploads: \"uploads\" }, outputs: { changePrivacyStatus: \"changePrivacyStatus\", moveUp: \"moveUp\", moveDown: \"moveDown\", remove: \"remove\", reorder: \"reorder\" }, ngImport: i0, template: \"<div cdkDropList class=\\\"uploads\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\" (cdkDropListDropped)=\\\"onDrop($event)\\\">\\r\\n  <iu-file-preview *ngFor=\\\"let upload of uploads; let first = first; let last = last\\\" [file]=\\\"upload\\\" [first]=\\\"first\\\"\\r\\n    [last]=\\\"last\\\" [ordered]=\\\"ordered\\\" [isPrivateMessage]=\\\"isPrivateMessage\\\" (moveUp)=\\\"onMoveUp($event)\\\"\\r\\n    (moveDown)=\\\"onMoveDown($event)\\\" (remove)=\\\"onRemove($event)\\\" (changePrivacyStatus)=\\\"onChangePrivacyStatus($event)\\\"\\r\\n    cdkDrag></iu-file-preview>\\r\\n</div>\\r\\n\", styles: [\".uploads{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads::-webkit-scrollbar{width:12px;background-color:#424242}.uploads::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads .dragging{background-color:#424242}\\n\"], components: [{ type: FilePreviewComponent, selector: \"iu-file-preview\", inputs: [\"height\", \"width\", \"ordered\", \"first\", \"last\", \"isPrivateMessage\", \"file\"], outputs: [\"changePrivacyStatus\", \"moveUp\", \"moveDown\", \"remove\"] }], directives: [{ type: i2$6.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$6.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-uploads', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div cdkDropList class=\\\"uploads\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\" (cdkDropListDropped)=\\\"onDrop($event)\\\">\\r\\n  <iu-file-preview *ngFor=\\\"let upload of uploads; let first = first; let last = last\\\" [file]=\\\"upload\\\" [first]=\\\"first\\\"\\r\\n    [last]=\\\"last\\\" [ordered]=\\\"ordered\\\" [isPrivateMessage]=\\\"isPrivateMessage\\\" (moveUp)=\\\"onMoveUp($event)\\\"\\r\\n    (moveDown)=\\\"onMoveDown($event)\\\" (remove)=\\\"onRemove($event)\\\" (changePrivacyStatus)=\\\"onChangePrivacyStatus($event)\\\"\\r\\n    cdkDrag></iu-file-preview>\\r\\n</div>\\r\\n\", styles: [\".uploads{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads::-webkit-scrollbar{width:12px;background-color:#424242}.uploads::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads .dragging{background-color:#424242}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { height: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], changePrivacyStatus: [{\r\n                type: Output\r\n            }], moveUp: [{\r\n                type: Output\r\n            }], moveDown: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], reorder: [{\r\n                type: Output\r\n            }], uploads: [{\r\n                type: Input\r\n            }] } });\n\nclass UploadComponent {\r\n    constructor() {\r\n        this.upload = new FileUpload();\r\n        this.height = 200;\r\n        this.width = 600;\r\n        this.remove = new EventEmitter();\r\n    }\r\n    get graphic() {\r\n        if (!this.upload) {\r\n            return null;\r\n        }\r\n        if (this.upload.loading) {\r\n            return 'cloud_upload';\r\n        }\r\n        else if (this.upload.isImage) {\r\n            return 'image';\r\n        }\r\n        else {\r\n            switch (this.upload.extension) {\r\n                case 'pdf':\r\n                    return 'picture_as_pdf';\r\n                default:\r\n                    return 'cloud_done';\r\n            }\r\n        }\r\n    }\r\n    get showImage() {\r\n        return this.graphic === 'image';\r\n    }\r\n    onRemove() {\r\n        this.remove.emit(this.upload);\r\n    }\r\n}\r\n/** @nocollapse */ UploadComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UploadComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UploadComponent, selector: \"iu-upload\", inputs: { upload: \"upload\", height: \"height\", width: \"width\" }, outputs: { remove: \"remove\" }, ngImport: i0, template: \"<div class=\\\"upload\\\" [style.height]=\\\"img?.style?.height\\\">\\r\\n  <div class=\\\"graphic\\\" #img>\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"upload.src\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n      {{ graphic }}</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!upload.loading\\\" class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-spinner mode=\\\"indeterminate\\\" *ngIf=\\\"upload.loading\\\"></mat-progress-spinner>\\r\\n  <div class=\\\"file-info\\\" *ngIf=\\\"!upload.loading\\\">\\r\\n    <span class=\\\"file-name\\\">{{ upload.name }}</span>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".upload{max-height:420px;max-width:600px;margin:10px 20px;position:relative;display:flex}.upload img{max-height:400px}.graphic{padding:0!important;float:left;margin:10px;position:relative}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{float:right}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:20px;height:36px;font-weight:700;color:#000}.remove-upload{color:red;cursor:pointer;position:absolute;right:-20px;top:-20px;font-size:40px;height:40px;width:40px}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2$7.MatProgressSpinner, selector: \"mat-progress-spinner, mat-spinner\", inputs: [\"color\", \"diameter\", \"strokeWidth\", \"mode\", \"value\"], exportAs: [\"matProgressSpinner\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-upload', template: \"<div class=\\\"upload\\\" [style.height]=\\\"img?.style?.height\\\">\\r\\n  <div class=\\\"graphic\\\" #img>\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"upload.src\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n      {{ graphic }}</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!upload.loading\\\" class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-spinner mode=\\\"indeterminate\\\" *ngIf=\\\"upload.loading\\\"></mat-progress-spinner>\\r\\n  <div class=\\\"file-info\\\" *ngIf=\\\"!upload.loading\\\">\\r\\n    <span class=\\\"file-name\\\">{{ upload.name }}</span>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".upload{max-height:420px;max-width:600px;margin:10px 20px;position:relative;display:flex}.upload img{max-height:400px}.graphic{padding:0!important;float:left;margin:10px;position:relative}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{float:right}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:20px;height:36px;font-weight:700;color:#000}.remove-upload{color:red;cursor:pointer;position:absolute;right:-20px;top:-20px;font-size:40px;height:40px;width:40px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { upload: [{\r\n                type: Input\r\n            }], height: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], remove: [{\r\n                type: Output\r\n            }] } });\n\nconst FILE_UPLOAD_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => FileUploadComponent),\r\n    multi: true\r\n};\r\nclass FileUploadComponent {\r\n    constructor(changeDetectorRef) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.id = `files-${guid()}`;\r\n        this.debug = false;\r\n        this.maxFileSize = 97000000;\r\n        this.multiple = false;\r\n        this.ordered = true;\r\n        this.preview = true;\r\n        this.prompt = '';\r\n        this.isPrivateMessage = '';\r\n        this.upload = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.reorderUploads = new EventEmitter();\r\n        this.changes$ = new BehaviorSubject(new FileUpload());\r\n        this.inDropZone = false;\r\n        this.ordering = new Ordering([], FileUpload, 'order', 'name');\r\n        this.showMaxUploadError = false;\r\n        this.showMultiple = false;\r\n    }\r\n    get activeFile() {\r\n        return this.hasUploads ? this.uploads[0] : new FileUpload();\r\n    }\r\n    get hasUploads() {\r\n        return this.uploads.length > 0;\r\n    }\r\n    // get showMultiple(): boolean {\r\n    //   return this.preview && this.multiple;\r\n    // }\r\n    set value(value) {\r\n        if (this.debug) {\r\n            console.log('set value');\r\n            console.dir(value);\r\n        }\r\n        this._value = toArray(value);\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    get uploads() {\r\n        return this.ordering.items.filter(upload => upload.name !== '');\r\n    }\r\n    set uploads(value) {\r\n        this.ordering.updateItems(value.filter(upload => upload.name !== ''));\r\n        if (this.debug) {\r\n            console.log('setting uploads');\r\n            console.dir(value);\r\n            console.dir(this.uploads);\r\n        }\r\n        this.onChange(this.uploads);\r\n    }\r\n    get orderedUploads() {\r\n        return this.uploads;\r\n    }\r\n    get validFileSize() {\r\n        return this.value.reduce((acc, x) => acc + x.file.fileSize, 0) < this.maxFileSize;\r\n    }\r\n    ngOnInit() {\r\n        this.changes$.subscribe(upload => {\r\n            this.onUpload(upload);\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.writeValue([]);\r\n    }\r\n    ngOnChanges(e) {\r\n        this.showMultiple = this.preview && this.multiple;\r\n    }\r\n    add(f) {\r\n        if (!this.multiple && this.hasUploads) {\r\n            this.remove();\r\n        }\r\n        this.uploads = this.ordering.addItem(f);\r\n    }\r\n    changePrivacyStatus(f) {\r\n        this.uploads = this.uploads.map(x => x.name === f.name ? f : x);\r\n    }\r\n    clear() {\r\n        this.uploads = [];\r\n    }\r\n    emit() {\r\n        if (this.value.length > 0) {\r\n            if (this.multiple) {\r\n                this.upload.emit(this.value);\r\n            }\r\n            else {\r\n                this.upload.emit(this.value[0]);\r\n            }\r\n        }\r\n    }\r\n    moveUp(f) {\r\n        this.uploads = this.ordering.moveUp(f);\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    moveDown(f) {\r\n        this.uploads = this.ordering.moveDown(f);\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    remove(f) {\r\n        const removeFile = f || this.activeFile;\r\n        this.delete.emit(removeFile);\r\n        this.uploads = this.ordering.removeItem(removeFile);\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    reorder(e) {\r\n        this.uploads = e;\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    update(f) {\r\n        const index = this.uploads.findIndex(item => item['name'] === f.name);\r\n        if (index === -1) {\r\n            this.add(f);\r\n        }\r\n        else {\r\n            setTimeout(() => {\r\n                this.uploads = this.uploads.map((x, i) => (i === index ? build(FileUpload, f, { order: x.order }) : x));\r\n                // this.changeDetectorRef.detectChanges();\r\n            }, 0);\r\n        }\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        if (this.debug) {\r\n            console.log('write value');\r\n            console.dir(value);\r\n        }\r\n        this.uploads = [];\r\n        this.value = value;\r\n        this.uploadAll(value);\r\n    }\r\n    onChange(value) {\r\n        if (!equals(this.value, value)) {\r\n            if (this.debug) {\r\n                console.log('on change');\r\n                console.dir(value);\r\n            }\r\n            this.value = value;\r\n            if (value.every(x => x.readyState === 'DONE')) {\r\n                this.emit();\r\n            }\r\n        }\r\n        if (this.onModelChange) {\r\n            if (this.debug) {\r\n                console.log('on model change');\r\n                console.dir(value);\r\n            }\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onInputChange(e) {\r\n        const input = e.target;\r\n        const files = toArray(Array.from(input['files']));\r\n        if (this.debug) {\r\n            console.dir(files);\r\n            console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n        }\r\n        if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n            this.showMaxUploadError = true;\r\n            setTimeout(() => {\r\n                this.showMaxUploadError = false;\r\n            }, 8000);\r\n        }\r\n        else if (files && files.length > 0) {\r\n            for (let i = 0; i < files.length; i++) {\r\n                this.setupReader(files[i]);\r\n            }\r\n        }\r\n    }\r\n    onBlur(value) {\r\n        this.focused = [];\r\n    }\r\n    onDragEnter(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = true;\r\n    }\r\n    onDragLeave(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = false;\r\n    }\r\n    onDragOver(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = true;\r\n    }\r\n    onDrop(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = false;\r\n        const dt = e.dataTransfer;\r\n        const files = toArray(Array.from(dt.files));\r\n        if (this.debug) {\r\n            console.dir(files);\r\n            console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n        }\r\n        if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n            this.showMaxUploadError = true;\r\n            setTimeout(() => {\r\n                this.showMaxUploadError = false;\r\n            }, 8000);\r\n        }\r\n        else {\r\n            files.forEach((file) => {\r\n                this.setupReader(file);\r\n            });\r\n        }\r\n    }\r\n    onFocus(value) {\r\n        this.focused = value;\r\n        this.onTouch();\r\n    }\r\n    onUpload(upload) {\r\n        const f = build(FileUpload, upload);\r\n        this.update(f);\r\n    }\r\n    setupReader(file) {\r\n        const reader = new FileReader();\r\n        const changes$ = this.changes$;\r\n        const upload = build(FileUpload, {\r\n            lastModified: file['lastModified'],\r\n            lastModifiedDate: file['lastModifiedDate'],\r\n            name: file['name'],\r\n            size: file['size'],\r\n            type: file['type'],\r\n            webkitRelativePath: file['webkitRelativePath']\r\n        });\r\n        reader.onload = function (e) {\r\n            const src = reader.result;\r\n            const readyState = FileUpload.GetReadyState(reader);\r\n            changes$.next(Object.assign(upload, { src, readyState }));\r\n        };\r\n        reader.readAsDataURL(file);\r\n        this.onUpload(build(FileUpload, upload, {\r\n            readyState: FileUpload.GetReadyState(reader)\r\n        }));\r\n    }\r\n    uploadAll(uploads) {\r\n        toArray(uploads).forEach(upload => {\r\n            this.onUpload(upload);\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ FileUploadComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ FileUploadComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FileUploadComponent, selector: \"iu-file-upload\", inputs: { id: \"id\", debug: \"debug\", maxFileSize: \"maxFileSize\", multiple: \"multiple\", ordered: \"ordered\", preview: \"preview\", prompt: \"prompt\", isPrivateMessage: \"isPrivateMessage\" }, outputs: { upload: \"upload\", delete: \"delete\", reorderUploads: \"reorderUploads\" }, providers: [FILE_UPLOAD_ACCESSOR], usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"file-upload\\\">\\r\\n  <span *ngIf=\\\"!validFileSize || showMaxUploadError\\\" class=\\\"error\\\"\\r\\n    >Files exceed max upload size!</span\\r\\n  >\\r\\n  <div\\r\\n    class=\\\"box\\\"\\r\\n    [class.hovering]=\\\"inDropZone\\\"\\r\\n    fxLayout=\\\"row\\\"\\r\\n    fxLayoutAlign=\\\"center end\\\"\\r\\n    (dragenter)=\\\"onDragEnter($event)\\\"\\r\\n    (dragleave)=\\\"onDragLeave($event)\\\"\\r\\n    (dragover)=\\\"onDragOver($event)\\\"\\r\\n    (drop)=\\\"onDrop($event)\\\"\\r\\n  >\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"showMultiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose files</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag them here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"showMultiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n      multiple\\r\\n    />\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"!multiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose a file</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag it here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"!multiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n    />\\r\\n    <label [for]=\\\"id\\\" class=\\\"custom-file-upload\\\">\\r\\n      <figure>\\r\\n        <mat-icon>cloud_upload</mat-icon>\\r\\n      </figure>\\r\\n    </label>\\r\\n  </div>\\r\\n  <iu-uploads\\r\\n    *ngIf=\\\"multiple\\\"\\r\\n    [uploads]=\\\"uploads\\\"\\r\\n    [ordered]=\\\"ordered\\\"\\r\\n    [isPrivateMessage]=\\\"isPrivateMessage\\\"\\r\\n    (moveUp)=\\\"moveUp($event)\\\"\\r\\n    (moveDown)=\\\"moveDown($event)\\\"\\r\\n    (remove)=\\\"remove($event)\\\"\\r\\n    (reorder)=\\\"reorder($event)\\\"\\r\\n    (changePrivacyStatus)=\\\"changePrivacyStatus($event)\\\"\\r\\n  >\\r\\n  </iu-uploads>\\r\\n  <iu-upload\\r\\n    *ngIf=\\\"preview && !multiple && hasUploads\\\"\\r\\n    [upload]=\\\"activeFile\\\"\\r\\n    [height]=\\\"200\\\"\\r\\n    (remove)=\\\"remove()\\\"\\r\\n  >\\r\\n  </iu-upload>\\r\\n</div>\\r\\n\", styles: [\".file-upload{margin:10px;padding:10px}.file-upload .error{color:red}.file-upload input[type=file]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-upload .box{padding:100px 20px;margin:10px;display:flex;outline:-webkit-focus-ring-color auto 5px;outline-offset:-10px;position:relative}.file-upload .box #dragdrop-message{position:absolute;top:60px;max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;font-size:24px}.file-upload .box #dragdrop-message span{display:inline}.file-upload .box.hovering{background:#000;outline:-webkit-focus-ring-color auto 10px}.file-upload .box.hovering #dragdrop-message{color:#fff}.file-upload .box.hovering .custom-file-upload{background:#fff}.file-upload .custom-file-upload{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;max-width:80%;font-size:20px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;padding:10px 20px;margin-top:50px}.file-upload .custom-file-upload figure{width:50px;height:70px;display:flex;position:relative;padding:30px;margin:0 auto 10px}.file-upload .custom-file-upload figure mat-icon{font-size:50px;height:50px;width:50px}.file-upload .custom-file-upload figure:before,.file-upload .custom-file-upload figure:after{width:0;height:0;content:\\\"\\\";position:absolute;top:0;right:0}.file-upload .custom-file-upload figure:before{border-left:20px solid transparent}.file-upload .custom-file-upload figure:after{border-right:20px solid transparent}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: UploadsComponent, selector: \"iu-uploads\", inputs: [\"height\", \"width\", \"ordered\", \"isPrivateMessage\", \"uploads\"], outputs: [\"changePrivacyStatus\", \"moveUp\", \"moveDown\", \"remove\", \"reorder\"] }, { type: UploadComponent, selector: \"iu-upload\", inputs: [\"upload\", \"height\", \"width\"], outputs: [\"remove\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-file-upload', providers: [FILE_UPLOAD_ACCESSOR], encapsulation: ViewEncapsulation.None, template: \"<div class=\\\"file-upload\\\">\\r\\n  <span *ngIf=\\\"!validFileSize || showMaxUploadError\\\" class=\\\"error\\\"\\r\\n    >Files exceed max upload size!</span\\r\\n  >\\r\\n  <div\\r\\n    class=\\\"box\\\"\\r\\n    [class.hovering]=\\\"inDropZone\\\"\\r\\n    fxLayout=\\\"row\\\"\\r\\n    fxLayoutAlign=\\\"center end\\\"\\r\\n    (dragenter)=\\\"onDragEnter($event)\\\"\\r\\n    (dragleave)=\\\"onDragLeave($event)\\\"\\r\\n    (dragover)=\\\"onDragOver($event)\\\"\\r\\n    (drop)=\\\"onDrop($event)\\\"\\r\\n  >\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"showMultiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose files</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag them here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"showMultiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n      multiple\\r\\n    />\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"!multiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose a file</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag it here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"!multiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n    />\\r\\n    <label [for]=\\\"id\\\" class=\\\"custom-file-upload\\\">\\r\\n      <figure>\\r\\n        <mat-icon>cloud_upload</mat-icon>\\r\\n      </figure>\\r\\n    </label>\\r\\n  </div>\\r\\n  <iu-uploads\\r\\n    *ngIf=\\\"multiple\\\"\\r\\n    [uploads]=\\\"uploads\\\"\\r\\n    [ordered]=\\\"ordered\\\"\\r\\n    [isPrivateMessage]=\\\"isPrivateMessage\\\"\\r\\n    (moveUp)=\\\"moveUp($event)\\\"\\r\\n    (moveDown)=\\\"moveDown($event)\\\"\\r\\n    (remove)=\\\"remove($event)\\\"\\r\\n    (reorder)=\\\"reorder($event)\\\"\\r\\n    (changePrivacyStatus)=\\\"changePrivacyStatus($event)\\\"\\r\\n  >\\r\\n  </iu-uploads>\\r\\n  <iu-upload\\r\\n    *ngIf=\\\"preview && !multiple && hasUploads\\\"\\r\\n    [upload]=\\\"activeFile\\\"\\r\\n    [height]=\\\"200\\\"\\r\\n    (remove)=\\\"remove()\\\"\\r\\n  >\\r\\n  </iu-upload>\\r\\n</div>\\r\\n\", styles: [\".file-upload{margin:10px;padding:10px}.file-upload .error{color:red}.file-upload input[type=file]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-upload .box{padding:100px 20px;margin:10px;display:flex;outline:-webkit-focus-ring-color auto 5px;outline-offset:-10px;position:relative}.file-upload .box #dragdrop-message{position:absolute;top:60px;max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;font-size:24px}.file-upload .box #dragdrop-message span{display:inline}.file-upload .box.hovering{background:#000;outline:-webkit-focus-ring-color auto 10px}.file-upload .box.hovering #dragdrop-message{color:#fff}.file-upload .box.hovering .custom-file-upload{background:#fff}.file-upload .custom-file-upload{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;max-width:80%;font-size:20px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;padding:10px 20px;margin-top:50px}.file-upload .custom-file-upload figure{width:50px;height:70px;display:flex;position:relative;padding:30px;margin:0 auto 10px}.file-upload .custom-file-upload figure mat-icon{font-size:50px;height:50px;width:50px}.file-upload .custom-file-upload figure:before,.file-upload .custom-file-upload figure:after{width:0;height:0;content:\\\"\\\";position:absolute;top:0;right:0}.file-upload .custom-file-upload figure:before{border-left:20px solid transparent}.file-upload .custom-file-upload figure:after{border-right:20px solid transparent}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { id: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], maxFileSize: [{\r\n                type: Input\r\n            }], multiple: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], preview: [{\r\n                type: Input\r\n            }], prompt: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], upload: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], reorderUploads: [{\r\n                type: Output\r\n            }] } });\n\nclass FileControlComponent {\r\n    constructor() {\r\n        this.id = `files-${guid()}`;\r\n        this.debug = false;\r\n        this.maxFileSize = 97000000;\r\n        this.multiple = false;\r\n        this.ordered = true;\r\n        this.preview = true;\r\n        this.isPrivateMessage = '';\r\n        this.upload = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ FileControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileControlComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ FileControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FileControlComponent, selector: \"iu-file-control\", inputs: { id: \"id\", debug: \"debug\", maxFileSize: \"maxFileSize\", multiple: \"multiple\", ordered: \"ordered\", preview: \"preview\", isPrivateMessage: \"isPrivateMessage\" }, outputs: { upload: \"upload\", delete: \"delete\" }, ngImport: i0, template: \"<iu-file-upload [id]=\\\"id\\\" [maxFileSize]=\\\"maxFileSize\\\">\\r\\n\\r\\n</iu-file-upload>\\r\\n\", styles: [\"\"], components: [{ type: FileUploadComponent, selector: \"iu-file-upload\", inputs: [\"id\", \"debug\", \"maxFileSize\", \"multiple\", \"ordered\", \"preview\", \"prompt\", \"isPrivateMessage\"], outputs: [\"upload\", \"delete\", \"reorderUploads\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileControlComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-file-control', template: \"<iu-file-upload [id]=\\\"id\\\" [maxFileSize]=\\\"maxFileSize\\\">\\r\\n\\r\\n</iu-file-upload>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { id: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], maxFileSize: [{\r\n                type: Input\r\n            }], multiple: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], preview: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], upload: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }] } });\n\nconst FILE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => UploaderComponent),\r\n    multi: true\r\n};\r\nclass FileUploads {\r\n    constructor() {\r\n        this.uploads = [];\r\n    }\r\n}\r\nfunction buildFromFile(file) {\r\n    return build(FileUpload, {\r\n        name: file.fileName,\r\n        size: file.fileSize,\r\n        type: file.mimeType,\r\n        src: getSrcFromFileName(file.fileName),\r\n        order: file.order\r\n    });\r\n}\r\nfunction getSrcFromFileName(fileName) {\r\n    return fileName.includes('gun.png') ? fileName : `${''}/files/${fileName}`;\r\n}\r\nfunction mapToUrl(path) {\r\n    console.log(path);\r\n    const s = Array.isArray(path) ? path.map(x => mapToUrl(x))\r\n        : inArray(['assets/gun.png', 'assets/ar.png', 'assets/shotgun.png'], path) ?\r\n            `${''}/${path}`\r\n            : `${''}/files/${path}`;\r\n    console.log(s);\r\n    return s;\r\n}\r\nclass UploaderComponent extends SmartComponent {\r\n    constructor(store, sanitizer) {\r\n        super(store);\r\n        this.store = store;\r\n        this.sanitizer = sanitizer;\r\n        this.apiBaseUrl = '';\r\n        this.authToken = '';\r\n        this._uploads = [];\r\n        this.fg = buildControlFromModel(new FileUploads());\r\n        // this.addSubscription(authTokenSelector(store).subscribe(x => {\r\n        //   this.authToken = x;\r\n        // }));\r\n    }\r\n    set uploads(value) {\r\n        if (!equals(value.map(x => x.src), this._uploads.map(x => x.src))) {\r\n            this._uploads = value;\r\n            this.fg.setValue(getValue(build(FileUploads, {\r\n                uploads: value\r\n            })));\r\n            this.onChange(toArray(value).sort((a, b) => compareNumbers(a.order, b.order)).map(x => x.name));\r\n            console.dir(this.value);\r\n        }\r\n    }\r\n    get uploads() {\r\n        return this._uploads;\r\n    }\r\n    set value(value) {\r\n        if (truthy(value) && !equals(value, this._value)) {\r\n            // fetch file from server\r\n            if (typeof (value) === 'string') {\r\n                this.getFile(mapToUrl(value));\r\n            }\r\n            else if (Array.isArray(value) && value.length > 0) {\r\n                this.getFiles(mapToUrl(value));\r\n            }\r\n        }\r\n        this._value = value;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this._value = value;\r\n        if (typeof (this.onModelChange) === 'function') {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onReorderUploads(e) {\r\n        this.uploads = e;\r\n    }\r\n    onUpload(e) {\r\n        console.dir(e);\r\n    }\r\n    ngOnInit() {\r\n        this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n            if (!equals(this.uploads.map(y => y.src), x.uploads.map(y => y.src))) {\r\n                if (x.uploads.filter(y => y.loading).length === 0) {\r\n                    const uploads = x.uploads.filter(y => !inArray(this.uploads.map(z => z.name), y.name) && !y.loading && !y.name.includes('gun.png'));\r\n                    console.log('\\n\\n', 'FORM CHANGE');\r\n                    console.dir(x.uploads);\r\n                    if (uploads.length > 0) {\r\n                        console.dir(uploads);\r\n                        uploads.forEach(upload => {\r\n                            console.log(upload.name);\r\n                            if (upload.src) {\r\n                                this.saveFile(upload);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        const reordering = x.uploads.length > 1 ? x.uploads.filter(y => !y.name.includes('gun.png')) : x.uploads;\r\n                        console.log('NO NEW UPLOADS!');\r\n                        // console.dir(reordering);\r\n                        // this.uploads = reordering;\r\n                        if (x.uploads.length > 1) {\r\n                            // this.uploads = x.uploads;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    async getFile(url) {\r\n        console.log(url);\r\n        return fetch(url)\r\n            .then(response => response.blob())\r\n            .then(blob => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onloadend = () => {\r\n                // const src = this.sanitizer.bypassSecurityTrustUrl(`data:image/png;base64,${reader.result}`);\r\n                // const src = `data:image/png;base64,${reader.result}`;\r\n                const src = `${reader.result}`;\r\n                this.uploads = [...this.uploads, build(FileUpload, {\r\n                        src,\r\n                        size: blob.size,\r\n                        type: blob.type,\r\n                        name: url.split('/').pop()\r\n                    })];\r\n            };\r\n        })\r\n            .catch(function (error) {\r\n            return error;\r\n        });\r\n    }\r\n    async getFiles(urls) {\r\n        urls.forEach(url => {\r\n            this.getFile(url);\r\n        });\r\n    }\r\n    saveFile(upload) {\r\n        (async () => {\r\n            const body = JSON.stringify(upload.file);\r\n            const headers = {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            };\r\n            if (this.authToken) {\r\n                headers['Authorization'] = `Bearer ${this.authToken}`;\r\n            }\r\n            const response = fetch(`${this.apiBaseUrl}/files`, {\r\n                method: 'POST',\r\n                headers,\r\n                body\r\n            });\r\n            await (await response).json()\r\n                .then((data) => {\r\n                console.dir(data);\r\n                const upload = buildFromFile(data);\r\n                console.dir(upload);\r\n                this.uploads = [...this.uploads.filter(x => !x.name.includes('gun.png')), upload];\r\n                console.dir(this.uploads);\r\n                console.log(this.value);\r\n                return upload;\r\n            })\r\n                .catch((error) => {\r\n                console.error(error);\r\n            });\r\n        })();\r\n    }\r\n}\r\n/** @nocollapse */ UploaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploaderComponent, deps: [{ token: i1$1.Store }, { token: i2$8.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UploaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UploaderComponent, selector: \"iu-uploader\", inputs: { apiBaseUrl: \"apiBaseUrl\" }, providers: [FILE_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<!-- <p>uploader works!</p>\\r\\n<form [formGroup]=\\\"fg\\\">\\r\\n  <iu-file-upload formControlName=\\\"uploads\\\" [multiple]=\\\"true\\\" (upload)=\\\"onUpload($event)\\\"\\r\\n    (reorderUploads)=\\\"onReorderUploads($event)\\\">\\r\\n\\r\\n  </iu-file-upload>\\r\\n</form> -->\\r\\n\", styles: [\"form{width:100%}form iu-file-control{width:100%;background:#fff}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploaderComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-uploader', providers: [FILE_ACCESSOR], template: \"<!-- <p>uploader works!</p>\\r\\n<form [formGroup]=\\\"fg\\\">\\r\\n  <iu-file-upload formControlName=\\\"uploads\\\" [multiple]=\\\"true\\\" (upload)=\\\"onUpload($event)\\\"\\r\\n    (reorderUploads)=\\\"onReorderUploads($event)\\\">\\r\\n\\r\\n  </iu-file-upload>\\r\\n</form> -->\\r\\n\", styles: [\"form{width:100%}form iu-file-control{width:100%;background:#fff}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i2$8.DomSanitizer }]; }, propDecorators: { apiBaseUrl: [{\r\n                type: Input\r\n            }] } });\n\nclass FileUploadModule {\r\n}\r\n/** @nocollapse */ FileUploadModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ FileUploadModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, declarations: [FileControlComponent,\r\n        FileUploadComponent,\r\n        FilePreviewComponent,\r\n        UploadComponent,\r\n        UploadsComponent,\r\n        UploaderComponent], imports: [SharedModule,\r\n        DragDropModule,\r\n        FormsModule$1,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule], exports: [FileControlComponent,\r\n        FileUploadComponent,\r\n        FilePreviewComponent,\r\n        UploadComponent,\r\n        UploadsComponent] });\r\n/** @nocollapse */ FileUploadModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, imports: [[\r\n            SharedModule,\r\n            DragDropModule,\r\n            FormsModule$1,\r\n            MatCardModule,\r\n            MatCheckboxModule,\r\n            MatIconModule,\r\n            MatProgressBarModule,\r\n            MatProgressSpinnerModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        DragDropModule,\r\n                        FormsModule$1,\r\n                        MatCardModule,\r\n                        MatCheckboxModule,\r\n                        MatIconModule,\r\n                        MatProgressBarModule,\r\n                        MatProgressSpinnerModule\r\n                    ],\r\n                    declarations: [\r\n                        FileControlComponent,\r\n                        FileUploadComponent,\r\n                        FilePreviewComponent,\r\n                        UploadComponent,\r\n                        UploadsComponent,\r\n                        UploaderComponent\r\n                    ],\r\n                    exports: [\r\n                        FileControlComponent,\r\n                        FileUploadComponent,\r\n                        FilePreviewComponent,\r\n                        UploadComponent,\r\n                        UploadsComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass NotFoundComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ NotFoundComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ NotFoundComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: NotFoundComponent, selector: \"iu-not-found\", ngImport: i0, template: \"<p>\\r\\n  not-found works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-not-found', template: \"<p>\\r\\n  not-found works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass NotFoundModule {\r\n}\r\n/** @nocollapse */ NotFoundModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ NotFoundModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, declarations: [NotFoundComponent], imports: [SharedModule], exports: [NotFoundComponent] });\r\n/** @nocollapse */ NotFoundModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [NotFoundComponent],\r\n                    exports: [NotFoundComponent]\r\n                }]\r\n        }] });\n\nclass MilitaryDateTime {\r\n    constructor() {\r\n        this.date = new Date();\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['datetime']\r\n        });\r\n    }\r\n    set datetime(value) {\r\n        const d = new Date(value);\r\n        this.date = d;\r\n        this.hour = d.getHours();\r\n        this.minutes = d.getMinutes();\r\n    }\r\n    get datetime() {\r\n        const d = new Date(this.date);\r\n        d.setHours(this.hour);\r\n        d.setMinutes(this.minutes);\r\n        return d;\r\n    }\r\n}\r\nclass DateTime {\r\n    constructor() {\r\n        this.date = new Date();\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n        this.meridian = 'AM';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['datetime']\r\n        });\r\n    }\r\n    set datetime(value) {\r\n        const d = new Date(value);\r\n        const hours = d.getHours();\r\n        this.date = d;\r\n        this.hour = hours === 12 ? 12 : hours % 12;\r\n        this.minutes = d.getMinutes();\r\n        this.meridian = hours >= 12 ? 'PM' : 'AM';\r\n    }\r\n    get datetime() {\r\n        return build(MilitaryDateTime, this, {\r\n            hour: this.meridian === 'AM' ? this.hour : this.hour + 12\r\n        }).datetime;\r\n    }\r\n}\r\nclass MilitaryTime {\r\n    constructor() {\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: []\r\n        });\r\n    }\r\n}\r\nclass Time {\r\n    constructor() {\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n        this.meridian = 'AM';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: []\r\n        });\r\n    }\r\n}\n\nconst DATETIME_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DateTimeControlComponent),\r\n    multi: true\r\n};\r\nclass DateTimeControlComponent extends FormComponent {\r\n    constructor() {\r\n        super();\r\n        this.form = new FormGroup({\r\n            date: new FormControl(),\r\n            hour: new FormControl(),\r\n            minutes: new FormControl(),\r\n            meridian: new FormControl()\r\n        });\r\n        this.label = 'Time';\r\n        this.hideDate = false;\r\n        this._time = new DateTime();\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n        const time = build(DateTime, {\r\n            datetime: value\r\n        });\r\n        if (time.datetime.getTime() !== this.time.datetime.getTime()) {\r\n            this.time = time;\r\n        }\r\n    }\r\n    set time(value) {\r\n        this.setValue(value);\r\n    }\r\n    get time() {\r\n        return build(DateTime, this.form.value);\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onBlur(e) {\r\n        console.dir(e);\r\n    }\r\n    get hours() {\r\n        return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n    }\r\n    get minutes() {\r\n        return integerArray(60).filter(x => x > 9);\r\n    }\r\n    ngOnInit() {\r\n        this.form.valueChanges.subscribe(x => {\r\n            this.onChange(build(DateTime, x).datetime);\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ DateTimeControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateTimeControlComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DateTimeControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DateTimeControlComponent, selector: \"iu-datetime-control\", inputs: { label: \"label\", hideDate: \"hideDate\", value: \"value\" }, providers: [DATETIME_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<form [formGroup]=\\\"form\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n  <mat-form-field *ngIf=\\\"!hideDate\\\" class=\\\"date\\\">\\r\\n    <input matInput [matDatepicker]=\\\"picker\\\" formControlName=\\\"date\\\" placeholder=\\\"Choose a date\\\" />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.date{width:120px;margin-right:15px}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$3.MatSuffix, selector: \"[matSuffix]\" }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateTimeControlComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-datetime-control', providers: [DATETIME_ACCESSOR], template: \"<form [formGroup]=\\\"form\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n  <mat-form-field *ngIf=\\\"!hideDate\\\" class=\\\"date\\\">\\r\\n    <input matInput [matDatepicker]=\\\"picker\\\" formControlName=\\\"date\\\" placeholder=\\\"Choose a date\\\" />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.date{width:120px;margin-right:15px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { label: [{\r\n                type: Input\r\n            }], hideDate: [{\r\n                type: Input\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nconst TIME_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => TimeControlComponent),\r\n    multi: true\r\n};\r\nclass TimeControlComponent extends FormComponent {\r\n    constructor() {\r\n        super();\r\n        this.timeForm = new FormGroup({\r\n            hour: new FormControl(),\r\n            minutes: new FormControl(),\r\n            meridian: new FormControl()\r\n        });\r\n        this.label = 'Time';\r\n        this._isDisabled = false;\r\n        this._time = new Time();\r\n    }\r\n    set isDisabled(value) {\r\n        this._isDisabled = value;\r\n        if (value) {\r\n            this.timeForm.disable();\r\n        }\r\n        else {\r\n            this.timeForm.enable();\r\n        }\r\n    }\r\n    get isDisabled() {\r\n        return this._isDisabled;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n    set time(value) {\r\n        this.setValue(value);\r\n    }\r\n    get time() {\r\n        return build(Time, this.timeForm.value);\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onBlur(e) {\r\n        console.dir(e);\r\n    }\r\n    get hours() {\r\n        return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n    }\r\n    get minutes() {\r\n        return integerArray(60).filter(x => x > 9);\r\n    }\r\n    ngOnInit() { }\r\n    setValue(value) {\r\n        this.timeForm.setValue(getValue(value));\r\n    }\r\n}\r\n/** @nocollapse */ TimeControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeControlComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ TimeControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TimeControlComponent, selector: \"iu-time-control\", inputs: { label: \"label\", isDisabled: \"isDisabled\", value: \"value\" }, providers: [TIME_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<form [formGroup]=\\\"timeForm\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"minutes-control\\\">\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"meridian-control\\\">\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.minutes-control,.time-control .mat-form-field.meridian-control{width:120px}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeControlComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-time-control', providers: [TIME_ACCESSOR], template: \"<form [formGroup]=\\\"timeForm\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"minutes-control\\\">\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"meridian-control\\\">\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.minutes-control,.time-control .mat-form-field.meridian-control{width:120px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { label: [{\r\n                type: Input\r\n            }], isDisabled: [{\r\n                type: Input\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nclass TimeModule {\r\n}\r\n/** @nocollapse */ TimeModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ TimeModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, declarations: [DateTimeControlComponent, TimeControlComponent], imports: [SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule], exports: [DateTimeControlComponent, TimeControlComponent] });\r\n/** @nocollapse */ TimeModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, imports: [[SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [DateTimeControlComponent, TimeControlComponent],\r\n                    imports: [SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule],\r\n                    exports: [DateTimeControlComponent, TimeControlComponent]\r\n                }]\r\n        }] });\n\nclass Timer {\r\n    constructor() {\r\n        this.hours = 0;\r\n        this.minutes = 0;\r\n        this.seconds = 0;\r\n        this.milliseconds = 0;\r\n    }\r\n    static Equals(p, q) {\r\n        return p.hours === q.hours && p.minutes === q.minutes && p.seconds === q.seconds && p.milliseconds === q.milliseconds;\r\n    }\r\n    get zero() {\r\n        return this.hours === 0 && this.minutes === 0 && this.seconds === 0 && this.milliseconds === 0;\r\n    }\r\n    decrementMillisecond() {\r\n        const milliseconds = this.milliseconds === 0 ? (this.seconds > 0 ? 999 : 0) : this.milliseconds - 1;\r\n        const seconds = milliseconds === 59 ? (this.seconds > 0 ? this.seconds - 1 : 0) : this.seconds;\r\n        const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n        const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    decrementSecond() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds === 0 ? (this.minutes > 0 ? 59 : 0) : this.seconds - 1;\r\n        const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n        const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    decrementMinute() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds;\r\n        const minutes = this.minutes === 0 ? (this.hours > 0 ? 59 : 0) : this.minutes - 1;\r\n        const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    incrementMillisecond() {\r\n        const milliseconds = this.milliseconds === 999 ? 0 : this.milliseconds + 1;\r\n        const seconds = this.milliseconds === 999 ? (this.seconds === 59 ? 0 : this.seconds + 1) : this.seconds;\r\n        const minutes = this.milliseconds === 999 && this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n        const hours = this.milliseconds === 999 && this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    incrementSecond() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds === 59 ? 0 : this.seconds + 1;\r\n        const minutes = this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n        const hours = this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    incrementMinute() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds;\r\n        const minutes = this.minutes === 59 ? 0 : this.minutes + 1;\r\n        const hours = this.minutes === 59 ? this.hours + 1 : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n}\n\nclass TimerPipe {\r\n    transform(value, showHours = false, showMilliseconds = false) {\r\n        const hours = showHours ? `${value.hours}:` : '';\r\n        const minutes = value.minutes.toString().padStart(2, '0');\r\n        const seconds = value.seconds.toString().padStart(2, '0');\r\n        const milliseconds = showMilliseconds\r\n            ? `:${Math.round(value.milliseconds / 10)\r\n                .toString()\r\n                .padStart(2, '0')}`\r\n            : '';\r\n        return `${hours}${minutes}:${seconds}${milliseconds}`;\r\n    }\r\n}\r\n/** @nocollapse */ TimerPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ TimerPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerPipe, name: \"timer\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'timer'\r\n                }]\r\n        }] });\n\nclass TimerComponent extends DumbComponent {\r\n    constructor() {\r\n        super();\r\n        this.countUp = false;\r\n        this.millisecondsAlways = false;\r\n        this.millisecondsUnderMinute = false;\r\n        this.showHours = false;\r\n        this.timesUp = new EventEmitter();\r\n        this.stopped = false;\r\n        this.timeElapsed = new Timer();\r\n        this.timeElapsedSubject = new BehaviorSubject(new Timer());\r\n        this.timeRemaining = new Timer();\r\n        this.timeRemainingSubject = new BehaviorSubject(new Timer());\r\n        this._countDown = false;\r\n        this._countdownFrom = new Timer();\r\n        this.timeElapsed$ = this.timeElapsedSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n        this.timeRemaining$ = this.timeRemainingSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n    }\r\n    set countdownFrom(value) {\r\n        this._countdownFrom = build(Timer, value);\r\n        this.timeRemainingSubject.next(this._countdownFrom);\r\n    }\r\n    get countdownFrom() {\r\n        return this._countdownFrom;\r\n    }\r\n    set countDown(value) {\r\n        this._countDown = value;\r\n    }\r\n    get countDown() {\r\n        return this._countDown || !this.countdownFrom.zero;\r\n    }\r\n    get millisecondsEver() {\r\n        return this.millisecondsAlways || this.millisecondsUnderMinute;\r\n    }\r\n    get showElapsedMilliseconds() {\r\n        return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeElapsed.minutes < 1;\r\n    }\r\n    get showRemainingMilliseconds() {\r\n        return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeRemaining.minutes < 1;\r\n    }\r\n    get timeElapsedChanges() {\r\n        return this.timeElapsed$.subscribe(x => {\r\n            this.timeElapsed = x;\r\n        });\r\n    }\r\n    get timeRemainingChanges() {\r\n        return this.timeRemaining$.subscribe(x => {\r\n            this.timeRemaining = x;\r\n            if (this.timeRemaining.zero) {\r\n                this.timesUp.emit();\r\n            }\r\n        });\r\n    }\r\n    get zero() {\r\n        return this.timeRemaining.zero;\r\n    }\r\n    ngOnInit() {\r\n        this.subscribe([this.timeElapsedChanges, this.timeRemainingChanges]);\r\n    }\r\n    setTimeElapsed(time) {\r\n        this.stopped = true;\r\n        this.timeElapsedSubject.next(build(Timer, time));\r\n    }\r\n    setTimeRemaining(time) {\r\n        // this.stopped = true;\r\n        this.timeRemainingSubject.next(build(Timer, time));\r\n    }\r\n    start(e) {\r\n        if (e && typeof e.preventDefault === 'function') {\r\n            e.preventDefault();\r\n        }\r\n        this.stopped = false;\r\n        if (this.millisecondsEver) {\r\n            this.timeoutMilliseconds();\r\n        }\r\n        else {\r\n            this.timeoutSeconds();\r\n        }\r\n    }\r\n    startAt(time) {\r\n        this.setTimeRemaining(time);\r\n        // this.start();\r\n    }\r\n    stop(e) {\r\n        if (e && typeof e.preventDefault === 'function') {\r\n            e.preventDefault();\r\n        }\r\n        this.stopped = true;\r\n    }\r\n    timeoutMilliseconds() {\r\n        if (!this.stopped && !this.zero) {\r\n            setTimeout(() => {\r\n                this.nextMillisecond();\r\n                this.timeoutMilliseconds();\r\n            }, 1);\r\n        }\r\n    }\r\n    timeoutSeconds() {\r\n        if (!this.stopped && !this.zero) {\r\n            setTimeout(() => {\r\n                if (!this.stopped) {\r\n                    this.nextSecond();\r\n                    if (!this.zero) {\r\n                        this.timeoutSeconds();\r\n                    }\r\n                }\r\n            }, 1000);\r\n        }\r\n    }\r\n    nextMillisecond() {\r\n        if (this.countDown) {\r\n            this.timeRemainingSubject.next(this.timeRemaining.decrementMillisecond());\r\n        }\r\n        if (this.countUp) {\r\n            this.timeElapsedSubject.next(this.timeElapsed.incrementMillisecond());\r\n        }\r\n    }\r\n    nextSecond() {\r\n        if (this.countDown) {\r\n            this.timeRemainingSubject.next(this.timeRemaining.decrementSecond());\r\n        }\r\n        if (this.countUp) {\r\n            this.timeElapsedSubject.next(this.timeElapsed.incrementSecond());\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ TimerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ TimerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TimerComponent, selector: \"iu-timer\", inputs: { countUp: \"countUp\", millisecondsAlways: \"millisecondsAlways\", millisecondsUnderMinute: \"millisecondsUnderMinute\", showHours: \"showHours\", countdownFrom: \"countdownFrom\", countDown: \"countDown\" }, outputs: { timesUp: \"timesUp\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"timer\\\">\\r\\n  <div *ngIf=\\\"countDown\\\" class=\\\"time-remaining\\\">\\r\\n    {{ timeRemaining | timer : showHours : showRemainingMilliseconds }}\\r\\n  </div>\\r\\n  <div *ngIf=\\\"countUp\\\" class=\\\"time-elapsed\\\">\\r\\n    {{ timeElapsed | timer : showHours : showElapsedMilliseconds }}\\r\\n  </div>\\r\\n  <button mat-raised-button (click)=\\\"start($event)\\\">Start</button>\\r\\n  <button mat-raised-button (click)=\\\"stop($event)\\\">Stop</button>\\r\\n</div>\\r\\n\", styles: [\".timer .time-remaining,.timer .time-elapsed{font-size:48px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"timer\": TimerPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-timer', template: \"<div class=\\\"timer\\\">\\r\\n  <div *ngIf=\\\"countDown\\\" class=\\\"time-remaining\\\">\\r\\n    {{ timeRemaining | timer : showHours : showRemainingMilliseconds }}\\r\\n  </div>\\r\\n  <div *ngIf=\\\"countUp\\\" class=\\\"time-elapsed\\\">\\r\\n    {{ timeElapsed | timer : showHours : showElapsedMilliseconds }}\\r\\n  </div>\\r\\n  <button mat-raised-button (click)=\\\"start($event)\\\">Start</button>\\r\\n  <button mat-raised-button (click)=\\\"stop($event)\\\">Stop</button>\\r\\n</div>\\r\\n\", styles: [\".timer .time-remaining,.timer .time-elapsed{font-size:48px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { countUp: [{\r\n                type: Input\r\n            }], millisecondsAlways: [{\r\n                type: Input\r\n            }], millisecondsUnderMinute: [{\r\n                type: Input\r\n            }], showHours: [{\r\n                type: Input\r\n            }], timesUp: [{\r\n                type: Output\r\n            }], countdownFrom: [{\r\n                type: Input\r\n            }], countDown: [{\r\n                type: Input\r\n            }] } });\n\nclass TimerModule {\r\n}\r\n/** @nocollapse */ TimerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ TimerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, declarations: [TimerComponent,\r\n        TimerPipe], imports: [SharedModule,\r\n        MatButtonModule], exports: [TimerComponent,\r\n        TimerPipe] });\r\n/** @nocollapse */ TimerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, imports: [[\r\n            SharedModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    declarations: [\r\n                        TimerComponent,\r\n                        TimerPipe,\r\n                    ],\r\n                    exports: [\r\n                        TimerComponent,\r\n                        TimerPipe,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass ListPipe {\r\n    transform(value, key) {\r\n        return Array.isArray(value) ?\r\n            value.reduce((acc, x) => key ?\r\n                acc ? `${acc}, ${x[key]}` : x[key]\r\n                : acc ? `${acc}, ${x}`\r\n                    : x, '')\r\n            : '';\r\n    }\r\n}\r\n/** @nocollapse */ ListPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ListPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ ListPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ListPipe, name: \"list\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ListPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'list'\r\n                }]\r\n        }] });\n\nclass PadLeftPipe {\r\n    transform(value, targetLength, padString = '0') {\r\n        return value.toString().padStart(targetLength, padString);\r\n    }\r\n}\r\n/** @nocollapse */ PadLeftPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PadLeftPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ PadLeftPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PadLeftPipe, name: \"padLeft\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PadLeftPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'padLeft'\r\n                }]\r\n        }] });\n\nclass PhoneNumberPipe {\r\n    transform(value, args) {\r\n        return value ? value.length !== 10 ? value\r\n            : `(${value[0]}${value[1]}${value[2]}) ${value[3]}${value[4]}${value[5]}-${value[6]}${value[7]}${value[8]}${value[9]}`\r\n            : '';\r\n    }\r\n}\r\n/** @nocollapse */ PhoneNumberPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ PhoneNumberPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberPipe, name: \"phone\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'phone'\r\n                }]\r\n        }] });\n\nclass SafeHtmlPipe {\r\n    constructor(sanitized) {\r\n        this.sanitized = sanitized;\r\n    }\r\n    transform(value, args) {\r\n        return this.sanitized.bypassSecurityTrustHtml(value);\r\n    }\r\n}\r\n/** @nocollapse */ SafeHtmlPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SafeHtmlPipe, deps: [{ token: i2$8.DomSanitizer }], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ SafeHtmlPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SafeHtmlPipe, name: \"safeHtml\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SafeHtmlPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'safeHtml'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i2$8.DomSanitizer }]; } });\n\nclass TimeAgoPipe {\r\n    transform(value, args) {\r\n        return DateHelper.TimeAgo(value);\r\n    }\r\n}\r\n/** @nocollapse */ TimeAgoPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeAgoPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ TimeAgoPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeAgoPipe, name: \"timeago\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeAgoPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'timeago'\r\n                }]\r\n        }] });\n\nclass YesNoPipe {\r\n    transform(value, args) {\r\n        return value ? 'Yes' : 'No';\r\n    }\r\n}\r\n/** @nocollapse */ YesNoPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: YesNoPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ YesNoPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: YesNoPipe, name: \"yesno\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: YesNoPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'yesno'\r\n                }]\r\n        }] });\n\nclass PipesModule {\r\n}\r\n/** @nocollapse */ PipesModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ PipesModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, declarations: [ListPipe,\r\n        PadLeftPipe,\r\n        PhoneNumberPipe,\r\n        SafeHtmlPipe,\r\n        TimeAgoPipe,\r\n        YesNoPipe], imports: [CommonModule], exports: [ListPipe,\r\n        PadLeftPipe,\r\n        PhoneNumberPipe,\r\n        SafeHtmlPipe,\r\n        TimeAgoPipe,\r\n        YesNoPipe] });\r\n/** @nocollapse */ PipesModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, imports: [[CommonModule]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [CommonModule],\r\n                    declarations: [\r\n                        ListPipe,\r\n                        PadLeftPipe,\r\n                        PhoneNumberPipe,\r\n                        SafeHtmlPipe,\r\n                        TimeAgoPipe,\r\n                        YesNoPipe\r\n                    ],\r\n                    exports: [\r\n                        ListPipe,\r\n                        PadLeftPipe,\r\n                        PhoneNumberPipe,\r\n                        SafeHtmlPipe,\r\n                        TimeAgoPipe,\r\n                        YesNoPipe\r\n                    ]\r\n                }]\r\n        }] });\n\nclass LibraryModule {\r\n}\r\n/** @nocollapse */ LibraryModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ LibraryModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, declarations: [LibraryComponent], imports: [SharedModule,\r\n        AccordionModule,\r\n        AddressModule,\r\n        AuditModule,\r\n        ContainerModule,\r\n        DatepickerModule,\r\n        DialogModule,\r\n        FileUploadModule,\r\n        NotFoundModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatTableModule,\r\n        MatToolbarModule,\r\n        PipesModule,\r\n        TimeModule,\r\n        TimerModule], exports: [LibraryComponent,\r\n        SharedModule,\r\n        AccordionModule,\r\n        AddressModule,\r\n        AuditModule,\r\n        CollageModule,\r\n        ContainerModule,\r\n        DatepickerModule,\r\n        DialogModule,\r\n        FileUploadModule,\r\n        TileModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        PipesModule,\r\n        TimeModule,\r\n        TimerModule] });\r\n/** @nocollapse */ LibraryModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, imports: [[\r\n            SharedModule,\r\n            AccordionModule,\r\n            AddressModule,\r\n            AuditModule,\r\n            ContainerModule,\r\n            DatepickerModule,\r\n            DialogModule,\r\n            FileUploadModule,\r\n            NotFoundModule,\r\n            MatButtonModule,\r\n            MatCardModule,\r\n            MatCheckboxModule,\r\n            MatIconModule,\r\n            MatInputModule,\r\n            MatProgressBarModule,\r\n            MatProgressSpinnerModule,\r\n            MatRadioModule,\r\n            MatSelectModule,\r\n            MatTabsModule,\r\n            MatTableModule,\r\n            MatToolbarModule,\r\n            PipesModule,\r\n            TimeModule,\r\n            TimerModule\r\n        ], SharedModule,\r\n        AccordionModule,\r\n        AddressModule,\r\n        AuditModule,\r\n        CollageModule,\r\n        ContainerModule,\r\n        DatepickerModule,\r\n        DialogModule,\r\n        FileUploadModule,\r\n        TileModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        PipesModule,\r\n        TimeModule,\r\n        TimerModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        AccordionModule,\r\n                        AddressModule,\r\n                        AuditModule,\r\n                        ContainerModule,\r\n                        DatepickerModule,\r\n                        DialogModule,\r\n                        FileUploadModule,\r\n                        NotFoundModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatCheckboxModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatProgressBarModule,\r\n                        MatProgressSpinnerModule,\r\n                        MatRadioModule,\r\n                        MatSelectModule,\r\n                        MatTabsModule,\r\n                        MatTableModule,\r\n                        MatToolbarModule,\r\n                        PipesModule,\r\n                        TimeModule,\r\n                        TimerModule\r\n                    ],\r\n                    declarations: [LibraryComponent],\r\n                    exports: [\r\n                        LibraryComponent,\r\n                        SharedModule,\r\n                        AccordionModule,\r\n                        AddressModule,\r\n                        AuditModule,\r\n                        CollageModule,\r\n                        ContainerModule,\r\n                        DatepickerModule,\r\n                        DialogModule,\r\n                        FileUploadModule,\r\n                        TileModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatCheckboxModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatProgressBarModule,\r\n                        MatProgressSpinnerModule,\r\n                        MatRadioModule,\r\n                        MatSelectModule,\r\n                        MatTabsModule,\r\n                        MatToolbarModule,\r\n                        PipesModule,\r\n                        TimeModule,\r\n                        TimerModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AnimationsModule {\r\n}\r\n/** @nocollapse */ AnimationsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AnimationsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, imports: [CommonModule] });\r\n/** @nocollapse */ AnimationsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nclass Lookup {\r\n    constructor() {\r\n        this.typeName = '';\r\n        this.values = [];\r\n        this._key = '';\r\n    }\r\n    get key() {\r\n        return this._key || this.typeName;\r\n    }\r\n    set key(value) {\r\n        this._key = value;\r\n    }\r\n    get name() {\r\n        return this.key;\r\n    }\r\n    set name(value) {\r\n        this.key = value;\r\n    }\r\n    get names() {\r\n        return this.values.map(x => x.name);\r\n    }\r\n}\r\nclass LookupValue {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.active = true;\r\n        this.description = '';\r\n        this.name = '';\r\n        this.sort = 0;\r\n        this.tooltip = ''; // use this for accessibility and/or help tooltip messages\r\n        this._label = '';\r\n    }\r\n    get value() {\r\n        return this._value || this.id;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n    get label() {\r\n        return this._label || this.description;\r\n    }\r\n    set label(value) {\r\n        this._label = value;\r\n    }\r\n}\r\nclass Lookups {\r\n    static AddLookups(state, lookups) {\r\n        return lookups.reduce((acc, lookup) => build(Lookups, acc, { [lookup.key]: build(Lookup, lookup) }), state);\r\n    }\r\n    static AddLookup(state, lookup) {\r\n        return build(Lookups, state, {\r\n            [lookup.key]: build(Lookup, lookup)\r\n        });\r\n    }\r\n    static BuildLookupValues(values, names) {\r\n        return names.reduce((acc, name) => {\r\n            const value = values.find(x => x.name === name);\r\n            return value ? [...acc, value] : [...acc];\r\n        }, []);\r\n    }\r\n    static FindLookupIdByName(values, name) {\r\n        const lkp = build(LookupValue, values.find(x => x.name === name));\r\n        return lkp.id;\r\n    }\r\n    static FindLookupNameById(values, id) {\r\n        const lkp = build(LookupValue, values.find(x => x.id === id));\r\n        return lkp.name;\r\n    }\r\n    static RemoveLookup(state, removeKey) {\r\n        const newState = new Lookups();\r\n        const keys = Object.keys(state).filter(key => key !== removeKey);\r\n        keys.forEach(key => {\r\n            newState[key] = Object.assign({}, state[key]);\r\n        });\r\n        return newState;\r\n    }\r\n    static RemoveLookupValue(state, lookupKey, lookupValueId) {\r\n        const values = toArray(build(Lookup, state[lookupKey]).values).filter(x => x.id !== lookupValueId);\r\n        const lookup = build(Lookup, state[lookupKey], { values });\r\n        return build(Lookups, state, { [lookupKey]: lookup });\r\n    }\r\n    static UpdateLookupValue(state, lookupKey, lookupValue) {\r\n        const values = [\r\n            ...toArray(build(Lookup, state[lookupKey]).values).filter(x => x.id !== lookupValue.id),\r\n            lookupValue\r\n        ];\r\n        const lookup = build(Lookup, state[lookupKey], { values });\r\n        return build(Lookups, state, { [lookupKey]: lookup });\r\n    }\r\n}\r\nclass AddLookupPayload {\r\n    constructor() {\r\n        this.key = '';\r\n    }\r\n}\n\nclass Calendar {\r\n    constructor() {\r\n        this.calendarName = '';\r\n        this.description = '';\r\n        this.isAllDayDefault = false;\r\n        this.isAllDayEnforced = false;\r\n        this.isMaster = false;\r\n        this.events = [];\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['firstDay', 'lastDay']\r\n        });\r\n    }\r\n    get firstDay() {\r\n        return;\r\n    }\r\n    get lastDay() {\r\n        return;\r\n    }\r\n}\r\nclass CalendarEventType extends LookupValue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.allDay = false;\r\n        this.color = '';\r\n    }\r\n}\r\nclass CalendarEvent {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.description = '';\r\n        this.eventId = '';\r\n        this.name = '';\r\n        this.eventType = new CalendarEventType();\r\n        this.eventTypeId = 0;\r\n        this.calendarId = 0;\r\n        this.startTime = new Date();\r\n        this.endTime = null;\r\n        this._allDay = false;\r\n        this._color = '';\r\n    }\r\n    get metadata() {\r\n        return {\r\n            name: {\r\n                validators: [Validators$1.required]\r\n            },\r\n            ignore: [\r\n                '_allDay',\r\n                '_color',\r\n                'color',\r\n                'dayOf',\r\n                'description',\r\n                'startHour',\r\n                'startMinute',\r\n                'startTimePeriod',\r\n                'monthOf',\r\n                'endHour',\r\n                'endMinute',\r\n                'endTimePeriod',\r\n                'eventType',\r\n                'yearOf'\r\n            ]\r\n        };\r\n    }\r\n    set allDay(value) {\r\n        this._allDay = value;\r\n    }\r\n    get allDay() {\r\n        return this._allDay || this.eventType.allDay;\r\n    }\r\n    set color(value) {\r\n        this._color = value;\r\n    }\r\n    get color() {\r\n        return this._color || this.eventType.color;\r\n    }\r\n    get endHour() {\r\n        return DateHelper.GetHour(this.endTime);\r\n    }\r\n    get endMinute() {\r\n        return DateHelper.GetMinute(this.endTime);\r\n    }\r\n    get endTimePeriod() {\r\n        return DateHelper.GetMeridian(this.endTime);\r\n    }\r\n    get startHour() {\r\n        return DateHelper.GetHour(this.startTime);\r\n    }\r\n    get startMinute() {\r\n        return DateHelper.GetMinute(this.startTime);\r\n    }\r\n    get startTimePeriod() {\r\n        return DateHelper.GetMeridian(this.startTime);\r\n    }\r\n}\r\nclass CalendarDay {\r\n    constructor() {\r\n        this.date = new Date();\r\n        this.dayType = new CalendarEventType();\r\n        this.events = [];\r\n        this.isActive = false;\r\n        this.color = '';\r\n    }\r\n}\n\nclass CalendarDayEventsComponent {\r\n    constructor(el) {\r\n        this.el = el;\r\n        this.styles = {};\r\n        this._calendarEvents = [];\r\n        this.totalHeight = 100;\r\n    }\r\n    set calendarEvents(value) {\r\n        this._calendarEvents = value;\r\n        this.styles = value.reduce((acc, e, i) => {\r\n            const width = DateHelper.HoursBetween(e.startTime, e.endTime) * this.hourWidth;\r\n            return Object.assign({}, acc, {\r\n                [i]: {\r\n                    top: 5,\r\n                    left: DateHelper.HoursFromBeginningOfDay(e.startTime) * this.hourWidth,\r\n                    width,\r\n                    height: width < 200 ? this.rowHeight * 2 : this.rowHeight\r\n                }\r\n            });\r\n        }, {});\r\n    }\r\n    get calendarEvents() {\r\n        return this._calendarEvents;\r\n    }\r\n    get elementWidth() {\r\n        return Math.max(this.el.nativeElement.offsetWidth, 800);\r\n    }\r\n    get hours() {\r\n        return integerArray(24).map(i => `${(i + 1) % 12 === 0 ? 12 : (i + 1) % 12}`);\r\n    }\r\n    get hourWidth() {\r\n        return this.elementWidth / 24;\r\n    }\r\n    get rowHeight() {\r\n        return this.totalHeight / 5;\r\n    }\r\n    ngOnInit() { }\r\n}\r\n/** @nocollapse */ CalendarDayEventsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEventsComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayEventsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayEventsComponent, selector: \"iu-calendar-day-events\", inputs: { dayTypeColor: \"dayTypeColor\", calendarEvents: \"calendarEvents\" }, ngImport: i0, template: \"<div class=\\\"calendar-day-events scrollable\\\">\\r\\n  <div\\r\\n    class=\\\"hours\\\"\\r\\n    [style.width.px]=\\\"elementWidth\\\"\\r\\n    [style.background-color]=\\\"dayTypeColor\\\"\\r\\n  >\\r\\n    <h4 *ngFor=\\\"let hour of hours\\\" [style.width.px]=\\\"hourWidth\\\">{{ hour }}</h4>\\r\\n  </div>\\r\\n  <div class=\\\"events-list\\\">\\r\\n    <span\\r\\n      class=\\\"inline-event\\\"\\r\\n      *ngFor=\\\"let event of calendarEvents; let i = index\\\"\\r\\n      [style.background]=\\\"event.color\\\"\\r\\n      [style.top.px]=\\\"styles[i].top\\\"\\r\\n      [style.left.px]=\\\"styles[i].left\\\"\\r\\n      [style.height.px]=\\\"styles[i].height\\\"\\r\\n      [style.width.px]=\\\"styles[i].width\\\"\\r\\n      >{{ event.name }}</span\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-events{min-width:800px}.calendar-day-events .hours h4{text-align:center;display:inline-block;margin:5px 0}.calendar-day-events .events-list{min-height:80px;position:relative}.calendar-day-events .events-list .inline-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;padding:5px 0;font-size:12px;color:#fff;position:absolute;text-align:center}\\n\"], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEventsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day-events', template: \"<div class=\\\"calendar-day-events scrollable\\\">\\r\\n  <div\\r\\n    class=\\\"hours\\\"\\r\\n    [style.width.px]=\\\"elementWidth\\\"\\r\\n    [style.background-color]=\\\"dayTypeColor\\\"\\r\\n  >\\r\\n    <h4 *ngFor=\\\"let hour of hours\\\" [style.width.px]=\\\"hourWidth\\\">{{ hour }}</h4>\\r\\n  </div>\\r\\n  <div class=\\\"events-list\\\">\\r\\n    <span\\r\\n      class=\\\"inline-event\\\"\\r\\n      *ngFor=\\\"let event of calendarEvents; let i = index\\\"\\r\\n      [style.background]=\\\"event.color\\\"\\r\\n      [style.top.px]=\\\"styles[i].top\\\"\\r\\n      [style.left.px]=\\\"styles[i].left\\\"\\r\\n      [style.height.px]=\\\"styles[i].height\\\"\\r\\n      [style.width.px]=\\\"styles[i].width\\\"\\r\\n      >{{ event.name }}</span\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-events{min-width:800px}.calendar-day-events .hours h4{text-align:center;display:inline-block;margin:5px 0}.calendar-day-events .events-list{min-height:80px;position:relative}.calendar-day-events .events-list .inline-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;padding:5px 0;font-size:12px;color:#fff;position:absolute;text-align:center}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { dayTypeColor: [{\r\n                type: Input\r\n            }], calendarEvents: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarDayEditComponent {\r\n    constructor(el, data) {\r\n        this.el = el;\r\n        this.data = data;\r\n        this.saveEvent = new EventEmitter();\r\n        this.changeDayType = new EventEmitter();\r\n        this._calendarDay = new CalendarDay();\r\n        this._calendarDayTypes = [];\r\n        this._calendarEventTypes = [];\r\n        this.calendarDayTypeId = 0;\r\n    }\r\n    set calendarDay(value) {\r\n        this._calendarDay = value;\r\n    }\r\n    get calendarDay() {\r\n        return this.data && this.data['calendarDay'] ? this.data['calendarDay'] : this._calendarDay;\r\n    }\r\n    set calendarDayEditTemplate(value) {\r\n        this._calendarDayEditTemplate = value;\r\n    }\r\n    get calendarDayEditTemplate() {\r\n        return this.data && this.data['calendarDayEditTemplate'] ? this.data['calendarDayEditTemplate'] : this._calendarDayEditTemplate;\r\n    }\r\n    set calendarEventFormTemplate(value) {\r\n        this._calendarEventFormTemplate = value;\r\n    }\r\n    get calendarEventFormTemplate() {\r\n        return this.data && this.data['calendarEventFormTemplate'] ? this.data['calendarEventFormTemplate'] : this._calendarEventFormTemplate;\r\n    }\r\n    set calendarEventViewTemplate(value) {\r\n        this._calendarEventViewTemplate = value;\r\n    }\r\n    get calendarEventViewTemplate() {\r\n        return this.data && this.data['calendarEventViewTemplate'] ? this.data['calendarEventViewTemplate'] : this._calendarEventViewTemplate;\r\n    }\r\n    set calendarDayTypes(value) {\r\n        this._calendarDayTypes = value;\r\n    }\r\n    get calendarDayTypes() {\r\n        return this.data && this.data['calendarDayTypes'] ? toArray(this.data['calendarDayTypes']) : toArray(this._calendarDayTypes);\r\n    }\r\n    set calendarEventTypes(value) {\r\n        this._calendarEventTypes = value;\r\n    }\r\n    get calendarEventTypes() {\r\n        return this.data && this.data['calendarEventTypes'] ? toArray(this.data['calendarEventTypes']) : toArray(this._calendarEventTypes);\r\n    }\r\n    get contentWidth() {\r\n        return this.wrapperWidth - 320;\r\n    }\r\n    get elementWidth() {\r\n        return this.el.nativeElement.offsetWidth;\r\n    }\r\n    get eventsWidth() {\r\n        return this.elementWidth - 320;\r\n    }\r\n    get valueOut() {\r\n        return build(CalendarDay, this.calendarDay, {\r\n            dayTypeId: this.calendarDayTypeId\r\n        });\r\n    }\r\n    get wrapperWidth() {\r\n        return this.wrapper && this.wrapper.nativeElement ? this.wrapper.nativeElement.offsetWidth : 0;\r\n    }\r\n    ngOnInit() { }\r\n    ngAfterViewInit() {\r\n        this.setDayType(this.calendarDay.dayType);\r\n    }\r\n    onChangeDayType(e) {\r\n        const id = toInt(e);\r\n        this.calendarDayTypeId = id;\r\n        this.changeDayType.emit(build(CalendarEventType, this.calendarDayTypes.find(x => x.id === id)));\r\n    }\r\n    setDayType(e) {\r\n        this.calendarDayTypeId = e.id;\r\n        if (this.dayTypeInput && this.dayTypeInput.nativeElement) {\r\n            this.dayTypeInput.nativeElement.value = e.id;\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDayEditComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEditComponent, deps: [{ token: i0.ElementRef }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayEditComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayEditComponent, selector: \"iu-calendar-day-edit\", inputs: { calendarDay: \"calendarDay\", calendarDayEditTemplate: \"calendarDayEditTemplate\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventViewTemplate: \"calendarEventViewTemplate\", calendarDayTypes: \"calendarDayTypes\", calendarEventTypes: \"calendarEventTypes\" }, outputs: { saveEvent: \"saveEvent\", changeDayType: \"changeDayType\" }, viewQueries: [{ propertyName: \"dayTypeInput\", first: true, predicate: [\"dayTypeInput\"], descendants: true }, { propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true }], ngImport: i0, template: \"<div class=\\\"calendar-day-edit\\\" #wrapper>\\r\\n  <div class=\\\"calendar-day-content\\\">\\r\\n    <div class=\\\"calendar-date accordion-trigger\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\">\\r\\n      <h3 class=\\\"date-weekday font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'EEEE' }}\\r\\n      </h3>\\r\\n      <h2 class=\\\"date-month font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'MMMM' }}\\r\\n      </h2>\\r\\n      <h1 class=\\\"date-day font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'dd' }}\\r\\n      </h1>\\r\\n    </div>\\r\\n\\r\\n    <span class=\\\"day-type-label font-effect-outline\\\" [style.color]=\\\"calendarDay.dayType.color\\\">Day Type</span>\\r\\n\\r\\n    <div class=\\\"all-day-events\\\">\\r\\n      <select class=\\\"mat-select select-day-type\\\" #dayTypeInput (change)=\\\"onChangeDayType(dayTypeInput.value)\\\">\\r\\n        <option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </option>\\r\\n      </select>\\r\\n\\r\\n      <!-- <mat-select class=\\\"mat-select select-day-type\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </mat-option>\\r\\n      </mat-select> -->\\r\\n\\r\\n      <!-- <div class=\\\"calendar-events-list\\\">\\r\\n        <div\\r\\n          class=\\\"calendar-event accordion-content\\\"\\r\\n          *ngFor=\\\"let event of calendarDay?.events; index as i\\\"\\r\\n        >\\r\\n          <iu-calendar-event-view\\r\\n            (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n            [calendarEvent]=\\\"event\\\"\\r\\n            [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n            [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n            [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n          ></iu-calendar-event-view>\\r\\n        </div>\\r\\n      </div> -->\\r\\n    </div>\\r\\n    <iu-calendar-day-events\\r\\n      *ngIf=\\\"!calendarDayEditTemplate\\\"\\r\\n      [style.width.px]=\\\"eventsWidth\\\"\\r\\n      [calendarEvents]=\\\"calendarDay.events\\\"\\r\\n      [dayTypeColor]=\\\"calendarDay.dayType.color\\\"\\r\\n      class=\\\"scrollable\\\"\\r\\n    ></iu-calendar-day-events>\\r\\n    <div class=\\\"custom-template\\\" [style.width.px]=\\\"contentWidth\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\" *ngIf=\\\"calendarDayEditTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayEditTemplate;\\r\\n          context: {\\r\\n            day: calendarDay,\\r\\n            color: calendarDay.dayType.color\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-content{display:flex;flex-direction:row;align-items:flex-start;align-content:center;margin-top:40px;border-radius:10px;position:relative}.calendar-day-content .calendar-date{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;color:#fff;min-width:120px;text-align:center;padding:10px 0;align-self:center;border-radius:10px 0 0 10px}.calendar-day-content .calendar-date .date-weekday,.calendar-day-content .calendar-date .date-month,.calendar-day-content .calendar-date .date-day{width:100%;margin:0;padding:0}.calendar-day-content .all-day-events{min-width:200px;position:absolute;top:-25px;left:120px}.calendar-day-content .day-type-label{width:80px;position:absolute;top:-23px;left:40px;text-align:center}.calendar-day-content .select-day-type{display:block;font-size:16px;font-family:sans-serif;font-weight:700;color:#444;width:100%;max-width:100%;box-sizing:border-box;border:1px solid #aaa;box-shadow:0 1px 0 1px #0000000a;border-radius:.5em;-webkit-appearance:none;appearance:none;background-color:#fff;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E),linear-gradient(to bottom,#ffffff 0%,#e5e5e5 100%);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%;margin:auto 0;padding:0 10px;line-height:1.5;cursor:pointer}.calendar-day-content .select-css::-ms-expand{display:none}.calendar-day-content .select-css:hover{border-color:#888}.calendar-day-content .select-css:focus{border-color:#aaa;box-shadow:0 0 1px 3px #3b99fcb3;box-shadow:0 0 0 3px -moz-mac-focusring;color:#222;outline:none}.calendar-day-content .select-css option{font-weight:400}.calendar-day-content iu-calendar-day-events{overflow:auto}.calendar-day-content .custom-template{overflow:auto;border-top-right-radius:10px;border-bottom-right-radius:10px;margin:2px 0 0;min-width:500px;min-height:89px}@media print{.day-type-label,.all-day-events{display:none}}\\n\"], components: [{ type: CalendarDayEventsComponent, selector: \"iu-calendar-day-events\", inputs: [\"dayTypeColor\", \"calendarEvents\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i5.NgSelectOption, selector: \"option\", inputs: [\"ngValue\", \"value\"] }, { type: i5.ɵNgSelectMultipleOption, selector: \"option\", inputs: [\"ngValue\", \"value\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], pipes: { \"date\": i2$1.DatePipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEditComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day-edit', template: \"<div class=\\\"calendar-day-edit\\\" #wrapper>\\r\\n  <div class=\\\"calendar-day-content\\\">\\r\\n    <div class=\\\"calendar-date accordion-trigger\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\">\\r\\n      <h3 class=\\\"date-weekday font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'EEEE' }}\\r\\n      </h3>\\r\\n      <h2 class=\\\"date-month font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'MMMM' }}\\r\\n      </h2>\\r\\n      <h1 class=\\\"date-day font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'dd' }}\\r\\n      </h1>\\r\\n    </div>\\r\\n\\r\\n    <span class=\\\"day-type-label font-effect-outline\\\" [style.color]=\\\"calendarDay.dayType.color\\\">Day Type</span>\\r\\n\\r\\n    <div class=\\\"all-day-events\\\">\\r\\n      <select class=\\\"mat-select select-day-type\\\" #dayTypeInput (change)=\\\"onChangeDayType(dayTypeInput.value)\\\">\\r\\n        <option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </option>\\r\\n      </select>\\r\\n\\r\\n      <!-- <mat-select class=\\\"mat-select select-day-type\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </mat-option>\\r\\n      </mat-select> -->\\r\\n\\r\\n      <!-- <div class=\\\"calendar-events-list\\\">\\r\\n        <div\\r\\n          class=\\\"calendar-event accordion-content\\\"\\r\\n          *ngFor=\\\"let event of calendarDay?.events; index as i\\\"\\r\\n        >\\r\\n          <iu-calendar-event-view\\r\\n            (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n            [calendarEvent]=\\\"event\\\"\\r\\n            [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n            [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n            [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n          ></iu-calendar-event-view>\\r\\n        </div>\\r\\n      </div> -->\\r\\n    </div>\\r\\n    <iu-calendar-day-events\\r\\n      *ngIf=\\\"!calendarDayEditTemplate\\\"\\r\\n      [style.width.px]=\\\"eventsWidth\\\"\\r\\n      [calendarEvents]=\\\"calendarDay.events\\\"\\r\\n      [dayTypeColor]=\\\"calendarDay.dayType.color\\\"\\r\\n      class=\\\"scrollable\\\"\\r\\n    ></iu-calendar-day-events>\\r\\n    <div class=\\\"custom-template\\\" [style.width.px]=\\\"contentWidth\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\" *ngIf=\\\"calendarDayEditTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayEditTemplate;\\r\\n          context: {\\r\\n            day: calendarDay,\\r\\n            color: calendarDay.dayType.color\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-content{display:flex;flex-direction:row;align-items:flex-start;align-content:center;margin-top:40px;border-radius:10px;position:relative}.calendar-day-content .calendar-date{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;color:#fff;min-width:120px;text-align:center;padding:10px 0;align-self:center;border-radius:10px 0 0 10px}.calendar-day-content .calendar-date .date-weekday,.calendar-day-content .calendar-date .date-month,.calendar-day-content .calendar-date .date-day{width:100%;margin:0;padding:0}.calendar-day-content .all-day-events{min-width:200px;position:absolute;top:-25px;left:120px}.calendar-day-content .day-type-label{width:80px;position:absolute;top:-23px;left:40px;text-align:center}.calendar-day-content .select-day-type{display:block;font-size:16px;font-family:sans-serif;font-weight:700;color:#444;width:100%;max-width:100%;box-sizing:border-box;border:1px solid #aaa;box-shadow:0 1px 0 1px #0000000a;border-radius:.5em;-webkit-appearance:none;appearance:none;background-color:#fff;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E),linear-gradient(to bottom,#ffffff 0%,#e5e5e5 100%);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%;margin:auto 0;padding:0 10px;line-height:1.5;cursor:pointer}.calendar-day-content .select-css::-ms-expand{display:none}.calendar-day-content .select-css:hover{border-color:#888}.calendar-day-content .select-css:focus{border-color:#aaa;box-shadow:0 0 1px 3px #3b99fcb3;box-shadow:0 0 0 3px -moz-mac-focusring;color:#222;outline:none}.calendar-day-content .select-css option{font-weight:400}.calendar-day-content iu-calendar-day-events{overflow:auto}.calendar-day-content .custom-template{overflow:auto;border-top-right-radius:10px;border-bottom-right-radius:10px;margin:2px 0 0;min-width:500px;min-height:89px}@media print{.day-type-label,.all-day-events{display:none}}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [MAT_DIALOG_DATA]\r\n                }] }]; }, propDecorators: { saveEvent: [{\r\n                type: Output\r\n            }], changeDayType: [{\r\n                type: Output\r\n            }], dayTypeInput: [{\r\n                type: ViewChild,\r\n                args: ['dayTypeInput', { static: false }]\r\n            }], wrapper: [{\r\n                type: ViewChild,\r\n                args: ['wrapper', { static: false }]\r\n            }], calendarDay: [{\r\n                type: Input\r\n            }], calendarDayEditTemplate: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventViewTemplate: [{\r\n                type: Input\r\n            }], calendarDayTypes: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarDaysComponent {\r\n    constructor() {\r\n        this.activeDate = new Date();\r\n        this.calendarDayTypes = [];\r\n        this.calendarDays = [];\r\n        this.calendarEvents = [];\r\n        this.calendarEventTypes = [];\r\n        this.changeDayType = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    onChangeDayType(date, e) {\r\n        this.changeDayType.emit({ date, dayTypeId: e.id });\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDaysComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDaysComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDaysComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDaysComponent, selector: \"iu-calendar-days\", inputs: { activeDate: \"activeDate\", calendarDayEditTemplate: \"calendarDayEditTemplate\", calendarDayListItemTemplate: \"calendarDayListItemTemplate\", calendarDayTypes: \"calendarDayTypes\", calendarDays: \"calendarDays\", calendarEvents: \"calendarEvents\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventTypes: \"calendarEventTypes\", calendarEventViewTemplate: \"calendarEventViewTemplate\" }, outputs: { changeDayType: \"changeDayType\", saveEvent: \"saveEvent\" }, ngImport: i0, template: \"<div class=\\\"calendar-days\\\">\\r\\n  <div class=\\\"calendar-days-list-item\\\" *ngFor=\\\"let day of calendarDays; let odd = odd\\\">\\r\\n    <iu-calendar-day-edit\\r\\n      *ngIf=\\\"!calendarDayListItemTemplate\\\"\\r\\n      [calendarDay]=\\\"day\\\"\\r\\n      [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n      [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n      [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n      [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n      [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n      (changeDayType)=\\\"onChangeDayType(day.date, $event)\\\"\\r\\n      (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      [class.right]=\\\"odd\\\"\\r\\n    ></iu-calendar-day-edit>\\r\\n\\r\\n    <div *ngIf=\\\"calendarDayListItemTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayListItemTemplate;\\r\\n          context: {\\r\\n            day: day\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"\"], components: [{ type: CalendarDayEditComponent, selector: \"iu-calendar-day-edit\", inputs: [\"calendarDay\", \"calendarDayEditTemplate\", \"calendarEventFormTemplate\", \"calendarEventViewTemplate\", \"calendarDayTypes\", \"calendarEventTypes\"], outputs: [\"saveEvent\", \"changeDayType\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\n__decorate([\r\n    Control(Calendar),\r\n    __metadata(\"design:type\", FormGroup)\r\n], CalendarDaysComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDaysComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-days', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar-days\\\">\\r\\n  <div class=\\\"calendar-days-list-item\\\" *ngFor=\\\"let day of calendarDays; let odd = odd\\\">\\r\\n    <iu-calendar-day-edit\\r\\n      *ngIf=\\\"!calendarDayListItemTemplate\\\"\\r\\n      [calendarDay]=\\\"day\\\"\\r\\n      [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n      [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n      [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n      [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n      [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n      (changeDayType)=\\\"onChangeDayType(day.date, $event)\\\"\\r\\n      (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      [class.right]=\\\"odd\\\"\\r\\n    ></iu-calendar-day-edit>\\r\\n\\r\\n    <div *ngIf=\\\"calendarDayListItemTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayListItemTemplate;\\r\\n          context: {\\r\\n            day: day\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { activeDate: [{\r\n                type: Input\r\n            }], calendarDayEditTemplate: [{\r\n                type: Input\r\n            }], calendarDayListItemTemplate: [{\r\n                type: Input\r\n            }], calendarDayTypes: [{\r\n                type: Input\r\n            }], calendarDays: [{\r\n                type: Input\r\n            }], calendarEvents: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], calendarEventViewTemplate: [{\r\n                type: Input\r\n            }], form: [], changeDayType: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarDayComponent {\r\n    constructor() {\r\n        this.day = new CalendarDay();\r\n        this.calendarEventTypes = [];\r\n        this.activate = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    onSave(e) {\r\n        this.saveEvent.emit(e);\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDayComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayComponent, selector: \"iu-calendar-day\", inputs: { day: \"day\", calendarDayTemplate: \"calendarDayTemplate\", calendarEventTypes: \"calendarEventTypes\" }, outputs: { activate: \"activate\", saveEvent: \"saveEvent\" }, ngImport: i0, template: \"<div class=\\\"calendar-day\\\" (click)=\\\"activate.emit(day)\\\">\\r\\n  <p [class.active-day]=\\\"day.isActive\\\" [style.background-color]=\\\"day.color\\\">{{ day.date.getDate() }}</p>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"!calendarDayTemplate\\\">\\r\\n    <div class=\\\"calendar-event\\\" *ngFor=\\\"let event of day.events; index as i\\\">\\r\\n      <!-- <iu-calendar-event\\r\\n        *ngIf=\\\"i < 3\\\"\\r\\n        [calendarEvent]=\\\"event\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [plusMore]=\\\"day.events.length > 3 && i === 2 ? day.events.length - 2 : 0\\\"\\r\\n        (goToDay)=\\\"activate.emit(day)\\\"\\r\\n        (saveEvent)=\\\"onSave($event)\\\"\\r\\n      ></iu-calendar-event> -->\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"calendarDayTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarDayTemplate;\\r\\n        context: {\\r\\n          day: day\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".calendar-day{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:relative;height:100%;width:100%;overflow:hidden}.calendar-day p{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:absolute;padding:0 5px;top:2px;left:2px;line-height:32px;height:32px;width:calc(100% - 14px);text-align:left;color:#000;font-weight:700;margin:0;opacity:.8}.calendar-day p.active-day{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;border-radius:100%;width:30px;height:30px;line-height:30px;padding:0;text-align:center;font-size:20px;top:2px;left:2px}.calendar-day .calendar-day-content{height:calc(100% - 40px);width:100%;position:absolute;top:40px;left:0}\\n\"], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar-day\\\" (click)=\\\"activate.emit(day)\\\">\\r\\n  <p [class.active-day]=\\\"day.isActive\\\" [style.background-color]=\\\"day.color\\\">{{ day.date.getDate() }}</p>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"!calendarDayTemplate\\\">\\r\\n    <div class=\\\"calendar-event\\\" *ngFor=\\\"let event of day.events; index as i\\\">\\r\\n      <!-- <iu-calendar-event\\r\\n        *ngIf=\\\"i < 3\\\"\\r\\n        [calendarEvent]=\\\"event\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [plusMore]=\\\"day.events.length > 3 && i === 2 ? day.events.length - 2 : 0\\\"\\r\\n        (goToDay)=\\\"activate.emit(day)\\\"\\r\\n        (saveEvent)=\\\"onSave($event)\\\"\\r\\n      ></iu-calendar-event> -->\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"calendarDayTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarDayTemplate;\\r\\n        context: {\\r\\n          day: day\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".calendar-day{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:relative;height:100%;width:100%;overflow:hidden}.calendar-day p{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:absolute;padding:0 5px;top:2px;left:2px;line-height:32px;height:32px;width:calc(100% - 14px);text-align:left;color:#000;font-weight:700;margin:0;opacity:.8}.calendar-day p.active-day{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;border-radius:100%;width:30px;height:30px;line-height:30px;padding:0;text-align:center;font-size:20px;top:2px;left:2px}.calendar-day .calendar-day-content{height:calc(100% - 40px);width:100%;position:absolute;top:40px;left:0}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { day: [{\r\n                type: Input\r\n            }], calendarDayTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarViewComponent extends DumbComponent {\r\n    constructor(dialog, el) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.el = el;\r\n        this.activeDate = new Date();\r\n        this.calendarDays = [];\r\n        this.calendarEvents = [];\r\n        this.calendarEventTypes = [];\r\n        this.activate = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n        this.weekdays = DateHelper.Weekdays;\r\n    }\r\n    get calendarWidth() {\r\n        return this.el.nativeElement.offsetWidth;\r\n    }\r\n    get dayWidth() {\r\n        return this.calendarWidth / 7 - 0.1;\r\n    }\r\n    get firstDayIndex() {\r\n        return DateHelper.GetFirstDayOfMonth(this.activeDate).getDay();\r\n    }\r\n    get lastDayIndex() {\r\n        return DateHelper.GetLastDayOfMonth(this.activeDate).getDay();\r\n    }\r\n    ngOnInit() { }\r\n    isActive(day) {\r\n        return DateHelper.IsSameDay(day, this.activeDate);\r\n    }\r\n}\r\n/** @nocollapse */ CalendarViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarViewComponent, deps: [{ token: i1$2.MatDialog }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarViewComponent, selector: \"iu-calendar-view\", inputs: { activeDate: \"activeDate\", calendarDayTemplate: \"calendarDayTemplate\", calendarDayEditTemplate: \"calendarDayEditTemplate\", calendarDays: \"calendarDays\", calendarEvents: \"calendarEvents\", calendarEventTypes: \"calendarEventTypes\" }, outputs: { activate: \"activate\", saveEvent: \"saveEvent\" }, viewQueries: [{ propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"calendar\\\" id=\\\"calendar-view\\\" #wrapper>\\r\\n  <div class=\\\"cal-head\\\">\\r\\n    <div class=\\\"cal-day\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let weekday of weekdays\\\">\\r\\n      <p>{{ weekday.name }}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"cal-body\\\">\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"beginningSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index < firstDayIndex\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let day of calendarDays\\\">\\r\\n      <iu-calendar-day\\r\\n        [day]=\\\"day\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"activate.emit($event)\\\"\\r\\n        (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      ></iu-calendar-day>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"endSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index > lastDayIndex\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block;width:100%}.calendar{min-width:760px;background-color:#fff}.calendar .cal-head,.calendar .cal-head-mini{background:#d1d1d1;flex-wrap:nowrap;flex-direction:row;justify-content:space-evenly}.calendar .cal-head .cal-day,.calendar .cal-head-mini .cal-day{text-align:center}.calendar .cal-body{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start}.calendar .cal-body .day{box-shadow:inset #0000003b 0 0 2px;transition:all .1s;flex-shrink:1;order:2}.calendar .cal-body .day:hover{box-shadow:inset #0000003b 0 0 10px;cursor:pointer}.calendar .cal-body .beginningSpacer .day,.calendar .cal-body .endSpacer .day{flex-grow:1;flex-shrink:1}.calendar .cal-body .beginningSpacer{order:1}.calendar .cal-body .endSpacer{order:3}.calendar .cal-day.micro{display:none}.calendar .cal-head{display:flex}.calendar .cal-head-mini{display:none}\\n\"], components: [{ type: CalendarDayComponent, selector: \"iu-calendar-day\", inputs: [\"day\", \"calendarDayTemplate\", \"calendarEventTypes\"], outputs: [\"activate\", \"saveEvent\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarViewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-view', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar\\\" id=\\\"calendar-view\\\" #wrapper>\\r\\n  <div class=\\\"cal-head\\\">\\r\\n    <div class=\\\"cal-day\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let weekday of weekdays\\\">\\r\\n      <p>{{ weekday.name }}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"cal-body\\\">\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"beginningSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index < firstDayIndex\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let day of calendarDays\\\">\\r\\n      <iu-calendar-day\\r\\n        [day]=\\\"day\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"activate.emit($event)\\\"\\r\\n        (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      ></iu-calendar-day>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"endSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index > lastDayIndex\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block;width:100%}.calendar{min-width:760px;background-color:#fff}.calendar .cal-head,.calendar .cal-head-mini{background:#d1d1d1;flex-wrap:nowrap;flex-direction:row;justify-content:space-evenly}.calendar .cal-head .cal-day,.calendar .cal-head-mini .cal-day{text-align:center}.calendar .cal-body{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start}.calendar .cal-body .day{box-shadow:inset #0000003b 0 0 2px;transition:all .1s;flex-shrink:1;order:2}.calendar .cal-body .day:hover{box-shadow:inset #0000003b 0 0 10px;cursor:pointer}.calendar .cal-body .beginningSpacer .day,.calendar .cal-body .endSpacer .day{flex-grow:1;flex-shrink:1}.calendar .cal-body .beginningSpacer{order:1}.calendar .cal-body .endSpacer{order:3}.calendar .cal-day.micro{display:none}.calendar .cal-head{display:flex}.calendar .cal-head-mini{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }, { type: i0.ElementRef }]; }, propDecorators: { wrapper: [{\r\n                type: ViewChild,\r\n                args: ['wrapper', { static: true }]\r\n            }], activeDate: [{\r\n                type: Input\r\n            }], calendarDayTemplate: [{\r\n                type: Input\r\n            }], calendarDayEditTemplate: [{\r\n                type: Input\r\n            }], calendarDays: [{\r\n                type: Input\r\n            }], calendarEvents: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarFormComponent {\r\n    constructor(dialogRef, data) {\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this._calendar = new Calendar();\r\n    }\r\n    set calendar(value) {\r\n        this._calendar = value;\r\n    }\r\n    get calendar() {\r\n        return this.data['calendar'] || this.calendar;\r\n    }\r\n    set calendarFormTemplate(value) {\r\n        this._calendarFormTemplate = value;\r\n    }\r\n    get calendarFormTemplate() {\r\n        return this.data['calendarFormTemplate'] || this._calendarFormTemplate;\r\n    }\r\n    ngOnInit() { }\r\n    submit() {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarFormComponent, deps: [{ token: i1$2.MatDialogRef, optional: true }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarFormComponent, selector: \"iu-calendar-form\", inputs: { calendar: \"calendar\", calendarFormTemplate: \"calendarFormTemplate\" }, ngImport: i0, template: \"<div class=\\\"calendar-form\\\">\\r\\n  <div class=\\\"calendar-form\\\" *ngIf=\\\"calendarFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarFormTemplate;\\r\\n        context: {\\r\\n          calendar: calendar,\\r\\n          form: form,\\r\\n          submit: submit,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarFormTemplate\\\">\\r\\n    <h1>Create Calendar</h1>\\r\\n    <mat-form-field>\\r\\n      <input\\r\\n        type=\\\"text\\\"\\r\\n        formControlName=\\\"calendarName\\\"\\r\\n        matInput\\r\\n        placeholder=\\\"Calendar Name\\\"\\r\\n      />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field>\\r\\n      <textarea\\r\\n        matInput\\r\\n        formControlName=\\\"description\\\"\\r\\n        placeholder=\\\"Calendar Description\\\"\\r\\n      ></textarea>\\r\\n    </mat-form-field>\\r\\n    <button mat-button (click)=\\\"submit()\\\">Submit</button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\"\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\n__decorate([\r\n    Control(Calendar),\r\n    __metadata(\"design:type\", FormGroup)\r\n], CalendarFormComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarFormComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-form', template: \"<div class=\\\"calendar-form\\\">\\r\\n  <div class=\\\"calendar-form\\\" *ngIf=\\\"calendarFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarFormTemplate;\\r\\n        context: {\\r\\n          calendar: calendar,\\r\\n          form: form,\\r\\n          submit: submit,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarFormTemplate\\\">\\r\\n    <h1>Create Calendar</h1>\\r\\n    <mat-form-field>\\r\\n      <input\\r\\n        type=\\\"text\\\"\\r\\n        formControlName=\\\"calendarName\\\"\\r\\n        matInput\\r\\n        placeholder=\\\"Calendar Name\\\"\\r\\n      />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field>\\r\\n      <textarea\\r\\n        matInput\\r\\n        formControlName=\\\"description\\\"\\r\\n        placeholder=\\\"Calendar Description\\\"\\r\\n      ></textarea>\\r\\n    </mat-form-field>\\r\\n    <button mat-button (click)=\\\"submit()\\\">Submit</button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef, decorators: [{\r\n                    type: Optional\r\n                }] }, { type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [MAT_DIALOG_DATA]\r\n                }] }]; }, propDecorators: { form: [], calendar: [{\r\n                type: Input\r\n            }], calendarFormTemplate: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarKeyComponent {\r\n    constructor() {\r\n        this.calendarEventTypes = [];\r\n        this.heading = '';\r\n    }\r\n    ngOnInit() { }\r\n}\r\n/** @nocollapse */ CalendarKeyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarKeyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarKeyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarKeyComponent, selector: \"iu-calendar-key\", inputs: { calendarEventTypes: \"calendarEventTypes\", heading: \"heading\" }, ngImport: i0, template: \"<div class=\\\"calendar-key\\\">\\r\\n  <h2>{{ heading }}</h2>\\r\\n  <h3 *ngFor=\\\"let type of calendarEventTypes\\\" [style.background-color]=\\\"type.color\\\">\\r\\n    {{ type.name }}\\r\\n  </h3>\\r\\n</div>\\r\\n\", styles: [\".calendar-key{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;background-color:#fff;width:90%;padding:0 1% 10px;flex-direction:row;justify-content:space-evenly;text-align:center;max-height:600px}.calendar-key h3{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#fff;width:94%;margin:0 3% 10px;opacity:.8}.calendar-key h3:last-of-type{margin-bottom:20px}\\n\"], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarKeyComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-key', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar-key\\\">\\r\\n  <h2>{{ heading }}</h2>\\r\\n  <h3 *ngFor=\\\"let type of calendarEventTypes\\\" [style.background-color]=\\\"type.color\\\">\\r\\n    {{ type.name }}\\r\\n  </h3>\\r\\n</div>\\r\\n\", styles: [\".calendar-key{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;background-color:#fff;width:90%;padding:0 1% 10px;flex-direction:row;justify-content:space-evenly;text-align:center;max-height:600px}.calendar-key h3{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#fff;width:94%;margin:0 3% 10px;opacity:.8}.calendar-key h3:last-of-type{margin-bottom:20px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { calendarEventTypes: [{\r\n                type: Input\r\n            }], heading: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarComponent extends DumbComponent {\r\n    // dayTypes = [{ id: 1, name: '1' }, { id: 2, name: '2' }];\r\n    constructor(dialog) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.allDayDefault = false;\r\n        this.calendar = new Calendar();\r\n        this.defaultInactiveTypeId = 0;\r\n        this.defaultWeekdayTypeId = 0;\r\n        this.defaultWeekendTypeId = 0;\r\n        this.keyHeading = 'Calendar Event Types';\r\n        this.showActions = false;\r\n        this.showKey = true;\r\n        this.addEvent = new EventEmitter();\r\n        this.changeActiveDate = new EventEmitter();\r\n        this.changeDayType = new EventEmitter();\r\n        this.deleteEvent = new EventEmitter();\r\n        this.updateCalendar = new EventEmitter();\r\n        this.updateEvent = new EventEmitter();\r\n        this.fileUrl = '';\r\n        this.now = new Date();\r\n        this._activeDate = new Date();\r\n        this._calendarDayTypes = [];\r\n        this._calendarEventTypes = [];\r\n    }\r\n    set activeDate(value) {\r\n        this._activeDate = value;\r\n        this.changeActiveDate.emit(value);\r\n    }\r\n    get activeDate() {\r\n        return this._activeDate;\r\n    }\r\n    set calendarEventTypes(value) {\r\n        const colors = [];\r\n        this._calendarEventTypes = toArray(value).map(x => {\r\n            let color = x.color;\r\n            while (!color) {\r\n                const randomColor = COLORS[Math.floor(Math.random() * COLORS.length)].name;\r\n                color = inArray(colors, randomColor) ? null : randomColor;\r\n            }\r\n            colors.push(color);\r\n            return build(CalendarEventType, x, {\r\n                color\r\n            });\r\n        });\r\n    }\r\n    get calendarEventTypes() {\r\n        return this._calendarEventTypes;\r\n    }\r\n    set calendarDayTypes(value) {\r\n        this._calendarDayTypes = value;\r\n    }\r\n    get calendarDayTypes() {\r\n        const types = Array.isArray(this._calendarDayTypes) && this._calendarDayTypes.length > 0 ? this._calendarDayTypes : this.calendarEventTypes.filter(x => x.allDay);\r\n        return [build(LookupValue, { id: 0, name: '' }), ...types];\r\n    }\r\n    set calendarDays(value) {\r\n        this._calendarDays = value;\r\n    }\r\n    get calendarDays() {\r\n        const d = this._calendarDays && Array.isArray(this._calendarDays)\r\n            ? DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n                const day = build(this.ctor, this._calendarDays.find(x => DateHelper.IsSameDay(date, x.date)));\r\n                const dayType = build(CalendarEventType, this.calendarEventTypes.find(x => x.id ===\r\n                    (day && day.dayType\r\n                        ? day.dayType.id\r\n                        : DateHelper.IsBetween(date, this.startDate, this.endDate)\r\n                            ? DateHelper.IsWeekend(date)\r\n                                ? this.defaultWeekendTypeId\r\n                                : this.defaultWeekdayTypeId\r\n                            : this.defaultInactiveTypeId)));\r\n                return build(this.ctor, day, {\r\n                    date,\r\n                    dayType,\r\n                    isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n                    color: day.dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n                });\r\n            })\r\n            : DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n                const events = this.calendarEvents\r\n                    .filter(event => DateHelper.IsBetween(date, event.startTime, event.endTime) || DateHelper.IsSameDay(date, event.startTime))\r\n                    .map(event => build(CalendarEvent, event, {}));\r\n                const eventTypeId = build(CalendarEvent, events.find(y => y.eventType.allDay)).eventTypeId || (DateHelper.IsWeekend(date) ? this.defaultWeekendTypeId : this.defaultWeekdayTypeId);\r\n                const dayType = build(CalendarEventType, this.calendarEventTypes.find(x => x.id === eventTypeId));\r\n                return build(this.ctor, {\r\n                    date,\r\n                    events,\r\n                    dayType,\r\n                    isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n                    color: dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n                });\r\n            });\r\n        // console.dir(d);\r\n        return d;\r\n    }\r\n    get calendarEvents() {\r\n        return this.calendar.events.map((x, i) => build(CalendarEvent, x, {\r\n            // color: COLORS[i % COLORS.length].name,\r\n            eventType: build(CalendarEventType, this.calendarEventTypes.find(y => y.id === x.eventTypeId))\r\n        }));\r\n    }\r\n    get ctor() {\r\n        return this.dayCtor ? this.dayCtor : CalendarDay;\r\n    }\r\n    get currentYear() {\r\n        return DateHelper.GetYear(this.activeDate);\r\n    }\r\n    get minWidth() {\r\n        return this.showKey ? 960 : 720;\r\n    }\r\n    get monthName() {\r\n        return DateHelper.GetMonthName(this.activeDate);\r\n    }\r\n    get selectedIndex() {\r\n        switch (this.calendarView) {\r\n            case 'DAYS':\r\n                return 1;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    get shortMonthName() {\r\n        return DateHelper.GetShortMonthName(this.activeDate);\r\n    }\r\n    ngOnInit() { }\r\n    ngOnChanges(changes) {\r\n        // console.dir(changes);\r\n    }\r\n    changeTab(e) {\r\n        switch (e) {\r\n            case 1:\r\n                this.calendarView = 'DAYS';\r\n                break;\r\n            default:\r\n                this.calendarView = null;\r\n        }\r\n    }\r\n    closeOverview() {\r\n        this.activeDay = null;\r\n    }\r\n    editCalendar() {\r\n        this.openDialog(CalendarFormComponent, {\r\n            width: '600px',\r\n            data: {\r\n                calendar: this.calendar,\r\n                calendarFormTemplate: this.calendarFormTemplate\r\n            }\r\n        });\r\n    }\r\n    onDeleteEvent(e) {\r\n        this.deleteEvent.emit(e);\r\n    }\r\n    onSaveEvent(e) {\r\n        if (e.id === 0) {\r\n            this.addEvent.emit(e);\r\n        }\r\n        else {\r\n            this.updateEvent.emit(e);\r\n        }\r\n    }\r\n    toDay(calendarDay) {\r\n        this.activeDate = new Date(calendarDay.date);\r\n        this.activeDay = calendarDay;\r\n        // this.openDialog(CalendarDayEditComponent, {\r\n        //   width: '600px',\r\n        //   data: {\r\n        //     calendarDay,\r\n        //     calendarDayEditTemplate: this.calendarDayEditTemplate,\r\n        //     calendarDayTypes: this.calendarDayTypes,\r\n        //     calendarEventTypes: this.calendarEventTypes\r\n        //   }\r\n        // });\r\n    }\r\n    toLastMonth() {\r\n        this.activeDate = DateHelper.GetFirstDayOfLastMonth(this.activeDate);\r\n    }\r\n    toNextMonth() {\r\n        this.activeDate = DateHelper.GetFirstDayOfNextMonth(this.activeDate);\r\n    }\r\n}\r\n/** @nocollapse */ CalendarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarComponent, deps: [{ token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarComponent, selector: \"iu-calendar\", inputs: { allDayDefault: \"allDayDefault\", calendar: \"calendar\", calendarView: \"calendarView\", dayCtor: \"dayCtor\", defaultInactiveTypeId: \"defaultInactiveTypeId\", defaultWeekdayTypeId: \"defaultWeekdayTypeId\", defaultWeekendTypeId: \"defaultWeekendTypeId\", keyHeading: \"keyHeading\", showActions: \"showActions\", showKey: \"showKey\", startDate: \"startDate\", endDate: \"endDate\", activeDate: \"activeDate\", calendarEventTypes: \"calendarEventTypes\", calendarDayTypes: \"calendarDayTypes\", calendarDays: \"calendarDays\" }, outputs: { addEvent: \"addEvent\", changeActiveDate: \"changeActiveDate\", changeDayType: \"changeDayType\", deleteEvent: \"deleteEvent\", updateCalendar: \"updateCalendar\", updateEvent: \"updateEvent\" }, queries: [{ propertyName: \"actionsTemplate\", first: true, predicate: [\"actionsTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayTemplate\", first: true, predicate: [\"calendarDayTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayEditTemplate\", first: true, predicate: [\"calendarDayEditTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayListItemTemplate\", first: true, predicate: [\"calendarDayListItemTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayViewTemplate\", first: true, predicate: [\"calendarDayViewTemplate\"], descendants: true, static: true }, { propertyName: \"calendarFormTemplate\", first: true, predicate: [\"calendarFormTemplate\"], descendants: true, static: true }, { propertyName: \"calendarEventFormTemplate\", first: true, predicate: [\"calendarEventFormTemplate\"], descendants: true, static: true }, { propertyName: \"calendarEventViewTemplate\", first: true, predicate: [\"calendarEventViewTemplate\"], descendants: true, static: true }], viewQueries: [{ propertyName: \"calendarViewComponent\", first: true, predicate: CalendarViewComponent, descendants: true, static: true }, { propertyName: \"calendarListComponent\", first: true, predicate: CalendarDaysComponent, descendants: true, static: true }, { propertyName: \"pdfLink\", first: true, predicate: [\"pdfLink\"], descendants: true, static: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div id=\\\"calendar-wrapper\\\" class=\\\"calendar-wrapper\\\" [style.min-width.px]=\\\"minWidth\\\">\\r\\n  <div *ngIf=\\\"showActions\\\" class=\\\"calendar-actions\\\">\\r\\n    <button class=\\\"btn-edit\\\" mat-button color=\\\"primary\\\" (click)=\\\"editCalendar()\\\">\\r\\n      Edit Calendar\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"date-heading-container\\\">\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toLastMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_left</i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div>\\r\\n      <h1 class=\\\"date-heading\\\">{{ monthName }} {{ currentYear }}</h1>\\r\\n    </div>\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toNextMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_right</i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <mat-tab-group (selectedTabChange)=\\\"changeTab($event.index)\\\" [selectedIndex]=\\\"selectedIndex\\\">\\r\\n    <mat-tab label=\\\"Calendar View\\\" id=\\\"calendar-view\\\">\\r\\n      <iu-calendar-view\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"toDay($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-view>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"List View\\\" id=\\\"list-view\\\">\\r\\n      <iu-calendar-days\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayListItemTemplate]=\\\"calendarDayListItemTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n        [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n        (changeDayType)=\\\"changeDayType.emit($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-days>\\r\\n    </mat-tab>\\r\\n  </mat-tab-group>\\r\\n  <a id=\\\"open-pdf\\\" [href]=\\\"fileUrl\\\" target=\\\"_blank\\\" #pdfLink></a>\\r\\n  <iu-calendar-key [calendarEventTypes]=\\\"calendarEventTypes\\\" *ngIf=\\\"showKey\\\" [heading]=\\\"keyHeading\\\"></iu-calendar-key>\\r\\n</div>\\r\\n<div id=\\\"overview\\\" [@overviewState]=\\\"activeDay ? 'open' : 'closed'\\\">\\r\\n  <iu-calendar-day-edit\\r\\n    *ngIf=\\\"activeDay\\\"\\r\\n    [calendarDay]=\\\"activeDay\\\"\\r\\n    [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n    [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n    [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n    [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n    [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n    (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n  >\\r\\n  </iu-calendar-day-edit>\\r\\n  <mat-icon class=\\\"btn-close\\\" *ngIf=\\\"activeDay\\\" (click)=\\\"closeOverview()\\\">close</mat-icon>\\r\\n</div>\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option *ngFor=\\\"let lkp of dayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n      {{ lkp.name }}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option [value]=\\\"1\\\">\\r\\n      1\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"2\\\">\\r\\n      2\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"3\\\">\\r\\n      3\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\", styles: [\".calendar-wrapper{width:98%;margin:0;position:relative;padding:1%}.calendar-wrapper iu-calendar-key{position:absolute;right:0;top:180px;width:20%}.calendar-wrapper .btn-edit{position:absolute;right:50px;top:15px;z-index:2}.calendar-wrapper .date-heading-container{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly}.calendar-wrapper .date-heading-container button{margin:21px 0;color:#fff}.calendar-wrapper .mat-tab-group,.calendar-wrapper .date-heading-container{width:78%;min-width:760px}#overview{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background-color:#fff;height:50%;position:fixed;top:20%;z-index:1000;padding:60px 20px}#overview .mat-icon.btn-close{cursor:pointer;position:absolute;top:16px;right:64px;font-size:64px}@media print{.date-heading-arrow,.mat-tab-label-container{display:none!important}}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3$4.MatTabGroup, selector: \"mat-tab-group\", inputs: [\"color\", \"disableRipple\"], exportAs: [\"matTabGroup\"] }, { type: i3$4.MatTab, selector: \"mat-tab\", inputs: [\"disabled\", \"label\", \"aria-label\", \"aria-labelledby\", \"labelClass\", \"bodyClass\"], exportAs: [\"matTab\"] }, { type: CalendarViewComponent, selector: \"iu-calendar-view\", inputs: [\"activeDate\", \"calendarDayTemplate\", \"calendarDayEditTemplate\", \"calendarDays\", \"calendarEvents\", \"calendarEventTypes\"], outputs: [\"activate\", \"saveEvent\"] }, { type: CalendarDaysComponent, selector: \"iu-calendar-days\", inputs: [\"activeDate\", \"calendarDayEditTemplate\", \"calendarDayListItemTemplate\", \"calendarDayTypes\", \"calendarDays\", \"calendarEvents\", \"calendarEventFormTemplate\", \"calendarEventTypes\", \"calendarEventViewTemplate\"], outputs: [\"changeDayType\", \"saveEvent\"] }, { type: CalendarKeyComponent, selector: \"iu-calendar-key\", inputs: [\"calendarEventTypes\", \"heading\"] }, { type: CalendarDayEditComponent, selector: \"iu-calendar-day-edit\", inputs: [\"calendarDay\", \"calendarDayEditTemplate\", \"calendarEventFormTemplate\", \"calendarEventViewTemplate\", \"calendarDayTypes\", \"calendarEventTypes\"], outputs: [\"saveEvent\", \"changeDayType\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], animations: [\r\n        trigger('overviewState', [\r\n            state('closed', style({\r\n                width: '0px',\r\n                right: '0',\r\n                padding: '0',\r\n                background: 'rgba(0,0,0,0.9)'\r\n            })),\r\n            state('open', style({\r\n                width: '50%',\r\n                right: '25%',\r\n                padding: '75px 30px 60px 30px',\r\n                background: '#fff'\r\n            })),\r\n            transition('closed => open', animate('1000ms ease-in')),\r\n            transition('open => closed', animate('1000ms ease-out'))\r\n        ])\r\n    ], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar', changeDetection: ChangeDetectionStrategy.OnPush, animations: [\r\n                        trigger('overviewState', [\r\n                            state('closed', style({\r\n                                width: '0px',\r\n                                right: '0',\r\n                                padding: '0',\r\n                                background: 'rgba(0,0,0,0.9)'\r\n                            })),\r\n                            state('open', style({\r\n                                width: '50%',\r\n                                right: '25%',\r\n                                padding: '75px 30px 60px 30px',\r\n                                background: '#fff'\r\n                            })),\r\n                            transition('closed => open', animate('1000ms ease-in')),\r\n                            transition('open => closed', animate('1000ms ease-out'))\r\n                        ])\r\n                    ], template: \"<div id=\\\"calendar-wrapper\\\" class=\\\"calendar-wrapper\\\" [style.min-width.px]=\\\"minWidth\\\">\\r\\n  <div *ngIf=\\\"showActions\\\" class=\\\"calendar-actions\\\">\\r\\n    <button class=\\\"btn-edit\\\" mat-button color=\\\"primary\\\" (click)=\\\"editCalendar()\\\">\\r\\n      Edit Calendar\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"date-heading-container\\\">\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toLastMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_left</i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div>\\r\\n      <h1 class=\\\"date-heading\\\">{{ monthName }} {{ currentYear }}</h1>\\r\\n    </div>\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toNextMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_right</i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <mat-tab-group (selectedTabChange)=\\\"changeTab($event.index)\\\" [selectedIndex]=\\\"selectedIndex\\\">\\r\\n    <mat-tab label=\\\"Calendar View\\\" id=\\\"calendar-view\\\">\\r\\n      <iu-calendar-view\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"toDay($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-view>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"List View\\\" id=\\\"list-view\\\">\\r\\n      <iu-calendar-days\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayListItemTemplate]=\\\"calendarDayListItemTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n        [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n        (changeDayType)=\\\"changeDayType.emit($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-days>\\r\\n    </mat-tab>\\r\\n  </mat-tab-group>\\r\\n  <a id=\\\"open-pdf\\\" [href]=\\\"fileUrl\\\" target=\\\"_blank\\\" #pdfLink></a>\\r\\n  <iu-calendar-key [calendarEventTypes]=\\\"calendarEventTypes\\\" *ngIf=\\\"showKey\\\" [heading]=\\\"keyHeading\\\"></iu-calendar-key>\\r\\n</div>\\r\\n<div id=\\\"overview\\\" [@overviewState]=\\\"activeDay ? 'open' : 'closed'\\\">\\r\\n  <iu-calendar-day-edit\\r\\n    *ngIf=\\\"activeDay\\\"\\r\\n    [calendarDay]=\\\"activeDay\\\"\\r\\n    [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n    [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n    [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n    [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n    [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n    (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n  >\\r\\n  </iu-calendar-day-edit>\\r\\n  <mat-icon class=\\\"btn-close\\\" *ngIf=\\\"activeDay\\\" (click)=\\\"closeOverview()\\\">close</mat-icon>\\r\\n</div>\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option *ngFor=\\\"let lkp of dayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n      {{ lkp.name }}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option [value]=\\\"1\\\">\\r\\n      1\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"2\\\">\\r\\n      2\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"3\\\">\\r\\n      3\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\", styles: [\".calendar-wrapper{width:98%;margin:0;position:relative;padding:1%}.calendar-wrapper iu-calendar-key{position:absolute;right:0;top:180px;width:20%}.calendar-wrapper .btn-edit{position:absolute;right:50px;top:15px;z-index:2}.calendar-wrapper .date-heading-container{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly}.calendar-wrapper .date-heading-container button{margin:21px 0;color:#fff}.calendar-wrapper .mat-tab-group,.calendar-wrapper .date-heading-container{width:78%;min-width:760px}#overview{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background-color:#fff;height:50%;position:fixed;top:20%;z-index:1000;padding:60px 20px}#overview .mat-icon.btn-close{cursor:pointer;position:absolute;top:16px;right:64px;font-size:64px}@media print{.date-heading-arrow,.mat-tab-label-container{display:none!important}}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }]; }, propDecorators: { allDayDefault: [{\r\n                type: Input\r\n            }], calendar: [{\r\n                type: Input\r\n            }], calendarView: [{\r\n                type: Input\r\n            }], dayCtor: [{\r\n                type: Input\r\n            }], defaultInactiveTypeId: [{\r\n                type: Input\r\n            }], defaultWeekdayTypeId: [{\r\n                type: Input\r\n            }], defaultWeekendTypeId: [{\r\n                type: Input\r\n            }], keyHeading: [{\r\n                type: Input\r\n            }], showActions: [{\r\n                type: Input\r\n            }], showKey: [{\r\n                type: Input\r\n            }], startDate: [{\r\n                type: Input\r\n            }], endDate: [{\r\n                type: Input\r\n            }], addEvent: [{\r\n                type: Output\r\n            }], changeActiveDate: [{\r\n                type: Output\r\n            }], changeDayType: [{\r\n                type: Output\r\n            }], deleteEvent: [{\r\n                type: Output\r\n            }], updateCalendar: [{\r\n                type: Output\r\n            }], updateEvent: [{\r\n                type: Output\r\n            }], calendarViewComponent: [{\r\n                type: ViewChild,\r\n                args: [CalendarViewComponent, { static: true }]\r\n            }], calendarListComponent: [{\r\n                type: ViewChild,\r\n                args: [CalendarDaysComponent, { static: true }]\r\n            }], actionsTemplate: [{\r\n                type: ContentChild,\r\n                args: ['actionsTemplate', { static: true }]\r\n            }], calendarDayTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayTemplate', { static: true }]\r\n            }], calendarDayEditTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayEditTemplate', { static: true }]\r\n            }], calendarDayListItemTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayListItemTemplate', { static: true }]\r\n            }], calendarDayViewTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayViewTemplate', { static: true }]\r\n            }], calendarFormTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarFormTemplate', { static: true }]\r\n            }], calendarEventFormTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarEventFormTemplate', { static: true }]\r\n            }], calendarEventViewTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarEventViewTemplate', { static: true }]\r\n            }], pdfLink: [{\r\n                type: ViewChild,\r\n                args: ['pdfLink', { static: true }]\r\n            }], activeDate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], calendarDayTypes: [{\r\n                type: Input\r\n            }], calendarDays: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarEventFormComponent extends FormComponent {\r\n    constructor(dialogRef, data) {\r\n        super();\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this._allDayDefault = false;\r\n        this._calendarEvent = new CalendarEvent();\r\n        this._calendarEventTypes = [];\r\n    }\r\n    get allDay() {\r\n        const event = this.calendarEvent;\r\n        return event.id === 0 ? this.allDayDefault : event.allDay;\r\n    }\r\n    set allDayDefault(value) {\r\n        this._allDayDefault = value;\r\n    }\r\n    get allDayDefault() {\r\n        return this.data['allDayDefault'] || this._allDayDefault;\r\n    }\r\n    set calendarEvent(value) {\r\n        this._calendarEvent = value;\r\n    }\r\n    get calendarEvent() {\r\n        return this.data['calendarEvent'] || this._calendarEvent;\r\n    }\r\n    set calendarEventFormTemplate(value) {\r\n        this._calendarEventFormTemplate = value;\r\n    }\r\n    get calendarEventFormTemplate() {\r\n        return this.data['calendarEventFormTemplate'] || this._calendarEventFormTemplate;\r\n    }\r\n    get editing() {\r\n        return this.calendarEvent.id !== 0;\r\n    }\r\n    set calendarEventTypes(value) {\r\n        this._calendarEventTypes = value;\r\n    }\r\n    get calendarEventTypes() {\r\n        return this.data && this.data['calendarEventTypes'] ? this.data['calendarEventTypes'] : this._calendarEventTypes;\r\n    }\r\n    get showTime() {\r\n        return !this.form.controls['allDay'].value;\r\n    }\r\n    get valueOut() {\r\n        return build(CalendarEvent, this.form.value, {\r\n            description: this.form.value.eventName,\r\n            eventName: this.form.value.eventTypeId ? build(LookupValue, this.calendarEventTypes.find(x => x.id === this.form.value.eventTypeId)).name : this.form.value.eventName,\r\n            calendarId: this.data.calendarId\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.setValue(build(CalendarEvent, this.calendarEvent, {\r\n            allDay: this.allDay\r\n        }));\r\n    }\r\n    close(calendarEvent, action) {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close({ calendarEvent, action });\r\n        }\r\n    }\r\n    delete() {\r\n        if (this.form.valid) {\r\n            this.close(this.valueOut, 'DELETE');\r\n        }\r\n    }\r\n    save() {\r\n        if (this.form.valid) {\r\n            this.close(this.valueOut, 'SAVE');\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarEventFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventFormComponent, deps: [{ token: i1$2.MatDialogRef, optional: true }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarEventFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarEventFormComponent, selector: \"iu-calendar-event-form\", inputs: { allDayDefault: \"allDayDefault\", calendarEvent: \"calendarEvent\", calendarEventFormTemplate: \"calendarEventFormTemplate\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"calendar-form scrollable\\\">\\r\\n  <h1 *ngIf=\\\"!editing\\\">New Event</h1>\\r\\n  <h1 *ngIf=\\\"editing\\\">Edit Event</h1>\\r\\n  <!-- <mat-form-field *ngIf=\\\"data.editing != false && hideSelect === false\\\">\\r\\n    <mat-select\\r\\n      placeholder=\\\"Event to Edit\\\"\\r\\n      (selectionChange)=\\\"eventSelected($event)\\\"\\r\\n    >\\r\\n      <mat-option *ngFor=\\\"let event of eventsToday\\\" [value]=\\\"event\\\">\\r\\n        {{ event.eventName }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n  <button\\r\\n    mat-fab\\r\\n    color=\\\"warn\\\"\\r\\n    style=\\\"float: right;\\\"\\r\\n    (click)=\\\"deleteEvent(eventChosen)\\\"\\r\\n    *ngIf=\\\"\\r\\n      eventChosen.length > 0 && data.editing != false && noEvents === false\\r\\n    \\\"\\r\\n  >\\r\\n    <i class=\\\"material-icons\\\">delete </i>\\r\\n  </button>\\r\\n  <h1 *ngIf=\\\"noEvents === true\\\">No Events To Edit</h1> -->\\r\\n  <div *ngIf=\\\"calendarEventFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarEventFormTemplate;\\r\\n        context: {\\r\\n          calendarEvent: calendarEvent,\\r\\n          form: form,\\r\\n          save: save,\\r\\n          delete: delete,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    >\\r\\n    </ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarEventFormTemplate\\\">\\r\\n    <mat-form-field class=\\\"event-name\\\">\\r\\n      <input type=\\\"text\\\" formControlName=\\\"name\\\" matInput placeholder=\\\"Event Name\\\" />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"event-type\\\" *ngIf=\\\"calendarEventTypes\\\">\\r\\n      <mat-select placeholder=\\\"Event Type\\\" formControlName=\\\"eventTypeId\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarEventTypes\\\" [value]=\\\"lkp.id\\\"> {{ lkp.name }}</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n    <mat-checkbox class=\\\"all-day\\\" formControlName=\\\"allDay\\\">All Day Event</mat-checkbox>\\r\\n\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"startTime\\\" label=\\\"Start Time\\\"></iu-time-control>\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"endTime\\\" label=\\\"End Time\\\"></iu-time-control>\\r\\n    <button *ngIf=\\\"editing\\\" mat-raised-button class=\\\"btn-delete\\\" (click)=\\\"delete()\\\">\\r\\n      Delete\\r\\n    </button>\\r\\n    <button mat-raised-button color=\\\"accent\\\" class=\\\"btn-save\\\" (click)=\\\"save()\\\">\\r\\n      Save\\r\\n    </button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\".calendar-form{position:relative;overflow:auto}.calendar-form h1{margin-top:0}.calendar-form .event-name{margin-right:4%}.calendar-form .event-name,.calendar-form .event-type{width:344px;width:48%}.calendar-form .all-day{position:absolute;top:174px;right:30px}.calendar-form .mat-raised-button{font-size:16px;position:absolute;bottom:10px}.calendar-form .mat-raised-button.btn-delete{color:#fff;background-color:red;right:85px}.calendar-form .mat-raised-button.btn-save{color:#fff;background-color:green;right:10px}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }, { type: i4.MatCheckbox, selector: \"mat-checkbox\", inputs: [\"disableRipple\", \"color\", \"tabIndex\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"id\", \"required\", \"labelPosition\", \"name\", \"value\", \"checked\", \"disabled\", \"indeterminate\"], outputs: [\"change\", \"indeterminateChange\"], exportAs: [\"matCheckbox\"] }, { type: TimeControlComponent, selector: \"iu-time-control\", inputs: [\"label\", \"isDisabled\", \"value\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\n__decorate([\r\n    Control(CalendarEvent),\r\n    __metadata(\"design:type\", FormGroup)\r\n], CalendarEventFormComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventFormComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-event-form', template: \"<div class=\\\"calendar-form scrollable\\\">\\r\\n  <h1 *ngIf=\\\"!editing\\\">New Event</h1>\\r\\n  <h1 *ngIf=\\\"editing\\\">Edit Event</h1>\\r\\n  <!-- <mat-form-field *ngIf=\\\"data.editing != false && hideSelect === false\\\">\\r\\n    <mat-select\\r\\n      placeholder=\\\"Event to Edit\\\"\\r\\n      (selectionChange)=\\\"eventSelected($event)\\\"\\r\\n    >\\r\\n      <mat-option *ngFor=\\\"let event of eventsToday\\\" [value]=\\\"event\\\">\\r\\n        {{ event.eventName }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n  <button\\r\\n    mat-fab\\r\\n    color=\\\"warn\\\"\\r\\n    style=\\\"float: right;\\\"\\r\\n    (click)=\\\"deleteEvent(eventChosen)\\\"\\r\\n    *ngIf=\\\"\\r\\n      eventChosen.length > 0 && data.editing != false && noEvents === false\\r\\n    \\\"\\r\\n  >\\r\\n    <i class=\\\"material-icons\\\">delete </i>\\r\\n  </button>\\r\\n  <h1 *ngIf=\\\"noEvents === true\\\">No Events To Edit</h1> -->\\r\\n  <div *ngIf=\\\"calendarEventFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarEventFormTemplate;\\r\\n        context: {\\r\\n          calendarEvent: calendarEvent,\\r\\n          form: form,\\r\\n          save: save,\\r\\n          delete: delete,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    >\\r\\n    </ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarEventFormTemplate\\\">\\r\\n    <mat-form-field class=\\\"event-name\\\">\\r\\n      <input type=\\\"text\\\" formControlName=\\\"name\\\" matInput placeholder=\\\"Event Name\\\" />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"event-type\\\" *ngIf=\\\"calendarEventTypes\\\">\\r\\n      <mat-select placeholder=\\\"Event Type\\\" formControlName=\\\"eventTypeId\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarEventTypes\\\" [value]=\\\"lkp.id\\\"> {{ lkp.name }}</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n    <mat-checkbox class=\\\"all-day\\\" formControlName=\\\"allDay\\\">All Day Event</mat-checkbox>\\r\\n\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"startTime\\\" label=\\\"Start Time\\\"></iu-time-control>\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"endTime\\\" label=\\\"End Time\\\"></iu-time-control>\\r\\n    <button *ngIf=\\\"editing\\\" mat-raised-button class=\\\"btn-delete\\\" (click)=\\\"delete()\\\">\\r\\n      Delete\\r\\n    </button>\\r\\n    <button mat-raised-button color=\\\"accent\\\" class=\\\"btn-save\\\" (click)=\\\"save()\\\">\\r\\n      Save\\r\\n    </button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\".calendar-form{position:relative;overflow:auto}.calendar-form h1{margin-top:0}.calendar-form .event-name{margin-right:4%}.calendar-form .event-name,.calendar-form .event-type{width:344px;width:48%}.calendar-form .all-day{position:absolute;top:174px;right:30px}.calendar-form .mat-raised-button{font-size:16px;position:absolute;bottom:10px}.calendar-form .mat-raised-button.btn-delete{color:#fff;background-color:red;right:85px}.calendar-form .mat-raised-button.btn-save{color:#fff;background-color:green;right:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef, decorators: [{\r\n                    type: Optional\r\n                }] }, { type: undefined, decorators: [{\r\n                    type: Optional\r\n                }, {\r\n                    type: Inject,\r\n                    args: [MAT_DIALOG_DATA]\r\n                }] }]; }, propDecorators: { form: [], allDayDefault: [{\r\n                type: Input\r\n            }], calendarEvent: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarEventComponent extends DumbComponent {\r\n    constructor(dialog, calendarComponent) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.calendarComponent = calendarComponent;\r\n        this.calendarEvent = new CalendarEvent();\r\n        this.calendarEventTypes = [];\r\n        this.plusMore = 0;\r\n        this.goToDay = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    closeDialog(e) {\r\n        if (e) {\r\n            switch (e.action) {\r\n                case 'DELETE':\r\n                    this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n                    break;\r\n                case 'SAVE':\r\n                    this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n                    break;\r\n            }\r\n        }\r\n        super.closeDialog(e);\r\n    }\r\n    editEvent() {\r\n        if (!this.plusMore) {\r\n            this.openDialog(CalendarEventFormComponent, {\r\n                width: '600px',\r\n                data: {\r\n                    allDayDefault: this.calendarComponent.allDayDefault,\r\n                    calendarEvent: this.calendarEvent,\r\n                    calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n                    calendarEventTypes: this.calendarEventTypes\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarEventComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventComponent, deps: [{ token: i1$2.MatDialog }, { token: CalendarComponent }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarEventComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarEventComponent, selector: \"iu-calendar-event\", inputs: { calendarEvent: \"calendarEvent\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventTypes: \"calendarEventTypes\", plusMore: \"plusMore\" }, outputs: { goToDay: \"goToDay\", saveEvent: \"saveEvent\" }, usesInheritance: true, ngImport: i0, template: \"<div *ngIf=\\\"!plusMore\\\" class=\\\"calendar-event\\\" (click)=\\\"editEvent()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\" [style.background]=\\\"calendarEvent.color\\\">\\r\\n    {{ calendarEvent.name }}\\r\\n  </p>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"plusMore\\\" class=\\\"calendar-event plus-more\\\" (click)=\\\"goToDay.emit()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\">+ {{ plusMore }} events</p>\\r\\n</div>\\r\\n\\r\\n<!-- <span *ngIf=\\\"calendarEvent.allDay != true\\\">\\r\\n    {{ calendarEvent.startHour }}:<span *ngIf=\\\"calendarEvent.startMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.startMinute }} {{ calendarEvent.startTimePeriod }}\\r\\n    -\\r\\n    {{ calendarEvent.endHour }}:<span *ngIf=\\\"calendarEvent.endMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.endMinute }} {{ calendarEvent.endTimePeriod }}\\r\\n  </span>\\r\\n  <span *ngIf=\\\"calendarEvent.allDay != false\\\">All Day</span> -->\\r\\n\", styles: [\".calendar-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;cursor:pointer;width:90%;margin:0 5%}.calendar-event .calendar-event-name{line-height:20px;font-size:15px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .25s;margin:5px 0;height:20px}.calendar-event.plus-more{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event.plus-more .calendar-event-name{font-size:17px}.calendar-event.plus-more:hover{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event:hover{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:700}\\n\"], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-event', template: \"<div *ngIf=\\\"!plusMore\\\" class=\\\"calendar-event\\\" (click)=\\\"editEvent()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\" [style.background]=\\\"calendarEvent.color\\\">\\r\\n    {{ calendarEvent.name }}\\r\\n  </p>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"plusMore\\\" class=\\\"calendar-event plus-more\\\" (click)=\\\"goToDay.emit()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\">+ {{ plusMore }} events</p>\\r\\n</div>\\r\\n\\r\\n<!-- <span *ngIf=\\\"calendarEvent.allDay != true\\\">\\r\\n    {{ calendarEvent.startHour }}:<span *ngIf=\\\"calendarEvent.startMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.startMinute }} {{ calendarEvent.startTimePeriod }}\\r\\n    -\\r\\n    {{ calendarEvent.endHour }}:<span *ngIf=\\\"calendarEvent.endMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.endMinute }} {{ calendarEvent.endTimePeriod }}\\r\\n  </span>\\r\\n  <span *ngIf=\\\"calendarEvent.allDay != false\\\">All Day</span> -->\\r\\n\", styles: [\".calendar-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;cursor:pointer;width:90%;margin:0 5%}.calendar-event .calendar-event-name{line-height:20px;font-size:15px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .25s;margin:5px 0;height:20px}.calendar-event.plus-more{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event.plus-more .calendar-event-name{font-size:17px}.calendar-event.plus-more:hover{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event:hover{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }, { type: CalendarComponent, decorators: [{\r\n                    type: Inject,\r\n                    args: [CalendarComponent]\r\n                }] }]; }, propDecorators: { calendarEvent: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], plusMore: [{\r\n                type: Input\r\n            }], goToDay: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarEventViewComponent extends DumbComponent {\r\n    constructor(dialog, calendarComponent) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.calendarComponent = calendarComponent;\r\n        this.calendarEvent = new CalendarEvent();\r\n        this.calendarEventTypes = [];\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    closeDialog(e) {\r\n        if (e) {\r\n            switch (e.action) {\r\n                case 'DELETE':\r\n                    this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n                    break;\r\n                case 'ADD':\r\n                    this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n                    break;\r\n            }\r\n        }\r\n        super.closeDialog(e);\r\n    }\r\n    editEvent() {\r\n        this.openDialog(CalendarEventFormComponent, {\r\n            width: '600px',\r\n            data: {\r\n                allDayDefault: this.calendarComponent.allDayDefault,\r\n                calendarEvent: this.calendarEvent,\r\n                calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n                calendarEventTypes: this.calendarEventTypes\r\n            }\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ CalendarEventViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventViewComponent, deps: [{ token: i1$2.MatDialog }, { token: CalendarComponent }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarEventViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarEventViewComponent, selector: \"iu-calendar-event-view\", inputs: { calendarEvent: \"calendarEvent\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventTypes: \"calendarEventTypes\", calendarEventViewTemplate: \"calendarEventViewTemplate\" }, outputs: { saveEvent: \"saveEvent\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"event-view\\\" *ngIf=\\\"calendarEventViewTemplate\\\">\\r\\n  <ng-container\\r\\n    *ngTemplateOutlet=\\\"\\r\\n      calendarEventViewTemplate;\\r\\n      context: {\\r\\n        calendarEvent: calendarEvent\\r\\n      }\\r\\n    \\\"\\r\\n  >\\r\\n  </ng-container>\\r\\n</div>\\r\\n<div class=\\\"event-view\\\" *ngIf=\\\"!calendarEventViewTemplate\\\">\\r\\n  <div *ngIf=\\\"!calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    {{ calendarEvent.startTime | date: 'shortTime' }} -\\r\\n    {{ calendarEvent.endTime | date: 'shortTime' }}:\\r\\n  </div>\\r\\n  <div *ngIf=\\\"calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    ALL DAY\\r\\n  </div>\\r\\n  <div class=\\\"event-name\\\">{{ calendarEvent.name }}</div>\\r\\n  <mat-icon color=\\\"primary\\\" (click)=\\\"editEvent()\\\">edit</mat-icon>\\r\\n  <!-- <p class=\\\"event-description\\\">{{ calendarEvent.description }}</p> -->\\r\\n</div>\\r\\n\", styles: [\".event-view{display:flex;flex-direction:row;justify-content:flex-start;margin:10px 0}.event-view .timeframe{margin-left:10px}.event-view .event-name{margin:0 10px;font-weight:700}.event-view .event-description{font-style:italic}.event-view .mat-icon{cursor:pointer;line-height:12px;margin:0 10px}.event-view .mat-icon:hover{font-weight:700}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], pipes: { \"date\": i2$1.DatePipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventViewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-event-view', template: \"<div class=\\\"event-view\\\" *ngIf=\\\"calendarEventViewTemplate\\\">\\r\\n  <ng-container\\r\\n    *ngTemplateOutlet=\\\"\\r\\n      calendarEventViewTemplate;\\r\\n      context: {\\r\\n        calendarEvent: calendarEvent\\r\\n      }\\r\\n    \\\"\\r\\n  >\\r\\n  </ng-container>\\r\\n</div>\\r\\n<div class=\\\"event-view\\\" *ngIf=\\\"!calendarEventViewTemplate\\\">\\r\\n  <div *ngIf=\\\"!calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    {{ calendarEvent.startTime | date: 'shortTime' }} -\\r\\n    {{ calendarEvent.endTime | date: 'shortTime' }}:\\r\\n  </div>\\r\\n  <div *ngIf=\\\"calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    ALL DAY\\r\\n  </div>\\r\\n  <div class=\\\"event-name\\\">{{ calendarEvent.name }}</div>\\r\\n  <mat-icon color=\\\"primary\\\" (click)=\\\"editEvent()\\\">edit</mat-icon>\\r\\n  <!-- <p class=\\\"event-description\\\">{{ calendarEvent.description }}</p> -->\\r\\n</div>\\r\\n\", styles: [\".event-view{display:flex;flex-direction:row;justify-content:flex-start;margin:10px 0}.event-view .timeframe{margin-left:10px}.event-view .event-name{margin:0 10px;font-weight:700}.event-view .event-description{font-style:italic}.event-view .mat-icon{cursor:pointer;line-height:12px;margin:0 10px}.event-view .mat-icon:hover{font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }, { type: CalendarComponent, decorators: [{\r\n                    type: Inject,\r\n                    args: [CalendarComponent]\r\n                }] }]; }, propDecorators: { calendarEvent: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], calendarEventViewTemplate: [{\r\n                type: Input\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarDayViewComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDayViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayViewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayViewComponent, selector: \"iu-calendar-day-view\", ngImport: i0, template: \"<p>\\r\\n  calendar-day-view works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayViewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day-view', template: \"<p>\\r\\n  calendar-day-view works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass CalendarModule {\r\n}\r\n/** @nocollapse */ CalendarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ CalendarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, declarations: [CalendarComponent,\r\n        CalendarDayComponent,\r\n        CalendarDaysComponent,\r\n        CalendarEventComponent,\r\n        CalendarViewComponent,\r\n        CalendarDayEditComponent,\r\n        CalendarFormComponent,\r\n        CalendarEventFormComponent,\r\n        CalendarEventViewComponent,\r\n        CalendarDayViewComponent,\r\n        CalendarKeyComponent,\r\n        CalendarDayEventsComponent], imports: [SharedModule,\r\n        FormsModule,\r\n        MatButtonModule,\r\n        MatCheckboxModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        TimeModule,\r\n        AccordionModule], exports: [CalendarComponent,\r\n        CalendarDayComponent,\r\n        CalendarDaysComponent,\r\n        CalendarEventComponent] });\r\n/** @nocollapse */ CalendarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, imports: [[\r\n            SharedModule,\r\n            FormsModule,\r\n            MatButtonModule,\r\n            MatCheckboxModule,\r\n            MatFormFieldModule,\r\n            MatIconModule,\r\n            MatInputModule,\r\n            MatSelectModule,\r\n            MatTabsModule,\r\n            MatToolbarModule,\r\n            TimeModule,\r\n            AccordionModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        CalendarComponent,\r\n                        CalendarDayComponent,\r\n                        CalendarDaysComponent,\r\n                        CalendarEventComponent,\r\n                        CalendarViewComponent,\r\n                        CalendarDayEditComponent,\r\n                        CalendarFormComponent,\r\n                        CalendarEventFormComponent,\r\n                        CalendarEventViewComponent,\r\n                        CalendarDayViewComponent,\r\n                        CalendarKeyComponent,\r\n                        CalendarDayEventsComponent\r\n                    ],\r\n                    imports: [\r\n                        SharedModule,\r\n                        FormsModule,\r\n                        MatButtonModule,\r\n                        MatCheckboxModule,\r\n                        MatFormFieldModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatSelectModule,\r\n                        MatTabsModule,\r\n                        MatToolbarModule,\r\n                        TimeModule,\r\n                        AccordionModule\r\n                    ],\r\n                    exports: [\r\n                        CalendarComponent,\r\n                        CalendarDayComponent,\r\n                        CalendarDaysComponent,\r\n                        CalendarEventComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass EditorWindowComponent {\r\n    constructor(data, dialogRef) {\r\n        this.data = data;\r\n        this.dialogRef = dialogRef;\r\n        this.actionWidth = '100%';\r\n    }\r\n    get actions() {\r\n        return [build(DialogAction, { value: this.data, label: 'Save and Close' })];\r\n    }\r\n    get dialog() {\r\n        return build(DialogModel, {\r\n            title: this.title,\r\n            actions: this.actions\r\n        });\r\n    }\r\n    get title() {\r\n        return 'Editor';\r\n    }\r\n    close() {\r\n        this.dialogRef.close(this.data);\r\n    }\r\n    update(e) {\r\n        this.data = e.editor.getContent();\r\n    }\r\n}\r\n/** @nocollapse */ EditorWindowComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorWindowComponent, deps: [{ token: MAT_DIALOG_DATA }, { token: i1$2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ EditorWindowComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: EditorWindowComponent, selector: \"iu-editor-window\", ngImport: i0, template: \"<span id=\\\"editor-window\\\">\\r\\n  <mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      {{ title }}\\r\\n    </span>\\r\\n    <button mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content>\\r\\n    <div id=\\\"expanded-editor\\\">\\r\\n      <!-- <iu-editor [expanded]=\\\"true\\\" [initialValue]=\\\"data\\\" (onChange)=\\\"update($event)\\\"></iu-editor> -->\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-raised-button (click)=\\\"close()\\\" [style.width]=\\\"actionWidth\\\" color=\\\"accent\\\">Save and Close</button>\\r\\n  </mat-dialog-actions>\\r\\n</span>\\r\\n\", styles: [\"#editor-window #expanded-editor{margin:0;padding:5vh 0vh 0vh;height:55vh}#editor-window .mat-toolbar{margin:0;width:100%;min-height:32px!important}#editor-window .mat-toolbar .mat-toolbar-row{height:48px}#editor-window .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}#editor-window .mat-toolbar button{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;cursor:pointer;position:absolute;right:5px;top:5px;border-radius:100%;height:42px;width:42px;min-width:36px}#editor-window .mat-toolbar button:hover{font-weight:700}#editor-window .mat-toolbar button:hover mat-icon{font-weight:700}#editor-window .mat-toolbar mat-icon{position:absolute;top:9px;right:8px;z-index:1}#editor-window .mat-toolbar-row{height:48px}#editor-window .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}#editor-window .mat-dialog-actions button{padding:12px 0}#editor-window .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1$2.MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { type: i1$2.MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { type: i1$2.MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { type: i1$2.MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\" }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorWindowComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-editor-window', encapsulation: ViewEncapsulation.None, template: \"<span id=\\\"editor-window\\\">\\r\\n  <mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      {{ title }}\\r\\n    </span>\\r\\n    <button mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content>\\r\\n    <div id=\\\"expanded-editor\\\">\\r\\n      <!-- <iu-editor [expanded]=\\\"true\\\" [initialValue]=\\\"data\\\" (onChange)=\\\"update($event)\\\"></iu-editor> -->\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-raised-button (click)=\\\"close()\\\" [style.width]=\\\"actionWidth\\\" color=\\\"accent\\\">Save and Close</button>\\r\\n  </mat-dialog-actions>\\r\\n</span>\\r\\n\", styles: [\"#editor-window #expanded-editor{margin:0;padding:5vh 0vh 0vh;height:55vh}#editor-window .mat-toolbar{margin:0;width:100%;min-height:32px!important}#editor-window .mat-toolbar .mat-toolbar-row{height:48px}#editor-window .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}#editor-window .mat-toolbar button{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;cursor:pointer;position:absolute;right:5px;top:5px;border-radius:100%;height:42px;width:42px;min-width:36px}#editor-window .mat-toolbar button:hover{font-weight:700}#editor-window .mat-toolbar button:hover mat-icon{font-weight:700}#editor-window .mat-toolbar mat-icon{position:absolute;top:9px;right:8px;z-index:1}#editor-window .mat-toolbar-row{height:48px}#editor-window .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}#editor-window .mat-dialog-actions button{padding:12px 0}#editor-window .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [MAT_DIALOG_DATA]\r\n                }] }, { type: i1$2.MatDialogRef }]; } });\n\nclass Events {\r\n    constructor() {\r\n        this.onBeforePaste = new EventEmitter();\r\n        this.onBlur = new EventEmitter();\r\n        this.onClick = new EventEmitter();\r\n        this.onContextMenu = new EventEmitter();\r\n        this.onCopy = new EventEmitter();\r\n        this.onCut = new EventEmitter();\r\n        this.onDblclick = new EventEmitter();\r\n        this.onDrag = new EventEmitter();\r\n        this.onDragDrop = new EventEmitter();\r\n        this.onDragEnd = new EventEmitter();\r\n        this.onDragGesture = new EventEmitter();\r\n        this.onDragOver = new EventEmitter();\r\n        this.onDrop = new EventEmitter();\r\n        this.onFocus = new EventEmitter();\r\n        this.onFocusIn = new EventEmitter();\r\n        this.onFocusOut = new EventEmitter();\r\n        this.onKeyDown = new EventEmitter();\r\n        this.onKeyPress = new EventEmitter();\r\n        this.onKeyUp = new EventEmitter();\r\n        this.onMouseDown = new EventEmitter();\r\n        this.onMouseEnter = new EventEmitter();\r\n        this.onMouseLeave = new EventEmitter();\r\n        this.onMouseMove = new EventEmitter();\r\n        this.onMouseOut = new EventEmitter();\r\n        this.onMouseOver = new EventEmitter();\r\n        this.onMouseUp = new EventEmitter();\r\n        this.onPaste = new EventEmitter();\r\n        this.onSelectionChange = new EventEmitter();\r\n        this.onActivate = new EventEmitter();\r\n        this.onAddUndo = new EventEmitter();\r\n        this.onBeforeAddUndo = new EventEmitter();\r\n        this.onBeforeExecCommand = new EventEmitter();\r\n        this.onBeforeGetContent = new EventEmitter();\r\n        this.onBeforeRenderUI = new EventEmitter();\r\n        this.onBeforeSetContent = new EventEmitter();\r\n        this.onChange = new EventEmitter();\r\n        this.onClearUndos = new EventEmitter();\r\n        this.onDeactivate = new EventEmitter();\r\n        this.onDirty = new EventEmitter();\r\n        this.onExecCommand = new EventEmitter();\r\n        this.onGetContent = new EventEmitter();\r\n        this.onHide = new EventEmitter();\r\n        this.onInit = new EventEmitter();\r\n        this.onLoadContent = new EventEmitter();\r\n        this.onNodeChange = new EventEmitter();\r\n        this.onPostProcess = new EventEmitter();\r\n        this.onPostRender = new EventEmitter();\r\n        this.onPreInit = new EventEmitter();\r\n        this.onPreProcess = new EventEmitter();\r\n        this.onProgressState = new EventEmitter();\r\n        this.onRedo = new EventEmitter();\r\n        this.onRemove = new EventEmitter();\r\n        this.onReset = new EventEmitter();\r\n        this.onSaveContent = new EventEmitter();\r\n        this.onSetAttrib = new EventEmitter();\r\n        this.onObjectResizeStart = new EventEmitter();\r\n        this.onObjectResized = new EventEmitter();\r\n        this.onObjectSelected = new EventEmitter();\r\n        this.onSetContent = new EventEmitter();\r\n        this.onShow = new EventEmitter();\r\n        this.onSubmit = new EventEmitter();\r\n        this.onUndo = new EventEmitter();\r\n        this.onVisualAid = new EventEmitter();\r\n    }\r\n}\r\n/** @nocollapse */ Events.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: Events, deps: [], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ Events.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: Events, outputs: { onBeforePaste: \"onBeforePaste\", onBlur: \"onBlur\", onClick: \"onClick\", onContextMenu: \"onContextMenu\", onCopy: \"onCopy\", onCut: \"onCut\", onDblclick: \"onDblclick\", onDrag: \"onDrag\", onDragDrop: \"onDragDrop\", onDragEnd: \"onDragEnd\", onDragGesture: \"onDragGesture\", onDragOver: \"onDragOver\", onDrop: \"onDrop\", onFocus: \"onFocus\", onFocusIn: \"onFocusIn\", onFocusOut: \"onFocusOut\", onKeyDown: \"onKeyDown\", onKeyPress: \"onKeyPress\", onKeyUp: \"onKeyUp\", onMouseDown: \"onMouseDown\", onMouseEnter: \"onMouseEnter\", onMouseLeave: \"onMouseLeave\", onMouseMove: \"onMouseMove\", onMouseOut: \"onMouseOut\", onMouseOver: \"onMouseOver\", onMouseUp: \"onMouseUp\", onPaste: \"onPaste\", onSelectionChange: \"onSelectionChange\", onActivate: \"onActivate\", onAddUndo: \"onAddUndo\", onBeforeAddUndo: \"onBeforeAddUndo\", onBeforeExecCommand: \"onBeforeExecCommand\", onBeforeGetContent: \"onBeforeGetContent\", onBeforeRenderUI: \"onBeforeRenderUI\", onBeforeSetContent: \"onBeforeSetContent\", onChange: \"onChange\", onClearUndos: \"onClearUndos\", onDeactivate: \"onDeactivate\", onDirty: \"onDirty\", onExecCommand: \"onExecCommand\", onGetContent: \"onGetContent\", onHide: \"onHide\", onInit: \"onInit\", onLoadContent: \"onLoadContent\", onNodeChange: \"onNodeChange\", onPostProcess: \"onPostProcess\", onPostRender: \"onPostRender\", onPreInit: \"onPreInit\", onPreProcess: \"onPreProcess\", onProgressState: \"onProgressState\", onRedo: \"onRedo\", onRemove: \"onRemove\", onReset: \"onReset\", onSaveContent: \"onSaveContent\", onSetAttrib: \"onSetAttrib\", onObjectResizeStart: \"onObjectResizeStart\", onObjectResized: \"onObjectResized\", onObjectSelected: \"onObjectSelected\", onSetContent: \"onSetContent\", onShow: \"onShow\", onSubmit: \"onSubmit\", onUndo: \"onUndo\", onVisualAid: \"onVisualAid\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: Events, decorators: [{\r\n            type: Directive\r\n        }], propDecorators: { onBeforePaste: [{\r\n                type: Output\r\n            }], onBlur: [{\r\n                type: Output\r\n            }], onClick: [{\r\n                type: Output\r\n            }], onContextMenu: [{\r\n                type: Output\r\n            }], onCopy: [{\r\n                type: Output\r\n            }], onCut: [{\r\n                type: Output\r\n            }], onDblclick: [{\r\n                type: Output\r\n            }], onDrag: [{\r\n                type: Output\r\n            }], onDragDrop: [{\r\n                type: Output\r\n            }], onDragEnd: [{\r\n                type: Output\r\n            }], onDragGesture: [{\r\n                type: Output\r\n            }], onDragOver: [{\r\n                type: Output\r\n            }], onDrop: [{\r\n                type: Output\r\n            }], onFocus: [{\r\n                type: Output\r\n            }], onFocusIn: [{\r\n                type: Output\r\n            }], onFocusOut: [{\r\n                type: Output\r\n            }], onKeyDown: [{\r\n                type: Output\r\n            }], onKeyPress: [{\r\n                type: Output\r\n            }], onKeyUp: [{\r\n                type: Output\r\n            }], onMouseDown: [{\r\n                type: Output\r\n            }], onMouseEnter: [{\r\n                type: Output\r\n            }], onMouseLeave: [{\r\n                type: Output\r\n            }], onMouseMove: [{\r\n                type: Output\r\n            }], onMouseOut: [{\r\n                type: Output\r\n            }], onMouseOver: [{\r\n                type: Output\r\n            }], onMouseUp: [{\r\n                type: Output\r\n            }], onPaste: [{\r\n                type: Output\r\n            }], onSelectionChange: [{\r\n                type: Output\r\n            }], onActivate: [{\r\n                type: Output\r\n            }], onAddUndo: [{\r\n                type: Output\r\n            }], onBeforeAddUndo: [{\r\n                type: Output\r\n            }], onBeforeExecCommand: [{\r\n                type: Output\r\n            }], onBeforeGetContent: [{\r\n                type: Output\r\n            }], onBeforeRenderUI: [{\r\n                type: Output\r\n            }], onBeforeSetContent: [{\r\n                type: Output\r\n            }], onChange: [{\r\n                type: Output\r\n            }], onClearUndos: [{\r\n                type: Output\r\n            }], onDeactivate: [{\r\n                type: Output\r\n            }], onDirty: [{\r\n                type: Output\r\n            }], onExecCommand: [{\r\n                type: Output\r\n            }], onGetContent: [{\r\n                type: Output\r\n            }], onHide: [{\r\n                type: Output\r\n            }], onInit: [{\r\n                type: Output\r\n            }], onLoadContent: [{\r\n                type: Output\r\n            }], onNodeChange: [{\r\n                type: Output\r\n            }], onPostProcess: [{\r\n                type: Output\r\n            }], onPostRender: [{\r\n                type: Output\r\n            }], onPreInit: [{\r\n                type: Output\r\n            }], onPreProcess: [{\r\n                type: Output\r\n            }], onProgressState: [{\r\n                type: Output\r\n            }], onRedo: [{\r\n                type: Output\r\n            }], onRemove: [{\r\n                type: Output\r\n            }], onReset: [{\r\n                type: Output\r\n            }], onSaveContent: [{\r\n                type: Output\r\n            }], onSetAttrib: [{\r\n                type: Output\r\n            }], onObjectResizeStart: [{\r\n                type: Output\r\n            }], onObjectResized: [{\r\n                type: Output\r\n            }], onObjectSelected: [{\r\n                type: Output\r\n            }], onSetContent: [{\r\n                type: Output\r\n            }], onShow: [{\r\n                type: Output\r\n            }], onSubmit: [{\r\n                type: Output\r\n            }], onUndo: [{\r\n                type: Output\r\n            }], onVisualAid: [{\r\n                type: Output\r\n            }] } });\r\nconst validEvents = [\r\n    'onActivate',\r\n    'onAddUndo',\r\n    'onBeforeAddUndo',\r\n    'onBeforeExecCommand',\r\n    'onBeforeGetContent',\r\n    'onBeforeRenderUI',\r\n    'onBeforeSetContent',\r\n    'onBeforePaste',\r\n    'onBlur',\r\n    'onChange',\r\n    'onClearUndos',\r\n    'onClick',\r\n    'onContextMenu',\r\n    'onCopy',\r\n    'onCut',\r\n    'onDblclick',\r\n    'onDeactivate',\r\n    'onDirty',\r\n    'onDrag',\r\n    'onDragDrop',\r\n    'onDragEnd',\r\n    'onDragGesture',\r\n    'onDragOver',\r\n    'onDrop',\r\n    'onExecCommand',\r\n    'onFocus',\r\n    'onFocusIn',\r\n    'onFocusOut',\r\n    'onGetContent',\r\n    'onHide',\r\n    'onInit',\r\n    'onKeyDown',\r\n    'onKeyPress',\r\n    'onKeyUp',\r\n    'onLoadContent',\r\n    'onMouseDown',\r\n    'onMouseEnter',\r\n    'onMouseLeave',\r\n    'onMouseMove',\r\n    'onMouseOut',\r\n    'onMouseOver',\r\n    'onMouseUp',\r\n    'onNodeChange',\r\n    'onObjectResizeStart',\r\n    'onObjectResized',\r\n    'onObjectSelected',\r\n    'onPaste',\r\n    'onPostProcess',\r\n    'onPostRender',\r\n    'onPreProcess',\r\n    'onProgressState',\r\n    'onRedo',\r\n    'onRemove',\r\n    'onReset',\r\n    'onSaveContent',\r\n    'onSelectionChange',\r\n    'onSetAttrib',\r\n    'onSetContent',\r\n    'onShow',\r\n    'onSubmit',\r\n    'onUndo',\r\n    'onVisualAid'\r\n];\n\nconst bindHandlers = (ctx, editor, initEvent) => {\r\n    validEvents.forEach(eventName => {\r\n        const eventEmitter = ctx[eventName];\r\n        if (eventName === 'onInit') {\r\n            ctx.ngZone.run(() => eventEmitter.emit({ event: initEvent, editor }));\r\n        }\r\n        else {\r\n            editor.on(eventName.substring(2), (event) => ctx.ngZone.run(() => eventEmitter.emit({ event, editor })));\r\n        }\r\n    });\r\n};\r\nlet unique = 0;\r\nconst uuid = (prefix) => {\r\n    const date = new Date();\r\n    const time = date.getTime();\r\n    const random = Math.floor(Math.random() * 1000000000);\r\n    unique++;\r\n    return prefix + '_' + random + unique + String(time);\r\n};\r\nconst isTextarea = (element) => {\r\n    return typeof element !== 'undefined' && element.tagName.toLowerCase() === 'textarea';\r\n};\r\nconst normalizePluginArray = (plugins) => {\r\n    if (typeof plugins === 'undefined' || plugins === '') {\r\n        return [];\r\n    }\r\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\r\n};\r\nconst mergePlugins = (initPlugins, inputPlugins) => normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\r\n// tslint:disable-next-line:no-empty\r\nconst noop = () => { };\n\nconst injectScriptTag = (scriptId, doc, url, callback) => {\r\n    const scriptTag = doc.createElement('script');\r\n    scriptTag.referrerPolicy = 'origin';\r\n    scriptTag.type = 'application/javascript';\r\n    scriptTag.id = scriptId;\r\n    scriptTag.addEventListener('load', callback);\r\n    scriptTag.src = url;\r\n    if (doc.head) {\r\n        doc.head.appendChild(scriptTag);\r\n    }\r\n};\r\nconst create = () => {\r\n    return {\r\n        listeners: [],\r\n        scriptId: uuid('tiny-script'),\r\n        scriptLoaded: false\r\n    };\r\n};\r\nconst load = (state, doc, url, callback) => {\r\n    if (state.scriptLoaded) {\r\n        callback();\r\n    }\r\n    else {\r\n        state.listeners.push(callback);\r\n        if (!doc.getElementById(state.scriptId)) {\r\n            injectScriptTag(state.scriptId, doc, url, () => {\r\n                state.listeners.forEach(fn => fn());\r\n                state.scriptLoaded = true;\r\n            });\r\n        }\r\n    }\r\n};\n\nconst getTinymce = () => {\r\n    const w = typeof window !== 'undefined' ? window : undefined;\r\n    return w && w.tinymce ? w.tinymce : null;\r\n};\n\nconst BASIC_PLUGINS = [\r\n    'advlist autolink lists link image charmap print preview anchor',\r\n    'searchreplace visualblocks code fullscreen',\r\n    'insertdatetime media table paste code'\r\n];\r\nconst BASIC_TOOLBAR = `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link`;\r\nconst FULL_PLUGINS = [\r\n    'advlist autolink lists link image charmap print preview hr anchor pagebreak',\r\n    'searchreplace wordcount visualblocks visualchars code fullscreen',\r\n    'insertdatetime media nonbreaking save table directionality',\r\n    'template paste textcolor colorpicker textpattern imagetools toc help'\r\n];\r\nconst FULL_TOOLBAR = [\r\n    `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent`,\r\n    'print preview | forecolor backcolor | link'\r\n];\n\nconst scriptState = create();\r\nconst EDITOR_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => EditorComponent),\r\n    multi: true\r\n};\r\nclass EditorComponent extends Events {\r\n    constructor(elementRef, ngZone, platformId, dialog, ref) {\r\n        super();\r\n        this.platformId = platformId;\r\n        this.dialog = dialog;\r\n        this.ref = ref;\r\n        this.debug = false;\r\n        this.cloudChannel = '5';\r\n        this.apiKey = 'no-api-key';\r\n        this.id = '';\r\n        this.expanded = false;\r\n        this.type = null;\r\n        this.loaded = new EventEmitter();\r\n        this.baseUrl = '/tinymce'; // Root for resources\r\n        this.suffix = '.min'; // Suffix to use when loading resources\r\n        this._element = undefined;\r\n        this.onTouchedCallback = noop;\r\n        this.onChangeCallback = noop;\r\n        this._elementRef = elementRef;\r\n        this.ngZone = ngZone;\r\n        this.initialise = this.initialise.bind(this);\r\n    }\r\n    set disabled(val) {\r\n        this._disabled = val;\r\n        if (this._editor && this._editor.initialized) {\r\n            this._editor.setMode(val ? 'readonly' : 'design');\r\n        }\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get editor() {\r\n        return this._editor;\r\n    }\r\n    set plugins(value) {\r\n        this._plugins = value;\r\n    }\r\n    get plugins() {\r\n        if (this._plugins) {\r\n            return this._plugins;\r\n        }\r\n        switch (this.type) {\r\n            case 'BASIC':\r\n                return BASIC_PLUGINS;\r\n            case 'FULL':\r\n                return FULL_PLUGINS;\r\n            default:\r\n                return 'lists advlist';\r\n        }\r\n    }\r\n    set toolbar(value) {\r\n        this._toolbar = value;\r\n    }\r\n    get toolbar() {\r\n        if (this._toolbar) {\r\n            return this._toolbar;\r\n        }\r\n        switch (this.type) {\r\n            case 'BASIC':\r\n                return BASIC_TOOLBAR;\r\n            case 'FULL':\r\n                return FULL_TOOLBAR;\r\n            default:\r\n                return 'undo redo | bold italic | bullist numlist outdent indent';\r\n        }\r\n    }\r\n    get basic() {\r\n        return this.type === 'BASIC';\r\n    }\r\n    get full() {\r\n        return this.type === 'FULL';\r\n    }\r\n    get showExpand() {\r\n        return !this.expanded;\r\n    }\r\n    expand(e) {\r\n        if (e && e.preventDefault) {\r\n            e.preventDefault();\r\n        }\r\n        const config = {\r\n            data: this._editor.getContent(),\r\n            width: '1200px',\r\n            id: this.id ? `${this.id}-dialog` : null\r\n        };\r\n        this.openDialog(config);\r\n    }\r\n    openDialog(config) {\r\n        const dialogRef = this.dialog.open(EditorWindowComponent, config);\r\n        this.dialogRef = dialogRef.afterClosed().subscribe(result => {\r\n            this.closeDialog(result);\r\n        });\r\n    }\r\n    closeDialog(value) {\r\n        if (value) {\r\n            this.changeValue(value);\r\n        }\r\n        this.dialogRef.unsubscribe();\r\n    }\r\n    changeValue(value) {\r\n        this.writeValue(value);\r\n        this.onChangeCallback(value);\r\n    }\r\n    writeValue(value) {\r\n        this.initialValue = value || this.initialValue;\r\n        value = value || '';\r\n        if (this._editor && this._editor.initialized && typeof value === 'string') {\r\n            this._editor.setContent(value);\r\n        }\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n    setDisabledState(isDisabled) {\r\n        if (this._editor) {\r\n            this._editor.setMode(isDisabled ? 'readonly' : 'design');\r\n        }\r\n        else if (isDisabled) {\r\n            this.init = { ...this.init, readonly: true };\r\n        }\r\n    }\r\n    ngAfterViewInit() {\r\n        if (isPlatformBrowser(this.platformId)) {\r\n            this.id = this.id || uuid('tiny-angular');\r\n            this.inline = typeof this.inline !== 'undefined' ? (typeof this.inline === 'boolean' ? this.inline : true) : this.init && this.init.inline;\r\n            this.createElement();\r\n            if (getTinymce() !== null) {\r\n                this.initialise();\r\n            }\r\n            else if (this._element && this._element.ownerDocument) {\r\n                const doc = this._element.ownerDocument;\r\n                const channel = this.cloudChannel;\r\n                const apiKey = this.apiKey;\r\n                load(scriptState, doc, `https://cdn.tiny.cloud/1/${apiKey}/tinymce/${channel}/tinymce.min.js`, this.initialise);\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (getTinymce() !== null) {\r\n            getTinymce().remove(this._editor);\r\n        }\r\n    }\r\n    createElement() {\r\n        const tagName = typeof this.tagName === 'string' ? this.tagName : 'div';\r\n        this._element = document.createElement(this.inline ? tagName : 'textarea');\r\n        if (this._element) {\r\n            this._element.id = this.id;\r\n            if (isTextarea(this._element)) {\r\n                this._element.style.visibility = 'hidden';\r\n            }\r\n            this._elementRef.nativeElement.appendChild(this._element);\r\n        }\r\n    }\r\n    initialise() {\r\n        const finalInit = Object.assign({}, {\r\n            base_url: this.baseUrl,\r\n            suffix: this.suffix,\r\n            target: this._element,\r\n            inline: this.inline,\r\n            readonly: this.disabled,\r\n            plugins: this.plugins,\r\n            toolbar: this.toolbar,\r\n            height: this.height,\r\n            branding: false,\r\n            default_link_target: \"_blank\",\r\n            contextmenu: false,\r\n            setup: (editor) => {\r\n                this._editor = editor;\r\n                editor.on('init', (e) => {\r\n                    this.initEditor(e, editor);\r\n                });\r\n                if (this.init && typeof this.init.setup === 'function') {\r\n                    this.init.setup(editor);\r\n                }\r\n            }\r\n        }, this.init);\r\n        if (isTextarea(this._element)) {\r\n            this._element.style.visibility = '';\r\n        }\r\n        if (this.debug) {\r\n            console.dir(this.init);\r\n            console.dir(finalInit);\r\n        }\r\n        this.ngZone.runOutsideAngular(() => {\r\n            getTinymce().init(finalInit);\r\n        });\r\n        this.loaded.emit(finalInit);\r\n    }\r\n    initEditor(initEvent, editor) {\r\n        if (typeof this.initialValue === 'string') {\r\n            this.ngZone.run(() => editor.setContent(this.initialValue));\r\n        }\r\n        editor.on('blur', () => this.ngZone.run(() => this.onTouchedCallback()));\r\n        editor.on('change keyup undo redo', () => this.ngZone.run(() => this.onChangeCallback(editor.getContent())));\r\n        bindHandlers(this, editor, initEvent);\r\n    }\r\n}\r\n/** @nocollapse */ EditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorComponent, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }, { token: PLATFORM_ID }, { token: i1$2.MatDialog }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ EditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: EditorComponent, selector: \"iu-editor\", inputs: { disabled: \"disabled\", plugins: \"plugins\", toolbar: \"toolbar\", debug: \"debug\", cloudChannel: \"cloudChannel\", apiKey: \"apiKey\", init: \"init\", id: \"id\", initialValue: \"initialValue\", inline: \"inline\", tagName: \"tagName\", expanded: \"expanded\", height: \"height\", type: \"type\" }, outputs: { loaded: \"loaded\" }, providers: [EDITOR_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<!-- <div class=\\\"editor\\\">\\r\\n  <textarea [id]=\\\"elementId\\\">\\r\\n    <ng-content *ngIf=\\\"!hasValue\\\"></ng-content>\\r\\n    <span *ngIf=\\\"hasValue\\\">{{ value }}</span>\\r\\n  </textarea>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div> -->\\r\\n\\r\\n<div class=\\\"editor\\\">\\r\\n  <ng-template></ng-template>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.editor{position:relative;display:block;clear:both;padding:0;border-radius:2px}.editor #expand-editor{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;font-size:36px;position:absolute;right:3px;top:3px;color:#fff;text-align:center;min-width:36px;line-height:24px;padding:3px 2px;z-index:1}.editor #expand-editor .mat-icon{font-size:36px;position:relative;left:-6px;top:-7px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-editor', changeDetection: ChangeDetectionStrategy.OnPush, providers: [EDITOR_ACCESSOR], template: \"<!-- <div class=\\\"editor\\\">\\r\\n  <textarea [id]=\\\"elementId\\\">\\r\\n    <ng-content *ngIf=\\\"!hasValue\\\"></ng-content>\\r\\n    <span *ngIf=\\\"hasValue\\\">{{ value }}</span>\\r\\n  </textarea>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div> -->\\r\\n\\r\\n<div class=\\\"editor\\\">\\r\\n  <ng-template></ng-template>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.editor{position:relative;display:block;clear:both;padding:0;border-radius:2px}.editor #expand-editor{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;font-size:36px;position:absolute;right:3px;top:3px;color:#fff;text-align:center;min-width:36px;line-height:24px;padding:3px 2px;z-index:1}.editor #expand-editor .mat-icon{font-size:36px;position:relative;left:-6px;top:-7px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.NgZone }, { type: Object, decorators: [{\r\n                    type: Inject,\r\n                    args: [PLATFORM_ID]\r\n                }] }, { type: i1$2.MatDialog }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { disabled: [{\r\n                type: Input\r\n            }], plugins: [{\r\n                type: Input\r\n            }], toolbar: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], cloudChannel: [{\r\n                type: Input\r\n            }], apiKey: [{\r\n                type: Input\r\n            }], init: [{\r\n                type: Input\r\n            }], id: [{\r\n                type: Input\r\n            }], initialValue: [{\r\n                type: Input\r\n            }], inline: [{\r\n                type: Input\r\n            }], tagName: [{\r\n                type: Input\r\n            }], expanded: [{\r\n                type: Input\r\n            }], height: [{\r\n                type: Input\r\n            }], type: [{\r\n                type: Input\r\n            }], loaded: [{\r\n                type: Output\r\n            }] } });\n\nclass EditorModule {\r\n}\r\n/** @nocollapse */ EditorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ EditorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, declarations: [EditorComponent,\r\n        EditorWindowComponent], imports: [SharedModule,\r\n        FormsModule$1,\r\n        DialogModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatDialogModule,\r\n        MatIconModule,\r\n        MatToolbarModule], exports: [EditorComponent,\r\n        EditorWindowComponent] });\r\n/** @nocollapse */ EditorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, imports: [[\r\n            SharedModule,\r\n            FormsModule$1,\r\n            DialogModule,\r\n            MatButtonModule,\r\n            MatCardModule,\r\n            MatDialogModule,\r\n            MatIconModule,\r\n            MatToolbarModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        FormsModule$1,\r\n                        DialogModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatDialogModule,\r\n                        MatIconModule,\r\n                        MatToolbarModule,\r\n                    ],\r\n                    declarations: [\r\n                        EditorComponent,\r\n                        EditorWindowComponent,\r\n                    ],\r\n                    exports: [\r\n                        EditorComponent,\r\n                        EditorWindowComponent,\r\n                    ],\r\n                }]\r\n        }] });\n\nclass PhoneNumber {\r\n    constructor() {\r\n        this._full = '';\r\n        this._countryCode = '';\r\n        this._areaCode = '';\r\n        this._prefix = '';\r\n        this._lineNumber = '';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['_full', '_countryCode', '_areaCode', '_prefix', '_lineNumber'],\r\n            validators: [phoneNumberValidator]\r\n        });\r\n    }\r\n    get full() {\r\n        return `${this.areaCode}${this.prefix}${this.lineNumber}`;\r\n    }\r\n    set full(value) {\r\n        this._full = value;\r\n        const strValue = value.toString();\r\n        const end = strValue.length;\r\n        this.areaCode = end > 0 ? strValue.substring(0, Math.min(3, end)) : '';\r\n        this.prefix = end > 3 ? strValue.substring(3, Math.min(6, end)) : '';\r\n        this.lineNumber = end > 6 ? strValue.substring(6, Math.min(10, end)) : '';\r\n    }\r\n    get countryCode() {\r\n        return this._countryCode;\r\n    }\r\n    set countryCode(value) {\r\n        this._countryCode = value;\r\n    }\r\n    get areaCode() {\r\n        // return this._full ? this._areaCode || this._full.substring(0, 3) : '';\r\n        return this._areaCode;\r\n    }\r\n    set areaCode(value) {\r\n        this._areaCode = value;\r\n    }\r\n    get prefix() {\r\n        // return this._full ? this._prefix || this._full.substring(3, 6) : '';\r\n        return this._prefix;\r\n    }\r\n    set prefix(value) {\r\n        this._prefix = value;\r\n    }\r\n    get lineNumber() {\r\n        // return this._full ? this._lineNumber || this._full.substring(6, 10) : '';\r\n        return this._lineNumber;\r\n    }\r\n    set lineNumber(value) {\r\n        this._lineNumber = value;\r\n    }\r\n}\n\nconst PHONE_NUMBER_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => PhoneNumberComponent),\r\n    multi: true\r\n};\r\nclass PhoneNumberComponent extends DumbComponent {\r\n    constructor() {\r\n        super();\r\n        this.placeholder = '';\r\n        this.showPrefix = false;\r\n        this.multi = false;\r\n        this._value = '';\r\n        this._phoneNumber = new PhoneNumber();\r\n        this.fg = buildControlFromModel(new PhoneNumber());\r\n    }\r\n    set value(value) {\r\n        if (this.phoneNumber.full !== value) {\r\n            this._value = value;\r\n            this.phoneNumber = build(PhoneNumber, {\r\n                full: value\r\n            });\r\n        }\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set phoneNumber(value) {\r\n        this._phoneNumber = value;\r\n        this.fg.setValue(getValue(this.phoneNumber));\r\n    }\r\n    get phoneNumber() {\r\n        return this._phoneNumber;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (typeof (this.onModelChange) === 'function') {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n            if (typeof (this.onModelChange) === 'function') {\r\n                this.onModelChange(build(PhoneNumber, x).full);\r\n            }\r\n        }));\r\n    }\r\n    onChangeAreaCode(e) {\r\n        if (e.length === 3) {\r\n            this.prefixEl.nativeElement.focus();\r\n        }\r\n    }\r\n    onChangePrefix(e) {\r\n        if (e.length === 3) {\r\n            this.lineNumberEl.nativeElement.focus();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ PhoneNumberComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ PhoneNumberComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: PhoneNumberComponent, selector: \"iu-phone-number\", inputs: { placeholder: \"placeholder\", showPrefix: \"showPrefix\", multi: \"multi\" }, providers: [PHONE_NUMBER_ACCESSOR], viewQueries: [{ propertyName: \"areaCodeEl\", first: true, predicate: [\"areaCodeEl\"], descendants: true }, { propertyName: \"prefixEl\", first: true, predicate: [\"prefixEl\"], descendants: true }, { propertyName: \"lineNumberEl\", first: true, predicate: [\"lineNumberEl\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<form class=\\\"phone-number\\\" [formGroup]=\\\"fg\\\">\\r\\n    <h3>Phone Number</h3>\\r\\n    <mat-form-field appearance=\\\"fill\\\" *ngIf=\\\"!multi\\\">\\r\\n        <span matPrefix *ngIf=\\\"showPrefix\\\">+1 &nbsp;</span>\\r\\n        <input type=\\\"tel\\\" matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"full\\\">\\r\\n        <mat-error *ngIf=\\\"fg.hasError('phoneNumber')\\\">\\r\\n            Please enter a valid phone number\\r\\n        </mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <span matPrefix>+1 &nbsp;</span>\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"areaCode\\\"\\r\\n            (keyup)=\\\"onChangeAreaCode(areaCodeEl.value)\\\" #areaCodeEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"prefix\\\" (keyup)=\\\"onChangePrefix(prefixEl.value)\\\"\\r\\n            #prefixEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"lineNumber\\\" #lineNumberEl>\\r\\n    </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\"form.phone-number{width:100%;display:flex;flex-direction:row;justify-content:space-between;position:relative;padding-top:24px}form.phone-number h3{position:absolute;top:0;left:0;margin:0;color:#0009;font-size:14px;font-weight:400}form.phone-number mat-form-field .mat-form-field-flex{padding-top:0!important}form.phone-number mat-form-field input{text-align:center!important;font-size:24px!important}form.phone-number mat-form-field.multi:nth-of-type(1){width:34%}form.phone-number mat-form-field.multi:nth-of-type(2){width:28%}form.phone-number mat-form-field.multi:nth-of-type(3){width:34%}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$3.MatPrefix, selector: \"[matPrefix]\" }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$3.MatError, selector: \"mat-error\", inputs: [\"id\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-phone-number', providers: [PHONE_NUMBER_ACCESSOR], changeDetection: ChangeDetectionStrategy.OnPush, template: \"<form class=\\\"phone-number\\\" [formGroup]=\\\"fg\\\">\\r\\n    <h3>Phone Number</h3>\\r\\n    <mat-form-field appearance=\\\"fill\\\" *ngIf=\\\"!multi\\\">\\r\\n        <span matPrefix *ngIf=\\\"showPrefix\\\">+1 &nbsp;</span>\\r\\n        <input type=\\\"tel\\\" matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"full\\\">\\r\\n        <mat-error *ngIf=\\\"fg.hasError('phoneNumber')\\\">\\r\\n            Please enter a valid phone number\\r\\n        </mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <span matPrefix>+1 &nbsp;</span>\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"areaCode\\\"\\r\\n            (keyup)=\\\"onChangeAreaCode(areaCodeEl.value)\\\" #areaCodeEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"prefix\\\" (keyup)=\\\"onChangePrefix(prefixEl.value)\\\"\\r\\n            #prefixEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"lineNumber\\\" #lineNumberEl>\\r\\n    </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\"form.phone-number{width:100%;display:flex;flex-direction:row;justify-content:space-between;position:relative;padding-top:24px}form.phone-number h3{position:absolute;top:0;left:0;margin:0;color:#0009;font-size:14px;font-weight:400}form.phone-number mat-form-field .mat-form-field-flex{padding-top:0!important}form.phone-number mat-form-field input{text-align:center!important;font-size:24px!important}form.phone-number mat-form-field.multi:nth-of-type(1){width:34%}form.phone-number mat-form-field.multi:nth-of-type(2){width:28%}form.phone-number mat-form-field.multi:nth-of-type(3){width:34%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { placeholder: [{\r\n                type: Input\r\n            }], showPrefix: [{\r\n                type: Input\r\n            }], multi: [{\r\n                type: Input\r\n            }], areaCodeEl: [{\r\n                type: ViewChild,\r\n                args: ['areaCodeEl']\r\n            }], prefixEl: [{\r\n                type: ViewChild,\r\n                args: ['prefixEl']\r\n            }], lineNumberEl: [{\r\n                type: ViewChild,\r\n                args: ['lineNumberEl']\r\n            }] } });\n\nclass PhoneNumberModule {\r\n}\r\n/** @nocollapse */ PhoneNumberModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ PhoneNumberModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, declarations: [PhoneNumberComponent], imports: [CommonModule,\r\n        MatButtonModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        ReactiveFormsModule], exports: [PhoneNumberComponent] });\r\n/** @nocollapse */ PhoneNumberModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, imports: [[\r\n            CommonModule,\r\n            MatButtonModule,\r\n            MatFormFieldModule,\r\n            MatInputModule,\r\n            ReactiveFormsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [PhoneNumberComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        ReactiveFormsModule\r\n                    ],\r\n                    exports: [PhoneNumberComponent]\r\n                }]\r\n        }] });\n\nclass EffectsModule {\r\n    static forFeature(featureEffects) {\r\n        return EffectsModule$1.forFeature(featureEffects);\r\n    }\r\n    static forRoot(rootEffects) {\r\n        return EffectsModule$1.forRoot(rootEffects);\r\n    }\r\n}\r\n/** @nocollapse */ EffectsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ EffectsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, imports: [EffectsModule$1] });\r\n/** @nocollapse */ EffectsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, imports: [[\r\n            EffectsModule$1\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        EffectsModule$1\r\n                    ],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nclass ErrorsService {\r\n    constructor() { }\r\n}\r\n/** @nocollapse */ ErrorsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ErrorsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass ErrorEffects {\r\n    constructor(actions$, service) {\r\n        this.actions$ = actions$;\r\n        this.service = service;\r\n        /**\r\n         * Listens for thrown errors and handles them accordingly\r\n         */\r\n        this.handleError$ = this.actions$.pipe(filter((action) => action.type === ErrorActions.THROW_ERROR), map((data) => {\r\n            return { type: ErrorActions.HANDLE_ERROR };\r\n        }));\r\n    }\r\n}\r\n/** @nocollapse */ ErrorEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorEffects, deps: [{ token: i1.Actions }, { token: ErrorsService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ErrorEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], ErrorEffects.prototype, \"handleError$\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: ErrorsService }]; }, propDecorators: { handleError$: [] } });\n\nclass GlobalErrorsService {\r\n    constructor() { }\r\n    handleError(error) {\r\n        alert(error);\r\n        // IMPORTANT: Rethrow the error otherwise it gets swallowed\r\n        throw error;\r\n    }\r\n}\r\n/** @nocollapse */ GlobalErrorsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: GlobalErrorsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ GlobalErrorsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: GlobalErrorsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: GlobalErrorsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass ErrorsModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: ErrorsModule,\r\n            providers: [\r\n                ErrorsService,\r\n                ErrorEffects,\r\n                {\r\n                    provide: ErrorHandler,\r\n                    useClass: GlobalErrorsService\r\n                }\r\n            ]\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ ErrorsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ ErrorsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule });\r\n/** @nocollapse */ ErrorsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule, imports: [[]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nclass Error {\r\n    constructor() {\r\n        this.message = '';\r\n        this.statusCode = 0;\r\n    }\r\n}\n\nfunction errorsReducer(state = {}, action) {\r\n    switch (action.type) {\r\n        case ErrorActions.ADD:\r\n            let newState = Collection.AddItem(state, 'lastError', action.payload.error);\r\n            if (action.payload.key === 'lastError') {\r\n                return newState;\r\n            }\r\n            return Collection.AddItem(state, action.payload.key, action.payload.error);\r\n        case ErrorActions.REMOVE:\r\n            return Collection.RemoveItem(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nfunction errorsSelector(store) {\r\n    return store.select(s => s['errors']);\r\n}\r\nfunction errorSelector(store, key) {\r\n    return errorsSelector(store).pipe(map(errors => errors[key]));\r\n}\n\nfunction eventsSelector(store) {\r\n    return store\r\n        .select(s => s['events'])\r\n        .pipe(map((events) => events.items));\r\n}\r\nfunction eventSelector(store, key) {\r\n    return eventsSelector(store).pipe(map(events => events[key]));\r\n}\r\nfunction eventValueSelector(store, key) {\r\n    return eventSelector(store, key).pipe(map(e => (e ? e.value : null)));\r\n}\r\nfunction messagesSelector(store) {\r\n    return store.select('messages');\r\n}\r\nfunction messageSubscriptionsSelector(store) {\r\n    return messagesSelector(store).pipe(map(x => x.subscriptions));\r\n}\r\nfunction messageSelector(store, channel) {\r\n    return messagesSelector(store).pipe(map(x => build(Message, x.get(channel)).message), filter(x => truthy(x)));\r\n}\n\nclass EventEffects {\r\n    constructor(actions$, store) {\r\n        this.actions$ = actions$;\r\n        this.store = store;\r\n        this.events = new Events$1();\r\n        /**\r\n         * Trigger event if action is a registered trigger.\r\n         */\r\n        this.onTriggerEvent = this.actions$.pipe(filter(action => this.events.actions.indexOf(action.type) !== -1), map(this.trigger));\r\n        this.store\r\n            .select(s => s['events'])\r\n            .subscribe(events => {\r\n            this.events = events;\r\n        });\r\n    }\r\n    trigger(action) {\r\n        return EventActions.triggerEvent(action);\r\n    }\r\n}\r\n/** @nocollapse */ EventEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventEffects, deps: [{ token: i1.Actions }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ EventEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], EventEffects.prototype, \"onTriggerEvent\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: i1$1.Store }]; }, propDecorators: { onTriggerEvent: [] } });\r\nclass MessagesEffects {\r\n    constructor(actions$, store) {\r\n        this.actions$ = actions$;\r\n        this.store = store;\r\n        this.messageSubscriptions = [];\r\n        /**\r\n         * Broadcast message if action has a registered subscription.\r\n         */\r\n        this.onTriggerEvent = this.actions$.pipe(filter(action => this.messageSubscriptions.findIndex(x => x.action === action.type) !==\r\n            -1), map(x => this.broadcast(x, this.messageSubscriptions)));\r\n        /**\r\n         * Clear messages after they have been emitted.\r\n         */\r\n        this.onMessageAdded = this.actions$.pipe(ofType(MessagesActions.ADD), map((action) => this.clearMessages(action)));\r\n        messageSubscriptionsSelector(store).subscribe(x => {\r\n            if (x && Array.isArray(x)) {\r\n                this.messageSubscriptions = x;\r\n            }\r\n        });\r\n    }\r\n    broadcast(action, messageSubscriptions) {\r\n        const subscription = build(MessageSubscription, messageSubscriptions.find(x => x.action === action.type));\r\n        return MessagesActions.add(subscription, action);\r\n    }\r\n    clearMessages(action) {\r\n        return {\r\n            type: MessagesActions.CLEAR,\r\n            payload: action.payload\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ MessagesEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: MessagesEffects, deps: [{ token: i1.Actions }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ MessagesEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: MessagesEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], MessagesEffects.prototype, \"onTriggerEvent\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], MessagesEffects.prototype, \"onMessageAdded\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: MessagesEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: i1$1.Store }]; }, propDecorators: { onTriggerEvent: [], onMessageAdded: [] } });\n\nclass EventsService {\r\n    constructor(store) {\r\n        this.store = store;\r\n        this.eventIndex = 0;\r\n        this.events = [];\r\n    }\r\n    get eventKey() {\r\n        this.eventIndex++;\r\n        return `event-${this.eventIndex}`;\r\n    }\r\n    addEvent(actionType, handler) {\r\n        const f = handler ? handler : (action) => true;\r\n        const actionWithKey = EventActions.addEvent(actionType, f, false);\r\n        this.store.dispatch(actionWithKey);\r\n        return actionWithKey.key;\r\n    }\r\n    dispatch(action, handler) {\r\n        return this.dispatchHttpAction(action, handler);\r\n    }\r\n    dispatchHttpAction(action, handler) {\r\n        const successAction = action.payload.onSuccess;\r\n        const errorAction = typeof (action.payload.onError) === 'string' ? action.payload.onError : null;\r\n        const success = this.takeOne(successAction, handler);\r\n        const obs = errorAction ? success.pipe(combineLatest$1(this.takeOne(errorAction, handler), (x, y) => true)) : success;\r\n        this.store.dispatch(action);\r\n        return obs;\r\n    }\r\n    removeEvent(eventKey) {\r\n        this.store.dispatch(EventActions.removeEvent(eventKey));\r\n    }\r\n    subscribe(action, handler) {\r\n        return this.take(1, action).subscribe(handler);\r\n    }\r\n    take(n = 1, actionType, handler) {\r\n        const key = this.addEvent(actionType, handler);\r\n        return eventValueSelector(this.store, key).pipe(skip(1), take(n));\r\n    }\r\n    takeFrom(n = 1, actions, handler) {\r\n        const keys = actions.map(action => this.addEvent(action, handler));\r\n        return keys.map(key => eventValueSelector(this.store, key))\r\n            .reduce((acc, obs) => {\r\n            return acc.pipe(combineLatest$1(obs, (x, y) => true));\r\n        }, of(false)).pipe(skip(1), take(n));\r\n    }\r\n    takeOne(actionType, handler) {\r\n        return this.take(1, actionType, handler);\r\n    }\r\n}\r\n/** @nocollapse */ EventsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsService, deps: [{ token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ EventsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }]; } });\n\nclass EventsModule {\r\n}\r\n/** @nocollapse */ EventsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ EventsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule });\r\n/** @nocollapse */ EventsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule, providers: [\r\n        EventEffects,\r\n        EventsService,\r\n    ] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    providers: [\r\n                        EventEffects,\r\n                        EventsService,\r\n                    ],\r\n                    exports: []\r\n                }]\r\n        }] });\n\nfunction eventsReducer(state = new Events$1(), action) {\r\n    switch (action.type) {\r\n        case EventActions.ADD_EVENT:\r\n            return state.addEvent(action.payload);\r\n        case EventActions.REMOVE_EVENT:\r\n            return state.removeEvent(action.payload);\r\n        case EventActions.TRIGGER_EVENT:\r\n            return state.triggerEvent(action.payload);\r\n        case EventActions.UPDATE_VALUE:\r\n            return state.updateValue(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction messagesReducer(state = new Messages(), action) {\r\n    switch (action.type) {\r\n        case MessagesActions.ADD:\r\n            return state.addMessages(action.payload);\r\n        case MessagesActions.CLEAR:\r\n            return state.clearMessages(action.payload);\r\n        case MessagesActions.SUBSCRIBE:\r\n            return state.addSubscriptions(action.payload);\r\n        case MessagesActions.REMOVE:\r\n            return state.removeMessages(action.payload);\r\n        case MessagesActions.UNSUBSCRIBE:\r\n            return state.removeSubscriptions(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\n// export class FormActions {\r\n//     static ADD = '[forms] Add Form';\r\n//     static RESET = '[forms] Reset Forms';\r\n//     static NAVIGATE = '[forms] Navigate to Form';\r\n//     static STATUS_CHANGES = '[form] Status Changes';\r\n//     static VALUE_CHANGES = '[form] Value Changes';\r\n//     static addForm(control: AbstractControl): Action {\r\n//         return {\r\n//             type: FormActions.ADD,\r\n//             payload: control\r\n//         };\r\n//     }\r\n//     static changeStatus(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.STATUS_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n//     static changeValue(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.VALUE_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n//     static navigateToForm(route: string): Action {\r\n//         return {\r\n//             type: FormActions.NAVIGATE,\r\n//             payload: route\r\n//         };\r\n//     }\r\n//     static resetForms(forms: Form[]): Action {\r\n//         return {\r\n//             type: FormActions.RESET,\r\n//             payload: forms\r\n//         };\r\n//     }\r\n// }\n\n// import { Command } from '../shared/decorators';\r\nclass HttpCommands {\r\n    constructor(http) {\r\n        this.http = http;\r\n    }\r\n    // @Command()\r\n    delete$(payload) {\r\n        return this.http.delete(payload.path, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    get$(payload) {\r\n        return this.http.get(payload.path, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    post$(payload) {\r\n        return this.http.post(payload.path, payload.model, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    postFormUrlEncoded$(payload) {\r\n        return this.http.postFormUrlEncoded(payload.path, payload.model, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    put$(payload) {\r\n        return this.http.put(payload.path, payload.model, payload.headers, payload.options);\r\n    }\r\n}\r\n/** @nocollapse */ HttpCommands.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpCommands, deps: [{ token: HttpService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HttpCommands.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpCommands, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpCommands, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: HttpService }]; } });\n\nclass HttpEffects {\r\n    constructor(actions$, commands) {\r\n        this.actions$ = actions$;\r\n        this.commands = commands;\r\n        this.onDelete$ = this.actions$.pipe(ofType(HttpActions.DELETE), mergeMap((action) => this.delete$(action.payload)));\r\n        this.onGet$ = this.actions$.pipe(ofType(HttpActions.GET), mergeMap((action) => this.get$(action.payload)));\r\n        this.onPost$ = this.actions$.pipe(ofType(HttpActions.POST), mergeMap((action) => this.post$(action.payload)));\r\n        this.onPostFormUrlEncoded$ = this.actions$.pipe(ofType(HttpActions.POST_FORM_URL_ENCODED), mergeMap((action) => this.postFormUrlEncoded$(action.payload)));\r\n        this.onPut$ = this.actions$.pipe(ofType(HttpActions.PUT), mergeMap((action) => this.put$(action.payload)));\r\n        this.onSearch$ = this.actions$.pipe(ofType(HttpActions.SEARCH), mergeMap((action) => this.search$(action.payload)));\r\n    }\r\n    delete$(payload) {\r\n        // console.log('DELETE:\\t', payload.onSuccess);\r\n        return this.commands.delete$(payload).pipe(map((model) => HttpActions.deleteSuccess(payload.data || model, payload.onSuccess)), catchError((e) => of(HttpActions.deleteError(build(Error, e, { data: payload.data }), payload.onError))));\r\n    }\r\n    get$(payload) {\r\n        // console.log('GET:\\t', payload.onSuccess);\r\n        return this.commands.get$(payload).pipe(map((model) => HttpActions.getSuccess(model, payload.onSuccess)), catchError((e) => of(HttpActions.getError(e, payload.onError))));\r\n    }\r\n    post$(payload) {\r\n        // console.log('POST:\\t', payload.onSuccess);\r\n        return this.commands.post$(payload).pipe(map((model) => HttpActions.postSuccess(model, payload.onSuccess)), catchError((e) => {\r\n            return of(HttpActions.postError(e, payload.onError));\r\n        }));\r\n    }\r\n    postFormUrlEncoded$(payload) {\r\n        // console.log('POST:\\t', payload.onSuccess);\r\n        return this.commands.postFormUrlEncoded$(payload).pipe(map((model) => HttpActions.postSuccess(model, payload.onSuccess)), catchError((e) => of(HttpActions.postError(e, payload.onError))));\r\n    }\r\n    put$(payload) {\r\n        // console.log('PUT:\\t', payload.onSuccess);\r\n        return this.commands.put$(payload).pipe(map((model) => HttpActions.putSuccess(model, payload.onSuccess)), catchError((e) => of(HttpActions.putError(e, payload.onError))));\r\n    }\r\n    search$(payload) {\r\n        // console.log('SEARCH:\\t', payload.onSuccess);\r\n        return this.commands.get$(payload).pipe(map((model) => HttpActions.searchSuccess(model, payload.onSuccess, payload.path)), catchError((e) => of(HttpActions.getError(e, payload.onError))));\r\n    }\r\n}\r\n/** @nocollapse */ HttpEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpEffects, deps: [{ token: i1.Actions }, { token: HttpCommands }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HttpEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onDelete$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onGet$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onPost$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onPostFormUrlEncoded$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onPut$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onSearch$\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: HttpCommands }]; }, propDecorators: { onDelete$: [], onGet$: [], onPost$: [], onPostFormUrlEncoded$: [], onPut$: [], onSearch$: [] } });\n\nconst BASE_URL$ = new InjectionToken('API Base URL');\r\nconst AUTH_TOKEN$ = new InjectionToken('API Auth Token');\r\nfunction baseUrlFactory(store, baseUrlSelector) {\r\n    return store.pipe(baseUrlSelector);\r\n}\r\nfunction authTokenFactory(store, authTokenSelector) {\r\n    return store.pipe(authTokenSelector);\r\n}\r\nfunction httpServiceFactory(http, baseUrl$, authToken$) {\r\n    return new HttpService(http, baseUrl$, authToken$);\r\n}\r\nfunction provideHttpContext(urlSelector, authTokenSelector) {\r\n    return [\r\n        HttpEffects,\r\n        HttpCommands,\r\n        { provide: HttpService, useFactory: httpServiceFactory, deps: [HttpClient, 'BASE_URL$', 'AUTH_TOKEN$'] },\r\n        { provide: 'URL_SELECTOR', useValue: urlSelector },\r\n        { provide: 'BASE_URL$', useFactory: baseUrlFactory, deps: [Store, 'URL_SELECTOR'] },\r\n        { provide: 'TOKEN_SELECTOR', useValue: authTokenSelector },\r\n        { provide: 'AUTH_TOKEN$', useFactory: authTokenFactory, deps: [Store, 'TOKEN_SELECTOR'] },\r\n    ];\r\n}\r\nclass HttpModule {\r\n    static forRoot(baseUrlSelector, authTokenSelector) {\r\n        return {\r\n            ngModule: HttpModule,\r\n            providers: provideHttpContext(baseUrlSelector, authTokenSelector)\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ HttpModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ HttpModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, imports: [HttpClientModule], exports: [HttpClientModule] });\r\n/** @nocollapse */ HttpModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, imports: [[\r\n            HttpClientModule,\r\n        ], HttpClientModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        HttpClientModule,\r\n                    ],\r\n                    exports: [\r\n                        HttpClientModule,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass HubService {\r\n    constructor(store, url) {\r\n        this.store = store;\r\n        this.startConnection(url);\r\n    }\r\n    startConnection(url) {\r\n        this.hubConnection = new signalR.HubConnectionBuilder()\r\n            .withUrl(url, {\r\n            skipNegotiation: true,\r\n            transport: signalR.HttpTransportType.WebSockets\r\n        })\r\n            .build();\r\n        this.hubConnection.start();\r\n        return this.hubConnection;\r\n    }\r\n    addEffect(channel, action) {\r\n        this.removeEffect(channel); // make sure no existing streams exist for this channel\r\n        this.hubConnection.on(channel, (payload) => {\r\n            this.store.dispatch({\r\n                type: action,\r\n                payload\r\n            });\r\n        });\r\n    }\r\n    removeEffect(channel) {\r\n        this.removeListener(channel);\r\n    }\r\n    addListener(functionName, func) {\r\n        this.hubConnection.on(functionName, (data) => func(data));\r\n    }\r\n    removeListener(channel) {\r\n        this.hubConnection.off(channel);\r\n    }\r\n}\r\n/** @nocollapse */ HubService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubService, deps: [{ token: i1$1.Store }, { token: SOCKET_URL }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HubService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [SOCKET_URL]\r\n                }] }]; } });\n\nconst SOCKET_URL = new InjectionToken('API hub endpoint');\r\nconst SOCKET_KEYS = new InjectionToken('API hub keys');\r\nfunction hubServiceFactory(store, url) {\r\n    return new HubService(store, url);\r\n}\r\nfunction provideHub(url = '', keys = []) {\r\n    return [\r\n        { provide: HubService, useFactory: hubServiceFactory, deps: [Store, SOCKET_URL] },\r\n        { provide: SOCKET_URL, useValue: url },\r\n    ];\r\n}\r\nclass HubModule {\r\n    static forRoot(url = '') {\r\n        return {\r\n            ngModule: HubModule,\r\n            providers: provideHub(url, [])\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ HubModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ HubModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule });\r\n/** @nocollapse */ HubModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule, imports: [[]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [],\r\n                    imports: []\r\n                }]\r\n        }] });\n\nclass LookupActions {\r\n    static addKey(payload) {\r\n        return {\r\n            type: LookupActions.ADD_KEY,\r\n            payload: payload\r\n        };\r\n    }\r\n    static addValue(lookupKey, lookupValue) {\r\n        return {\r\n            type: LookupActions.UPDATE_VALUE,\r\n            payload: { lookupKey, lookupValue }\r\n        };\r\n    }\r\n    static addValues(payload) {\r\n        return {\r\n            type: LookupActions.ADD_VALUES,\r\n            payload: payload\r\n        };\r\n    }\r\n    static removeKey(key) {\r\n        return {\r\n            type: LookupActions.REMOVE_KEY,\r\n            payload: key\r\n        };\r\n    }\r\n    static removeValue(lookupKey, lookupValueId) {\r\n        return {\r\n            type: LookupActions.REMOVE_VALUE,\r\n            payload: { lookupKey, lookupValueId }\r\n        };\r\n    }\r\n    static updateValue(lookupKey, lookupValue) {\r\n        return {\r\n            type: LookupActions.UPDATE_VALUE,\r\n            payload: { lookupKey, lookupValue }\r\n        };\r\n    }\r\n}\r\nLookupActions.ADD_KEYS = '[Lookup] Add keys';\r\nLookupActions.ADD_KEY = '[Lookup] Add key';\r\nLookupActions.ADD_VALUES = '[Lookup] Add values';\r\nLookupActions.REMOVE_KEY = '[Lookup] Remove key';\r\nLookupActions.REMOVE_VALUE = '[Lookup] Remove value';\r\nLookupActions.UPDATE_VALUE = '[Lookup] Update value';\n\nclass LookupService {\r\n    constructor(store, lookupPath = 'lookup', lookupKeys = []) {\r\n        this.store = store;\r\n        this._keys = [];\r\n        this.path = 'lookup';\r\n        this.path = lookupPath;\r\n        this.keys = lookupKeys;\r\n    }\r\n    get keys() {\r\n        return this._keys;\r\n    }\r\n    set keys(value) {\r\n        this._keys = value;\r\n    }\r\n    load(keys, values) {\r\n        if (values) {\r\n            this.loadValues(values);\r\n        }\r\n        this.loadKeys(keys);\r\n    }\r\n    loadKeys(keys) {\r\n        this.keys = keys;\r\n        this.store.dispatch(HttpActions.get(`${this.path}${this.buildQueryString()}`, LookupActions.ADD_KEYS));\r\n    }\r\n    loadValues(values) {\r\n        this.store.dispatch(LookupActions.addValues(values));\r\n    }\r\n    lookup(key) {\r\n        return this.store.select('lookup').pipe(map(s => s[key]));\r\n    }\r\n    addKey(key, value) {\r\n        this.store.dispatch(LookupActions.addKey(build(AddLookupPayload, {\r\n            key: key,\r\n            value: value\r\n        })));\r\n    }\r\n    removeKey(key) {\r\n        this.store.dispatch(LookupActions.removeKey(key));\r\n    }\r\n    buildQueryString() {\r\n        let query = this.keys.length > 0 ? `?keys=${this.keys[0]}` : '';\r\n        this.keys.filter((key, index) => index !== 0)\r\n            .forEach(key => {\r\n            query += `&keys=${key}`;\r\n        });\r\n        return query;\r\n    }\r\n}\r\n/** @nocollapse */ LookupService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupService, deps: [{ token: i1$1.Store }, { token: LOOKUP_PATH }, { token: LOOKUP_KEYS }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ LookupService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [LOOKUP_PATH]\r\n                }] }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [LOOKUP_KEYS]\r\n                }] }]; } });\n\nconst LOOKUP_PATH = new InjectionToken('API lookup endpoint');\r\nconst LOOKUP_KEYS = new InjectionToken('API lookup keys');\r\nfunction lookupServiceFactory(store, LOOKUP_PATH = 'lookup', LOOKUP_KEYS = []) {\r\n    return new LookupService(store, LOOKUP_PATH, LOOKUP_KEYS);\r\n}\r\nfunction provideLookup(path = '', keys = []) {\r\n    return [\r\n        { provide: LookupService, useFactory: lookupServiceFactory, deps: [Store, LOOKUP_PATH, LOOKUP_KEYS] },\r\n        { provide: LOOKUP_PATH, useValue: path },\r\n        { provide: LOOKUP_KEYS, useValue: keys },\r\n    ];\r\n}\r\nclass LookupModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup('lookup', [])\r\n        };\r\n    }\r\n    static forRootWithPath(path = '') {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup(path, [])\r\n        };\r\n    }\r\n    static forRootWithKeys(keys) {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup('lookup', keys)\r\n        };\r\n    }\r\n    static forRootWithPathAndKeys(path = '', keys) {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup(path, keys)\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ LookupModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ LookupModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule });\r\n/** @nocollapse */ LookupModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule, imports: [[]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nvar ActionTypes;\r\n(function (ActionTypes) {\r\n    ActionTypes[ActionTypes[\"DEFAULT\"] = 0] = \"DEFAULT\";\r\n    ActionTypes[ActionTypes[\"GET\"] = 1] = \"GET\";\r\n    ActionTypes[ActionTypes[\"GET_SUCCESS\"] = 2] = \"GET_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"GET_ERROR\"] = 3] = \"GET_ERROR\";\r\n    ActionTypes[ActionTypes[\"POST\"] = 4] = \"POST\";\r\n    ActionTypes[ActionTypes[\"POST_SUCCESS\"] = 5] = \"POST_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"POST_ERROR\"] = 6] = \"POST_ERROR\";\r\n    ActionTypes[ActionTypes[\"PUT\"] = 7] = \"PUT\";\r\n    ActionTypes[ActionTypes[\"PUT_SUCCESS\"] = 8] = \"PUT_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"PUT_ERROR\"] = 9] = \"PUT_ERROR\";\r\n    ActionTypes[ActionTypes[\"DELETE\"] = 10] = \"DELETE\";\r\n    ActionTypes[ActionTypes[\"DELETE_SUCCESS\"] = 11] = \"DELETE_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"DELETE_ERROR\"] = 12] = \"DELETE_ERROR\";\r\n    ActionTypes[ActionTypes[\"SAVE\"] = 13] = \"SAVE\";\r\n})(ActionTypes || (ActionTypes = {}));\r\nclass Redirect {\r\n    constructor() {\r\n        this.action = '';\r\n        this.redirectTo = '/';\r\n        this.redirectStatus = null;\r\n    }\r\n    get id() {\r\n        return this.action;\r\n    }\r\n}\r\nclass Redirects extends Collection {\r\n    constructor() {\r\n        super(Redirect);\r\n    }\r\n    add(data) {\r\n        return build(Redirects, this.update([data]));\r\n    }\r\n    remove(data) {\r\n        return build(Redirects, this.delete(data));\r\n    }\r\n    update(data) {\r\n        const items = Collection.BuildDictionaryFromArray(data.reduce((acc, x) => {\r\n            const filtered = acc.filter(y => y.id !== x.action);\r\n            return truthy(x.redirectTo) ? [...filtered, x] : filtered;\r\n        }, this.asArray));\r\n        return build(Redirects, this, { items });\r\n    }\r\n}\r\nclass ViewSettings {\r\n    constructor() {\r\n        this.theme = 'dark';\r\n    }\r\n    get isDarkTheme() {\r\n        return this.theme === 'dark';\r\n    }\r\n    get isLightTheme() {\r\n        return this.theme === 'light';\r\n    }\r\n}\n\nclass AppActions {\r\n    static noAction() {\r\n        return {\r\n            type: AppActions.NO_ACTION\r\n        };\r\n    }\r\n}\r\nAppActions.INIT_STORE = '[Storage] Init Store';\r\nAppActions.NO_ACTION = '[App] No Action';\r\nclass ConfigActions {\r\n    static initialize(config) {\r\n        return {\r\n            type: ConfigActions.INITIALIZE,\r\n            payload: config\r\n        };\r\n    }\r\n}\r\nConfigActions.INITIALIZE = '[Config] Initialize Configuration';\r\nclass CurrentUserActions {\r\n    static logout() {\r\n        return {\r\n            type: CurrentUserActions.LOGOUT\r\n        };\r\n    }\r\n}\r\nCurrentUserActions.LOGIN = '[CurrentUser] Login';\r\nCurrentUserActions.LOGOUT = '[CurrentUser] Logout';\r\nCurrentUserActions.RESET_PASSWORD = '[CurrentUser] Reset Password';\r\nCurrentUserActions.ALL = [\r\n    CurrentUserActions.LOGIN,\r\n    CurrentUserActions.LOGOUT,\r\n    CurrentUserActions.RESET_PASSWORD\r\n];\r\nclass FormActions {\r\n}\r\nFormActions.SAVE = '[Form] SAVE';\r\nclass OrganizationsActions {\r\n}\r\nOrganizationsActions.GET = '[Organizations] GET';\r\nclass RedirectActions {\r\n    static add(payload) {\r\n        return {\r\n            type: RedirectActions.ADD,\r\n            payload\r\n        };\r\n    }\r\n    static update(actions, redirectTo) {\r\n        const payload = actions.map(action => build(Redirect, {\r\n            action,\r\n            redirectTo\r\n        }));\r\n        return {\r\n            type: RedirectActions.UPDATE,\r\n            payload\r\n        };\r\n    }\r\n    static remove(payload) {\r\n        return {\r\n            type: RedirectActions.ADD,\r\n            payload\r\n        };\r\n    }\r\n}\r\nRedirectActions.ADD = '[Redirect] ADD';\r\nRedirectActions.REMOVE = '[Redirect] REMOVE';\r\nRedirectActions.UPDATE = '[Redirect] UPDATE';\r\nclass SidenavActions {\r\n    static close() {\r\n        return {\r\n            type: SidenavActions.CLOSE\r\n        };\r\n    }\r\n    static open() {\r\n        return {\r\n            type: SidenavActions.OPEN\r\n        };\r\n    }\r\n    static toggle() {\r\n        return {\r\n            type: SidenavActions.TOGGLE\r\n        };\r\n    }\r\n}\r\nSidenavActions.CLOSE = '[Sidenav] Close';\r\nSidenavActions.OPEN = '[Sidenav] Open';\r\nSidenavActions.TOGGLE = '[Sidenav] Toggle';\r\nclass ViewSettingsActions {\r\n    static changeTheme(theme) {\r\n        return {\r\n            type: ViewSettingsActions.CHANGETHEME,\r\n            payload: theme\r\n        };\r\n    }\r\n}\r\nViewSettingsActions.CHANGETHEME = '[viewSettingsReducer] Change Theme';\r\nclass WindowActions {\r\n    static resize(payload) {\r\n        return {\r\n            type: WindowActions.RESIZE,\r\n            payload\r\n        };\r\n    }\r\n}\r\nWindowActions.RESIZE = '[Window] Resize';\n\nfunction lookupReducer(state = new Lookups(), action) {\r\n    switch (action.type) {\r\n        case LookupActions.ADD_KEYS:\r\n            return Lookups.AddLookups(state, toArray(action.payload).map(x => build(Lookup, x)));\r\n        case LookupActions.ADD_KEY:\r\n            return Lookups.AddLookup(state, action.payload);\r\n        case LookupActions.UPDATE_VALUE:\r\n            return Lookups.UpdateLookupValue(state, action.payload.lookupKey, action.payload.lookupValue);\r\n        case LookupActions.ADD_VALUES:\r\n            return Lookups.AddLookups(state, action.payload);\r\n        case LookupActions.REMOVE_KEY:\r\n            return Lookups.RemoveLookup(state, action.payload);\r\n        case LookupActions.REMOVE_VALUE:\r\n            return Lookups.RemoveLookupValue(state, action.payload.lookupKey, action.payload.lookupValueId);\r\n        case AppActions.INIT_STORE:\r\n            return build(Lookups, action.payload['lookup']);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nfunction lookupSelector(store) {\r\n    return store.select(s => s['lookup']);\r\n}\r\nfunction lookupKeySelector(store, key) {\r\n    return lookupSelector(store).pipe(map(lookup => lookup[key] || new Lookup()));\r\n}\r\nfunction lookupValuesSelector(store, key) {\r\n    return lookupKeySelector(store, key).pipe(map(lookup => lookup.values)\r\n    // map(statuses => statuses.filter(x => truthy(x.name) && x.name !== 'Select'))\r\n    );\r\n}\r\nfunction lookupValueSelector(store, key, f) {\r\n    const values$ = lookupValuesSelector(store, key);\r\n    return values$.pipe(map(values => values.find(f) || new LookupValue()));\r\n}\n\nclass RouterActions {\r\n    static activate(routeName, parent) {\r\n        const payload = {\r\n            routeName,\r\n            parent\r\n        };\r\n        return {\r\n            type: RouterActions.ACTIVATE,\r\n            payload\r\n        };\r\n    }\r\n    static navigate(r) {\r\n        return {\r\n            type: RouterActions.NAVIGATE,\r\n            payload: r\r\n        };\r\n    }\r\n    static navigateSuccess() {\r\n        return {\r\n            type: RouterActions.NAVIGATE_SUCCESS\r\n        };\r\n    }\r\n    static navigateError() {\r\n        return {\r\n            type: RouterActions.NAVIGATE_ERROR\r\n        };\r\n    }\r\n    static navCancel(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_CANCEL,\r\n            payload: e\r\n        };\r\n    }\r\n    static navEnd(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_END,\r\n            payload: e\r\n        };\r\n    }\r\n    static navError(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_ERROR,\r\n            payload: e\r\n        };\r\n    }\r\n    static navStart(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_START,\r\n            payload: e\r\n        };\r\n    }\r\n    static routesRecognized(e) {\r\n        return {\r\n            type: RouterActions.ROUTES_RECOGNIZED,\r\n            payload: e\r\n        };\r\n    }\r\n}\r\nRouterActions.ACTIVATE = '[Router] Activate Route';\r\nRouterActions.NAVIGATE = '[Router] Navigate';\r\nRouterActions.NAVIGATE_SUCCESS = '[Router] Navigate Success';\r\nRouterActions.NAVIGATE_ERROR = '[Router] Navigate Error';\r\nRouterActions.NAVIGATION_CANCEL = '[Router] Cancel Navigation';\r\nRouterActions.NAVIGATION_END = '[Router] End Navigation';\r\nRouterActions.NAVIGATION_ERROR = '[Router] Error Navigation';\r\nRouterActions.NAVIGATION_START = '[Router] Start Navigation';\r\nRouterActions.ROUTES_RECOGNIZED = '[Router] Routes Recognized';\n\nclass RouterService {\r\n    constructor(_router, _route, store) {\r\n        this._router = _router;\r\n        this._route = _route;\r\n        this.store = store;\r\n        this.navigationCancel = new EventEmitter();\r\n        this.navigationEnd = new EventEmitter();\r\n        this.navigationError = new EventEmitter();\r\n        this.navigationStart = new EventEmitter();\r\n        this.routesRecognized = new EventEmitter();\r\n        _router.events.subscribe((e) => {\r\n            if (e instanceof NavigationCancel) {\r\n                this.onNavigationCancel(e);\r\n            }\r\n            else if (e instanceof NavigationEnd) {\r\n                this.onNavigationEnd(e);\r\n            }\r\n            else if (e instanceof NavigationError) {\r\n                this.onNavigationError(e);\r\n            }\r\n            else if (e instanceof NavigationStart) {\r\n                this.onNavigationStart(e);\r\n            }\r\n            else if (e instanceof RoutesRecognized) {\r\n                this.onRoutesRecognized(e);\r\n            }\r\n        });\r\n    }\r\n    onNavigationCancel(e) {\r\n        this.store.dispatch(RouterActions.navCancel(e));\r\n    }\r\n    onNavigationEnd(e) {\r\n        this.store.dispatch(RouterActions.navEnd(e));\r\n    }\r\n    onNavigationError(e) {\r\n        this.store.dispatch(RouterActions.navError(e));\r\n    }\r\n    onNavigationStart(e) {\r\n        this.store.dispatch(RouterActions.navStart(e));\r\n    }\r\n    onRoutesRecognized(e) {\r\n        this.store.dispatch(RouterActions.routesRecognized(e));\r\n    }\r\n    get activatedRoute() {\r\n        return this._route;\r\n    }\r\n    get routeData$() {\r\n        return this.activatedRoute.data;\r\n    }\r\n    get routeParams$() {\r\n        return this.activatedRoute.params;\r\n    }\r\n    get router() {\r\n        return this._router;\r\n    }\r\n    get url$() {\r\n        return this.store.select(s => s.router.url);\r\n    }\r\n    navigate(commands, extras) {\r\n        const promise = this.router.navigate(commands, extras);\r\n        return from(promise);\r\n    }\r\n    navigateByUrl(url, extras) {\r\n        const promise = this.router.navigateByUrl(url, extras);\r\n        return from(promise);\r\n    }\r\n}\r\n/** @nocollapse */ RouterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterService, deps: [{ token: i1$5.Router }, { token: i1$5.ActivatedRoute }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ RouterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$5.Router }, { type: i1$5.ActivatedRoute }, { type: i1$1.Store }]; } });\n\nclass RouterEffects {\r\n    constructor(actions$, router) {\r\n        this.actions$ = actions$;\r\n        this.router = router;\r\n        /**\r\n         * All imperative navigation should be performed using this effects\r\n         * so that the state is aware of the navigation.\r\n         */\r\n        this.navigate = this.actions$.pipe(ofType(RouterActions.NAVIGATE), switchMap((action) => this.navigate$(action.payload)));\r\n    }\r\n    navigate$(r) {\r\n        const nav$ = typeof (r) === 'string' ? this.router.navigateByUrl(r) : this.router.navigate(r);\r\n        return nav$.pipe(map(() => RouterActions.navigateSuccess()), catchError((e) => {\r\n            return of(RouterActions.navigateError());\r\n        }));\r\n    }\r\n}\r\n/** @nocollapse */ RouterEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterEffects, deps: [{ token: i1.Actions }, { token: RouterService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ RouterEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], RouterEffects.prototype, \"navigate\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: RouterService }]; }, propDecorators: { navigate: [] } });\r\nclass CanDeactivateGuard {\r\n    constructor() {\r\n        this.destUrl = '';\r\n    }\r\n    get routingDestination() {\r\n        return this.destUrl;\r\n    }\r\n    set routingDestination(url) {\r\n        this.destUrl = url;\r\n    }\r\n    canDeactivate(component, route, state) {\r\n        return component.canDeactivate ? component.canDeactivate() : true;\r\n    }\r\n}\r\n/** @nocollapse */ CanDeactivateGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CanDeactivateGuard, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ CanDeactivateGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CanDeactivateGuard });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CanDeactivateGuard, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return []; } });\n\nclass RouterModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: RouterModule,\r\n            providers: [RouterService, RouterEffects]\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ RouterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ RouterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, imports: [RouterModule$1], exports: [RouterModule$1] });\r\n/** @nocollapse */ RouterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, imports: [[RouterModule$1], RouterModule$1] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [RouterModule$1],\r\n                    exports: [RouterModule$1]\r\n                }]\r\n        }] });\n\nclass ActivatedRoutePayload {\r\n    constructor() {\r\n        this.routeName = '';\r\n    }\r\n}\r\nclass Breadcrumbs {\r\n    constructor(segments) {\r\n        this.segments = segments;\r\n    }\r\n}\r\nclass CustomRoute {\r\n    constructor(props) {\r\n        this.children = [];\r\n        this.lazyChildren = [];\r\n        this._path = '';\r\n        assignProps(this, props);\r\n    }\r\n    get path() {\r\n        return this._path;\r\n    }\r\n    set path(value) {\r\n        this._path = value;\r\n    }\r\n    get route() {\r\n        return {\r\n            component: this.component,\r\n            children: [...this.children, ...this.lazyChildren]\r\n        };\r\n    }\r\n}\r\nclass LazyRoute extends CustomRoute {\r\n    constructor(props) {\r\n        super(props);\r\n        this.path = '';\r\n    }\r\n}\r\nvar NavigationStatus;\r\n(function (NavigationStatus) {\r\n    NavigationStatus[NavigationStatus[\"Default\"] = 0] = \"Default\";\r\n    NavigationStatus[NavigationStatus[\"NavigationStart\"] = 1] = \"NavigationStart\";\r\n    NavigationStatus[NavigationStatus[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\r\n    NavigationStatus[NavigationStatus[\"NavigationError\"] = 3] = \"NavigationError\";\r\n    NavigationStatus[NavigationStatus[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\r\n    NavigationStatus[NavigationStatus[\"NavigationEnd\"] = 5] = \"NavigationEnd\";\r\n})(NavigationStatus || (NavigationStatus = {}));\r\nclass RouteSegment {\r\n    constructor() {\r\n        /** The URL fragment shared by all the routes */\r\n        this.fragment = '';\r\n        /** The order of the segment in the route */\r\n        this.order = 0;\r\n        /** The outlet name of the route */\r\n        this.outlet = '';\r\n        /** The label to pass to the anchor tag */\r\n        this.routeLabel = '';\r\n        /** The unique identifier for the route segment */\r\n        this.routeName = '';\r\n    }\r\n    /** The link to pass to the anchor tag */\r\n    get routerLink() {\r\n        return this.pathFromRoot\r\n            .map(r => r.url)\r\n            .reduce((acc, x) => {\r\n            const segment = RouterState.BuildUrlSegment(x);\r\n            return segment && segment !== '/' ? `${acc}${segment}` : acc;\r\n        }, '');\r\n    }\r\n}\r\nclass RouterState {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.error = undefined;\r\n        this.events = [];\r\n        this.history = [];\r\n        this.navigationStatus = NavigationStatus.Default;\r\n        this.pendingState = undefined;\r\n        this.pendingUrl = '';\r\n        this.pendingUrlAfterRedirects = '';\r\n        this.reason = '';\r\n        this.state = undefined;\r\n        this.url = '';\r\n        this.urlAfterRedirects = '';\r\n    }\r\n    get activatedRoute() {\r\n        return RouterState.GetActivatedRoute(this.rootRoute);\r\n    }\r\n    get rootRoute() {\r\n        return this.state ? this.state.root : null;\r\n    }\r\n    static BuildRoute(props) {\r\n        const r = new CustomRoute(props);\r\n        return r;\r\n    }\r\n    static BuildLazyRoute(props) {\r\n        const r = new LazyRoute(props);\r\n        return r;\r\n    }\r\n    static BuildUrlSegment(url) {\r\n        return url.reduce((acc, segment) => segment.path && segment.path !== '/' ? `${acc}/${segment.path}` : acc, '');\r\n    }\r\n    static GetActivatedOutlets(root, index = 0) {\r\n        return root\r\n            ? root.children.reduce((acc, r, currentIndex) => {\r\n                const i = index + currentIndex;\r\n                const routeName = RouterState.GetRouteName(r);\r\n                const existing = build(RouteSegment, acc[routeName]);\r\n                const outlet = RouterState.GetRouteSegment(r, existing, i);\r\n                return routeName\r\n                    ? Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1), {\r\n                        [routeName]: outlet\r\n                    })\r\n                    : Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1));\r\n            }, {})\r\n            : {};\r\n    }\r\n    static GetActivatedRoute(root) {\r\n        return root && Array.isArray(root.children)\r\n            ? root.children.reduce((acc, r) => {\r\n                return RouterState.GetActivatedRoute(r);\r\n            }, root)\r\n            : null;\r\n    }\r\n    static GetAllParams(route) {\r\n        return route\r\n            ? route.children.reduce((acc, r) => {\r\n                return Object.assign({}, acc, RouterState.GetAllParams(r));\r\n            }, Object.assign({}, route.params, route.queryParams))\r\n            : {};\r\n    }\r\n    static GetRouteData(route) {\r\n        return route.data;\r\n    }\r\n    static GetRouteSegment(route, existing = new RouteSegment(), index = 0) {\r\n        const routeName = RouterState.GetRouteName(route);\r\n        return build(RouteSegment, existing, {\r\n            data: route.data,\r\n            fragment: route.fragment,\r\n            order: index,\r\n            outlet: route.outlet,\r\n            pathFromRoot: route.pathFromRoot,\r\n            params: route.params,\r\n            routeName,\r\n            routeLabel: RouterState.GetRouteData(route)['routeLabel'] || existing.routeLabel\r\n        });\r\n    }\r\n    static GetRouteName(route) {\r\n        return route ? RouterState.GetRouteData(route)['routeName'] : '';\r\n    }\r\n    get activatedOutlets() {\r\n        return RouterState.GetActivatedOutlets(this.rootRoute);\r\n    }\r\n    get lastEvent() {\r\n        return this.events[-1];\r\n    }\r\n    get params() {\r\n        return RouterState.GetAllParams(this.rootRoute);\r\n    }\r\n    get routeName() {\r\n        return RouterState.GetRouteName(this.activatedRoute);\r\n    }\r\n    get visited() {\r\n        return this.history.map(x => x.link);\r\n    }\r\n    addRouterEvent(e, eventType) {\r\n        const newEvent = { eventType: eventType, event: e };\r\n        return [...this.events, newEvent];\r\n    }\r\n    navigationCancel(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.NavigationCancel,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationCancel),\r\n            id: payload.id,\r\n            pendingState: null,\r\n            pendingUrl: '',\r\n            pendingUrlAfterRedirects: '',\r\n            reason: payload.reason\r\n        });\r\n    }\r\n    navigationEnd(payload) {\r\n        const history = [payload.toString(), ...this.history];\r\n        return build(RouterState, this, {\r\n            state: this.pendingState\r\n        }, {\r\n            history,\r\n            navigationStatus: NavigationStatus.NavigationEnd,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationEnd),\r\n            id: payload.id,\r\n            pendingState: null,\r\n            pendingUrl: '',\r\n            pendingUrlAfterRedirects: '',\r\n            url: payload.url,\r\n            urlAfterRedirects: payload.urlAfterRedirects\r\n        });\r\n    }\r\n    navigationError(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.NavigationError,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationError),\r\n            id: payload.id,\r\n            pendingState: null,\r\n            pendingUrl: '',\r\n            pendingUrlAfterRedirects: '',\r\n            error: payload.error\r\n        });\r\n    }\r\n    navigationStart(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.NavigationStart,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationStart),\r\n            id: payload.id,\r\n            pendingUrl: payload.url\r\n        });\r\n    }\r\n    routesRecognized(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.RoutesRecognized,\r\n            events: this.addRouterEvent(payload, NavigationStatus.RoutesRecognized),\r\n            id: payload.id,\r\n            pendingState: payload.state,\r\n            pendingUrl: payload.url,\r\n            pendingUrlAfterRedirects: payload.urlAfterRedirects\r\n        });\r\n    }\r\n}\r\nclass VisitedRoute {\r\n    constructor() {\r\n        this.label = '';\r\n        this.link = '';\r\n        this.name = '';\r\n        this.visitTime = new Date();\r\n    }\r\n}\n\nfunction routerReducer(state = new RouterState(), action) {\r\n    switch (action.type) {\r\n        case RouterActions.ACTIVATE:\r\n            return state;\r\n        case RouterActions.NAVIGATION_CANCEL:\r\n            // console.log(RouterActions.NAVIGATION_CANCEL, action.payload);\r\n            return state.navigationCancel(action.payload);\r\n        case RouterActions.NAVIGATION_END:\r\n            // console.log(RouterActions.NAVIGATION_END, action.payload);\r\n            return state.navigationEnd(action.payload);\r\n        case RouterActions.NAVIGATION_ERROR:\r\n            // console.log(RouterActions.NAVIGATION_ERROR, action.payload);\r\n            return state.navigationError(action.payload);\r\n        case RouterActions.NAVIGATION_START:\r\n            // console.log(RouterActions.NAVIGATION_START, action.payload);\r\n            return state.navigationStart(action.payload);\r\n        case RouterActions.ROUTES_RECOGNIZED:\r\n            // console.log(RouterActions.ROUTES_RECOGNIZED, action.payload);\r\n            // console.log(getAllParams(action.payload.state.root));\r\n            return state.routesRecognized(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nfunction routeSelector(store) {\r\n    return store.select('route');\r\n}\r\nfunction breadcrumbsSelector(store) {\r\n    return routeSelector(store).pipe(map(r => {\r\n        const outlets = r.activatedOutlets;\r\n        return new Breadcrumbs(Object.keys(outlets).map(key => outlets[key]));\r\n    }));\r\n}\r\nfunction routeNameSelector(store) {\r\n    return routeSelector(store).pipe(map(r => r.routeName), distinctUntilChanged());\r\n}\r\nfunction routeParamsSelector(store) {\r\n    return routeSelector(store).pipe(map(r => r.params), distinctUntilChanged());\r\n}\r\nfunction lazyRouteParamsSelector(store, key) {\r\n    return routeParamsSelector(store).pipe(map(params => params[key]), distinctUntilChanged());\r\n}\r\nfunction routeParamSelector(store, key, defaultValue = null) {\r\n    return combineLatest(of(defaultValue), lazyRouteParamsSelector(store, key), (x, y) => {\r\n        return y || x;\r\n    }).pipe(distinctUntilChanged());\r\n}\r\nfunction routeParamArraySelector(store, key) {\r\n    return routeParamSelector(store, key, []).pipe(map(x => toArray(x)));\r\n}\r\nfunction routeParamBoolSelector(store, key) {\r\n    return routeParamSelector(store, key).pipe(map(x => x !== 'false' && (x === 'true' || truthy(x))));\r\n}\r\nfunction routeParamIdSelector(store, key) {\r\n    return routeParamIntSelector(store, key);\r\n}\r\nfunction routeParamIntSelector(store, key) {\r\n    return routeParamSelector(store, key, 0).pipe(map(x => toInt(x)));\r\n}\r\nfunction urlSelector(store) {\r\n    return routeSelector(store).pipe(map(r => r.url), distinctUntilChanged());\r\n}\r\nfunction urlPathSelector(store) {\r\n    return urlSelector(store).pipe(map(url => url.indexOf('?') === -1 ? url : url.substring(0, url.indexOf('?'))), distinctUntilChanged());\r\n}\r\nfunction querySelector(store, take = 10, skip = 0, term = 0) {\r\n    const skip$ = routeParamIntSelector(store, 'skip');\r\n    const take$ = routeParamIntSelector(store, 'take').pipe(map(x => x === 0 ? take : x));\r\n    const term$ = routeParamSelector(store, 'term');\r\n    return combineLatest([skip$, take$, term$]).pipe(map(x => Object.assign(new BaseQueryModel(), {\r\n        skip: x[0],\r\n        take: x[1],\r\n        term: x[2]\r\n    })));\r\n}\r\nfunction navigationStatusSelector(store) {\r\n    return routeSelector(store).pipe(map(x => x.navigationStatus), distinctUntilChanged());\r\n}\r\nfunction navigationEndedSelector(store) {\r\n    return navigationStatusSelector(store).pipe(map(x => x === 5), distinctUntilChanged());\r\n}\r\nfunction previousUrlsSelector(store) {\r\n    return routeSelector(store).pipe(map(x => {\r\n        return x.events.filter(y => y.eventType === 5).map(y => y.event['urlAfterRedirects']);\r\n    }));\r\n}\r\nfunction previousUrlSelector(store) {\r\n    return previousUrlsSelector(store).pipe(map(x => {\r\n        return x.length > 0 ? x[x.length - 1] : '/';\r\n    }));\r\n}\n\nclass Token {\r\n    constructor() {\r\n        this.access_token = '';\r\n        this.expiresIn = 0;\r\n    }\r\n    get authenticated() {\r\n        return !this.expired;\r\n    }\r\n    get expires_in() {\r\n        return this.expiresIn;\r\n    }\r\n    set expires_in(value) {\r\n        this.expiresIn = value;\r\n        this.expiresInDate = new Date();\r\n    }\r\n    get expirationDate() {\r\n        const t = new Date(this.expiresInDate);\r\n        t.setSeconds(t.getSeconds() + this.expiresIn);\r\n        return t;\r\n    }\r\n    get expired() {\r\n        const now = new Date();\r\n        return this.access_token && this.expiresIn && this.expiresInDate ? now > this.expirationDate : true;\r\n    }\r\n    toString() {\r\n        return this.expired ? '' : this.access_token;\r\n    }\r\n}\n\nclass Window {\r\n    constructor() {\r\n        this.windowHeight = 0;\r\n        this.windowWidth = 0;\r\n    }\r\n    get windowWidthSmall() {\r\n        return this.windowWidth < 1200;\r\n    }\r\n    get windowWidthMedium() {\r\n        return !this.windowWidthSmall && this.windowWidth < 1300;\r\n    }\r\n    get windowWidthLarge() {\r\n        return this.windowWidth >= 1300;\r\n    }\r\n}\r\nclass WindowResize {\r\n    constructor() {\r\n        this.windowHeight = 0;\r\n        this.windowWidth = 0;\r\n    }\r\n}\n\nfunction allSelector(store) {\r\n    return store.pipe(map(x => x));\r\n}\r\nfunction emptySelector(store) {\r\n    return of({});\r\n}\r\nfunction currentUserSelector(store) {\r\n    return store.select('currentUser');\r\n}\r\nfunction authenticatedSelector(store) {\r\n    return currentUserSelector(store).pipe(map(user => user.authenticated), distinctUntilChanged());\r\n}\r\nfunction loggedInSelector(store) {\r\n    return currentUserSelector(store).pipe(map(user => user.authenticated), take(1));\r\n}\r\nfunction configSelector(store) {\r\n    return store.select('config');\r\n}\r\nfunction windowSelector(store) {\r\n    return store.select('window').pipe(map(w => build(Window, w)));\r\n}\r\nfunction windowHeightSelector(store) {\r\n    return windowSelector(store).pipe(map(window => window.windowHeight), distinctUntilChanged());\r\n}\r\nfunction windowWidthSelector(store) {\r\n    return windowSelector(store).pipe(map(window => window.windowWidth), distinctUntilChanged());\r\n}\r\nfunction containerHeightSelector(store) {\r\n    return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\nfunction containerWidthSelector(store) {\r\n    return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\nfunction contentHeightSelector(store) {\r\n    return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\nfunction contentWidthSelector(store) {\r\n    return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\nfunction sidenavOpenedSelector(store) {\r\n    return store.select('sidenav').pipe(distinctUntilChanged());\r\n}\r\nfunction apiBaseUrlSelector(store) {\r\n    return configSelector(store).pipe(map(config => config.apiBaseUrl));\r\n}\r\nfunction authTokenSelector(store) {\r\n    return currentUserSelector(store).pipe(map(user => {\r\n        const token = user && user.token ? build(Token, user.token) : new Token();\r\n        return token.toString();\r\n    }));\r\n}\r\nfunction userLastActiveSelector(store) {\r\n    return currentUserSelector(store).pipe(map(x => new Date(x.lastActive)));\r\n}\r\nfunction isMobileSelector(store) {\r\n    return combineLatest([\r\n        windowHeightSelector(store),\r\n        windowWidthSelector(store)\r\n    ]).pipe(map(x => x[1] < x[0] || isMobile()));\r\n}\r\nfunction actionTypeSelector(actions$, actionType) {\r\n    return actions$.pipe(map((action) => (action.type === actionType ? action.payload : null)), filter(x => x !== null));\r\n}\n\nclass AuthenticatedGuard {\r\n    constructor(store, routerService) {\r\n        this.store = store;\r\n        this.routerService = routerService;\r\n        this.authenticated = false;\r\n        loggedInSelector(store).subscribe(x => {\r\n            this.authenticated = x;\r\n        });\r\n    }\r\n    canActivate(route, state) {\r\n        if (!this.authenticated) {\r\n            this.routerService.navigate([`/login`]);\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/** @nocollapse */ AuthenticatedGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuthenticatedGuard, deps: [{ token: i1$1.Store }, { token: RouterService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ AuthenticatedGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuthenticatedGuard });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuthenticatedGuard, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: RouterService }]; } });\n\nclass BaseEntity {\r\n    constructor() {\r\n        this.createdBy = null;\r\n        this.createdById = 0;\r\n        this.createdDate = new Date();\r\n        this.formId = 0;\r\n        this.lastModifiedBy = null;\r\n        this.lastModifiedById = 0;\r\n        this.lastModifiedDate = new Date();\r\n        this.matches = [];\r\n        this.ignore = [\r\n            '_metadata',\r\n            'metadata',\r\n            'ignore',\r\n            'createdBy',\r\n            'createdById',\r\n            'createdDate',\r\n            'formId',\r\n            'lastModifiedBy',\r\n            'lastModifiedById',\r\n            'lastModifiedByName',\r\n            'lastModifiedDate',\r\n            'lastModifiedOn',\r\n            'lastUpdated',\r\n            'matches',\r\n        ];\r\n        this._metadata = new Metadata();\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, this._metadata, {\r\n            ignore: this.ignore\r\n        });\r\n    }\r\n    set metadata(value) {\r\n        this._metadata = value;\r\n    }\r\n    static getGetters() {\r\n        return Object.keys(this.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['get'] === 'function';\r\n        });\r\n    }\r\n    static getSetters() {\r\n        return Object.keys(this.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['set'] === 'function';\r\n        });\r\n    }\r\n    getGetters() {\r\n        return Object.keys(this.constructor.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['get'] === 'function';\r\n        });\r\n    }\r\n    getSetters() {\r\n        return Object.keys(this.constructor.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['set'] === 'function';\r\n        });\r\n    }\r\n    update(value) {\r\n        return Object.assign(new BaseEntity(), value);\r\n    }\r\n}\n\nclass Config {\r\n    constructor() {\r\n        this.dev = false;\r\n        this.test = false;\r\n        this.staging = false;\r\n        this.production = false;\r\n        this.apiBaseUrl = '';\r\n    }\r\n}\r\nclass ViewConfig extends Config {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.viewMode = 'Default';\r\n    }\r\n}\n\n// export const ActionCreator = (actionType?: any | any[]) => {\r\n//     return (target: any, propertySignature: string) => {\r\n//         const method = target[propertySignature];\r\n//         const decoratedMethod = function () {\r\n//             const $this = this;\r\n//             const action = method.apply($this, arguments);\r\n//             action.actionType = actionType;\r\n//             return action;\r\n//         };\r\n//         target[propertySignature] = decoratedMethod;\r\n//         return target;\r\n//     };\r\n// };\r\nconst ActionType = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\n/**\r\n * Class Decorator Factory\r\n * Decorates a class.\r\n */\r\nconst Class = (metadata) => {\r\n    const classDecorator = (target) => {\r\n        return target;\r\n    };\r\n    return classDecorator;\r\n};\r\nconst Command = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\nconst Dispatcher = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\n/**\r\n * Decorates a class with properties from BaseEntity\r\n */\r\nconst Entity = (metadata) => {\r\n    function classDecorator(target) {\r\n        const ctor = function () {\r\n            Object.assign(this, new BaseEntity(), { metadata: metadata || {} });\r\n        };\r\n        ctor.prototype = Object.create(target.prototype);\r\n        ctor.prototype.constructor = target;\r\n        return ctor;\r\n    }\r\n    ;\r\n    return classDecorator;\r\n};\r\nconst EventHandler = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\nconst LifecycleHook = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\n/**\r\n * Method Decorator Factory\r\n * Decorates a method.\r\n */\r\nconst Method = (metadata) => {\r\n    const methodDecorator = (target, propertySignature, descriptor) => {\r\n        return target;\r\n    };\r\n    return methodDecorator;\r\n};\r\n/**\r\n * Parameter Decorator Factory\r\n * Decorates a parameter.\r\n */\r\nconst Parameter = (metadata) => {\r\n    const parameterDecorator = (target, propertySignature, parameterIndex) => {\r\n        return target;\r\n    };\r\n    return parameterDecorator;\r\n};\r\n/**\r\n * Property Decorator Factory\r\n * Decorates a Property.\r\n */\r\nconst Property = (metadata) => {\r\n    const propertyDecorator = (target, propertySignature) => {\r\n        if (!target.metadata) {\r\n            target.metadata = {};\r\n        }\r\n        target.metadata[propertySignature] = Object.assign(metadata, { propertyName: propertySignature });\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n};\r\n/**\r\n * Static Method Decorator Factory\r\n * Decorates a static method.\r\n */\r\nconst StaticMethod = (metadata) => {\r\n    const staticMethodDecorator = (target, propertySignature) => {\r\n        return target;\r\n    };\r\n    return staticMethodDecorator;\r\n};\r\n/**\r\n *  Static Property Decorator Factory\r\n * Decorates a static property.\r\n */\r\nconst StaticProperty = (metadata) => {\r\n    const staticPropertyDecorator = (target, propertySignature) => {\r\n        return target;\r\n    };\r\n    return staticPropertyDecorator;\r\n};\n\nclass Question {\r\n    constructor() {\r\n        this.question = '';\r\n        this.title = '';\r\n    }\r\n}\r\nclass Questions extends Collection {\r\n    static AnswerQuestions(questions, answers) {\r\n        return questions.map(question => Questions.AnswerQuestion(question, answers[question.key]));\r\n    }\r\n    static AnswerQuestion(question, answerData) {\r\n        let answer = answerData;\r\n        switch (question.type) {\r\n            case 'date':\r\n                answer = answerData;\r\n                break;\r\n            case 'monthyear':\r\n                answer = DateHelper.ToMonthYearName(answerData);\r\n                break;\r\n            case 'yesno':\r\n                answer = answerData ? 'Yes' : 'No';\r\n                break;\r\n        }\r\n        return build(Question, question, { answer });\r\n    }\r\n    answerQuestions(answers) {\r\n        return Questions.AnswerQuestions(this.toArray(), answers);\r\n    }\r\n}\r\nclass QuestionsModel {\r\n    constructor() {\r\n        this.ignore = ['isAdd', 'questions'];\r\n    }\r\n    get answers() {\r\n        return Questions.AnswerQuestions(this.questions, this);\r\n    }\r\n}\n\nclass TreeItem {\r\n    constructor(item, parent) {\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.id = 0;\r\n        this.order = 0;\r\n        this.parentId = 0;\r\n        this.treeId = 0;\r\n        this.index = 0; // overall order within the flattened tree\r\n    }\r\n    static Build(item) {\r\n        return {\r\n            item: item,\r\n            id: item['id'],\r\n            order: item['order'],\r\n            parentId: item['parentId']\r\n        };\r\n    }\r\n    get hasParent() {\r\n        return this.parentId ? true : false;\r\n    }\r\n    get sortOrder() {\r\n        return this.parentId ? this.treeId + (.1 * this.order) : this.treeId;\r\n    }\r\n    get treeOrder() {\r\n        return this.parentId ? this.order : 0;\r\n    }\r\n}\r\nclass Tree {\r\n    constructor(_treeItems, ctor) {\r\n        this._treeItems = _treeItems;\r\n        this.ctor = ctor;\r\n        this._activeId = 0;\r\n        this._activeIndex = -1;\r\n    }\r\n    static FindParent(items, item) {\r\n        return items.find(x => x.id === item.parentId) || new TreeItem({});\r\n    }\r\n    static FindParentOrder(items, item) {\r\n        const parent = Tree.FindParent(items, item);\r\n        return parent.order;\r\n    }\r\n    static Build(items, ctor) {\r\n        const treeItems = items.reduce((acc, item) => {\r\n            item.treeId = item.parentId ? Tree.FindParentOrder(items, item) : item.order;\r\n            const treeItem = Object.assign(new TreeItem({}), item);\r\n            return [...acc, treeItem];\r\n        }, []);\r\n        const orderedItems = items.sort((a, b) => compareNumbers(a.sortOrder, b.sortOrder))\r\n            .reduce((acc, treeItem, index) => {\r\n            const item = treeItem.item;\r\n            const parent = treeItem.parent;\r\n            return [...acc, Object.assign(new TreeItem(item, parent), treeItem, { index })];\r\n        }, []);\r\n        return new Tree(orderedItems, ctor);\r\n    }\r\n    get activeId() {\r\n        return this._activeId;\r\n    }\r\n    set activeId(id) {\r\n        this._activeId = id;\r\n        this._activeIndex = this.getIndexById(id);\r\n    }\r\n    get activeIndex() {\r\n        return this._activeIndex;\r\n    }\r\n    set activeIndex(index) {\r\n        this._activeIndex = index;\r\n        this._activeId = this.getIdByIndex(index);\r\n    }\r\n    get copy() {\r\n        return Object.assign(new Tree(this._treeItems, this.ctor), this);\r\n    }\r\n    get instance() {\r\n        return new this.ctor() || {};\r\n    }\r\n    get next() {\r\n        return this.getNext(this.activeIndex);\r\n    }\r\n    get nextId() {\r\n        return this.next.id;\r\n    }\r\n    get nextIndex() {\r\n        return this.activeIndex + 1;\r\n    }\r\n    get previous() {\r\n        return this.getPrevious(this.activeIndex);\r\n    }\r\n    get previousId() {\r\n        return this.previous.id;\r\n    }\r\n    get previousIndex() {\r\n        return this.activeIndex - 1;\r\n    }\r\n    get items() {\r\n        return this._treeItems.map(x => x.item);\r\n    }\r\n    get treeItems() {\r\n        return this._treeItems;\r\n    }\r\n    get orderedItems() {\r\n        return this.treeItems.sort((a, b) => compareNumbers(a.index, b.index));\r\n    }\r\n    get subtrees() {\r\n        const trees = this.treeItems.reduce((acc, item) => {\r\n            const treeId = item.treeId;\r\n            const subitems = acc[treeId] || [];\r\n            acc[treeId] = [...subitems, item];\r\n            return acc;\r\n        }, {});\r\n        return Object.keys(trees).map(key => Tree.Build(trees[key], this.ctor));\r\n    }\r\n    get subtreeItems() {\r\n        return this.subtrees.map(tree => tree.treeItems.sort((a, b) => compareNumbers(a.index, b.index)));\r\n    }\r\n    getIdByIndex(index) {\r\n        const item = this.getItemByIndex(index);\r\n        return item.id;\r\n    }\r\n    getIndexById(id) {\r\n        return this.getItemById(id).index;\r\n    }\r\n    getItemById(id) {\r\n        return this.treeItems.find(item => item.id === id) || new TreeItem(this.instance);\r\n    }\r\n    getItemByIndex(index) {\r\n        return this.treeItems.find(item => item.index === index) || new TreeItem(this.instance);\r\n    }\r\n    getNext(index) {\r\n        return this.getItemByIndex(index + 1);\r\n    }\r\n    getNextId(index) {\r\n        return this.getNext(index).id;\r\n    }\r\n    getPrevious(index) {\r\n        return this.getItemByIndex(index - 1);\r\n    }\r\n    getPreviousId(index) {\r\n        return this.getPrevious(index).id;\r\n    }\r\n}\n\nclass User {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.email = '';\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n    }\r\n}\r\nclass CurrentUser extends User {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.token = new Token();\r\n    }\r\n    static Build(data) {\r\n        const token = data && data.token ? build(Token, data.token) : new Token();\r\n        return build(CurrentUser, data, { token });\r\n    }\r\n    get authenticated() {\r\n        return this.token && this.token.authenticated;\r\n    }\r\n    set fullName(value) {\r\n    }\r\n    get fullName() {\r\n        return `${this.firstName} ${this.lastName}`;\r\n    }\r\n    set userRoles(value) {\r\n    }\r\n    get userRoles() {\r\n        return new UserRoles(this);\r\n    }\r\n}\r\nclass UserRoles {\r\n    constructor(user = new CurrentUser()) {\r\n        this.user = user;\r\n    }\r\n}\r\nclass Login {\r\n    constructor() {\r\n        this.grant_type = 'password';\r\n        this.email = '';\r\n        this.password = '';\r\n    }\r\n}\r\nclass NewUser {\r\n    constructor() {\r\n        this.email = '';\r\n        this.password = '';\r\n        this.confirmPassword = '';\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: [],\r\n            validators: [confirmPasswordValidator],\r\n            firstName: {\r\n                validators: [Validators$1.required]\r\n            },\r\n            lastName: {\r\n                validators: [Validators$1.required]\r\n            },\r\n            email: {\r\n                validators: [Validators$1.required, Validators.email]\r\n            },\r\n            password: {\r\n                validators: [Validators$1.required, passwordValidator]\r\n            },\r\n            confirmPassword: {\r\n                validators: [Validators$1.required]\r\n            }\r\n        });\r\n    }\r\n}\r\nclass ResetPassword {\r\n    constructor() {\r\n        this.passwordResetCode = '';\r\n        this.password = '';\r\n        this.confirmPassword = '';\r\n    }\r\n}\n\nclass StorageActions {\r\n    static initStore(localStore, sessionStore) {\r\n        return {\r\n            type: StorageActions.INIT_STORE,\r\n            payload: { localStore, sessionStore }\r\n        };\r\n    }\r\n}\r\nStorageActions.UPDATE_LOCAL_STORAGE = '[Storage] Update Local Storage';\r\nStorageActions.UPDATE_SESSION_STORAGE = '[Storage] Update Session Storage';\r\nStorageActions.INIT_STORE = '[Storage] Init Store';\n\nclass ActionStore {\r\n    constructor(lastAction) {\r\n        this.lastAction = lastAction;\r\n    }\r\n}\r\nclass Storage$1 {\r\n    constructor() {\r\n        this.localStore = {};\r\n        this.sessionStore = {};\r\n    }\r\n}\n\nclass StorageService {\r\n    constructor(store, storeKey) {\r\n        this.store = store;\r\n        this.storeKey = storeKey;\r\n        this.localStorageActions = [];\r\n        this.sessionStorageActions = [];\r\n        this.localStorageMapper = s => s;\r\n        this.sessionStorageMapper = s => s;\r\n    }\r\n    get localStore() {\r\n        return localStorage.getItem(this.storeKey);\r\n    }\r\n    get sessionStore() {\r\n        return sessionStorage.getItem(this.storeKey);\r\n    }\r\n    get storage() {\r\n        const localStore = this.localStore;\r\n        const sessionStore = this.sessionStore;\r\n        return build(Storage, Object.assign({}, localStore, sessionStore), {\r\n            localStore,\r\n            sessionStore\r\n        });\r\n    }\r\n    /**\r\n     * Initialize the use of local storage and/or session storage\r\n     * @param localStorageMapper Mapper function for mapping state to local store\r\n     * @param sessionStorageMapper Mapper function for mapping state to session store\r\n     * @param localStorageActions Actions after which to save to local storage\r\n     * @param sessionStorageActions Actions after which to save to session storage\r\n     */\r\n    init(localStorageMapper = s => s, sessionStorageMapper = s => s, localStorageActions = [], sessionStorageActions = []) {\r\n        const localStore = this.initLocalStore(localStorageMapper, localStorageActions);\r\n        const sessionStore = this.initSessionStore(sessionStorageMapper, sessionStorageActions);\r\n        this.store.dispatch(StorageActions.initStore(localStore, sessionStore));\r\n    }\r\n    /**\r\n     * Initialize the use of local storage\r\n     * @param localStorageMapper Mapper function for mapping state to local store\r\n     * @param localStorageActions Actions after which to save to local storage\r\n     */\r\n    initLocalStore(localStorageMapper = s => s, localStorageActions = []) {\r\n        this.localStorageMapper = localStorageMapper;\r\n        this.localStorageActions = localStorageActions;\r\n        const ls = this.localStore;\r\n        const localStore = ls ? JSON.parse(ls) : {};\r\n        return localStore;\r\n    }\r\n    /**\r\n     * Initialize the use of session storage\r\n     * @param sessionStorageMapper Mapper function for mapping state to session store\r\n     * @param sessionStorageActions Actions after which to save to session storage\r\n     */\r\n    initSessionStore(sessionStorageMapper = s => s, sessionStorageActions = []) {\r\n        this.sessionStorageMapper = sessionStorageMapper;\r\n        this.sessionStorageActions = sessionStorageActions;\r\n        const ss = this.sessionStore;\r\n        const sessionStore = ss ? JSON.parse(ss) : {};\r\n        return sessionStorage;\r\n    }\r\n    inLocalStorage(actionType) {\r\n        return inArray(this.localStorageActions, actionType);\r\n    }\r\n    inSessionStorage(actionType) {\r\n        return inArray(this.sessionStorageActions, actionType);\r\n    }\r\n    /**\r\n     * Store state to local storage.\r\n     */\r\n    storeLocal(state, action) {\r\n        try {\r\n            // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n            const filteredState = Object.assign(filterState(new ActionStore(action)), filterState(Object.assign({}, this.localStorageMapper(state))));\r\n            const serializedState = JSON.stringify(filteredState);\r\n            localStorage.removeItem(this.storeKey);\r\n            localStorage.setItem(this.storeKey, serializedState);\r\n        }\r\n        catch (err) {\r\n            console.error(`ERROR SAVING LOCAL STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n        }\r\n    }\r\n    /**\r\n     * Store state to session storage.\r\n     */\r\n    storeSession(state, action) {\r\n        try {\r\n            // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n            // const filteredState = this.filterState(Object.assign({}, state));\r\n            const filteredState = Object.assign(filterState(new ActionStore(action)), filterState(Object.assign({}, this.sessionStorageMapper(state))));\r\n            const serializedState = JSON.stringify(filteredState);\r\n            localStorage.removeItem(this.storeKey);\r\n            sessionStorage.setItem(this.storeKey, serializedState);\r\n        }\r\n        catch (err) {\r\n            console.error(`ERROR SAVING SESSION STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ StorageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageService, deps: [{ token: i1$1.Store }, { token: STORE_KEY }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ StorageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: undefined, decorators: [{\r\n                    type: Inject,\r\n                    args: [STORE_KEY]\r\n                }] }]; } });\n\nclass StorageEffects {\r\n    constructor(actions$, service, state$) {\r\n        this.actions$ = actions$;\r\n        this.service = service;\r\n        this.state$ = state$;\r\n        /**\r\n         * Listens for dispatched actions, updates local storage in response.\r\n         */\r\n        this.onSyncLocalStorage = this.actions$.pipe(filter((action) => this.service.inLocalStorage(action.type)), map(action => ({\r\n            type: StorageActions.UPDATE_LOCAL_STORAGE,\r\n            payload: action\r\n        })));\r\n        /**\r\n         * Listens for dispatched actions, updates session storage in response.\r\n         */\r\n        this.onSyncSessionStorage = this.actions$.pipe(filter((action) => this.service.inSessionStorage(action.type)), map(action => ({\r\n            type: StorageActions.UPDATE_SESSION_STORAGE,\r\n            payload: action\r\n        })));\r\n        /**\r\n         * Stores state to local storage after each action.\r\n         */\r\n        this.onStoreLocal = this.actions$.pipe(ofType(StorageActions.UPDATE_LOCAL_STORAGE), map(toPayload), withLatestFrom(this.state$, (action, state) => {\r\n            this.service.storeLocal(state, action);\r\n        }));\r\n        /**\r\n         * Stores state to local storage after each action.\r\n         */\r\n        this.onStoreSession = this.actions$.pipe(ofType(StorageActions.UPDATE_SESSION_STORAGE), map(toPayload), withLatestFrom(this.state$, (action, state) => {\r\n            this.service.storeSession(state, action);\r\n        }));\r\n    }\r\n}\r\n/** @nocollapse */ StorageEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageEffects, deps: [{ token: i1.Actions }, { token: StorageService }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ StorageEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onSyncLocalStorage\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onSyncSessionStorage\", void 0);\r\n__decorate([\r\n    Effect({ dispatch: false }),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onStoreLocal\", void 0);\r\n__decorate([\r\n    Effect({ dispatch: false }),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onStoreSession\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: StorageService }, { type: i1$1.Store }]; }, propDecorators: { onSyncLocalStorage: [], onSyncSessionStorage: [], onStoreLocal: [], onStoreSession: [] } });\n\nconst STORE_KEY = new InjectionToken('Local/Session Storage Key');\r\nfunction storageServiceFactory(store, storeKey) {\r\n    return new StorageService(store, storeKey);\r\n}\r\nfunction provideStorage(storeKey) {\r\n    return [\r\n        StorageEffects,\r\n        { provide: StorageService, useFactory: storageServiceFactory, deps: [Store, STORE_KEY] },\r\n        { provide: STORE_KEY, useValue: storeKey },\r\n    ];\r\n}\r\nclass StorageModule {\r\n    /**\r\n     * Provides StorageModule with storage service and effects.\r\n     * @param storeKey - The name of the key containing the store in storage.\r\n     */\r\n    static forRoot(storeKey) {\r\n        return {\r\n            ngModule: StorageModule,\r\n            providers: provideStorage(storeKey)\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ StorageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ StorageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule });\r\n/** @nocollapse */ StorageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule, decorators: [{\r\n            type: NgModule\r\n        }] });\n\nclass StoreModule {\r\n    static forRoot(reducers, config) {\r\n        return StoreModule$1.forRoot(reducers, config);\r\n    }\r\n    static forFeatures(featureName, reducers, config) {\r\n        return StoreModule$1.forFeature(featureName, reducers, config);\r\n    }\r\n    static forFeature(featureName, reducer, config) {\r\n        return StoreModule$1.forFeature(featureName, reducer, config);\r\n    }\r\n}\r\n/** @nocollapse */ StoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ StoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, imports: [StoreModule$1], exports: [StoreModule$1] });\r\n/** @nocollapse */ StoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, imports: [[\r\n            StoreModule$1,\r\n        ], StoreModule$1] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        StoreModule$1,\r\n                    ],\r\n                    declarations: [],\r\n                    exports: [\r\n                        StoreModule$1,\r\n                    ]\r\n                }]\r\n        }] });\n\nfunction configReducer(state = new Config(), action) {\r\n    switch (action.type) {\r\n        case ConfigActions.INITIALIZE:\r\n            return build(Config, state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction formReducer(state = {}, action) {\r\n    switch (action.type) {\r\n        case FormActions.SAVE:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction redirectsReducer(state = new Redirects(), action) {\r\n    switch (action.type) {\r\n        case RedirectActions.ADD:\r\n            return state.add(action.payload);\r\n        case RedirectActions.UPDATE:\r\n            return state.update(action.payload);\r\n        case RedirectActions.REMOVE:\r\n            return state.remove(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction sidenavReducer(state = false, action) {\r\n    switch (action.type) {\r\n        case SidenavActions.CLOSE:\r\n            return false;\r\n        case SidenavActions.OPEN:\r\n            return true;\r\n        case SidenavActions.TOGGLE:\r\n            return !state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction viewSettingsReducer(state = new ViewSettings(), action) {\r\n    switch (action.type) {\r\n        case ViewSettingsActions.CHANGETHEME:\r\n            return build(ViewSettings, { theme: action.payload });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction windowReducer(state = new Window(), action) {\r\n    switch (action.type) {\r\n        case WindowActions.RESIZE:\r\n            return build(Window, state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nclass Widget {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.active = false;\r\n        this.name = '';\r\n        this.userId = 0;\r\n        this.height = 0;\r\n        this.heightPx = 0;\r\n        this.offsetX = 0;\r\n        this.label = '';\r\n        this.left = 0;\r\n        this.offsetY = 0;\r\n        this.showIcons = false;\r\n        this.top = 0;\r\n        this.width = 0;\r\n        this.widthPx = 0;\r\n        this.zIndex = 0;\r\n    }\r\n}\r\nclass Widgets extends Collection {\r\n    constructor() {\r\n        super(Widget);\r\n        this.borderWidth = 10;\r\n    }\r\n    delete(id) {\r\n        return build(Widgets, super.delete(id));\r\n    }\r\n    hideIcons(id) {\r\n        const existing = this.get(id);\r\n        return build(Widgets, super.update(build(Widget, existing, { showIcons: false })));\r\n    }\r\n    replace(data) {\r\n        return build(Widgets, super.replace(data.map(x => build(Widget, x, {\r\n            showIcons: build(Widget, this.get(x.id)).showIcons\r\n        }))));\r\n    }\r\n    showIcons(id) {\r\n        const existing = this.get(id);\r\n        return build(Widgets, super.update(build(Widget, existing, { showIcons: true })));\r\n    }\r\n    update(data) {\r\n        const items = Array.isArray(data) ? data.map(x => build(Widget, x, {\r\n            showIcons: build(Widget, this.get(x.id)).showIcons\r\n        })) : build(Widget, data, {\r\n            showIcons: build(Widget, this.get(data.id)).showIcons\r\n        });\r\n        return build(Widgets, super.update(items));\r\n    }\r\n    getDefaultItems(h, w) {\r\n        return [];\r\n    }\r\n}\n\nclass WidgetsActions {\r\n    static toggleIcons(id, visible) {\r\n        return {\r\n            type: visible ? WidgetsActions.SHOW_ICONS : WidgetsActions.HIDE_ICONS,\r\n            payload: id\r\n        };\r\n    }\r\n}\r\nWidgetsActions.DELETE = '[Widgets] DELETE';\r\nWidgetsActions.GET = '[Widgets] GET';\r\nWidgetsActions.POST = '[Widgets] POST';\r\nWidgetsActions.POST_ERROR = '[Widgets] POST ERROR';\r\nWidgetsActions.PUT = '[Widgets] PUT';\r\nWidgetsActions.RESET = '[Widgets] RESET';\r\nWidgetsActions.RESET_ERROR = '[Widgets] RESET ERROR';\r\nWidgetsActions.SHOW_ICONS = '[Widgets] SHOW ICONS';\r\nWidgetsActions.HIDE_ICONS = '[Widgets] HIDE ICONS';\r\nfunction widgetsReducer(state = new Widgets(), action) {\r\n    switch (action.type) {\r\n        case WidgetsActions.POST:\r\n        case WidgetsActions.PUT:\r\n            return state.update(action.payload);\r\n        case WidgetsActions.GET:\r\n        case WidgetsActions.RESET:\r\n            return state.replace(action.payload);\r\n        case WidgetsActions.DELETE:\r\n            return state.delete(action.payload);\r\n        case WidgetsActions.SHOW_ICONS:\r\n            return state.showIcons(action.payload);\r\n        case WidgetsActions.HIDE_ICONS:\r\n            return state.hideIcons(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction widgetsSelector(store) {\r\n    return store.select('widgets');\r\n}\r\nfunction userWidgetsSelector(store) {\r\n    return combineLatest([widgetsSelector(store), lookupValuesSelector(store, 'lkpWidgets'), windowHeightSelector(store), windowWidthSelector(store)]).pipe(map(z => {\r\n        const userWidgets = arrayDistinct(z[0].asArray.map(x => build(Widget, x, {\r\n            label: build(LookupValue, z[1].find(y => y.name === x.name)).label,\r\n            left: x.offsetX * z[3],\r\n            top: x.offsetY * z[2],\r\n            heightPx: x.height === 0 ? 400 : x.height * z[2],\r\n            widthPx: x.width === 0 ? 500 : x.width * z[3]\r\n        })), x => x.name);\r\n        return userWidgets.length > 0 ? userWidgets : z[0].getDefaultItems(z[2], z[3]);\r\n    }));\r\n}\r\nfunction widgetsLookupSelector(store) {\r\n    return combineLatest([lookupValuesSelector(store, 'lkpWidgets'), userWidgetsSelector(store)]).pipe(map(x => {\r\n        return x[0].map(y => {\r\n            const widget = x[1].find(w => w.name === y.name);\r\n            return build(Widget, widget, {\r\n                label: y.label,\r\n                name: y.name,\r\n                active: truthy(widget)\r\n            });\r\n        })\r\n            .sort((a, b) => compareNumbers(-a.id, -b.id));\r\n    }));\r\n}\r\nfunction widgetsDefaultSelector(store) {\r\n    return combineLatest([widgetsSelector(store), windowHeightSelector(store), windowWidthSelector(store)]).pipe(map(x => x[0].getDefaultItems(x[1], x[2])));\r\n}\r\nfunction widgetsBorderWidthSelector(store) {\r\n    return widgetsSelector(store).pipe(map(x => x.borderWidth), distinctUntilChanged());\r\n}\r\nfunction widgetsHeightSelector(store) {\r\n    return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(map(x => x[0].reduce((acc, y) => {\r\n        const topPx = y.top + y.heightPx + 2 * x[1];\r\n        return Math.max(acc, topPx);\r\n    }, 0)));\r\n}\r\nfunction widgetsWidthSelector(store) {\r\n    return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(map(x => {\r\n        return x[0].reduce((acc, y) => {\r\n            const topPx = y.top + y.heightPx + 2 * x[1];\r\n            return Math.max(acc, topPx);\r\n        }, 0);\r\n    }));\r\n}\r\nfunction hasDefaultWidgetsSelector(store) {\r\n    return widgetsSelector(store).pipe(map(x => x.asArray.length === 0));\r\n}\n\nclass WidgetComponent extends SmartComponent {\r\n    constructor(store) {\r\n        super(store);\r\n        this.store = store;\r\n        this.borderWidth = 10;\r\n        this.heading = '';\r\n        this.id = 0;\r\n        this.isFocused = false;\r\n        this.key = '';\r\n        this.widthPx = 600;\r\n        this.heightPx = 300;\r\n        this._top = 0;\r\n        this._left = 0;\r\n        this.scrollLeft = 0;\r\n        this.scrollTop = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.zIndex = 1;\r\n        this.nextZIndex = 1;\r\n        this.dropped = new EventEmitter();\r\n        this.justifyLeft = new EventEmitter();\r\n        this.justifyRight = new EventEmitter();\r\n        this.justifyCenter = new EventEmitter();\r\n        this.justifyTop = new EventEmitter();\r\n        this.justifyBottom = new EventEmitter();\r\n        this.justifyCenterVertical = new EventEmitter();\r\n        this.focused = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this.resized = new EventEmitter();\r\n        this.toFullScreen = new EventEmitter();\r\n        this.cursorStyle = 'move';\r\n        this.dragging = false;\r\n        this._hasIcons = false;\r\n        this.hovering = false;\r\n        this.mouseBottom = false;\r\n        this.mouseLeft = false;\r\n        this.mouseRight = false;\r\n        this.mouseTop = false;\r\n        this.pageX = 0;\r\n        this.pageY = 0;\r\n        this._resizable = false;\r\n        this.resizing = false;\r\n        this._scrollbarYVisible = false;\r\n        this.scrollbarWidth = 12;\r\n        this.showIcons = false;\r\n        this.wrapperWidth = 55;\r\n    }\r\n    set left(value) {\r\n        this._left = value;\r\n    }\r\n    get left() {\r\n        return this._left;\r\n    }\r\n    set top(value) {\r\n        this._top = value;\r\n    }\r\n    get top() {\r\n        return this._top;\r\n    }\r\n    get headingLeftPx() {\r\n        return this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 2 : this.borderWidth === 2 ? 1 : 0) + 10;\r\n    }\r\n    get headingTopPx() {\r\n        return 67 - Math.min(3, this.borderWidth) - this.borderWidth + 1;\r\n    }\r\n    get iconsRightPx() {\r\n        const px = this.iconsTop ? this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 1 : 0) + this.borderWidth : 55;\r\n        return this.scrollbarYVisible ? px + this.scrollbarWidth : px;\r\n    }\r\n    get iconsTop() {\r\n        return this.widthPx > 500 || this.heightPx < 300;\r\n    }\r\n    get iconsTopPx() {\r\n        return this.iconsTop ? 61 + Math.min(3, this.borderWidth) - this.borderWidth : this.wrapperWidth - 1;\r\n    }\r\n    get mini() {\r\n        return this.widthPx < 400 && this.heightPx < 250;\r\n    }\r\n    set resizable(value) {\r\n        this._resizable = value;\r\n    }\r\n    get resizable() {\r\n        return this._resizable;\r\n    }\r\n    set scrollbarYVisible(value) {\r\n        this._scrollbarYVisible = value;\r\n    }\r\n    get scrollbarYVisible() {\r\n        return this._scrollbarYVisible;\r\n    }\r\n    set hasIcons(value) {\r\n        if (value !== this._hasIcons) {\r\n            setTimeout(() => {\r\n                this._hasIcons = value;\r\n            }, 0);\r\n        }\r\n    }\r\n    get hasIcons() {\r\n        return this._hasIcons;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    ngAfterViewInit() {\r\n        setTimeout(() => {\r\n            this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n        }, 0);\r\n    }\r\n    ngOnChanges() {\r\n        setTimeout(() => {\r\n            this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n        }, 0);\r\n    }\r\n    onDrag() {\r\n        this.zIndex = this.nextZIndex;\r\n        this.dragging = true;\r\n    }\r\n    onDrop(e) {\r\n        this.dropped.emit(Object.assign({}, e.distance, { zIndex: this.zIndex }));\r\n        setTimeout(() => {\r\n            this.dragging = false;\r\n        });\r\n    }\r\n    onFocus() {\r\n        if (!this.dragging && !this.resizing && !this.isFocused) {\r\n            this.zIndex = this.nextZIndex;\r\n            this.focused.emit(this.id);\r\n        }\r\n        this.showIcons = true;\r\n        setTimeout(() => {\r\n            this.showIcons = false;\r\n        }, 5000);\r\n    }\r\n    onMousedown(e) {\r\n        if (this.resizable) {\r\n            this.resizing = true;\r\n        }\r\n    }\r\n    onMousemove(e) {\r\n        this.pageX = e.pageX;\r\n        this.pageY = e.pageY;\r\n        if (this.resizing) {\r\n            this.onResize();\r\n        }\r\n        else {\r\n            this.refreshCursorStyle();\r\n        }\r\n    }\r\n    onMouseout(e) {\r\n        this.onMouseup(e);\r\n        this.hovering = false;\r\n    }\r\n    onMouseup(e) {\r\n        if (this.resizing) {\r\n            this.resized.emit({\r\n                top: this.top,\r\n                left: this.left,\r\n                heightPx: this.heightPx,\r\n                widthPx: this.widthPx,\r\n                zIndex: this.nextZIndex\r\n            });\r\n        }\r\n        setTimeout(() => {\r\n            this.resizing = false;\r\n        });\r\n    }\r\n    onRemove() {\r\n        this.remove.emit({\r\n            id: this.id,\r\n            key: this.key\r\n        });\r\n    }\r\n    onResize() {\r\n        const dY = this.top - ((this.pageY + this.scrollTop) - this.startY);\r\n        const dX = this.left - (this.pageX - this.startX);\r\n        if (this.mouseTop) {\r\n            this.top = this.top - dY;\r\n            this.heightPx = this.heightPx + dY;\r\n        }\r\n        if (this.mouseBottom) {\r\n            this.heightPx = (this.pageY + this.scrollTop) - this.startY - this.top;\r\n        }\r\n        if (this.mouseLeft) {\r\n            this.left = this.left - dX;\r\n            this.widthPx = this.widthPx + dX;\r\n        }\r\n        if (this.mouseRight) {\r\n            this.widthPx = this.pageX - this.startX - this.left;\r\n        }\r\n    }\r\n    refreshCursorStyle() {\r\n        this.mouseLeft = this.left + this.startX - this.pageX >= 0\r\n            && this.left + this.startX - this.pageX <= this.borderWidth;\r\n        this.mouseRight = this.pageX - (this.widthPx + this.left + this.startX) >= 0\r\n            && this.pageX - (this.widthPx + this.left + this.startX) <= this.borderWidth;\r\n        this.mouseTop = this.top + this.startY - (this.pageY + this.scrollTop) >= 0\r\n            && this.top + this.startY - (this.pageY + this.scrollTop) <= this.borderWidth;\r\n        this.mouseBottom = (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) >= 0\r\n            && (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) <= this.borderWidth;\r\n        if (this.mouseTop && this.mouseLeft) { // top-left\r\n            this.cursorStyle = 'nw-resize';\r\n        }\r\n        else if (this.mouseBottom && this.mouseRight) { // bottom-right\r\n            this.cursorStyle = 'se-resize';\r\n        }\r\n        else if (this.mouseBottom && this.mouseLeft) { // bottom-left\r\n            this.cursorStyle = 'sw-resize';\r\n        }\r\n        else if (this.mouseTop && this.mouseRight) { // top-right\r\n            this.cursorStyle = 'ne-resize';\r\n        }\r\n        else if (this.mouseTop) { // top\r\n            this.cursorStyle = 'n-resize';\r\n        }\r\n        else if (this.mouseBottom) { // bottom\r\n            this.cursorStyle = 's-resize';\r\n        }\r\n        else if (this.mouseLeft) { // left\r\n            this.cursorStyle = 'w-resize';\r\n        }\r\n        else if (this.mouseRight) { // right\r\n            this.cursorStyle = 'e-resize';\r\n        }\r\n        else if (this.showIcons) {\r\n            this.cursorStyle = 'move';\r\n        }\r\n        else {\r\n            this.cursorStyle = 'default';\r\n        }\r\n        this.resizable = this.cursorStyle !== 'move' && this.cursorStyle !== 'default';\r\n    }\r\n    onHideIcons() {\r\n        if (this.hasIcons === true) {\r\n            this.hasIcons = false;\r\n            this.dispatch(WidgetsActions.toggleIcons(this.id, false));\r\n        }\r\n    }\r\n    onShowIcons() {\r\n        if (this.hasIcons === false) {\r\n            this.hasIcons = true;\r\n            this.dispatch(WidgetsActions.toggleIcons(this.id, true));\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ WidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetComponent, deps: [{ token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ WidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: WidgetComponent, selector: \"iu-widget\", inputs: { borderWidth: \"borderWidth\", heading: \"heading\", id: \"id\", isFocused: \"isFocused\", key: \"key\", widthPx: \"widthPx\", heightPx: \"heightPx\", scrollLeft: \"scrollLeft\", scrollTop: \"scrollTop\", startX: \"startX\", startY: \"startY\", zIndex: \"zIndex\", nextZIndex: \"nextZIndex\", left: \"left\", top: \"top\", hasIcons: \"hasIcons\" }, outputs: { dropped: \"dropped\", justifyLeft: \"justifyLeft\", justifyRight: \"justifyRight\", justifyCenter: \"justifyCenter\", justifyTop: \"justifyTop\", justifyBottom: \"justifyBottom\", justifyCenterVertical: \"justifyCenterVertical\", focused: \"focused\", remove: \"remove\", resized: \"resized\", toFullScreen: \"toFullScreen\" }, viewQueries: [{ propertyName: \"widgetWrapperEl\", first: true, predicate: [\"widgetWrapper\"], descendants: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"wrapper\\\" [style.height.px]=\\\"heightPx + wrapperWidth + wrapperWidth\\\"\\r\\n  [style.width.px]=\\\"widthPx + wrapperWidth + wrapperWidth\\\" [style.top.px]=\\\"top - wrapperWidth\\\"\\r\\n  [style.left.px]=\\\"left - wrapperWidth\\\" [style.z-index]=\\\"zIndex\\\" (mouseenter)=\\\"hovering = true\\\"\\r\\n  (mousedown)=\\\"onMousedown($event)\\\" (mouseleave)=\\\"onMouseout($event)\\\" (mousemove)=\\\"onMousemove($event)\\\"\\r\\n  (mouseup)=\\\"onMouseup($event)\\\" (cdkDragEnded)=\\\"onDrop($event)\\\" (cdkDragStarted)=\\\"onDrag()\\\"\\r\\n  [cdkDragDisabled]=\\\"resizable\\\" cdkDrag>\\r\\n  <!-- <svg width=\\\"24px\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n    <path d=\\\"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z\\\">\\r\\n    </path>\\r\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"></path>\\r\\n  </svg> -->\\r\\n  <div class=\\\"widget scrollable\\\" [class.active]=\\\"isFocused\\\" [style.border-width.px]=\\\"borderWidth\\\"\\r\\n    [style.height.px]=\\\"heightPx\\\" [style.width.px]=\\\"widthPx\\\" [style.cursor]=\\\"cursorStyle\\\" (click)=\\\"onFocus()\\\"\\r\\n    #widgetWrapper>\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <button class=\\\"icons-trigger\\\" *ngIf=\\\"!hasIcons && !mini && isFocused\\\" mat-button (click)=\\\"onShowIcons()\\\"\\r\\n    [class.open]=\\\"hasIcons\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n  <h2 class=\\\"font-effect-emboss\\\" *ngIf=\\\"heading && borderWidth > 0\\\" [style.top.px]=\\\"headingTopPx\\\"\\r\\n    [style.left.px]=\\\"headingLeftPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    {{ heading }}\\r\\n  </h2>\\r\\n  <div class=\\\"icons\\\" [class.top]=\\\"iconsTop\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\"\\r\\n    [style.z-index]=\\\"zIndex + 1\\\" [@toggle]=\\\"hasIcons ? 'show' : 'hide'\\\">\\r\\n    <mat-icon class=\\\"btn-collapse\\\" *ngIf=\\\"!mini\\\" (click)=\\\"onHideIcons()\\\">double_arrow</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyLeft.emit()\\\">format_align_left</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenter.emit()\\\">format_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyRight.emit()\\\">format_align_right</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyTop.emit()\\\">vertical_align_top</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenterVertical.emit()\\\">vertical_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyBottom.emit()\\\">vertical_align_bottom</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" class=\\\"expand\\\" (click)=\\\"toFullScreen.emit()\\\">fullscreen</mat-icon>\\r\\n    <mat-icon class=\\\"btn-remove\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".wrapper{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;background:transparent}.wrapper .icons-trigger{position:absolute;right:0;top:0;height:40px;width:40px;min-width:unset;border-radius:0;padding:0}.wrapper .icons-trigger mat-icon{font-size:32px;height:32px;width:32px}.wrapper .icons-trigger.open{color:#fff;box-shadow:inset 0 0 5px #c1c1c1;outline:none}.wrapper .icons{position:absolute;display:flex;flex-direction:column-reverse;border-radius:0 0 0 5px;overflow:hidden;width:0px}.wrapper .icons mat-icon{cursor:pointer;color:#fff;font-size:24px;height:24px;width:24px;padding:2px 6px 2px 7px;border-bottom:1px solid #ccc}.wrapper .icons mat-icon:first-of-type{border:none}.wrapper .icons mat-icon:hover{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.wrapper .icons mat-icon.btn-remove{color:red;padding:2px 5px 5px 8px!important}.wrapper .icons.top{flex-direction:row;border-radius:0 0 0 5px}.wrapper .icons.top mat-icon{border-bottom:none;border-right:1px solid #ccc;padding:2px 0 5px}.wrapper .icons.top mat-icon:last-of-type{border:none}.wrapper h2{position:absolute;top:0;left:45px;color:#fff;padding:0 10px 5px 0;margin:0;border-radius:0 0 5px;cursor:move;font-size:18px;font-weight:400;font-family:Roboto,Helvetica Neue,sans-serif}.wrapper svg{color:#fff;position:absolute;right:16px;top:13px}.wrapper .widget{overflow-x:auto;border:solid 10px #ccc;background:#fff;color:#000000de;cursor:move;display:block;border-radius:4px;position:relative;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.wrapper .widget.active{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$6.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], animations: [\r\n        trigger('toggle', [state('show', style({ width: '237px' })), state('hide', style({ width: '0px' })), transition('show <=> hide', [animate('300ms ease-out')])])\r\n    ] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-widget', animations: [\r\n                        trigger('toggle', [state('show', style({ width: '237px' })), state('hide', style({ width: '0px' })), transition('show <=> hide', [animate('300ms ease-out')])])\r\n                    ], template: \"<div class=\\\"wrapper\\\" [style.height.px]=\\\"heightPx + wrapperWidth + wrapperWidth\\\"\\r\\n  [style.width.px]=\\\"widthPx + wrapperWidth + wrapperWidth\\\" [style.top.px]=\\\"top - wrapperWidth\\\"\\r\\n  [style.left.px]=\\\"left - wrapperWidth\\\" [style.z-index]=\\\"zIndex\\\" (mouseenter)=\\\"hovering = true\\\"\\r\\n  (mousedown)=\\\"onMousedown($event)\\\" (mouseleave)=\\\"onMouseout($event)\\\" (mousemove)=\\\"onMousemove($event)\\\"\\r\\n  (mouseup)=\\\"onMouseup($event)\\\" (cdkDragEnded)=\\\"onDrop($event)\\\" (cdkDragStarted)=\\\"onDrag()\\\"\\r\\n  [cdkDragDisabled]=\\\"resizable\\\" cdkDrag>\\r\\n  <!-- <svg width=\\\"24px\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n    <path d=\\\"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z\\\">\\r\\n    </path>\\r\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"></path>\\r\\n  </svg> -->\\r\\n  <div class=\\\"widget scrollable\\\" [class.active]=\\\"isFocused\\\" [style.border-width.px]=\\\"borderWidth\\\"\\r\\n    [style.height.px]=\\\"heightPx\\\" [style.width.px]=\\\"widthPx\\\" [style.cursor]=\\\"cursorStyle\\\" (click)=\\\"onFocus()\\\"\\r\\n    #widgetWrapper>\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <button class=\\\"icons-trigger\\\" *ngIf=\\\"!hasIcons && !mini && isFocused\\\" mat-button (click)=\\\"onShowIcons()\\\"\\r\\n    [class.open]=\\\"hasIcons\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n  <h2 class=\\\"font-effect-emboss\\\" *ngIf=\\\"heading && borderWidth > 0\\\" [style.top.px]=\\\"headingTopPx\\\"\\r\\n    [style.left.px]=\\\"headingLeftPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    {{ heading }}\\r\\n  </h2>\\r\\n  <div class=\\\"icons\\\" [class.top]=\\\"iconsTop\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\"\\r\\n    [style.z-index]=\\\"zIndex + 1\\\" [@toggle]=\\\"hasIcons ? 'show' : 'hide'\\\">\\r\\n    <mat-icon class=\\\"btn-collapse\\\" *ngIf=\\\"!mini\\\" (click)=\\\"onHideIcons()\\\">double_arrow</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyLeft.emit()\\\">format_align_left</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenter.emit()\\\">format_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyRight.emit()\\\">format_align_right</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyTop.emit()\\\">vertical_align_top</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenterVertical.emit()\\\">vertical_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyBottom.emit()\\\">vertical_align_bottom</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" class=\\\"expand\\\" (click)=\\\"toFullScreen.emit()\\\">fullscreen</mat-icon>\\r\\n    <mat-icon class=\\\"btn-remove\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".wrapper{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;background:transparent}.wrapper .icons-trigger{position:absolute;right:0;top:0;height:40px;width:40px;min-width:unset;border-radius:0;padding:0}.wrapper .icons-trigger mat-icon{font-size:32px;height:32px;width:32px}.wrapper .icons-trigger.open{color:#fff;box-shadow:inset 0 0 5px #c1c1c1;outline:none}.wrapper .icons{position:absolute;display:flex;flex-direction:column-reverse;border-radius:0 0 0 5px;overflow:hidden;width:0px}.wrapper .icons mat-icon{cursor:pointer;color:#fff;font-size:24px;height:24px;width:24px;padding:2px 6px 2px 7px;border-bottom:1px solid #ccc}.wrapper .icons mat-icon:first-of-type{border:none}.wrapper .icons mat-icon:hover{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.wrapper .icons mat-icon.btn-remove{color:red;padding:2px 5px 5px 8px!important}.wrapper .icons.top{flex-direction:row;border-radius:0 0 0 5px}.wrapper .icons.top mat-icon{border-bottom:none;border-right:1px solid #ccc;padding:2px 0 5px}.wrapper .icons.top mat-icon:last-of-type{border:none}.wrapper h2{position:absolute;top:0;left:45px;color:#fff;padding:0 10px 5px 0;margin:0;border-radius:0 0 5px;cursor:move;font-size:18px;font-weight:400;font-family:Roboto,Helvetica Neue,sans-serif}.wrapper svg{color:#fff;position:absolute;right:16px;top:13px}.wrapper .widget{overflow-x:auto;border:solid 10px #ccc;background:#fff;color:#000000de;cursor:move;display:block;border-radius:4px;position:relative;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.wrapper .widget.active{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }]; }, propDecorators: { borderWidth: [{\r\n                type: Input\r\n            }], heading: [{\r\n                type: Input\r\n            }], id: [{\r\n                type: Input\r\n            }], isFocused: [{\r\n                type: Input\r\n            }], key: [{\r\n                type: Input\r\n            }], widthPx: [{\r\n                type: Input\r\n            }], heightPx: [{\r\n                type: Input\r\n            }], scrollLeft: [{\r\n                type: Input\r\n            }], scrollTop: [{\r\n                type: Input\r\n            }], startX: [{\r\n                type: Input\r\n            }], startY: [{\r\n                type: Input\r\n            }], zIndex: [{\r\n                type: Input\r\n            }], nextZIndex: [{\r\n                type: Input\r\n            }], dropped: [{\r\n                type: Output\r\n            }], justifyLeft: [{\r\n                type: Output\r\n            }], justifyRight: [{\r\n                type: Output\r\n            }], justifyCenter: [{\r\n                type: Output\r\n            }], justifyTop: [{\r\n                type: Output\r\n            }], justifyBottom: [{\r\n                type: Output\r\n            }], justifyCenterVertical: [{\r\n                type: Output\r\n            }], focused: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], resized: [{\r\n                type: Output\r\n            }], toFullScreen: [{\r\n                type: Output\r\n            }], widgetWrapperEl: [{\r\n                type: ViewChild,\r\n                args: ['widgetWrapper']\r\n            }], left: [{\r\n                type: Input\r\n            }], top: [{\r\n                type: Input\r\n            }], hasIcons: [{\r\n                type: Input\r\n            }] } });\n\nclass WidgetsMenuComponent extends SmartComponent {\r\n    constructor(store, el, dialog) {\r\n        super(store);\r\n        this.store = store;\r\n        this.el = el;\r\n        this.dialog = dialog;\r\n        this.increment = 3;\r\n        this.width = 300;\r\n        this.wrapperHeight = 0;\r\n        this.add = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this.defaultWidgets = [];\r\n        this.hasDefaultWidgets = true;\r\n        this._index = 0;\r\n        this.lkpWidgets = [];\r\n        this.restoringDefaults = false;\r\n        this._userId = 0;\r\n        this.visibleItems = [];\r\n        this._widgets = [];\r\n        this.widgetsHeight = 0;\r\n        this.windowHeight = 0;\r\n        this.windowWidth = 0;\r\n        this._elWidth = 0;\r\n        this._visible = false;\r\n        this.defaultWidgets$ = widgetsDefaultSelector(store);\r\n        this.hasDefaultWidgets$ = hasDefaultWidgetsSelector(store);\r\n        this.lkpWidgets$ = widgetsLookupSelector(store);\r\n        this.routeName$ = routeNameSelector(store);\r\n        this.widgets$ = userWidgetsSelector(store);\r\n        this.widgetsHeight$ = widgetsHeightSelector(store);\r\n        this.windowHeight$ = windowHeightSelector(store);\r\n        this.windowWidth$ = windowWidthSelector(store);\r\n    }\r\n    set visible(value) {\r\n        this._visible = value;\r\n    }\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n    set userId(value) {\r\n        this._userId = value;\r\n    }\r\n    get userId() {\r\n        return this._userId;\r\n    }\r\n    get hostWidth() {\r\n        return this.el ? this.el.nativeElement.offsetWidth : 0;\r\n    }\r\n    set index(value) {\r\n        this._index = value;\r\n        this.toggle();\r\n    }\r\n    get index() {\r\n        return this._index;\r\n    }\r\n    get menuWidth() {\r\n        return this.hostWidth - 300;\r\n    }\r\n    get nextZIndex() {\r\n        return Math.max(...this.widgets.map(x => x.zIndex), 0) + 1;\r\n    }\r\n    get showBack() {\r\n        return this.index !== 0;\r\n    }\r\n    get showNext() {\r\n        return this.lkpWidgets.length > this.index + this.totalVisible;\r\n    }\r\n    get totalAfter() {\r\n        return this.lkpWidgets.length - (this.index + this.totalVisible);\r\n    }\r\n    get totalVisible() {\r\n        return Math.floor(this.menuWidth / 140);\r\n    }\r\n    set widgets(value) {\r\n        this._widgets = value;\r\n        // this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n        this.toggle();\r\n    }\r\n    get widgets() {\r\n        return this._widgets;\r\n    }\r\n    ngOnInit() {\r\n        this.sync(['defaultWidgets', 'lkpWidgets', 'widgets', 'widgetsHeight', 'windowHeight', 'windowWidth', 'userId', 'hasDefaultWidgets']);\r\n    }\r\n    back() {\r\n        this.index -= this.totalVisible;\r\n    }\r\n    onAdd(e) {\r\n        const top = this.widgetsHeight + 20;\r\n        let w;\r\n        switch (e) {\r\n            case 'meetings':\r\n                w = build(Widget, {\r\n                    name: 'meetings',\r\n                    userId: this.userId,\r\n                    label: 'Meetings',\r\n                    left: 20,\r\n                    top,\r\n                    offsetY: top / this.windowHeight,\r\n                    offsetX: 20 / this.windowWidth,\r\n                    height: 500 / this.windowHeight,\r\n                    width: .9,\r\n                    heightPx: 500,\r\n                    widthPx: .9 * this.windowWidth\r\n                });\r\n                break;\r\n            default:\r\n                w = build(Widget, {\r\n                    name: e,\r\n                    userId: this.userId,\r\n                    offsetX: .25,\r\n                    offsetY: top / this.windowHeight,\r\n                    width: .5,\r\n                    height: .5,\r\n                    zIndex: this.nextZIndex,\r\n                    top\r\n                });\r\n        }\r\n        if (this.hasDefaultWidgets) {\r\n            this.saveUserWidgets([...this.widgets, w]);\r\n        }\r\n        else {\r\n            this.addWidget(w);\r\n        }\r\n    }\r\n    onFocus(e) {\r\n        this.updateWidget(build(Widget, this.widgets.find(x => x.id === e), { zIndex: this.nextZIndex }));\r\n    }\r\n    next() {\r\n        // this.index = this.totalAfter < this.increment ? this.index + this.totalAfter : this.index + this.increment;\r\n        this.index += this.totalVisible;\r\n    }\r\n    ngAfterViewInit() {\r\n        this.toggle();\r\n    }\r\n    toggle() {\r\n        this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n    }\r\n    refresh() {\r\n    }\r\n    addWidget(e) {\r\n        this.dispatch(HttpActions.post(`widgets`, e, WidgetsActions.POST, WidgetsActions.POST_ERROR));\r\n        this.index = 0;\r\n    }\r\n    // not sure why deleteWidget is used when adding a widget. Adding isActive so the dialog only opens when deleting a widget.\r\n    deleteWidget(e, isActive) {\r\n        if (isActive) {\r\n            const ref = this.dialog.open(ConfirmDeleteComponent, {\r\n                width: '500px',\r\n                data: {\r\n                    question: 'Would you like to remove this widget?'\r\n                }\r\n            });\r\n            ref.afterClosed().subscribe(result => {\r\n                if (result) {\r\n                    this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n                    this.index = 0;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n            this.index = 0;\r\n        }\r\n    }\r\n    updateWidget(e) {\r\n        this.dispatch(HttpActions.put(`widgets/${e.id}`, e, WidgetsActions.PUT));\r\n    }\r\n    restoreDefault() {\r\n        this.restoringDefaults = true;\r\n        this.httpPost(`widgets/user`, this.defaultWidgets, WidgetsActions.RESET, WidgetsActions.RESET_ERROR).subscribe(x => {\r\n            this.restoringDefaults = false;\r\n        });\r\n        this.index = 0;\r\n    }\r\n    saveUserWidgets(e) {\r\n        this.dispatch(HttpActions.post(`widgets/user`, e, WidgetsActions.POST));\r\n        this.index = 0;\r\n    }\r\n}\r\n/** @nocollapse */ WidgetsMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsMenuComponent, deps: [{ token: i1$1.Store }, { token: i0.ElementRef }, { token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ WidgetsMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: WidgetsMenuComponent, selector: \"iu-widgets-menu\", inputs: { increment: \"increment\", width: \"width\", wrapperHeight: \"wrapperHeight\", visible: \"visible\", userId: \"userId\" }, outputs: { add: \"add\", remove: \"remove\" }, viewQueries: [{ propertyName: \"widgetsList\", predicate: [\"btnWidget\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<div *ngIf=\\\"(routeName$ | async) === 'dashboard'\\\" class=\\\"widgets-menu\\\">\\r\\n  <button *ngIf=\\\"!restoringDefaults\\\" mat-raised-button class=\\\"btn-reset\\\" (click)=\\\"restoreDefault()\\\">\\r\\n    <mat-icon>settings_backup_restore</mat-icon>\\r\\n    Reset\\r\\n  </button>\\r\\n  <mat-spinner *ngIf=\\\"restoringDefaults\\\" color=\\\"accent\\\" [diameter]=\\\"30\\\"></mat-spinner>\\r\\n  <span class=\\\"hint font-effect-emboss\\\">Add Widgets to Dashboard:</span>\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"back()\\\" *ngIf=\\\"showBack\\\">\\r\\n    <mat-icon>navigate_before</mat-icon>\\r\\n  </button>\\r\\n  <!-- <mat-icon *ngIf=\\\"showBack\\\" class=\\\"more\\\">more_horiz</mat-icon> -->\\r\\n  <div class=\\\"widgets-list\\\" [style.width.px]=\\\"hostWidth\\\">\\r\\n    <button class=\\\"btn-widget font-effect-outline\\\" mat-button *ngFor=\\\"let w of visibleItems\\\" [disabled]=\\\"w.id !== 0\\\"\\r\\n      color=\\\"accent\\\" (click)=\\\"onAdd(w.name)\\\" #btnWidget>\\r\\n      <mat-icon *ngIf=\\\"!w.active\\\" class=\\\"btn-add\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">add_circle</mat-icon>\\r\\n      <mat-icon *ngIf=\\\"w.active\\\" class=\\\"btn-remove\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">cancel</mat-icon>\\r\\n      {{ w.label }}\\r\\n    </button>\\r\\n  </div>\\r\\n  <!-- <mat-icon class=\\\"more\\\" *ngIf=\\\"showNext\\\">more_horiz</mat-icon> -->\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"next()\\\" *ngIf=\\\"showNext\\\">\\r\\n    <mat-icon>navigate_next</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.widgets-menu{width:100%;background:transparent;position:relative;height:51px;display:flex;align-items:center}.widgets-menu .btn-reset{color:#fff;min-width:96px}.widgets-menu .btn-reset mat-icon{color:#000}.widgets-menu mat-spinner{margin:0 20px}.widgets-menu .hint{padding:0 10px;min-width:90px;max-width:90px}.widgets-menu .arrow{height:36px;width:36px;display:flex;align-items:center;justify-content:center}.widgets-menu .arrow mat-icon{font-size:36px;height:36px;width:36px;color:#fff}.widgets-menu .arrow:hover{color:#fff}.widgets-menu .more{font-size:48px;margin:0 20px;height:48px;width:48px}.widgets-menu .widgets-list{overflow-x:auto;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.widgets-menu .btn-widget{margin:5px 0;position:relative;color:#fff;display:flex;align-items:center;justify-content:space-evenly;background:rbga(0,0,0,.7)}.widgets-menu .btn-widget .btn-add{cursor:pointer}.widgets-menu .btn-widget .btn-remove{color:red;cursor:pointer}.widgets-menu .btn-widget .btn-remove:hover{color:red}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2$7.MatProgressSpinner, selector: \"mat-progress-spinner, mat-spinner\", inputs: [\"color\", \"diameter\", \"strokeWidth\", \"mode\", \"value\"], exportAs: [\"matProgressSpinner\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i2$1.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsMenuComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-widgets-menu', template: \"<div *ngIf=\\\"(routeName$ | async) === 'dashboard'\\\" class=\\\"widgets-menu\\\">\\r\\n  <button *ngIf=\\\"!restoringDefaults\\\" mat-raised-button class=\\\"btn-reset\\\" (click)=\\\"restoreDefault()\\\">\\r\\n    <mat-icon>settings_backup_restore</mat-icon>\\r\\n    Reset\\r\\n  </button>\\r\\n  <mat-spinner *ngIf=\\\"restoringDefaults\\\" color=\\\"accent\\\" [diameter]=\\\"30\\\"></mat-spinner>\\r\\n  <span class=\\\"hint font-effect-emboss\\\">Add Widgets to Dashboard:</span>\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"back()\\\" *ngIf=\\\"showBack\\\">\\r\\n    <mat-icon>navigate_before</mat-icon>\\r\\n  </button>\\r\\n  <!-- <mat-icon *ngIf=\\\"showBack\\\" class=\\\"more\\\">more_horiz</mat-icon> -->\\r\\n  <div class=\\\"widgets-list\\\" [style.width.px]=\\\"hostWidth\\\">\\r\\n    <button class=\\\"btn-widget font-effect-outline\\\" mat-button *ngFor=\\\"let w of visibleItems\\\" [disabled]=\\\"w.id !== 0\\\"\\r\\n      color=\\\"accent\\\" (click)=\\\"onAdd(w.name)\\\" #btnWidget>\\r\\n      <mat-icon *ngIf=\\\"!w.active\\\" class=\\\"btn-add\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">add_circle</mat-icon>\\r\\n      <mat-icon *ngIf=\\\"w.active\\\" class=\\\"btn-remove\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">cancel</mat-icon>\\r\\n      {{ w.label }}\\r\\n    </button>\\r\\n  </div>\\r\\n  <!-- <mat-icon class=\\\"more\\\" *ngIf=\\\"showNext\\\">more_horiz</mat-icon> -->\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"next()\\\" *ngIf=\\\"showNext\\\">\\r\\n    <mat-icon>navigate_next</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.widgets-menu{width:100%;background:transparent;position:relative;height:51px;display:flex;align-items:center}.widgets-menu .btn-reset{color:#fff;min-width:96px}.widgets-menu .btn-reset mat-icon{color:#000}.widgets-menu mat-spinner{margin:0 20px}.widgets-menu .hint{padding:0 10px;min-width:90px;max-width:90px}.widgets-menu .arrow{height:36px;width:36px;display:flex;align-items:center;justify-content:center}.widgets-menu .arrow mat-icon{font-size:36px;height:36px;width:36px;color:#fff}.widgets-menu .arrow:hover{color:#fff}.widgets-menu .more{font-size:48px;margin:0 20px;height:48px;width:48px}.widgets-menu .widgets-list{overflow-x:auto;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.widgets-menu .btn-widget{margin:5px 0;position:relative;color:#fff;display:flex;align-items:center;justify-content:space-evenly;background:rbga(0,0,0,.7)}.widgets-menu .btn-widget .btn-add{cursor:pointer}.widgets-menu .btn-widget .btn-remove{color:red;cursor:pointer}.widgets-menu .btn-widget .btn-remove:hover{color:red}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i0.ElementRef }, { type: i1$2.MatDialog }]; }, propDecorators: { increment: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], wrapperHeight: [{\r\n                type: Input\r\n            }], add: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], widgetsList: [{\r\n                type: ViewChildren,\r\n                args: ['btnWidget']\r\n            }], visible: [{\r\n                type: Input\r\n            }], userId: [{\r\n                type: Input\r\n            }] } });\n\nclass WidgetsModule {\r\n}\r\n/** @nocollapse */ WidgetsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ WidgetsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, declarations: [WidgetComponent,\r\n        WidgetsMenuComponent], imports: [CommonModule,\r\n        DragDropModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatProgressSpinnerModule], exports: [WidgetComponent,\r\n        WidgetsMenuComponent,\r\n        DragDropModule] });\r\n/** @nocollapse */ WidgetsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, imports: [[\r\n            CommonModule,\r\n            DragDropModule,\r\n            MatButtonModule,\r\n            MatIconModule,\r\n            MatProgressSpinnerModule\r\n        ], DragDropModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        WidgetComponent,\r\n                        WidgetsMenuComponent\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        DragDropModule,\r\n                        MatButtonModule,\r\n                        MatIconModule,\r\n                        MatProgressSpinnerModule\r\n                    ],\r\n                    exports: [\r\n                        WidgetComponent,\r\n                        WidgetsMenuComponent,\r\n                        DragDropModule\r\n                    ]\r\n                }]\r\n        }] });\n\n// /*\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { ADDRESS_ACCESSOR, ADDRESS_FORM_ACCESSOR, AccordionComponent, AccordionModule, ActionStore, ActionType, ActionTypes, ActionsEffects, ActivatedRoutePayload, AddLookupPayload, Address, AddressComponent, AddressFormComponent, AddressModule, AddressPipe, Alert, AnimationsModule, AppActions, ArrayControl, AuditFieldsComponent, AuditHistory, AuditHistoryComponent, AuditHistoryLinkComponent, AuditModule, Audited, AuthenticatedGuard, AutoLogoutComponent, BASIC_PLUGINS, BASIC_TOOLBAR, BaseEntity, BaseQueryModel, Breadcrumbs, BreadcrumbsComponent, BreadcrumbsModule, COLORS, Calendar, CalendarComponent, CalendarDay, CalendarDayComponent, CalendarDaysComponent, CalendarEvent, CalendarEventComponent, CalendarEventType, CalendarModule, CanDeactivateGuard, Class, Collage, CollageComponent, CollageModule, Collection, ColumnMetadata, Command, Config, ConfigActions, ConfirmDeleteComponent, ContainerComponent, ContainerModule, Control, Coordinates, CurrentUser, CurrentUserActions, CustomRoute, DATEPICKER_ACCESSOR, DATERANGE_ACCESSOR, DATETIME_ACCESSOR, DateHelper, DateMaskDirective, DateRange, DateTime, DateTimeControlComponent, DatepickerComponent, DatepickerModule, DaterangeComponent, DialogAction, DialogComponent, DialogModel, DialogModule, Dimensions, Dispatcher, DumbComponent, EDITOR_ACCESSOR, EMAIL_REGEX, EditorComponent, EditorModule, EditorWindowComponent, EffectsModule, Email, Entity, Error, ErrorActions, ErrorEffects, ErrorsModule, ErrorsService, Event, EventActions, EventEffects, EventHandler, Events$1 as Events, EventsModule, EventsService, FILE_ACCESSOR, FILE_UPLOAD_ACCESSOR, FULL_PLUGINS, FULL_TOOLBAR, File, FileControlComponent, FilePreviewComponent, FileUpload, FileUploadComponent, FileUploadModule, Filters, FormActions, FormArray, FormComponent, FormsModule, GlobalErrorsService, HTTP_REQUEST_STATUS, HTTP_STATUS_CODES, HeaderComponent, HeaderModule, HttpActions, HttpCommands, HttpDeletePayload, HttpEffects, HttpGetPayload, HttpModule, HttpOptions, HttpPostPayload, HttpPutPayload, HttpService, HubModule, HubService, Image, InlineAddressComponent, LOOKUP_KEYS, LOOKUP_PATH, LOOKUP_STATES, LazyRoute, LibraryComponent, LibraryModule, LibraryService, LifecycleHook, ListPipe, Login, Lookup, LookupActions, LookupModule, LookupService, LookupValue, Lookups, Message, MessageSubscription, Messages, MessagesActions, MessagesEffects, Metadata, MetadataType, Method, MilitaryDateTime, MilitaryTime, Month, NavbarComponent, NavbarModule, NavigationStatus, NewUser, NotFoundComponent, NotFoundModule, OrderedItem, Ordering, OrganizationsActions, PHONE_NUMBER_ACCESSOR, PadLeftPipe, Parameter, Permutation, PhoneNumber, PhoneNumberComponent, PhoneNumberModule, PhoneNumberPipe, PipesModule, Property, PropertyMetadata, QueryItem, QueryModel, Question, Questions, QuestionsModel, Redirect, RedirectActions, Redirects, ResetPassword, RouteSegment, RouterActions, RouterEffects, RouterModule, RouterService, RouterState, SOCKET_KEYS, SOCKET_URL, STATE_PICKER_ACCESSOR, STORE_KEY, SafeHtmlPipe, Search, SearchResults, SharedModule, SidenavActions, SidenavComponent, SidenavModule, SmartComponent, SocialIconsComponent, SocialIconsModule, StatePickerComponent, StaticMethod, StaticProperty, Storage$1 as Storage, StorageActions, StorageEffects, StorageModule, StorageService, StoreModule, StreamActions, StyleModel, TIME_ACCESSOR, Tile, TileComponent, TileModule, Time, TimeAgoPipe, TimeControlComponent, TimeModule, Timer, TimerComponent, TimerModule, TimerPipe, Token, Tree, TreeItem, UnsavedChangesComponent, UpdateValuePayload, UploadComponent, UploaderComponent, UploadsComponent, User, UserRoles, Validators, ViewConfig, ViewSettings, ViewSettingsActions, VisitedRoute, WallpaperComponent, WallpaperModule, Weekday, Widget, WidgetComponent, Widgets, WidgetsActions, WidgetsMenuComponent, WidgetsModule, Window, WindowActions, WindowResize, YesNoPipe, actionTypeSelector, actionsStreamReducer, actionsStreamSelector, allSelector, apiBaseUrlSelector, applyDecorators, applyMixins, arrayDistinct, arrayUnion, assignProps, atLeastOneAlphaNumericValidator, authTokenFactory, authTokenSelector, authenticatedSelector, baseUrlFactory, breadcrumbsSelector, build, buildAbstractControl, buildArrayFromType, buildColumnsFromMetadata, buildControl, buildControlFromModel, buildControlsConfig, buildFormArray, buildFormArrayControls, buildQueryStringFromObject, clamp, compareDates, compareNumbers, compareStrings, configReducer, configSelector, confirmPasswordValidator, containerHeightSelector, containerWidthSelector, contentHeightSelector, contentWidthSelector, convertCamel2Dash, convertCamel2Space, convertDash2Camel, currentUserSelector, dateFormatValidator, distinct, emptySelector, equals, errorSelector, errorsReducer, errorsSelector, eventSelector, eventValueSelector, eventsReducer, eventsSelector, extendObject, falsy, filterState, findFormArrayType, findMetadata, findMetadataFromInstance, findSchoolYear, flattenKeys, formReducer, format10DigitPhoneNumber, format7DigitPhoneNumber, formatPhoneNumber, formatPrice, getAllProps, getGetters, getKeyValues, getRandomInt, getReadyState, getSetters, getStyle, getTypeNameForDebugging, getValue, guid, hasChanged, hasDefaultWidgetsSelector, hasGroupValidators, hasValidators, hashToArray, htmlElementCloseTag, htmlElementContents, htmlElementTag, htmlStyleElementToString, htmlToString, htmlWrap, httpServiceFactory, hubServiceFactory, idChanged, ignoreKey, inArray, inArrayByKey, integerArray, isArrayValue, isBetweenDates, isCyclic, isFormArray, isFormControl, isFormGroup, isGroupValue, isMobile, isMobileSelector, isNumeric, isNumericAndHasLength, isValidEmail, lazyRouteParamsSelector, loggedInSelector, lookupKeySelector, lookupReducer, lookupSelector, lookupServiceFactory, lookupValueSelector, lookupValuesSelector, messageSelector, messageSubscriptionsSelector, messagesReducer, messagesSelector, navigationEndedSelector, navigationStatusSelector, nextState, noWeekendDaysValidator, numericValidator, passwordValidator, phoneNumberValidator, positiveIntegerArray, previousUrlSelector, previousUrlsSelector, provideHttpContext, provideHub, provideLookup, provideStorage, querySelector, redirectsReducer, removeCycles, removeProps, roundToDecimalPlace, routeNameSelector, routeParamArraySelector, routeParamBoolSelector, routeParamIdSelector, routeParamIntSelector, routeParamSelector, routeParamsSelector, routeSelector, routerReducer, serialize, shuffle, sidenavOpenedSelector, sidenavReducer, storageServiceFactory, str2CharCode, str2Id, str2int, strArray2Id, stringify, throwException, throwNotImplementedException, toArray, toFullName, toInt, toPayload, toPx, truthy, tryCast, urlPathSelector, urlSelector, userLastActiveSelector, userWidgetsSelector, valueChanged, valueEquals, viewSettingsReducer, widgetsBorderWidthSelector, widgetsDefaultSelector, widgetsHeightSelector, widgetsLookupSelector, widgetsReducer, widgetsSelector, widgetsWidthSelector, windowHeightSelector, windowReducer, windowSelector, windowWidthSelector, zipCodeValidator, zipPlus4Validator };\n//# sourceMappingURL=caiu-library.mjs.map\n","map":{"version":3,"file":"caiu-library.mjs","sources":["../../../projects/library/src/lib/library.service.ts","../../../projects/library/src/lib/library.component.ts","../../../projects/library/src/lib/components/accordion/accordion.component.ts","../../../projects/library/src/lib/components/accordion/accordion.component.html","../../../projects/library/src/lib/forms/validators.ts","../../../projects/library/src/lib/shared/models.ts","../../../projects/library/src/lib/shared/utils.ts","../../../projects/library/src/lib/shared/collection.ts","../../../projects/library/src/lib/events/events.models.ts","../../../projects/library/src/lib/events/events.actions.ts","../../../projects/library/src/lib/http/http.models.ts","../../../projects/library/src/lib/errors/errors.actions.ts","../../../projects/library/src/lib/http/http.actions.ts","../../../projects/library/src/lib/shared/actions.ts","../../../projects/library/src/lib/shared/component.ts","../../../projects/library/src/lib/shared/date-mask.directive.ts","../../../projects/library/src/lib/shared/shared.module.ts","../../../projects/library/src/lib/components/accordion/accordion.module.ts","../../../projects/library/src/lib/components/dialog/dialog.model.ts","../../../projects/library/src/lib/components/dialog/dialog.component.ts","../../../projects/library/src/lib/components/dialog/dialog.component.html","../../../projects/library/src/lib/components/dialog/confirm-delete/confirm-delete.component.ts","../../../projects/library/src/lib/components/dialog/confirm-delete/confirm-delete.component.html","../../../projects/library/src/lib/components/address/address.pipe.ts","../../../projects/library/src/lib/components/address/inline-address/inline-address.component.ts","../../../projects/library/src/lib/components/address/inline-address/inline-address.component.html","../../../projects/library/src/lib/forms/models.ts","../../../projects/library/src/lib/forms/utils.ts","../../../projects/library/src/lib/forms/decorators.ts","../../../projects/library/src/lib/shared/lookup.ts","../../../projects/library/src/lib/components/address/state-picker/state-picker.component.ts","../../../projects/library/src/lib/components/address/state-picker/state-picker.component.html","../../../projects/library/src/lib/components/address/address-form/address-form.component.ts","../../../projects/library/src/lib/components/address/address-form/address-form.component.html","../../../projects/library/src/lib/components/address/address.component.ts","../../../projects/library/src/lib/components/address/address.component.html","../../../projects/library/src/lib/components/dialog/auto-logout/auto-logout.component.ts","../../../projects/library/src/lib/components/dialog/auto-logout/auto-logout.component.html","../../../projects/library/src/lib/components/dialog/unsaved-changes/unsaved-changes.component.ts","../../../projects/library/src/lib/components/dialog/unsaved-changes/unsaved-changes.component.html","../../../projects/library/src/lib/components/dialog/dialog.module.ts","../../../projects/library/src/lib/forms/forms.module.ts","../../../projects/library/src/lib/components/address/address.module.ts","../../../projects/library/src/lib/components/audit/audit-fields/audit-fields.component.ts","../../../projects/library/src/lib/components/audit/audit-fields/audit-fields.component.html","../../../projects/library/src/lib/components/audit/audit.model.ts","../../../projects/library/src/lib/components/audit/audit-history/audit-history.component.ts","../../../projects/library/src/lib/components/audit/audit-history/audit-history.component.html","../../../projects/library/src/lib/http/http.service.ts","../../../projects/library/src/lib/components/audit/audit-history-link/audit-history-link.component.ts","../../../projects/library/src/lib/components/audit/audit-history-link/audit-history-link.component.html","../../../projects/library/src/lib/components/audit/audit.module.ts","../../../projects/library/src/lib/components/tile/tile.model.ts","../../../projects/library/src/lib/components/collage/collage.model.ts","../../../projects/library/src/lib/components/tile/tile.component.ts","../../../projects/library/src/lib/components/tile/tile.component.html","../../../projects/library/src/lib/components/collage/collage.component.ts","../../../projects/library/src/lib/components/collage/collage.component.html","../../../projects/library/src/lib/components/tile/tile.module.ts","../../../projects/library/src/lib/components/collage/collage.module.ts","../../../projects/library/src/lib/components/container/container.component.ts","../../../projects/library/src/lib/components/container/container.component.html","../../../projects/library/src/lib/components/breadcrumbs/breadcrumbs.component.ts","../../../projects/library/src/lib/components/breadcrumbs/breadcrumbs.component.html","../../../projects/library/src/lib/components/breadcrumbs/breadcrumbs.module.ts","../../../projects/library/src/lib/components/header/header.component.ts","../../../projects/library/src/lib/components/header/header.component.html","../../../projects/library/src/lib/components/header/header.module.ts","../../../projects/library/src/lib/components/navbar/navbar.component.ts","../../../projects/library/src/lib/components/navbar/navbar.component.html","../../../projects/library/src/lib/components/navbar/navbar.module.ts","../../../projects/library/src/lib/components/social-icons/social-icons.component.ts","../../../projects/library/src/lib/components/social-icons/social-icons.component.html","../../../projects/library/src/lib/components/sidenav/sidenav.component.ts","../../../projects/library/src/lib/components/sidenav/sidenav.component.html","../../../projects/library/src/lib/components/social-icons/social-icons.module.ts","../../../projects/library/src/lib/components/sidenav/sidenav.module.ts","../../../projects/library/src/lib/components/wallpaper/wallpaper.component.ts","../../../projects/library/src/lib/components/wallpaper/wallpaper.component.html","../../../projects/library/src/lib/components/wallpaper/wallpaper.module.ts","../../../projects/library/src/lib/components/container/container.module.ts","../../../projects/library/src/lib/shared/date.ts","../../../projects/library/src/lib/components/datepicker/datepicker.component.ts","../../../projects/library/src/lib/components/datepicker/datepicker.component.html","../../../projects/library/src/lib/components/datepicker/daterange/daterange.component.ts","../../../projects/library/src/lib/components/datepicker/daterange/daterange.component.html","../../../projects/library/src/lib/components/datepicker/datepicker.module.ts","../../../projects/library/src/lib/components/file-upload/file-upload.model.ts","../../../projects/library/src/lib/shared/ordering.ts","../../../projects/library/src/lib/components/file-upload/file-preview/file-preview.component.ts","../../../projects/library/src/lib/components/file-upload/file-preview/file-preview.component.html","../../../projects/library/src/lib/components/file-upload/uploads/uploads.component.ts","../../../projects/library/src/lib/components/file-upload/uploads/uploads.component.html","../../../projects/library/src/lib/components/file-upload/upload/upload.component.ts","../../../projects/library/src/lib/components/file-upload/upload/upload.component.html","../../../projects/library/src/lib/components/file-upload/file-upload.component.ts","../../../projects/library/src/lib/components/file-upload/file-upload.component.html","../../../projects/library/src/lib/components/file-upload/file-control/file-control.component.ts","../../../projects/library/src/lib/components/file-upload/file-control/file-control.component.html","../../../projects/library/src/lib/components/file-upload/uploader/uploader.component.ts","../../../projects/library/src/lib/components/file-upload/uploader/uploader.component.html","../../../projects/library/src/lib/components/file-upload/file-upload.module.ts","../../../projects/library/src/lib/components/not-found/not-found.component.ts","../../../projects/library/src/lib/components/not-found/not-found.component.html","../../../projects/library/src/lib/components/not-found/not-found.module.ts","../../../projects/library/src/lib/components/time/time.model.ts","../../../projects/library/src/lib/components/time/datetime-control/datetime-control.component.ts","../../../projects/library/src/lib/components/time/datetime-control/datetime-control.component.html","../../../projects/library/src/lib/components/time/time-control/time-control.component.ts","../../../projects/library/src/lib/components/time/time-control/time-control.component.html","../../../projects/library/src/lib/components/time/time.module.ts","../../../projects/library/src/lib/components/timer/timer.model.ts","../../../projects/library/src/lib/components/timer/timer.pipe.ts","../../../projects/library/src/lib/components/timer/timer.component.ts","../../../projects/library/src/lib/components/timer/timer.component.html","../../../projects/library/src/lib/components/timer/timer.module.ts","../../../projects/library/src/lib/pipes/list.pipe.ts","../../../projects/library/src/lib/pipes/pad-left.pipe.ts","../../../projects/library/src/lib/pipes/phone-number.pipe.ts","../../../projects/library/src/lib/pipes/safe-html.pipe.ts","../../../projects/library/src/lib/pipes/time-ago.pipe.ts","../../../projects/library/src/lib/pipes/yes-no.pipe.ts","../../../projects/library/src/lib/pipes/pipes.module.ts","../../../projects/library/src/lib/library.module.ts","../../../projects/library/src/lib/animations/animations.module.ts","../../../projects/library/src/lib/lookup/lookup.models.ts","../../../projects/library/src/lib/components/calendar/calendar.model.ts","../../../projects/library/src/lib/components/calendar/calendar-day-events/calendar-day-events.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day-events/calendar-day-events.component.html","../../../projects/library/src/lib/components/calendar/calendar-day-edit/calendar-day-edit.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day-edit/calendar-day-edit.component.html","../../../projects/library/src/lib/components/calendar/calendar-days/calendar-days.component.ts","../../../projects/library/src/lib/components/calendar/calendar-days/calendar-days.component.html","../../../projects/library/src/lib/components/calendar/calendar-day/calendar-day.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day/calendar-day.component.html","../../../projects/library/src/lib/components/calendar/calendar-view/calendar-view.component.ts","../../../projects/library/src/lib/components/calendar/calendar-view/calendar-view.component.html","../../../projects/library/src/lib/components/calendar/calendar-form/calendar-form.component.ts","../../../projects/library/src/lib/components/calendar/calendar-form/calendar-form.component.html","../../../projects/library/src/lib/components/calendar/calendar-key/calendar-key.component.ts","../../../projects/library/src/lib/components/calendar/calendar-key/calendar-key.component.html","../../../projects/library/src/lib/components/calendar/calendar.component.ts","../../../projects/library/src/lib/components/calendar/calendar.component.html","../../../projects/library/src/lib/components/calendar/calendar-event-form/calendar-event-form.component.ts","../../../projects/library/src/lib/components/calendar/calendar-event-form/calendar-event-form.component.html","../../../projects/library/src/lib/components/calendar/calendar-event/calendar-event.component.ts","../../../projects/library/src/lib/components/calendar/calendar-event/calendar-event.component.html","../../../projects/library/src/lib/components/calendar/calendar-event-view/calendar-event-view.component.ts","../../../projects/library/src/lib/components/calendar/calendar-event-view/calendar-event-view.component.html","../../../projects/library/src/lib/components/calendar/calendar-day-view/calendar-day-view.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day-view/calendar-day-view.component.html","../../../projects/library/src/lib/components/calendar/calendar.module.ts","../../../projects/library/src/lib/components/editor/editor-window/editor-window.component.ts","../../../projects/library/src/lib/components/editor/editor-window/editor-window.component.html","../../../projects/library/src/lib/components/editor/Events.ts","../../../projects/library/src/lib/components/editor/utils.ts","../../../projects/library/src/lib/components/editor/ScriptLoader.ts","../../../projects/library/src/lib/components/editor/TinyMCE.ts","../../../projects/library/src/lib/components/editor/editor.model.ts","../../../projects/library/src/lib/components/editor/editor.component.ts","../../../projects/library/src/lib/components/editor/editor.component.html","../../../projects/library/src/lib/components/editor/editor.module.ts","../../../projects/library/src/lib/components/phone-number/phone-number.model.ts","../../../projects/library/src/lib/components/phone-number/phone-number.component.ts","../../../projects/library/src/lib/components/phone-number/phone-number.component.html","../../../projects/library/src/lib/components/phone-number/phone-number.module.ts","../../../projects/library/src/lib/effects/effects.module.ts","../../../projects/library/src/lib/errors/errors.service.ts","../../../projects/library/src/lib/errors/errors.effects.ts","../../../projects/library/src/lib/errors/global-errors.service.ts","../../../projects/library/src/lib/errors/errors.module.ts","../../../projects/library/src/lib/errors/errors.models.ts","../../../projects/library/src/lib/errors/errors.reducer.ts","../../../projects/library/src/lib/errors/errors.selectors.ts","../../../projects/library/src/lib/events/events.selectors.ts","../../../projects/library/src/lib/events/events.effects.ts","../../../projects/library/src/lib/events/events.service.ts","../../../projects/library/src/lib/events/events.module.ts","../../../projects/library/src/lib/events/events.reducer.ts","../../../projects/library/src/lib/forms/actions.ts","../../../projects/library/src/lib/http/http.commands.ts","../../../projects/library/src/lib/http/http.effects.ts","../../../projects/library/src/lib/http/http.module.ts","../../../projects/library/src/lib/hub/hub.service.ts","../../../projects/library/src/lib/hub/hub.module.ts","../../../projects/library/src/lib/lookup/lookup.actions.ts","../../../projects/library/src/lib/lookup/lookup.service.ts","../../../projects/library/src/lib/lookup/lookup.module.ts","../../../projects/library/src/lib/store/models.ts","../../../projects/library/src/lib/store/actions.ts","../../../projects/library/src/lib/lookup/lookup.reducer.ts","../../../projects/library/src/lib/lookup/lookup.selectors.ts","../../../projects/library/src/lib/router/actions.ts","../../../projects/library/src/lib/router/router.service.ts","../../../projects/library/src/lib/router/router.effects.ts","../../../projects/library/src/lib/router/router.module.ts","../../../projects/library/src/lib/router/models.ts","../../../projects/library/src/lib/router/router.reducer.ts","../../../projects/library/src/lib/router/selectors.ts","../../../projects/library/src/lib/shared/token.ts","../../../projects/library/src/lib/shared/window.ts","../../../projects/library/src/lib/store/selectors.ts","../../../projects/library/src/lib/router/guards/authenticated.guard.ts","../../../projects/library/src/lib/shared/base-entity.ts","../../../projects/library/src/lib/shared/config.ts","../../../projects/library/src/lib/shared/decorators.ts","../../../projects/library/src/lib/shared/question.ts","../../../projects/library/src/lib/shared/tree.ts","../../../projects/library/src/lib/shared/user.ts","../../../projects/library/src/lib/storage/storage.actions.ts","../../../projects/library/src/lib/storage/storage.models.ts","../../../projects/library/src/lib/storage/storage.service.ts","../../../projects/library/src/lib/storage/storage.effects.ts","../../../projects/library/src/lib/storage/storage.module.ts","../../../projects/library/src/lib/store/store.module.ts","../../../projects/library/src/lib/store/reducers.ts","../../../projects/library/src/lib/widgets/widgets.model.ts","../../../projects/library/src/lib/widgets/widgets.reducer.ts","../../../projects/library/src/lib/widgets/widget/widget.component.ts","../../../projects/library/src/lib/widgets/widget/widget.component.html","../../../projects/library/src/lib/widgets/widgets-menu/widgets-menu.component.ts","../../../projects/library/src/lib/widgets/widgets-menu/widgets-menu.component.html","../../../projects/library/src/lib/widgets/widgets.module.ts","../../../projects/library/src/public_api.ts","../../../projects/library/src/caiu-library.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LibraryService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-library',\r\n  template: `\r\n    <p>\r\n      library works!\r\n    </p>\r\n  `,\r\n  styles: []\r\n})\r\nexport class LibraryComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'iu-accordion',\r\n  templateUrl: './accordion.component.html',\r\n  styleUrls: ['./accordion.component.scss'],\r\n  animations: [\r\n    trigger('toggle', [\r\n      state('*', style({ height: '0px' })),\r\n      state('show', style({ height: '*' })),\r\n      state('hide', style({ height: '0px' })),\r\n      transition('show <=> hide', [\r\n        animate('300ms ease-out')\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class AccordionComponent implements OnInit {\r\n\r\n  @Input() active = true;\r\n  @Input() opened = true;\r\n  @Input() showArrow = false;\r\n  @Output() closeStart = new EventEmitter();\r\n  @Output() closeDone = new EventEmitter();\r\n  @Output() openStart = new EventEmitter();\r\n  @Output() openDone = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  toggle() {\r\n    this.opened = !this.opened;\r\n  }\r\n\r\n  open() {\r\n    this.opened = true;\r\n  }\r\n\r\n  close() {\r\n    this.opened = false;\r\n  }\r\n\r\n  onStart(e: any) {\r\n    if (this.opened) {\r\n      this.openStart.emit();\r\n    } else {\r\n      this.closeStart.emit();\r\n    }\r\n  }\r\n\r\n  onDone(e: any) {\r\n    if (this.opened) {\r\n      this.openDone.emit();\r\n    } else {\r\n      this.closeDone.emit();\r\n    }\r\n  }\r\n\r\n  onClickTrigger() {\r\n    if (this.active) {\r\n      this.toggle();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"accordion\">\r\n  <div class=\"trigger-wrapper\" (click)=\"onClickTrigger()\" [class.active]=\"active\">\r\n    <ng-content select=\".accordion-trigger\"></ng-content>\r\n  </div>\r\n  <div class=\"content-wrapper\" [@toggle]=\"opened ? 'show' : 'hide'\" (@toggle.start)=\"onStart($event)\" (@toggle.done)=\"onDone($event)\">\r\n    <ng-content select=\".accordion-content\"></ng-content>\r\n  </div>\r\n</div>","import {\r\n  Validators as AngularValidators,\r\n  AbstractControl,\r\n  ValidatorFn,\r\n  ValidationErrors,\r\n  AsyncValidatorFn,\r\n  FormControl,\r\n  FormGroup\r\n} from '@angular/forms';\r\n\r\nimport { falsy, isNumericAndHasLength } from '../shared/utils';\r\n\r\nexport class Validators {\r\n  static compose(\r\n    validators: (ValidatorFn | null | undefined)[] | null\r\n  ): ValidatorFn | null {\r\n    return AngularValidators.compose(validators);\r\n  }\r\n\r\n  static composeAsync(\r\n    validators: (AsyncValidatorFn | null)[]\r\n  ): AsyncValidatorFn | null {\r\n    return AngularValidators.composeAsync(validators);\r\n  }\r\n\r\n  static email(control: AbstractControl): ValidationErrors | null {\r\n    if (falsy(control.value)) {\r\n      return null;\r\n    }\r\n    return AngularValidators.email(control);\r\n  }\r\n\r\n  static exactLength(exactLength: number): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => {\r\n      return Validators.maxLength(exactLength)(control) === null &&\r\n        Validators.minLength(exactLength)(control) === null\r\n        ? null\r\n        : { exactLength: { value: control.value } };\r\n    };\r\n  }\r\n\r\n  static max(max: number): ValidatorFn {\r\n    return AngularValidators.max(max);\r\n  }\r\n\r\n  static maxLength(maxLength: number): ValidatorFn {\r\n    return AngularValidators.maxLength(maxLength);\r\n  }\r\n\r\n  static min(min: number): ValidatorFn {\r\n    return AngularValidators.min(min);\r\n  }\r\n\r\n  static minLength(minLength: number): ValidatorFn {\r\n    return AngularValidators.minLength(minLength);\r\n  }\r\n\r\n  static numeric(maxLength = 0): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => {\r\n      const numeric = typeof control.value === 'number';\r\n      const toInt = parseInt(control.value, 10);\r\n      const valid = maxLength\r\n        ? numeric && toInt < Math.pow(10, maxLength)\r\n        : numeric;\r\n      return !valid ? { numeric: { value: control.value } } : null;\r\n    };\r\n  }\r\n\r\n  static nullValidator(control: AbstractControl): ValidationErrors | null {\r\n    return AngularValidators.nullValidator(control);\r\n  }\r\n\r\n  static pattern(pattern: string | RegExp): ValidatorFn {\r\n    return AngularValidators.pattern(pattern);\r\n  }\r\n\r\n  static phone(control: AbstractControl): ValidationErrors | null {\r\n    if (falsy(control.value)) {\r\n      return null;\r\n    }\r\n    const toInt = parseInt(control.value, 10);\r\n    const numeric = typeof toInt === 'number' && toInt > 999999999;\r\n    return !numeric ? { phone: { value: control.value } } : null;\r\n  }\r\n\r\n  static required(control: AbstractControl): ValidationErrors | null {\r\n    return AngularValidators.required(control);\r\n  }\r\n\r\n  static requiredTrue(control: AbstractControl): ValidationErrors | null {\r\n    return AngularValidators.requiredTrue(control);\r\n  }\r\n\r\n  static zip(control: AbstractControl): ValidationErrors | null {\r\n    if (falsy(control.value)) {\r\n      return null;\r\n    }\r\n    return Validators.exactLength(5)(control) === null\r\n      ? null\r\n      : { zip: { value: control.value } };\r\n  }\r\n}\r\n\r\nexport function atLeastOneAlphaNumericValidator(c: FormControl) {\r\n  return c.value ? /^(?=.*[a-zA-Z].*)([a-zA-Z0-9]+)$/i.test(c.value.replace(/[^\\w\\s]/gi, '').replace(/\\s/g, '').replace(/_/g, '')) ? null : {\r\n    atLeastOneAlphaNumeric: true\r\n  } : null;\r\n}\r\n\r\nexport function confirmPasswordValidator(fg: FormGroup) {\r\n  const pass = fg.controls['password'];\r\n  const confirm = fg.controls['confirmPassword'];\r\n  if (pass.value !== confirm.value) {\r\n    confirm.setErrors({ confirmPwdFail: true });\r\n    return { confirmPwdFail: true };\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function numericValidator(length: number, key = 'numeric'): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } => {\r\n    const toInt = parseInt(control.value, 10);\r\n    const isNumber = /^\\d+$/.test(control.value);\r\n    const numeric =\r\n      isNumber && typeof toInt === 'number' && control.value.length === length;\r\n    return !numeric && !falsy(control.value)\r\n      ? { [key]: { value: control.value } }\r\n      : null;\r\n  };\r\n}\r\n\r\nexport function passwordValidator(ctrl: FormControl) {\r\n  // const lengthReq = '{6,100}';\r\n  // const atleastOneNumberReq = '(?=.*[0-9])';\r\n  // {6,100}           - Assert password is between 6 and 100 characters\r\n  // (?=.*[0-9])       - Assert a string has at least one number\r\n  if (\r\n    ctrl.value &&\r\n    ctrl.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return { password: true };\r\n}\r\n\r\nexport function phoneNumberValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } => {\r\n    const formatted = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im.test(control.value);\r\n    return !formatted ? { phoneNumber: { value: control.value } } : null;\r\n  };\r\n}\r\n\r\nexport function zipCodeValidator(control: FormControl) {\r\n  const val = control.value.replace(/\\s/g, '');\r\n  if (!val) {\r\n    return { zipCode: 'Please enter a zip code.' };\r\n  }\r\n  if (val.length >= 5 && val.length < 9) {\r\n    return isNumericAndHasLength(\r\n      val.indexOf('-') === -1 ? val : val.substring(0, val.indexOf('-')),\r\n      5\r\n    )\r\n      ? null\r\n      : { zipCode: 'Please enter a valid zip code.' };\r\n  }\r\n  if (val.length === 9) {\r\n    return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n      isNumericAndHasLength(val.substring(5), 4)\r\n      ? null\r\n      : { zipCode: 'Please enter a valid zip code.' };\r\n  }\r\n  if (val.length === 10) {\r\n    return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n      isNumericAndHasLength(val.substring(6), 4)\r\n      ? null\r\n      : { zipCode: 'Please enter a valid zip code.' };\r\n  }\r\n  return { zipCode: 'Please enter a valid zip code.' };\r\n}\r\n\r\nexport function zipPlus4Validator() {\r\n  return numericValidator(4, 'zipPlus4');\r\n}\r\n","import { build, truthy, convertCamel2Space } from './utils';\r\nimport {\r\n  Validators,\r\n  zipCodeValidator,\r\n  zipPlus4Validator\r\n} from '../forms/validators';\r\n\r\nexport class Address {\r\n  id = 0;\r\n  addressTypeId = 0;\r\n  firstName = '';\r\n  lastName = '';\r\n  address1 = '';\r\n  address2 = '';\r\n  city = '';\r\n  stateCode = 'PA';\r\n  stateId = null;\r\n  zip = '';\r\n  zipPlus4 = '';\r\n  isPrimaryAddress = false;\r\n  effectiveDate: Date = new Date();\r\n  startDate: Date = new Date();\r\n  endDate: Date = new Date();\r\n  metadata: Metadata = {\r\n    ignore: [\r\n      'id',\r\n      'cityStateZip',\r\n      'endDate',\r\n      'fullName',\r\n      'hasAddress',\r\n      'hasCityStateZip',\r\n      'hasStreetAddress',\r\n      'middleName',\r\n      'startDate',\r\n      'state'\r\n    ],\r\n    address1: {\r\n      validators: [Validators.required]\r\n    },\r\n    address2: {},\r\n    city: {\r\n      validators: [Validators.required]\r\n    },\r\n    stateCode: {\r\n      validators: [Validators.required]\r\n    },\r\n    zip: {\r\n      validators: [zipCodeValidator]\r\n    },\r\n    zipPlus4: {\r\n      validators: [zipPlus4Validator()]\r\n    }\r\n  };\r\n\r\n  get cityStateZip(): string {\r\n    return this.hasCityStateZip\r\n      ? `${this.city}, ${this.stateCode} ${this.zip} `\r\n      : '';\r\n  }\r\n\r\n  set cityStateZip(value: string) { }\r\n\r\n  get fullName(): string {\r\n    return this.firstName && this.lastName\r\n      ? `${this.firstName} ${this.lastName}`\r\n      : '';\r\n  }\r\n\r\n  set fullName(value: string) { }\r\n\r\n  get hasAddress(): boolean {\r\n    return this.hasStreetAddress && this.hasCityStateZip;\r\n  }\r\n\r\n  get hasCityStateZip(): boolean {\r\n    return (\r\n      this.city !== '' &&\r\n      (this.stateCode !== '' || this.stateId !== 0) &&\r\n      truthy(this.zip)\r\n    );\r\n  }\r\n\r\n  get hasStreetAddress(): boolean {\r\n    return this.address1 !== '';\r\n  }\r\n}\r\n\r\nexport class Alert {\r\n  message = '';\r\n  type: 'ERROR' | 'SUCCESS';\r\n}\r\n\r\nexport interface Audit {\r\n  createdDate: Date;\r\n  createdById: number;\r\n  createdByName: string;\r\n  lastModifiedDate: Date;\r\n  lastModifiedById: number;\r\n  lastModifiedByName: string;\r\n}\r\n\r\nexport class Coordinates {\r\n  row = 0;\r\n  column = 0;\r\n}\r\n\r\nexport interface Dictionary<T> {\r\n  [id: string]: T;\r\n}\r\n\r\nexport class Dimensions {\r\n  columns = 0;\r\n  height = 0;\r\n  rows = 0;\r\n  width = 0;\r\n\r\n  get approxRatio(): number {\r\n    return this.rows / this.columns;\r\n  }\r\n\r\n  get ratio(): number {\r\n    return this.height / this.width;\r\n  }\r\n\r\n  get orientation(): 'h' | 'v' {\r\n    return this.height > this.width ? 'v' : 'h';\r\n  }\r\n}\r\n\r\nexport interface Distance {\r\n  x: number;\r\n  y: number;\r\n  zIndex?: number;\r\n}\r\n\r\nexport class Email {\r\n  id = 0;\r\n  bcc = '';\r\n  body = '';\r\n  cc = '';\r\n  failed = '';\r\n  from = '';\r\n  sent = false;\r\n  sentDate: Date = new Date();\r\n  subject = '';\r\n  to = '';\r\n  createdById = null;\r\n  createdDate: Date = new Date();\r\n\r\n  createdBy: any;\r\n  attachments = [];\r\n}\r\n\r\nexport const EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n\r\nexport class Filters {\r\n  skip = 0;\r\n  sortBy = '';\r\n  take = 0;\r\n}\r\n\r\nexport type Func<T, TResult> = (item: T) => TResult;\r\n\r\nexport interface HasId {\r\n  id: string | number;\r\n}\r\n\r\nexport interface HasMetadata {\r\n  metadata: Metadata;\r\n}\r\n\r\nexport class Image {\r\n  id = 0;\r\n  dimensions: Dimensions[] = [];\r\n  height = 0;\r\n  src = '';\r\n  width = 0;\r\n\r\n  static Build(data: Image): Image {\r\n    return build(Image, data);\r\n  }\r\n\r\n  static BuildForTile(data: Image, dim: Dimensions[], index: number): Image {\r\n    const img = Image.Build(data);\r\n    img.id = index;\r\n    img.dimensions = Image.FindDimensions(img, dim);\r\n    return img;\r\n  }\r\n\r\n  static FilterDimensions(image: Image, dim: Dimensions[]): Dimensions[] {\r\n    return Image.FilterDimensionsByOrientation(image, dim);\r\n  }\r\n\r\n  static FilterDimensionsByOrientation(\r\n    image: Image,\r\n    dim: Dimensions[]\r\n  ): Dimensions[] {\r\n    return dim.filter(x => x.orientation === image.orientation);\r\n  }\r\n\r\n  static FindDimensions(image: Image, dim: Dimensions[]): Dimensions[] {\r\n    return Image.OrderDimensions(image, Image.FilterDimensions(image, dim));\r\n  }\r\n\r\n  static OrderDimensions(image: Image, dim: Dimensions[]): Dimensions[] {\r\n    // console.log(image.ratio);\r\n    const d = dim.sort(\r\n      (a, b) =>\r\n        Math.abs(image.ratio - a.ratio) - Math.abs(image.ratio - b.ratio)\r\n    );\r\n    // console.dir(d);\r\n    return d;\r\n  }\r\n\r\n  get orientation(): 'h' | 'v' {\r\n    return this.height > this.width ? 'v' : 'h';\r\n  }\r\n\r\n  get horizontal(): boolean {\r\n    return this.orientation === 'h';\r\n  }\r\n\r\n  get vertical(): boolean {\r\n    return this.orientation === 'v';\r\n  }\r\n\r\n  get colspan() {\r\n    return this.vertical ? 1 : 1;\r\n  }\r\n\r\n  get rowspan() {\r\n    return this.vertical ? 2 : 1;\r\n  }\r\n\r\n  get ratio(): number {\r\n    return this.height / this.width;\r\n  }\r\n}\r\n\r\nexport class Metadata {\r\n  controls?: string[] = [];\r\n  ignore?: string[] = [];\r\n  label?= '';\r\n  name?= '';\r\n  value?: any;\r\n  [key: string]: any;\r\n}\r\n\r\nexport enum MetadataType {\r\n  CLASS,\r\n  METHOD,\r\n  PROPERTY,\r\n  PARAMETER,\r\n  STATIC_METHOD,\r\n  STATIC_PROPERTY\r\n}\r\n\r\nexport class PropertyMetadata<T> {\r\n  ignore?: string[] = [];\r\n  label?= '';\r\n  name?= '';\r\n  value?: T;\r\n}\r\n\r\nexport class QueryItem {\r\n  label = '';\r\n  value: any;\r\n}\r\n\r\nexport abstract class QueryModel<T> {\r\n  abstract params: any;\r\n  userId = 0;\r\n  accountId = 0;\r\n  fields: string[] = [];\r\n  filterBy: (x: T) => boolean;\r\n  filters: string[] = [];\r\n  groupBy: (x: T) => any;\r\n  groups: string[] = [];\r\n  include: (x: T) => any;\r\n  map: (x: T) => any;\r\n  orderBy: (x: T) => any;\r\n  skip = 0;\r\n  sort: string[] = [];\r\n  sortBy = '';\r\n  sortDirection: 'asc' | 'desc' | '';\r\n  take = 0;\r\n  term = '';\r\n\r\n  get hasParams(): boolean {\r\n    return this.totalParams > 0;\r\n  }\r\n\r\n  get keys(): string[] {\r\n    return Object.keys(this);\r\n  }\r\n\r\n  get totalParams(): number {\r\n    return Object.keys(this.params).length;\r\n  }\r\n\r\n  static AppendQueryString(query: QueryModel<any>): string {\r\n    const obj = QueryModel.BuildQueryObject(query);\r\n    return Object.keys(obj).reduce((acc, key) => {\r\n      const str = obj[key];\r\n      return str ? QueryModel.AppendToQueryString(acc, str) : acc;\r\n    }, '');\r\n  }\r\n\r\n  static AppendToQueryString(path: string, str: string): string {\r\n    return path ? `${path}&${str}` : str;\r\n  }\r\n\r\n  static BuildQueryString(query: QueryModel<any>): string {\r\n    const path = QueryModel.AppendQueryString(query);\r\n    return path ? `?${path}` : '';\r\n  }\r\n\r\n  static BuildQueryStringFromObject(obj: any): string {\r\n    return Object.keys(obj).reduce((acc, key) => acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}`, '');\r\n  }\r\n\r\n  static BuildQueryObject(query: QueryModel<any>): any {\r\n    return Object.assign(\r\n      {\r\n        skip: QueryModel.QuerySkip(query),\r\n        take: QueryModel.QueryTake(query),\r\n        term: QueryModel.QueryTerm(query)\r\n      },\r\n      QueryModel.QueryParams(query)\r\n    );\r\n  }\r\n\r\n  static FormatDate(date: Date): string {\r\n    const d = new Date(date);\r\n    let month = '' + (d.getMonth() + 1);\r\n    let day = '' + d.getDate();\r\n    const year = d.getFullYear();\r\n\r\n    if (month.length < 2) {\r\n      month = '0' + month;\r\n    }\r\n    if (day.length < 2) {\r\n      day = '0' + day;\r\n    }\r\n\r\n    return [year, month, day].join('-');\r\n  }\r\n\r\n  static ParseQuery(queryString) {\r\n    const query = {};\r\n    const pairs = (queryString[0] === '?'\r\n      ? queryString.substr(1)\r\n      : queryString\r\n    ).split('&');\r\n    for (let i = 0; i < pairs.length; i++) {\r\n      const pair = pairs[i].split('=');\r\n      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\r\n    }\r\n    return query;\r\n  }\r\n\r\n  static QueryParams(query: QueryModel<any>): any {\r\n    return Object.keys(query.params).reduce(\r\n      (acc, key) =>\r\n        Object.assign({}, acc, { [key]: `${key}=${query.params[key]}` }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  static QuerySkip(query: QueryModel<any>): string {\r\n    return query.skip ? `skip=${query.skip}` : '';\r\n  }\r\n\r\n  static QueryTake(query: QueryModel<any>): string {\r\n    return query.take ? `take=${query.take}` : '';\r\n  }\r\n\r\n  static QueryTerm(query: QueryModel<any>): string {\r\n    return query.term ? `term=${query.term}` : '';\r\n  }\r\n\r\n  get queryParams(): any {\r\n    return QueryModel.QueryParams(this);\r\n  }\r\n\r\n  get queryString(): string {\r\n    return QueryModel.BuildQueryString(this);\r\n  }\r\n\r\n  get queryObject(): any {\r\n    return QueryModel.BuildQueryObject(this);\r\n  }\r\n\r\n  get querySkip(): string {\r\n    return this.skip ? `skip=${this.skip}` : '';\r\n  }\r\n\r\n  get queryTake(): string {\r\n    return this.take ? `take=${this.take}` : '';\r\n  }\r\n\r\n  get queryTerm(): string {\r\n    return this.term ? `term=${this.term}` : '';\r\n  }\r\n}\r\n\r\nexport class BaseQueryModel extends QueryModel<any> {\r\n  params = {};\r\n}\r\n\r\nexport class Search<T> {\r\n  query?: QueryModel<T>;\r\n  results: T[] = [];\r\n  total = 0;\r\n}\r\n\r\nexport class SearchResults<T> {\r\n  results: T[] = [];\r\n  total = 0;\r\n}\r\n\r\nexport class StyleModel {\r\n  backgroundColor: string;\r\n  border: string;\r\n  borderRadius: number | string;\r\n  color: string;\r\n  cursor: string;\r\n  display: string;\r\n  fontSize: number | string;\r\n  height: number | string;\r\n  lineHeight: number | string;\r\n  padding: number | string;\r\n  paddingTop: number | string;\r\n  paddingBottom: number | string;\r\n  paddingLeft: number | string;\r\n  paddingRight: number | string;\r\n  textDecoration: string;\r\n  width: number;\r\n\r\n  get styles(): any {\r\n    const s = {};\r\n    if (this.backgroundColor) {\r\n      s['backgroundColor'] = this.backgroundColor;\r\n    }\r\n    if (this.border) {\r\n      s['border'] = this.border;\r\n    }\r\n    if (this.borderRadius) {\r\n      s['borderRadius.px'] = this.borderRadius;\r\n    }\r\n    if (this.color) {\r\n      s['color'] = this.color;\r\n    }\r\n    if (this.cursor) {\r\n      s['color'] = this.cursor;\r\n    }\r\n    if (this.display) {\r\n      s['display'] = this.display;\r\n    }\r\n    if (this.fontSize) {\r\n      s['fontSize'] = this.fontSize;\r\n    }\r\n    if (this.height) {\r\n      s['height.px'] = this.height;\r\n    }\r\n    if (this.lineHeight) {\r\n      s['line-height.px'] = this.lineHeight;\r\n    }\r\n    if (this.padding) {\r\n      s['padding.px'] = this.padding;\r\n    }\r\n    if (this.paddingTop) {\r\n      s['padding-top.px'] = this.paddingTop;\r\n    }\r\n    if (this.paddingBottom) {\r\n      s['padding-bottom.px'] = this.paddingBottom;\r\n    }\r\n    if (this.paddingLeft) {\r\n      s['padding-left.px'] = this.paddingLeft;\r\n    }\r\n    if (this.paddingRight) {\r\n      s['padding-right.px'] = this.paddingRight;\r\n    }\r\n    if (this.textDecoration) {\r\n      s['textDecoration'] = this.textDecoration;\r\n    }\r\n    if (this.width) {\r\n      s['width.px'] = this.width;\r\n    }\r\n    return s;\r\n  }\r\n}\r\n\r\nexport class ColumnMetadata {\r\n  name = '';\r\n  type: 'LIST' | 'DATE';\r\n  _label = '';\r\n\r\n  get label(): string {\r\n    return this._label || convertCamel2Space(this.name);\r\n  }\r\n\r\n  set label(value: string) {\r\n    this._label = value;\r\n  }\r\n}\r\n\r\nexport interface Type<T> extends Function {\r\n  new(...args: any[]): T;\r\n}\r\n\r\nexport interface TypeConstructor<T> {\r\n  new(): T;\r\n}\r\n","import { SimpleChanges } from '@angular/core';\r\n\r\nimport { Metadata, Dictionary, ColumnMetadata, TypeConstructor, HasMetadata } from './models';\r\nimport { Action } from '../store/models';\r\n\r\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nexport function applyDecorators(derived: any, baseCtors: any[]) {\r\n  baseCtors.forEach(baseCtor => {\r\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n      derived[name] = baseCtor.prototype[name];\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nexport function applyMixins(derivedCtor: any, baseCtors: any[]) {\r\n  baseCtors.forEach(baseCtor => {\r\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n      derivedCtor.prototype[name] = baseCtor.prototype[name];\r\n    });\r\n  });\r\n}\r\n\r\nexport function arrayDistinct(arr: any[], map: (x: any) => any = x => x): any[] {\r\n  return arr.reduce((acc, x) => {\r\n    return acc.findIndex(y => equals(map(x), map(y))) === -1 ? [...acc, x] : acc;\r\n  }, []);\r\n}\r\n\r\n/**\r\n * Find distinct elements in the union of 2 arrays.\r\n * @param array1\r\n * @param array2\r\n */\r\nexport function arrayUnion(array1, array2) {\r\n  const a = [...array1, ...array2];\r\n  for (let i = 0; i < a.length; ++i) {\r\n    for (let j = i + 1; j < a.length; ++j) {\r\n      if (a[i] === a[j]) {\r\n        a.splice(j--, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  return a;\r\n}\r\n\r\nexport function assignProps(target: any, props: Dictionary<any>) {\r\n  Object.keys(props).forEach(key => {\r\n    if (target[key]) {\r\n      target[key] = props[key];\r\n    }\r\n  });\r\n}\r\n\r\nexport function build<T>(ctor: TypeConstructor<T>, ...args): T {\r\n  const instance = new ctor();\r\n  return args.reduce((acc, next) => {\r\n    let ret;\r\n    try {\r\n      ret = Object.assign(acc, next);\r\n    } catch (e) {\r\n      console.warn(e);\r\n      ret = acc;\r\n    } finally {\r\n      return ret;\r\n    }\r\n  }, instance);\r\n}\r\n\r\nexport function buildColumnsFromMetadata(model: any, key: string): ColumnMetadata[] {\r\n  const metadata = findMetadataFromInstance(model);\r\n  const columns = Array.isArray(metadata[key]) ? metadata[key] : Array.isArray(model) ? (model.length > 0 ? Object.keys(model[0]) : []) : Object.keys(model);\r\n  return columns.map((x: string | ColumnMetadata) =>\r\n    typeof x === 'string'\r\n      ? build(ColumnMetadata, {\r\n        name: x\r\n      })\r\n      : build(ColumnMetadata, x)\r\n  );\r\n}\r\n\r\nexport function buildQueryStringFromObject(obj: any): string {\r\n  return Object.keys(obj).reduce((acc, key) => obj[key] ? acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}` : acc, '');\r\n}\r\n\r\n/** Clamps a number between zero and a maximum. */\r\nexport function clamp(value: number, max: number): number {\r\n  return Math.max(0, Math.min(max, value));\r\n}\r\n\r\nexport function compareDates(a: Date, b: Date) {\r\n  return new Date(b).getTime() - new Date(a).getTime();\r\n}\r\n\r\nexport function compareNumbers(a: number, b: number) {\r\n  return a - b;\r\n}\r\n\r\nexport function compareStrings(a: string, b: string) {\r\n  const x = a.toLowerCase();\r\n  const y = b.toLowerCase();\r\n  if (x < y) {\r\n    return -1;\r\n  } else if (x > y) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport function distinct(arr: any[], key = ''): any[] {\r\n  return key\r\n    ? arr.reduce((acc, x) => (acc.findIndex(y => y[key] === x[key]) === -1 ? [...acc, x] : acc), [])\r\n    : arr.reduce((acc, x) => (acc.indexOf(x) === -1 ? [...acc, x] : acc), []);\r\n}\r\n\r\nexport function convertCamel2Dash(str: string): string {\r\n  return str.replace(/([a-z][A-Z])/g, function (g) {\r\n    return g[0] + '-' + g[1].toLowerCase();\r\n  });\r\n}\r\n\r\nexport function convertCamel2Space(str: string): string {\r\n  const result = str.replace(/([A-Z])/g, ' $1');\r\n  return result.charAt(0).toUpperCase() + result.slice(1);\r\n}\r\n\r\nexport function convertDash2Camel(str: string): string {\r\n  return str.replace(/-([a-z])/g, function (g) {\r\n    return g[1].toUpperCase();\r\n  });\r\n}\r\n\r\nexport function equals(x1: any, x2: any): boolean {\r\n  // check whether x1 and x2 have the same type\r\n  if (typeof x1 !== typeof x2) {\r\n    return false;\r\n  }\r\n\r\n  // check whether x1 and x2 are both null or both undefined\r\n  if ((x1 === null && x2 === null) || (x1 === undefined && x2 === undefined)) {\r\n    return true;\r\n  }\r\n\r\n  // account for non-matching null and undefined values\r\n  if (((x1 === null || x1 === undefined) && x2 !== null && x2 !== undefined) || ((x2 === null || x2 === undefined) && x1 !== null && x1 !== undefined)) {\r\n    return false;\r\n  }\r\n\r\n  // compare two arrays\r\n  if (Array.isArray(x1) && Array.isArray(x2) && x1.length === x2.length) {\r\n    return x1.findIndex((x, index) => !equals(x, x2[index])) === -1 ? true : false;\r\n  }\r\n\r\n  // compare two objects\r\n  if (\r\n    x1 &&\r\n    typeof x1 === 'object' &&\r\n    typeof x2 === 'object' &&\r\n    Object.keys(x1).length === Object.keys(x2).length &&\r\n    Object.keys(x2).length === arrayUnion(Object.keys(x1), Object.keys(x2)).length\r\n  ) {\r\n    return Object.keys(x1).findIndex(key => !equals(x1[key], x2[key])) === -1;\r\n  }\r\n\r\n  // compare two primitives with the same type\r\n  return x1 === x2;\r\n}\r\n\r\n/**\r\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\r\n * similar to Object.assign.\r\n *\r\n * @param dest The object which will have properties copied to it.\r\n * @param sources The source objects from which properties will be copied.\r\n */\r\nexport function extendObject(dest: any, ...sources: any[]): any {\r\n  if (dest == null) {\r\n    throw TypeError('Cannot convert undefined or null to object');\r\n  }\r\n\r\n  for (const source of sources) {\r\n    if (source != null) {\r\n      for (const key in source) {\r\n        if (source.hasOwnProperty(key)) {\r\n          dest[key] = source[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return dest;\r\n}\r\n\r\nexport function falsy(value: any): boolean {\r\n  return value === null || value === 0 || value === '' || value === undefined;\r\n}\r\n\r\n/**\r\n * Remove problematic or undesired store properties.\r\n */\r\nexport function filterState(obj: any): any {\r\n  return removeCycles(removeProps(obj));\r\n}\r\n\r\nexport function findMetadata(ctor: TypeConstructor<HasMetadata | any>) {\r\n  const instance = new ctor();\r\n  return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\n\r\nexport function findMetadataFromInstance(model: any): Metadata {\r\n  if (!model) {\r\n    return null;\r\n  }\r\n  const instance: HasMetadata = Array.isArray(model) && model.length > 0 ? <HasMetadata>model[0] : <HasMetadata>model;\r\n  return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\n\r\nexport function findSchoolYear(): string {\r\n  const date = new Date();\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth();\r\n  return month >= 7 ? `${year}-${year + 1}` : `${year - 1}-${year}`;\r\n}\r\n\r\nexport function flattenKeys(obj: Object, parents: string[]): any[] {\r\n  return Object.keys(obj).reduce((acc, key) => {\r\n    const pathToRoot = [...parents, key];\r\n    const val = obj[key];\r\n    if (!Array.isArray(val) && Object.keys(val).length > 0) {\r\n      return [...acc, ...flattenKeys(val, pathToRoot)];\r\n    }\r\n    return [...acc, ...pathToRoot];\r\n  }, []);\r\n}\r\n\r\nexport function formatPhoneNumber(number = ''): string {\r\n  if (!number) {\r\n    return '000-000-0000';\r\n  }\r\n  const l = number.length;\r\n  return number && (l === 7 || l === 10) ? (l === 7 ? format7DigitPhoneNumber(number) : format10DigitPhoneNumber(number)) : '000-000-0000';\r\n}\r\n\r\nexport function format7DigitPhoneNumber(number = '0000000'): string {\r\n  const first3 = number.substring(0, 3);\r\n  const last4 = number.substring(3, 7);\r\n  return `${first3} -${last4} `;\r\n}\r\n\r\nexport function format10DigitPhoneNumber(number = '0000000000'): string {\r\n  const first3 = number.substring(0, 3);\r\n  const last7 = format7DigitPhoneNumber(number.substring(3, 10));\r\n  return `${first3} -${last7} `;\r\n}\r\n\r\nexport function formatPrice(total: number): string {\r\n  const dollars = total.toFixed(2).replace(/./g, function (c, i, a) {\r\n    return i && c !== '.' && (a.length - i) % 3 === 0 ? ',' + c : c;\r\n  });\r\n  return `$${dollars}`;\r\n}\r\n\r\nexport function getTypeNameForDebugging(type: any): string {\r\n  return type['name'] || typeof type;\r\n}\r\n\r\nexport function getAllProps(obj: any): string[] {\r\n  const mapped =\r\n    obj['metadata'] && obj['metadata']['include'] && Array.isArray(obj['metadata']['include'])\r\n      ? obj['metadata']['include'].reduce((acc, key) => Object.assign({}, acc, { [key]: obj[key] }), {})\r\n      : obj;\r\n\r\n  if (obj['metadata'] && obj['metadata']['exclude'] && Array.isArray(obj['metadata']['exclude'])) {\r\n    obj['metadata']['exclude'].forEach(key => {\r\n      delete mapped[key];\r\n    });\r\n  }\r\n\r\n  return [...Object.keys(mapped), ...getGetters(mapped)];\r\n}\r\n\r\nexport function getGetters(obj: any): string[] {\r\n  return Reflect.ownKeys(obj.constructor.prototype).filter(name => {\r\n    return typeof Object.getOwnPropertyDescriptor(obj.constructor.prototype, name)['get'] === 'function';\r\n  }) as string[];\r\n}\r\n\r\nexport function getKeyValues(model: any): any {\r\n  const keys = getAllProps(model);\r\n  return model['metadata'] && model['metadata']['include']\r\n    ? toArray(model['metadata']['include']).reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {})\r\n    : keys.reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {});\r\n}\r\n\r\nexport function getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\n/**\r\n * Returns a random number between min (inclusive) and max (exclusive)\r\n */\r\nfunction getRandomArbitrary(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n/**\r\n * Returns a random integer between min (inclusive) and max (inclusive)\r\n * Using Math.round() will give you a non-uniform distribution!\r\n */\r\nfunction getRandomIntInRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function getSetters(obj: any): string[] {\r\n  return Object.keys(obj.prototype).filter(name => {\r\n    return typeof Object.getOwnPropertyDescriptor(obj.prototype, name)['set'] === 'function';\r\n  });\r\n}\r\n\r\n// Gist adapted from: https://gist.github.com/cms/369133\r\nexport function getStyle(el: Element, styleProp: string): string {\r\n  let value;\r\n  const defaultView = el.ownerDocument.defaultView;\r\n  // W3C standard way:\r\n  if (defaultView && defaultView.getComputedStyle) {\r\n    // sanitize property name to css notation (hypen separated words eg. font-Size)\r\n    styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n  } else if (el['currentStyle']) {\r\n    // IE\r\n    // sanitize property name to camelCase\r\n    styleProp = styleProp.replace(/\\-(\\w)/g, function (str, letter) {\r\n      return letter.toUpperCase();\r\n    });\r\n    value = el['currentStyle'][styleProp];\r\n    return value;\r\n  }\r\n\r\n  return '';\r\n}\r\n\r\nexport function getValue(model: any, ignore: string[] = []): any {\r\n  if (model === null || typeof model === 'string' || typeof model === 'string' || model instanceof Date) {\r\n    return model;\r\n  }\r\n  const keys = getAllProps(model);\r\n  const props = keys\r\n    .filter(key => key !== 'metadata' && !ignoreKey(model, key) && !inArray(ignore, key))\r\n    .map(key => {\r\n      const obj = {};\r\n      obj[key] =\r\n        model[key] && typeof model[key] === 'object'\r\n          ? Array.isArray(model[key])\r\n            ? model[key].length > 0\r\n              ? model[key].map(x => (typeof x === 'object' ? getValue(x) : x))\r\n              : []\r\n            : getValue(model[key])\r\n          : model[key];\r\n      return obj;\r\n    });\r\n  return props.reduce((acc, val) => {\r\n    return Object.assign({}, acc, val);\r\n  }, {});\r\n}\r\n\r\nexport function guid() {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n  }\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nexport function hasChanged(changes: SimpleChanges, key: string, props: string[]) {\r\n  const currentValue = changes[key] && changes[key].currentValue ? changes[key].currentValue : {};\r\n  const previousValue = changes[key] && changes[key].previousValue ? changes[key].previousValue : {};\r\n  return props.reduce((acc, prop) => {\r\n    return acc ? true : currentValue[prop] !== previousValue[prop];\r\n  }, false);\r\n}\r\n\r\nexport function hashToArray(hashMap: object): any[] {\r\n  return Object.keys(hashMap).map(key => hashMap[key]);\r\n}\r\n\r\nexport function htmlToString(element): string {\r\n  return `${htmlElementTag(element)}${htmlElementContents(element)}${htmlElementCloseTag(element)}`;\r\n}\r\n\r\nexport function htmlElementTag(element): string {\r\n  const html = element.outerHTML;\r\n  const style = htmlStyleElementToString(element);\r\n  const insertAtIndex = html.indexOf('>');\r\n  return `${html.substring(0, insertAtIndex)} style=\"${style}\">`;\r\n}\r\n\r\nexport function htmlElementContents(element): string {\r\n  const children = Array.from(element.children);\r\n  return `${children.length === 0 ? element.innerText : ''}${children.reduce((acc, el) => acc + htmlToString(el), '')}`;\r\n}\r\n\r\nexport function htmlElementCloseTag(element): string {\r\n  const html = element.outerHTML;\r\n  return html.substring(html.lastIndexOf('</'));\r\n}\r\n\r\nexport function htmlStyleElementToString(element): string {\r\n  const computedStyle = window.getComputedStyle(element);\r\n  return ['background', 'border', 'bottom', 'color', 'display', 'fontSize', 'height', 'left', 'margin', 'overflow', 'padding', 'position', 'right', 'top', 'width'].reduce(\r\n    (acc, attr) => {\r\n      return `${acc}${attr}:${computedStyle[convertDash2Camel(attr)]};`;\r\n    },\r\n    ''\r\n  );\r\n}\r\n\r\nexport function htmlWrap(html: string, style: string): string {\r\n  return `<head>${style ? '<style>' + style + '</style>' : ''}</head><body>${html}</body>`;\r\n}\r\n\r\nexport function idChanged(changes: SimpleChanges, key: string) {\r\n  const newId = changes[key].currentValue ? changes[key].currentValue['id'] || 0 : 0;\r\n  const oldId = changes[key].previousValue ? changes[key].previousValue['id'] || 0 : 0;\r\n  return newId !== oldId;\r\n}\r\n\r\nexport function ignoreKey(model: any, key: string): boolean {\r\n  if (model['metadata'] && model['metadata']['ignore']) {\r\n    return inArray(model['metadata']['ignore'], key);\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function inArray(arr: any[], val: any) {\r\n  return arr.filter(item => item === val).length > 0;\r\n}\r\n\r\nexport function inArrayByKey(arr: any[], val: any, key: string | number) {\r\n  return arr.findIndex(item => item[key] === val) !== -1;\r\n}\r\n\r\nexport function integerArray(n: number): number[] {\r\n  return Array.from(Array(n).keys());\r\n}\r\n\r\nexport function isBetweenDates(dateFrom, dateTo, dateCheck) {\r\n  const d1 = dateFrom.toLocaleDateString().split('/');\r\n  const d2 = dateTo.toLocaleDateString().split('/');\r\n  const c = dateCheck.toLocaleDateString().split('/');\r\n\r\n  const from = new Date(d1[2], toInt(d1[1]) - 1, d1[0]); // -1 because months are from 0 to 11\r\n  const to = new Date(d2[2], toInt(d2[1]) - 1, d2[0]);\r\n  const check = new Date(c[2], toInt(c[1]) - 1, c[0]);\r\n\r\n  return check >= from && check <= to;\r\n}\r\n\r\n/**\r\n * Detects cycles in an object.\r\n * @param obj\r\n */\r\nexport function isCyclic(obj: any) {\r\n  const seenObjects: any[] = [];\r\n\r\n  const detect = (x: any) => {\r\n    if (x && typeof x === 'object') {\r\n      if (seenObjects.indexOf(x) !== -1) {\r\n        return true;\r\n      }\r\n      seenObjects.push(x);\r\n      for (const key in x) {\r\n        if (x.hasOwnProperty(key) && detect(x[key])) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return detect(obj);\r\n}\r\n\r\nexport function isMobile() {\r\n  return (\r\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\r\n    (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\r\n      navigator.userAgent\r\n    ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        navigator.userAgent.substr(0, 4)\r\n      ))\r\n  );\r\n}\r\n\r\nexport function isNumeric(str: string): boolean {\r\n  const asInt = parseInt(str, 10);\r\n  const isNumber = /^\\d+$/.test(str);\r\n  return isNumber && typeof asInt === 'number';\r\n}\r\n\r\nexport function isNumericAndHasLength(str: string, length: number): boolean {\r\n  const asInt = parseInt(str, 10);\r\n  const isNumber = /^\\d+$/.test(str);\r\n  return isNumber && typeof asInt === 'number' && str.length === length;\r\n}\r\n\r\nexport function isValidEmail(email: string): boolean {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\n/**\r\n * @param fromState The last state object from the store\r\n * @param dState A partial class containing all properties that have changed wrt fromState\r\n * @return The current/updated state of the application (toState)\r\n */\r\nexport function nextState(fromState: any, dState: any): any {\r\n  const toState: any = Object.assign({}, fromState, dState);\r\n  return toState;\r\n}\r\n\r\nexport function positiveIntegerArray(n: number): number[] {\r\n  return integerArray(n).map(x => x + 1);\r\n}\r\n\r\n/**\r\n * Remove store props that contain cycles.\r\n */\r\nexport function removeCycles(obj: any): any {\r\n  if (obj && typeof obj === 'object') {\r\n    for (const key in obj) {\r\n      if (obj.hasOwnProperty(key) && isCyclic(obj[key])) {\r\n        delete obj[key];\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Remove any props that should not appear in the store.\r\n */\r\nexport function removeProps(obj: any): any {\r\n  return obj;\r\n}\r\n\r\nexport function roundToDecimalPlace(num: number, decimalPlace: number): number {\r\n  return Math.round(num * Math.pow(10, decimalPlace)) / Math.pow(10, decimalPlace);\r\n}\r\n\r\nexport function serialize(model: any) {\r\n  if (!model) {\r\n    return model;\r\n  }\r\n  if (Array.isArray(model)) {\r\n    return model.map(x => serialize(x));\r\n  }\r\n  if (model.serialize && typeof model.serialize === 'function') {\r\n    return serialize(model.serialize());\r\n  }\r\n  if (model === null || typeof model === 'number' || typeof model === 'string' || model instanceof Date) {\r\n    return model;\r\n  }\r\n  const keys = getAllProps(model);\r\n  if (keys.length === 0) {\r\n    return model;\r\n  }\r\n  return keys.filter(key => !inArray(['arguments', 'caller', 'callee'], key)).reduce((acc, key) => {\r\n    let val = null;\r\n    if (model[key] !== null && typeof model[key] === 'object' && !(model[key] instanceof Date)) {\r\n      if (model[key].serialize && typeof model[key].serialize === 'function') {\r\n        val = model[key].serialize();\r\n      } else {\r\n        val = serialize(model[key]);\r\n      }\r\n    } else {\r\n      val = model[key];\r\n    }\r\n    return Object.assign({}, acc, {\r\n      [key]: val\r\n    });\r\n  }, {});\r\n}\r\n\r\n/**\r\n * Reorder the elements of an array.\r\n * @param arr array to be randomized\r\n */\r\nexport function shuffle(arr: any[]): any[] {\r\n  const shuffled = [...arr];\r\n  for (let i = shuffled.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]; // eslint-disable-line no-param-reassign\r\n  }\r\n  return shuffled;\r\n}\r\n\r\nexport function stringify(token: any): string {\r\n  if (typeof token === 'string') {\r\n    return token;\r\n  }\r\n\r\n  if (token == null) {\r\n    return '' + token;\r\n  }\r\n\r\n  if (token.overriddenName) {\r\n    return `${token.overriddenName}`;\r\n  }\r\n\r\n  if (token.name) {\r\n    return `${token.name}`;\r\n  }\r\n\r\n  const res = token.toString();\r\n  const newLineIndex = res.indexOf('\\n');\r\n  return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\r\n}\r\n\r\nexport function str2CharCode(str: string): number {\r\n  return str.charCodeAt(0);\r\n}\r\n\r\nexport function str2Id(str: string): number {\r\n  const charCodes = str ? str.split('').reduce((acc, x) => `${acc}${str2CharCode(x)}`, '') : '';\r\n  return toInt(charCodes);\r\n}\r\n\r\nexport function str2int(str: string): number {\r\n  return parseInt(str, 10);\r\n}\r\n\r\nexport function strArray2Id(strArray: string[]) {\r\n  const str = strArray.reduce((acc, x) => `${acc}${x}`, '');\r\n  return str2Id(str);\r\n}\r\n\r\nexport function throwException(errorName: string, errorMessage: string) {\r\n  throw {\r\n    name: errorName,\r\n    level: 'Show Stopper',\r\n    message: errorMessage,\r\n    htmlMessage: 'Error detected. Please contact the <a href=\\'mailto:agendamanager@caiu.com\\'>system administrator</a>.',\r\n    toString: function () {\r\n      return errorName + ': ' + errorMessage;\r\n    }\r\n  };\r\n}\r\n\r\nexport function throwNotImplementedException() {\r\n  throwException('Not Implemented', 'Not Implemented');\r\n}\r\n\r\nexport function toArray(val: any): any[] {\r\n  return val ? (Array.isArray(val) ? val : [val]) : [];\r\n}\r\n\r\nexport function toInt(val: string | number): number {\r\n  return val && val.toString ? str2int(val.toString()) : 0;\r\n}\r\n\r\nexport function toFullName(first: string, last: string): string {\r\n  return truthy(first) && truthy(last) ? `${first} ${last}` : null;\r\n}\r\n\r\nexport function toPayload(action: Action): any {\r\n  return action ? action.payload : null;\r\n}\r\n\r\nexport function toPx(n: number): string {\r\n  return `${n}px`;\r\n}\r\n\r\nexport function truthy(value: any): boolean {\r\n  return !falsy(value);\r\n}\r\n\r\nexport function tryCast(obj: any, type: any): any {\r\n  const retObj = new type();\r\n  for (const key in obj) {\r\n    if (typeof retObj[key] !== 'undefined') {\r\n      retObj[key] = obj[key];\r\n    }\r\n  }\r\n  return retObj;\r\n}\r\n\r\nexport function valueChanged(changes: SimpleChanges, key = '') {\r\n  return key\r\n    ? changes[key].currentValue !== changes[key].previousValue\r\n    : Object.keys(changes).reduce((acc, currentKey) => {\r\n      return acc ? true : changes[currentKey].currentValue !== changes[currentKey].previousValue;\r\n    }, false);\r\n}\r\n\r\nexport function valueEquals(value, formValue) {\r\n  return equals(getValue(value), formValue);\r\n}\r\n","import { Metadata, Dictionary, TypeConstructor } from './models';\r\nimport { arrayUnion, build, inArray, truthy } from './utils';\r\n\r\nexport class Collection<T> {\r\n  activeId: number | string = 0;\r\n  lastUpdated: Date;\r\n  metadata: Metadata = {};\r\n  _ctor: TypeConstructor<T>;\r\n  _items: Dictionary<T> = {};\r\n\r\n  static AddItem<T>(state: Dictionary<T>, key: number | string, item: T): Dictionary<T> {\r\n    const newState: Dictionary<T> = {};\r\n    Object.keys(state).forEach(k => {\r\n      newState[k] = state[k];\r\n    });\r\n    newState[key] = item;\r\n    return newState;\r\n  }\r\n\r\n  static BuildCollection<T>(items: T[], findByKey = 'id'): Collection<T> {\r\n    const dictionary: Dictionary<T> = Collection.BuildItems(items, findByKey);\r\n    return Object.assign(new Collection<T>(), { items: dictionary });\r\n  }\r\n\r\n  static BuildDictionaryFromArray<T>(value: any[], key = 'id'): Dictionary<T> {\r\n    const obj: Dictionary<T> = {};\r\n    value.forEach(item => {\r\n      obj[item[key]] = item;\r\n    });\r\n    return obj;\r\n  }\r\n\r\n  static BuildFromArray<T>(items: T[], findByKey = 'id'): Collection<T> {\r\n    const dictionary: Dictionary<T> = Collection.BuildItems(items, findByKey);\r\n    return Object.assign(new Collection<T>(), { items: dictionary });\r\n  }\r\n\r\n  static BuildItems<T>(items: T[], findByKey = 'id'): Dictionary<T> {\r\n    const dictionary: Dictionary<T> = {};\r\n    items.forEach(item => {\r\n      const key = item[findByKey];\r\n      dictionary[key] = item;\r\n    });\r\n    return dictionary;\r\n  }\r\n\r\n  static Filter<T>(item: T, path: string): boolean {\r\n    return Array.isArray(item['matches']) && inArray(item['matches'], path);\r\n  }\r\n\r\n  static FilterAnd<T>(item: T, paths: string[]): boolean {\r\n    return Array.isArray(item['matches']) && paths.every(path => inArray(item['matches'], path));\r\n  }\r\n\r\n  static FilterOr<T>(item: T, paths: string[]): boolean {\r\n    return Array.isArray(item['matches']) && paths.some(path => inArray(item['matches'], path));\r\n  }\r\n\r\n  static RemoveItem<T>(state: Dictionary<T>, key: number | string): Dictionary<T> {\r\n    const newState: Dictionary<T> = {};\r\n    Object.keys(state)\r\n      .filter(k => k !== key)\r\n      .forEach(k => {\r\n        newState[k] = state[k];\r\n      });\r\n    return newState;\r\n  }\r\n\r\n  constructor(public ctor?: TypeConstructor<T>, public findByKey: string = 'id') {}\r\n\r\n  get active(): T {\r\n    const item = this.items[this.activeId] || <T>{};\r\n    return this.ctor ? build(this.ctor, item) : item;\r\n  }\r\n\r\n  get count(): number {\r\n    return this.toArray().length;\r\n  }\r\n\r\n  get defaultItem(): T {\r\n    return this.ctor ? new this.ctor() : <T>{};\r\n  }\r\n\r\n  get empty(): boolean {\r\n    return this.toArray().length === 0;\r\n  }\r\n\r\n  get instance(): Collection<T> {\r\n    const activeId = this.activeId;\r\n    const ctor = this.ctor;\r\n    const lastUpdated = this.lastUpdated;\r\n    const metadata = this.metadata;\r\n    // const collection = this.constructor();\r\n    const collection = new Collection<T>();\r\n    collection.activeId = activeId;\r\n    collection.ctor = ctor;\r\n    collection.lastUpdated = lastUpdated;\r\n    collection.metadata = metadata;\r\n    return collection;\r\n  }\r\n\r\n  get items(): Dictionary<T> {\r\n    return this._items;\r\n  }\r\n\r\n  set items(value: Dictionary<T>) {\r\n    this._items = value;\r\n    this.lastUpdated = new Date();\r\n  }\r\n\r\n  get keys(): number[] | string[] {\r\n    return Object.keys(this.items);\r\n  }\r\n\r\n  get asArray(): T[] {\r\n    return this.toArray();\r\n  }\r\n\r\n  get itemsArray(): T[] {\r\n    return this.asArray;\r\n  }\r\n\r\n  toArray(): T[] {\r\n    return Object.keys(this.items).map((key: number | string) => <T>this.items[key]);\r\n  }\r\n\r\n  activate(id: number, key?: string): Collection<T> {\r\n    const findByKey = key || this.findByKey;\r\n    const items = this.items[id] ? this.copyItems() : Object.assign(this.copyItems(), { [id]: { [findByKey]: id } });\r\n    return Object.assign(new Collection<T>(), this, { activeId: id, items });\r\n  }\r\n\r\n  addItem(item: T, key?: number | string): Collection<T> {\r\n    const items = this.copyItems();\r\n    return Object.assign(this.constructor(), this, {\r\n      items: Object.assign(items, { [key]: item })\r\n    });\r\n  }\r\n\r\n  addItems(items: T[], key: string): Collection<T> {\r\n    const findByKey = key || this.findByKey;\r\n    const newItems: Dictionary<T> = {};\r\n    this.toArray().forEach(item => {\r\n      newItems[item[findByKey]] = item;\r\n    });\r\n    items.forEach(item => {\r\n      const existingItem = newItems[item[findByKey]] ? newItems[item[findByKey]] : <T>{};\r\n      const existingMatches = existingItem['matches'] || [];\r\n      const newMatches = item['matches'] || [];\r\n      const matches = arrayUnion(existingMatches, newMatches);\r\n      const newItem = this.buildItem(item, { matches: matches });\r\n      newItems[item[findByKey]] = this.buildItem(existingItem, newItem);\r\n    });\r\n    this.items = newItems;\r\n    return Object.assign(new Collection<T>(), this);\r\n  }\r\n\r\n  build(items: Dictionary<T>, ctor?: TypeConstructor<Collection<T>>): Collection<T> {\r\n    return ctor ? build(ctor, { items }) : <Collection<T>>Object.assign(this.instance, { items });\r\n  }\r\n\r\n  buildItem(existingItem: T, newItem: any, ctor?: TypeConstructor<T>): T {\r\n    const existing = existingItem || {};\r\n    const item = ctor ? build(ctor, existing, newItem) : this.ctor ? build(this.ctor, existing, newItem) : Object.assign({}, existing, newItem);\r\n    return item;\r\n  }\r\n\r\n  buildItems(items: T[], ctor?: TypeConstructor<T>): T[] {\r\n    const factory = ctor ? ctor : this.ctor;\r\n    return items.map(x => (factory ? build(factory, x) : Object.assign(<T>{}, x)));\r\n  }\r\n\r\n  copyItems(): Dictionary<T> {\r\n    return Object.keys(this.items).reduce((acc, key) => {\r\n      acc[key] = this.get(key);\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  delete(key: string | number): Collection<T> {\r\n    return this.removeAt(key);\r\n  }\r\n\r\n  filter(f: (item: T) => boolean): Collection<T> {\r\n    const items = Collection.BuildDictionaryFromArray(this.toArray().filter(f));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  filterBy(f: (item: T, index?: number) => boolean): T[] {\r\n    return this.filterItems(f);\r\n  }\r\n\r\n  filterItems(f: (item: T, index?: number) => boolean): T[] {\r\n    return this.toArray().filter(f);\r\n  }\r\n\r\n  findBy(f: (item: T) => boolean): T {\r\n    return this.asArray.find(f) || this.defaultItem;\r\n  }\r\n\r\n  get(id: number | string): T {\r\n    const existing = this.items[id];\r\n    return this.ctor ? build(this.ctor, existing) : Object.assign(<T>{}, existing);\r\n  }\r\n\r\n  keyExists(key: string): boolean {\r\n    return truthy(this.items[key]);\r\n  }\r\n\r\n  map(f: (item: T) => T): Collection<T> {\r\n    const items = Collection.BuildDictionaryFromArray(this.toArray().map(f));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  patch(id: number | string, props: any): Collection<T> {\r\n    const existing = this.get(id);\r\n    return this.update(this.buildItem(existing, props));\r\n  }\r\n\r\n  query(path: string): T[] {\r\n    return this.toArray().filter(item => Collection.Filter(item, path));\r\n  }\r\n\r\n  queryAnd(paths: string[]): T[] {\r\n    return this.toArray().filter(item => Collection.FilterAnd(item, paths));\r\n  }\r\n\r\n  queryOr(paths: string[]): T[] {\r\n    return this.toArray().filter(item => Collection.FilterOr(item, paths));\r\n  }\r\n\r\n  removeAt(key: number | string): Collection<T> {\r\n    const keys = Object.keys(this.items);\r\n    const items = Collection.BuildDictionaryFromArray(keys.filter(x => x.toString() !== key.toString()).map(y => this.items[y]));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  removeItem(key: number | string): Collection<T> {\r\n    const collection = this.constructor();\r\n    const keys = Object.keys(this.items).filter(k => k !== key);\r\n    keys.forEach((k: number | string) => {\r\n      collection.items[k] = <T>Object.assign({}, this.items[k]);\r\n    });\r\n    return collection;\r\n  }\r\n\r\n  removeItems(filter: (item: T) => boolean, key: string) {\r\n    const findByKey = key || this.findByKey;\r\n    const keys = this.toArray()\r\n      .filter(filter)\r\n      .map(x => x[findByKey]);\r\n    this.removeKeys(keys);\r\n  }\r\n\r\n  removeKeys(keys: any[]) {\r\n    keys.forEach((key: number | string) => {\r\n      this.removeItem(key);\r\n    });\r\n  }\r\n\r\n  replace(itemsArray: T[]): Collection<T> {\r\n    const items = Collection.BuildDictionaryFromArray(this.buildItems(itemsArray));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  replaceItems(items: T[], filter?: (item: T) => boolean): Collection<T> {\r\n    if (filter) {\r\n      const f = (x: T) => !filter(x);\r\n      return this.replaceItems([...this.filterItems(f), ...items]);\r\n    }\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  setValue(value: Collection<T>): Collection<T> {\r\n    return Object.assign(new Collection<T>(), this, value);\r\n  }\r\n\r\n  update(value: any | any[], ctor?: TypeConstructor<T>): Collection<T> {\r\n    if (Array.isArray(value)) {\r\n      return this.updateItems(value, ctor);\r\n    }\r\n    return this.updateItem(value, value[this.findByKey], ctor);\r\n  }\r\n\r\n  updateItem(item: any, key: number | string, ctor?: TypeConstructor<T>): Collection<T> {\r\n    const items = this.copyItems();\r\n    const updatedItem = this.buildItem(items[key], item, ctor);\r\n    return this.build(Object.assign(items, { [key]: updatedItem }));\r\n  }\r\n\r\n  updateItems(items: any[], ctor?: TypeConstructor<T>): Collection<T> {\r\n    const existingItems = this.copyItems();\r\n    const updatedItems = items.reduce((acc, item) => {\r\n      const existingItem = acc[item[this.findByKey]];\r\n      acc[item[this.findByKey]] = this.buildItem(existingItem, item, ctor);\r\n      return acc;\r\n    }, existingItems);\r\n    return this.build(updatedItems);\r\n  }\r\n}\r\n","import { Action } from '../store/models';\r\nimport { Collection } from '../shared/collection';\r\nimport { Dictionary } from '../shared/models';\r\nimport { build, inArray } from '../shared/utils';\r\n\r\nexport class Event {\r\n  emittedCount = 0;\r\n  handler: (action: Action) => any;\r\n  key = '';\r\n  onAction: string | string[] = '';\r\n  value: any = null;\r\n}\r\n\r\nexport class Events extends Collection<Event> {\r\n  get actions(): string[] {\r\n    return this.toArray().reduce((acc: any[], event: Event) => {\r\n      const addValues = !event.onAction\r\n        ? []\r\n        : typeof event.onAction === 'string'\r\n        ? acc.indexOf(event.onAction) === -1\r\n          ? [event.onAction]\r\n          : []\r\n        : event.onAction.filter(x => acc.indexOf(x) === -1);\r\n      return [...acc, ...addValues];\r\n    }, []);\r\n  }\r\n\r\n  get eventsByAction(): Dictionary<Event[]> {\r\n    return this.toArray().reduce((acc: Dictionary<Event[]>, event: Event) => {\r\n      if (typeof event.onAction === 'string') {\r\n        const val: Event[] = acc[event.onAction] || [];\r\n        acc[event.onAction] = [...val, event];\r\n      } else {\r\n        event.onAction.forEach(actionType => {\r\n          const val: Event[] = acc[actionType] || [];\r\n          acc[actionType] = [...val, event];\r\n        });\r\n      }\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  addEvent(payload: Event): Events {\r\n    return build(Events, this.addItem(payload, payload.key));\r\n  }\r\n\r\n  getActionEvents(actionType: string): Event[] {\r\n    return this.eventsByAction[actionType];\r\n  }\r\n\r\n  removeEvent(payload: string): Events {\r\n    return build(Events, this.removeItem(payload));\r\n  }\r\n\r\n  replaceEvents(payload: Event[]): Events {\r\n    const events = this.copyItems();\r\n    payload.forEach(e => {\r\n      events[e.key] = e;\r\n    });\r\n    return build(Events, this, { items: events });\r\n  }\r\n\r\n  triggerEvent(payload: Action): Events {\r\n    const events = this.getActionEvents(payload.type).map(e =>\r\n      build(Event, e, { value: e.handler ? e.handler(payload) : payload })\r\n    );\r\n    return this.replaceEvents(events);\r\n  }\r\n\r\n  updateValue(payload: UpdateValuePayload): Events {\r\n    const event = build(Event, this.items[payload.key], {\r\n      value: payload.value\r\n    });\r\n    return build(Events, this.updateItem(event, payload.key, Event));\r\n  }\r\n}\r\n\r\nexport class UpdateValuePayload {\r\n  key: string;\r\n  value: any;\r\n}\r\n\r\nexport class Message {\r\n  action = '';\r\n  channel = '';\r\n  message = '';\r\n\r\n  set id(value: string) {\r\n    this.channel = value;\r\n  }\r\n\r\n  get id(): string {\r\n    return this.channel;\r\n  }\r\n}\r\n\r\nexport class MessageSubscription {\r\n  action = '';\r\n  channel = '';\r\n  mapper?: (payload: any) => string;\r\n}\r\n\r\nexport class Messages extends Collection<Message> {\r\n  subscriptions: MessageSubscription[] = [];\r\n  constructor() {\r\n    super(Message);\r\n  }\r\n\r\n  addMessages(data: Message | Message[]): Messages {\r\n    return build(Messages, this, this.update(data));\r\n  }\r\n\r\n  clearMessages(data: Message | Message[]): Messages {\r\n    const channelNames = Array.isArray(data)\r\n      ? data.map(x => x.channel)\r\n      : [data.channel];\r\n    return build(Messages, this, this.removeMessages(channelNames));\r\n  }\r\n\r\n  removeMessages(channelNames: string[]): Messages {\r\n    return build(\r\n      Messages,\r\n      channelNames.reduce((acc, id) => {\r\n        return acc.delete(id);\r\n      }, this)\r\n    );\r\n  }\r\n\r\n  addSubscription(\r\n    arr: MessageSubscription[],\r\n    data: MessageSubscription\r\n  ): MessageSubscription[] {\r\n    return [\r\n      ...arr.filter(\r\n        x => !(x.action === data.action && x.channel === data.channel)\r\n      ),\r\n      data\r\n    ];\r\n  }\r\n\r\n  addSubscriptions(\r\n    data: MessageSubscription | MessageSubscription[]\r\n  ): Messages {\r\n    const subscriptions = Array.isArray(data)\r\n      ? data.reduce(\r\n          (acc, x) => this.addSubscription(acc, x),\r\n          this.subscriptions\r\n        )\r\n      : this.addSubscription(this.subscriptions, data);\r\n    return build(Messages, this, {\r\n      subscriptions\r\n    });\r\n  }\r\n\r\n  removeSubscription(\r\n    arr: MessageSubscription[],\r\n    data: MessageSubscription\r\n  ): MessageSubscription[] {\r\n    return arr.filter(\r\n      x => !(x.action === data.action && x.channel === data.channel)\r\n    );\r\n  }\r\n\r\n  removeSubscriptions(\r\n    data: MessageSubscription | MessageSubscription[]\r\n  ): Messages {\r\n    const subscriptions = Array.isArray(data)\r\n      ? data.reduce(\r\n          (acc, x) => this.addSubscription(acc, x),\r\n          this.subscriptions\r\n        )\r\n      : this.addSubscription(this.subscriptions, data);\r\n    const channels = Array.isArray(data)\r\n      ? data.map(x => x.channel)\r\n      : [data.channel];\r\n    const items = this.asArray; // TODO: filter out messages from unsubscribed channels\r\n    return build(Messages, {\r\n      items,\r\n      subscriptions\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Event,\r\n  UpdateValuePayload,\r\n  Message,\r\n  MessageSubscription\r\n} from './events.models';\r\nimport { Action, ActionWithKey } from '../store/models';\r\nimport { build, guid } from '../shared/utils';\r\n\r\nexport class EventActions {\r\n  static ADD_EVENT = '[Events] Add Event';\r\n  static REMOVE_EVENT = '[Events] Remove Event';\r\n  static TRIGGER_EVENT = '[Events] Trigger Event';\r\n  static UPDATE_VALUE = '[Events] Update Value';\r\n\r\n  static addEvent(\r\n    onAction: string | string[],\r\n    handler?: (action: Action) => any,\r\n    value = null\r\n  ): ActionWithKey {\r\n    const e: Event = build(Event, {\r\n      onAction,\r\n      handler,\r\n      value,\r\n      key: guid()\r\n    });\r\n    return {\r\n      type: EventActions.ADD_EVENT,\r\n      payload: e,\r\n      key: e.key\r\n    };\r\n  }\r\n\r\n  static removeEvent(key: string): Action {\r\n    return {\r\n      type: EventActions.REMOVE_EVENT,\r\n      payload: key\r\n    };\r\n  }\r\n\r\n  static triggerEvent(action: Action): Action {\r\n    return {\r\n      type: EventActions.TRIGGER_EVENT,\r\n      payload: action\r\n    };\r\n  }\r\n\r\n  static updateValue(key: string, value: any): Action {\r\n    const payload = build(UpdateValuePayload, {\r\n      key,\r\n      value\r\n    });\r\n    return {\r\n      type: EventActions.UPDATE_VALUE,\r\n      payload: payload\r\n    };\r\n  }\r\n}\r\n\r\nexport class MessagesActions {\r\n  static ADD = '[Messages] Add Messages';\r\n  static CLEAR = '[Messages] Clear Messages';\r\n  static REMOVE = '[Messages] Remove Messages';\r\n  static SUBSCRIBE = '[Messages] Subscribe';\r\n  static UNSUBSCRIBE = '[Messages] Unsubscribe';\r\n\r\n  static add(e: MessageSubscription, action: Action): Action {\r\n    return {\r\n      type: MessagesActions.ADD,\r\n      payload: build(Message, {\r\n        channel: e.channel,\r\n        action: e.action,\r\n        message:\r\n          e.mapper && typeof e.mapper === 'function'\r\n            ? e.mapper(action.payload)\r\n            : ''\r\n      })\r\n    };\r\n  }\r\n\r\n  static error(action: string, mapper: (e: any) => string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(MessageSubscription, {\r\n        channel: 'ERRORS',\r\n        action,\r\n        mapper\r\n      })\r\n    };\r\n  }\r\n\r\n  static toast(action: string, mapper: (e: any) => string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(MessageSubscription, {\r\n        channel: 'TOASTS',\r\n        action,\r\n        mapper\r\n      })\r\n    };\r\n  }\r\n\r\n  static subscribe(\r\n    payload: MessageSubscription | MessageSubscription[]\r\n  ): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static toastMessage(action: string, message: string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(Message, {\r\n        channel: 'TOASTS',\r\n        action,\r\n        mapper: (e: any) => message\r\n      })\r\n    };\r\n  }\r\n\r\n  static unsubscribe(\r\n    payload: MessageSubscription | MessageSubscription[]\r\n  ): Action {\r\n    return {\r\n      type: MessagesActions.UNSUBSCRIBE,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static warn(action: string, mapper: (e: any) => string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(MessageSubscription, {\r\n        channel: 'WARNINGS',\r\n        action,\r\n        mapper\r\n      })\r\n    };\r\n  }\r\n}\r\n","import { ErrorOutlet } from '../errors/errors.models';\r\n\r\nexport interface HttpAction {\r\n    type: string;\r\n    payload: HttpActionPayload<any>;\r\n}\r\n\r\nexport interface HttpActionPayload<T> {\r\n    path: string;\r\n    model?: T;\r\n    options?: HttpOptions;\r\n    headers?: any;\r\n    onSuccess?: string;\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpDeletePayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    data?: any;\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpGetPayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpPutPayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    model: T = null;\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpPostPayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    model: T = null;\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport enum HTTP_REQUEST_STATUS {\r\n    PENDING,\r\n    ERROR,\r\n    SUCCESS\r\n}\r\n\r\nexport enum HTTP_STATUS_CODES {\r\n    CONTINUE = 100,\r\n    SWITCHING_PROTOCOLS = 101,\r\n    OK = 200,\r\n    CREATED = 201,\r\n    ACCEPTED = 202,\r\n    NON_AUTHORITATIVE_INFORMATION = 203,\r\n    NO_CONTENT = 204,\r\n    RESET_CONTENT = 205,\r\n    PARTIAL_CONTENT = 206,\r\n    MULTIPLE_CHOICES = 300,\r\n    MOVED_PERMANENTLY = 301,\r\n    FOUND = 302,\r\n    SEE_OTHER = 303,\r\n    NOT_MODIFIED = 304,\r\n    USE_PROXY = 305,\r\n    TEMPORARY_REDIRECT = 307,\r\n    BAD_REQUEST = 400,\r\n    UNAUTHORIZED = 401,\r\n    PAYMENT_REQUIRED = 402,\r\n    FORBIDDEN = 403,\r\n    NOT_FOUND = 404,\r\n    METHOD_NOT_ALLOWED = 405,\r\n    NOT_ACCEPTABLE = 406,\r\n    PROXY_AUTHENTICATION_REQUIRED = 407,\r\n    REQUEST_TIMEOUT = 408,\r\n    CONFLICT = 409,\r\n    GONE = 410,\r\n    LENGTH_REQUIRED = 411,\r\n    PRECONDITION_FAILED = 412,\r\n    REQUEST_ENTITY_TOO_LARGE = 413,\r\n    REQUEST_URI_TOO_LONG = 414,\r\n    UNSUPPORTED_MEDIA_TYPE = 415,\r\n    REQUESTED_RANGE_NOT_SATISFIABLE = 416,\r\n    EXPECTATION_FAILED = 417,\r\n    UNPROCESSABLE_ENTITY = 422,\r\n    TOO_MANY_REQUESTS = 429,\r\n    INTERNAL_SERVER_ERROR = 500,\r\n    NOT_IMPLEMENTED = 501,\r\n    BAD_GATEWAY = 502,\r\n    SERVICE_UNAVAILABLE = 503,\r\n    GATEWAY_TIMEOUT = 504,\r\n    HTTP_VERSION_NOT_SUPPORTED = 505\r\n}\r\n\r\nexport class HttpOptions {\r\n    prependBaseUrl = true;\r\n}\r\n","import { ErrorOutlet, ErrorPayload, Error } from './errors.models';\r\nimport { Action } from '../store/models';\r\n\r\nexport class ErrorActions {\r\n    static ADD = '[Error] Add Error';\r\n    static REMOVE = '[Error] Remove Error';\r\n    static HANDLE_ERROR = '[Error Handler] Handle Error';\r\n    static THROW_ERROR = '[Error Handler] Throw Error';\r\n\r\n    static addAtOutlet(e: Error, outlet: ErrorOutlet): Action {\r\n        let payload: ErrorPayload = {\r\n            key: outlet.key,\r\n            error: outlet.handler ? outlet.handler(e) : e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n\r\n    static addError(key: string, e: Error): Action {\r\n        let payload: ErrorPayload = {\r\n            key: key,\r\n            error: e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n\r\n    static add(payload: ErrorPayload): Action {\r\n        return {\r\n            type: ErrorActions.ADD,\r\n            payload: payload\r\n        };\r\n    }\r\n\r\n    static remove(key: string): Action {\r\n        return {\r\n            type: ErrorActions.REMOVE,\r\n            payload: key\r\n        };\r\n    }\r\n}\r\n","import {\r\n  HttpAction,\r\n  HttpGetPayload,\r\n  HttpPutPayload,\r\n  HttpPostPayload,\r\n  HttpActionPayload,\r\n  HttpDeletePayload\r\n} from './http.models';\r\nimport { ErrorActions } from '../errors/errors.actions';\r\nimport { ErrorOutlet, ErrorPayload, Error } from '../errors/errors.models';\r\nimport { Action } from '../store/models';\r\nimport { inArray } from '../shared/utils';\r\n\r\nexport class HttpActions {\r\n  static DELETE = `[Http] DELETE`;\r\n  static DELETE_SUCCESS = `[Http] DELETE Success`;\r\n  static DELETE_ERROR = `[Http] DELETE Error`;\r\n  static GET = `[Http] GET`;\r\n  static GET_SUCCESS = `[Http] GET Success`;\r\n  static GET_ERROR = `[Http] GET Error`;\r\n  static POST = `[Http] POST`;\r\n  static POST_SUCCESS = `[Http] POST Success`;\r\n  static POST_ERROR = `[Http] POST Error`;\r\n  static POST_FORM_URL_ENCODED = `[Http] POST Form URL Encoded`;\r\n  static PUT = `[Http] PUT`;\r\n  static PUT_SUCCESS = `[Http] PUT Success`;\r\n  static PUT_ERROR = `[Http] PUT Error`;\r\n  static SEARCH = `[Http] SEARCH`;\r\n  static SEARCH_SUCCESS = `[Http] SEARCH Success`;\r\n  static SEARCH_ERROR = `[Http] SEARCH Error`;\r\n\r\n  static addPath(path, target) {\r\n    const existingMatches = target['matches'] || [];\r\n    const matches = inArray(existingMatches, path)\r\n      ? existingMatches\r\n      : [...existingMatches, path];\r\n    return Object.assign(target, { matches: matches });\r\n  }\r\n\r\n  static matchPath(path, payload) {\r\n    if (payload && payload['results']) {\r\n      return Object.assign(payload, {\r\n        results: HttpActions.matchPath(path, payload['results'])\r\n      });\r\n    }\r\n    if (Array.isArray(payload)) {\r\n      return payload.map(x => HttpActions.addPath(path, x));\r\n    }\r\n    return HttpActions.addPath(path, payload);\r\n  }\r\n\r\n  static buildError(payload: ErrorPayload): Action {\r\n    return ErrorActions.add(payload);\r\n  }\r\n\r\n  static buildErrorPayload(key: string, e: Error): ErrorPayload {\r\n    return {\r\n      key: key,\r\n      error: e\r\n    };\r\n  }\r\n\r\n  static handleError(e: Error, onError: string): Action {\r\n    return {\r\n      type: onError,\r\n      payload: e\r\n    };\r\n  }\r\n\r\n  static handleErrorOutlet(e: Error, outlet: ErrorOutlet): Action {\r\n    return ErrorActions.addAtOutlet(e, outlet);\r\n  }\r\n\r\n  static handleErrorDefault(e: Error): Action {\r\n    return {\r\n      type: HttpActions.DELETE_ERROR,\r\n      payload: HttpActions.buildErrorPayload('lastError', e)\r\n    };\r\n  }\r\n\r\n  static delete(\r\n    path: string,\r\n    data: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpDeletePayload<any>(), {\r\n      path: path,\r\n      onSuccess: onSuccess || HttpActions.DELETE_SUCCESS,\r\n      data,\r\n      onError: onError || HttpActions.DELETE_ERROR\r\n    });\r\n    return HttpActions.httpDelete(payload);\r\n  }\r\n\r\n  static httpDelete(payload: HttpDeletePayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.DELETE,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static deleteSuccess(model: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.DELETE_SUCCESS,\r\n      payload: model\r\n    };\r\n  }\r\n\r\n  static deleteError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    }\r\n    // else if (typeof onError === 'ErrorOutlet') {\r\n    //     return HttpActions.handleErrorOutlet(e, onError);\r\n    // }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static get(\r\n    path: string,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpGetPayload<any>(), {\r\n      path: path,\r\n      onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n      onError: onError || HttpActions.GET_ERROR\r\n    });\r\n    return HttpActions.httpGet(payload);\r\n  }\r\n\r\n  static httpGet(payload: HttpGetPayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.GET,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static getSuccess(response: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.GET_SUCCESS,\r\n      payload: response\r\n    };\r\n  }\r\n\r\n  static getError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    }\r\n    // else if (typeof onError === 'ErrorOutlet') {\r\n    //     return HttpActions.handleErrorOutlet(e, onError);\r\n    // }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static post(\r\n    path: string,\r\n    model: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpPostPayload<any>(), {\r\n      path: path,\r\n      model: model,\r\n      onSuccess: onSuccess || HttpActions.POST_SUCCESS,\r\n      onError: onError || HttpActions.POST_ERROR\r\n    });\r\n    return HttpActions.httpPost(payload);\r\n  }\r\n\r\n  static httpPost(payload: HttpPostPayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.POST,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static postFormUrlEncoded(\r\n    path: string,\r\n    model: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpPostPayload<any>(), {\r\n      path: path,\r\n      model: model,\r\n      onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n      onError: onError || HttpActions.GET_ERROR\r\n    });\r\n    return {\r\n      type: HttpActions.POST_FORM_URL_ENCODED,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static postSuccess(model: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.POST_SUCCESS,\r\n      payload: model\r\n    };\r\n  }\r\n\r\n  static postError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    } else if (typeof onError === 'object') {\r\n      return HttpActions.handleErrorOutlet(e, onError);\r\n    }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static put(\r\n    path: string,\r\n    model: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpPutPayload<any>(), {\r\n      path: path,\r\n      model: model,\r\n      onSuccess: onSuccess || HttpActions.PUT_SUCCESS,\r\n      onError: onError || HttpActions.PUT_ERROR\r\n    });\r\n    return HttpActions.httpPut(payload);\r\n  }\r\n\r\n  static httpPut(payload: HttpPutPayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.PUT,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static putSuccess(model: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.PUT_SUCCESS,\r\n      payload: model\r\n    };\r\n  }\r\n\r\n  static putError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    }\r\n    // else if (typeof onError === 'ErrorOutlet') {\r\n    //     return HttpActions.handleErrorOutlet(e, onError);\r\n    // }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static search(\r\n    path: string,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpGetPayload<any>(), {\r\n      path: path,\r\n      onSuccess: onSuccess || HttpActions.SEARCH_SUCCESS,\r\n      onError: onError || HttpActions.SEARCH_ERROR\r\n    });\r\n    return {\r\n      type: HttpActions.SEARCH,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static searchSuccess(\r\n    response: any,\r\n    actionType?: string,\r\n    path?: string\r\n  ): HttpAction {\r\n    const payload = path ? HttpActions.matchPath(path, response) : response;\r\n    return {\r\n      type: actionType || HttpActions.SEARCH_SUCCESS,\r\n      payload: payload\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { Action } from '../store/models';\r\n\r\nexport class StreamActions {\r\n  static UPDATE = '[Stream] UPDATE';\r\n\r\n  static update(payload: Action): Action {\r\n    return {\r\n      type: StreamActions.UPDATE,\r\n      payload\r\n    };\r\n  }\r\n}\r\n\r\nexport function actionsStreamReducer(state: Action = null, action: Action): Action {\r\n\r\n  switch (action.type) {\r\n    case StreamActions.UPDATE:\r\n      return { type: action.payload.type, payload: action.payload.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class ActionsEffects {\r\n\r\n  /**\r\n   * Update actions store with latest action\r\n   */\r\n  @Effect() onAction: Observable<Action> = this.actions$.pipe(\r\n    filter(action => action.type !== StreamActions.UPDATE),\r\n    map((action: Action) => StreamActions.update(action))\r\n  );\r\n\r\n  constructor(private actions$: Actions) {\r\n  }\r\n}\r\n\r\nexport function actionsStreamSelector(store: Store<any>): Observable<Action> {\r\n  return store.select('actions');\r\n}\r\n","import { OnDestroy, Directive } from '@angular/core';\r\nimport { FormGroup, AbstractControl } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\n\r\nimport { HasId } from './models';\r\nimport { getValue, truthy } from './utils';\r\nimport { MessageSubscription } from '../events/events.models';\r\nimport { MessagesActions } from '../events/events.actions';\r\nimport { HttpActions } from '../http/http.actions';\r\nimport { actionsStreamSelector } from './actions';\r\nimport { Action } from '../store/models';\r\nimport { HubService } from '../hub/hub.service';\r\n\r\n@Directive()\r\nexport class DumbComponent implements OnDestroy {\r\n  dialog: MatDialog;\r\n  dialogSubscription: Subscription;\r\n  form: FormGroup;\r\n  requestState: 'DEFAULT' | 'SUCCESS' | 'ERROR' = 'DEFAULT';\r\n  subscriptions: Subscription[] = [];\r\n\r\n  constructor() { }\r\n\r\n  get inErrorState(): boolean {\r\n    return this.requestState === 'ERROR';\r\n  }\r\n\r\n  get inSuccessState(): boolean {\r\n    return this.requestState === 'SUCCESS';\r\n  }\r\n\r\n  get message(): string {\r\n    return this.inErrorState ? `An error has occurred. Please try again later.` : this.inSuccessState ? `Saved successfully!` : '';\r\n  }\r\n\r\n  get showMessage(): boolean {\r\n    return this.inErrorState || this.inSuccessState;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.removeSubscriptions();\r\n  }\r\n\r\n  addSubscription(subscription: Subscription) {\r\n    this.subscriptions.push(subscription);\r\n  }\r\n\r\n  closeDialog(result: any) {\r\n    this.dialogSubscription.unsubscribe();\r\n  }\r\n\r\n  openDialog(component: any, config = {}) {\r\n    const dialogRef = this.dialog.open(component, config);\r\n    this.dialogSubscription = dialogRef.afterClosed().subscribe(result => {\r\n      this.closeDialog(result);\r\n    });\r\n  }\r\n\r\n  playAudioElement(tag: string) {\r\n    const el = document.getElementById(tag);\r\n    if (el && typeof el['play'] === 'function') {\r\n      el['play']();\r\n    }\r\n  }\r\n\r\n  playAudioFile(file: string) {\r\n    const audio = new Audio(file);\r\n    audio.play();\r\n  }\r\n\r\n  print(html: string) {\r\n    const iframe = document.createElement('iframe');\r\n\r\n    iframe.onload = function () {\r\n      const doc = iframe.contentDocument ? iframe.contentDocument : iframe.contentWindow.document;\r\n      doc.getElementsByTagName('body')[0].innerHTML = html;\r\n\r\n      iframe.contentWindow.focus(); // This is key, the iframe must have focus first\r\n      iframe.contentWindow.print();\r\n    };\r\n\r\n    document.getElementsByTagName('body')[0].appendChild(iframe);\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.subscriptions.forEach(s => {\r\n      s.unsubscribe();\r\n    });\r\n  }\r\n\r\n  subscribe(subscriptions: Subscription[]) {\r\n    subscriptions.forEach(s => {\r\n      this.addSubscription(s);\r\n    });\r\n  }\r\n\r\n  sync(keys: string[]) {\r\n    keys.forEach(key => {\r\n      const subscription = (<Observable<any>>this[`${key}$`]).subscribe(e => {\r\n        this[key] = e;\r\n      });\r\n      this.addSubscription(subscription);\r\n    });\r\n  }\r\n\r\n  syncKey(key: string, handler?: (e: any) => void) {\r\n    const subscription = (<Observable<any>>this[`${key}$`]).subscribe(e => {\r\n      this[key] = e;\r\n      if (handler && typeof handler === 'function') {\r\n        handler(e);\r\n      }\r\n    });\r\n    this.addSubscription(subscription);\r\n  }\r\n\r\n  flashErrorMessage(duration = 5000) {\r\n    this.toErrorState();\r\n    setTimeout(() => {\r\n      this.resetRequestState();\r\n    }, duration);\r\n  }\r\n\r\n  flashSuccessMessage(duration = 5000) {\r\n    this.toSucessState();\r\n    setTimeout(() => {\r\n      this.resetRequestState();\r\n    }, duration);\r\n  }\r\n\r\n  onError(e: any) {\r\n    this.flashErrorMessage();\r\n  }\r\n\r\n  onSuccess(e: any) {\r\n    this.flashSuccessMessage();\r\n  }\r\n\r\n  resetRequestState() {\r\n    this.requestState = 'DEFAULT';\r\n  }\r\n\r\n  setValue(value: any) {\r\n    if (this.form && this.form.setValue) {\r\n      this.form.setValue(getValue(value));\r\n    }\r\n  }\r\n\r\n  toErrorState() {\r\n    this.requestState = 'ERROR';\r\n  }\r\n\r\n  toSucessState() {\r\n    this.requestState = 'SUCCESS';\r\n  }\r\n}\r\n\r\n@Directive()\r\nexport class FormComponent extends DumbComponent {\r\n  form: FormGroup;\r\n  model: HasId;\r\n\r\n  get editing(): boolean {\r\n    return truthy(this.id);\r\n  }\r\n\r\n  get id(): number | string {\r\n    return this.model.id;\r\n  }\r\n\r\n  get isValid(): boolean {\r\n    return this.form.valid;\r\n  }\r\n\r\n  getControl(key: string): AbstractControl {\r\n    return this.form.controls[key];\r\n  }\r\n\r\n  getControlValue(key: string, defaultValue: any): any {\r\n    return this.form.value[key] || defaultValue;\r\n  }\r\n\r\n  getControlValueChanges(key: string, fn: (value: any) => void): Subscription {\r\n    const control = this.getControl(key);\r\n    return control.valueChanges.subscribe(fn);\r\n  }\r\n\r\n  getValue(defaultValue = null): any {\r\n    return this.form.value || defaultValue;\r\n  }\r\n\r\n  getValueChanges(fn: (value: any) => void): Subscription {\r\n    return this.form.valueChanges.subscribe(fn);\r\n  }\r\n\r\n  markAsSubmitted(): void {\r\n    this.form.markAsTouched();\r\n    Object.keys(this.form.controls).forEach(key => {\r\n      this.form.controls[key].markAsTouched();\r\n    });\r\n  }\r\n\r\n  setControlValue(key: string, value: any): void {\r\n    const control = this.getControl(key);\r\n    control.setValue(value);\r\n  }\r\n\r\n  subscribeToChanges(key: string, fn: (value: any) => void) {\r\n    this.addSubscription(this.getValueChanges(fn));\r\n  }\r\n\r\n  subscribeToControlChanges(key: string, fn: (value: any) => void) {\r\n    this.addSubscription(this.getControlValueChanges(key, fn));\r\n  }\r\n}\r\n\r\n@Directive()\r\nexport class SmartComponent extends DumbComponent implements OnDestroy {\r\n  actions$: Observable<Action>;\r\n  events;\r\n  hubService: HubService;\r\n  messages: MessageSubscription[] = [];\r\n  private channels: string[] = [];\r\n\r\n  constructor(public store: Store<any>) {\r\n    super();\r\n    this.actions$ = actionsStreamSelector(store);\r\n  }\r\n\r\n  get hasMessages(): boolean {\r\n    return this.messages && Array.isArray(this.messages) && this.messages.length > 0;\r\n  }\r\n\r\n  onInit() {\r\n    if (this.hasMessages) {\r\n      this.dispatch(MessagesActions.subscribe(this.messages));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.hasMessages) {\r\n      this.dispatch(MessagesActions.unsubscribe(this.messages));\r\n    }\r\n    this.removeChannels();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  addChannel(channel: string, action: string) {\r\n    if (this.hubService && typeof this.hubService.addEffect == 'function' && (this.channels.findIndex(x => x === channel) === -1)) {\r\n      this.hubService.addEffect(channel, action);\r\n      this.channels.push(channel);\r\n    }\r\n  }\r\n\r\n  dispatch(action: Action) {\r\n    this.store.dispatch(action);\r\n  }\r\n\r\n  dispatchAndSubscribe(action: Action, onSuccess?: (e: any) => void, onError?: (e: any) => void) {\r\n    const f1 = onSuccess\r\n      ? onSuccess\r\n      : e => {\r\n        this.flashSuccessMessage();\r\n      };\r\n\r\n    const f2 = onError\r\n      ? onError\r\n      : e => {\r\n        this.flashErrorMessage();\r\n      };\r\n\r\n    if (this.events && this.events.dispatch) {\r\n      this.addSubscription(this.events.dispatch(action).subscribe(f1, f2));\r\n    } else {\r\n      this.store.dispatch(action);\r\n    }\r\n  }\r\n\r\n  httpDelete(path: string, payload: any, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.delete(path, payload, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  httpGet(path: string, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.get(path, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  httpPost(path: string, payload: any, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.post(path, payload, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  httpPut(path: string, payload: any, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.put(path, payload, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  removeChannel(channel: string) {\r\n    if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n      this.hubService.removeEffect(channel);\r\n    }\r\n  }\r\n\r\n  removeChannels() {\r\n    if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n      this.channels.forEach(x => {\r\n        this.hubService.removeEffect(x);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","import { Directive, ElementRef, OnInit, OnDestroy, Renderer2 } from '@angular/core';\r\nimport { NgControl, AbstractControl } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { DumbComponent } from './component';\r\n\r\n\r\n@Directive({\r\n  selector: '[dateMask]'\r\n})\r\n\r\nexport class DateMaskDirective extends DumbComponent implements OnInit, OnDestroy {\r\n\r\n  constructor(private el: ElementRef, private _dateControl: NgControl, private renderer: Renderer2) {\r\n    super();\r\n  }\r\n\r\n  get dateController(): AbstractControl {\r\n    return this._dateControl.control;\r\n  }\r\n\r\n  get dateMask(): Subscription {\r\n    return this.dateController.valueChanges.subscribe(() => {\r\n      let data = this.el.nativeElement.value;\r\n\r\n      if (data.length < 10) {\r\n        if (data.length == 0) {\r\n          data = '';\r\n        } else if (data.length <= 3) {\r\n          data = data.replace(/^(\\d{2})/, '$1/');\r\n        } else if (data.length <= 5) {\r\n          data = data.replace(/^(.{3})(\\d{2})/, '$1$2/');\r\n        }\r\n          this.renderer.setProperty(this.el.nativeElement, 'value', data);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscribe([this.dateMask]);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { DateMaskDirective } from './date-mask.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n  ],\r\n  declarations: [DateMaskDirective],\r\n  exports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DateMaskDirective\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { AccordionComponent } from './accordion.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    AccordionComponent,\r\n  ],\r\n  exports: [\r\n    AccordionComponent,\r\n  ]\r\n})\r\nexport class AccordionModule { }\r\n","import { ViewContainerRef } from '@angular/core';\r\nimport { MatDialogConfig, DialogPosition, DialogRole } from '@angular/material/dialog';\r\n\r\nexport class DialogModel {\r\n    title = ' ';\r\n    actions: DialogAction[] = [];\r\n    /** Height of the dialog. */\r\n    height?: string;\r\n    /** Width of the dialog. */\r\n    width?: string;\r\n    /**\r\n     * Where the attached component should live in Angular's *logical* component tree.\r\n     * This affects what is available for injection and the change detection order for the\r\n     * component instantiated inside of the dialog. This does not affect where the dialog\r\n     * content will be rendered.\r\n     */\r\n    viewContainerRef?: ViewContainerRef;\r\n    /** The ARIA role of the dialog element. */\r\n    role?: DialogRole;\r\n    /** Custom class for the overlay pane. */\r\n    panelClass?: string;\r\n    /** Whether the dialog has a backdrop. */\r\n    hasBackdrop?= true;\r\n    /** Custom class for the backdrop, */\r\n    backdropClass?: string;\r\n    /** Whether the user can use escape or clicking outside to close a modal. */\r\n    disableClose?= false;\r\n    /** Position overrides. */\r\n    position?: DialogPosition;\r\n    /** Data being injected into the child component. */\r\n    data?: any;\r\n    /** Layout direction for the dialog's content. */\r\n    direction?: 'ltr' | 'rtl';\r\n\r\n    get config(): MatDialogConfig {\r\n        return {\r\n            viewContainerRef: this.viewContainerRef,\r\n            role: this.role,\r\n            panelClass: this.panelClass,\r\n            hasBackdrop: this.hasBackdrop,\r\n            backdropClass: this.backdropClass,\r\n            disableClose: this.disableClose,\r\n            width: this.width,\r\n            height: this.height,\r\n            position: this.position,\r\n            data: this.data,\r\n            direction: this.direction\r\n        };\r\n    }\r\n}\r\n\r\nexport class DialogAction {\r\n    value: any = null;\r\n    label = '';\r\n    color: 'primary' | 'accent' | 'warn' = 'accent';\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ViewEncapsulation,\r\n  ViewChildren,\r\n  QueryList,\r\n  ElementRef,\r\n  AfterViewInit\r\n} from '@angular/core';\r\nimport { MatDialogClose, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { DialogAction, DialogModel } from './dialog.model';\r\nimport { ChangeDetectionStrategy } from '@angular/compiler/src/core';\r\n\r\n@Component({\r\n  selector: 'iu-dialog',\r\n  templateUrl: './dialog.component.html',\r\n  styleUrls: ['./dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n  // changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DialogComponent implements AfterViewInit {\r\n  @Input() model: DialogModel = new DialogModel();\r\n  @Input() showActions = true;\r\n  @Input() showCloseAction = false;\r\n  @Input() showCloseIcon = true;\r\n  @Input() defaultActionColor = 'accent';\r\n  @ViewChildren(MatDialogClose) actionElements!: QueryList<MatDialogClose>;\r\n\r\n  constructor(public dialogRef: MatDialogRef<DialogComponent>) { }\r\n\r\n  get actions(): DialogAction[] {\r\n    return this.model.actions;\r\n  }\r\n\r\n  get actionWidth(): string {\r\n    const actionsCount = Math.max(this.actions.length, 1);\r\n    return `${100 / actionsCount}%`;\r\n  }\r\n\r\n  get closeDialogDirectives(): MatDialogClose[] {\r\n    return this.actionElements['_results'];\r\n  }\r\n\r\n  get closeDialogElements(): ElementRef[] {\r\n    return this.closeDialogDirectives.map(x => <ElementRef>x['_elementRef']);\r\n  }\r\n\r\n  get title(): string {\r\n    return this.model.title;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // setTimeout(() => {\r\n    //   console.dir(this.actionElements);\r\n    //   console.dir(this.closeDialogDirectives);\r\n    //   console.dir(this.closeDialogElements);\r\n    //   console.dir(this.closeDialogElements[1]);\r\n    //   console.log(typeof this.closeDialogElements[1].nativeElement['click']);\r\n    //   this.closeDialogElements[1].nativeElement.click();\r\n    // }, 3000);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(e) {\r\n  }\r\n\r\n  close(e: any) {\r\n    this.dialogRef.close(e);\r\n  }\r\n}\r\n","<mat-toolbar color=\"primary\" mat-dialog-title>\r\n  <span class=\"dialog-title\">\r\n    {{ title }}\r\n    <button *ngIf=\"showCloseIcon\" mat-button [mat-dialog-close]=\"null\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </span>\r\n</mat-toolbar>\r\n<mat-dialog-content class=\"scrollable\">\r\n  <ng-content></ng-content>\r\n</mat-dialog-content>\r\n<!-- <mat-dialog-actions *ngIf=\"showActions && actions.length > 0\">\r\n  <button\r\n    class=\"action\"\r\n    *ngFor=\"let action of actions; let first = first\"\r\n    mat-raised-button\r\n    [mat-dialog-close]=\"action.value\"\r\n    [style.width]=\"actionWidth\"\r\n    color=\"primary\"\r\n    [autofocus]=\"first\"\r\n  >\r\n    {{ action.label }}\r\n  </button>\r\n</mat-dialog-actions> -->\r\n<mat-dialog-actions *ngIf=\"showActions && actions.length > 0\">\r\n  <button class=\"action\" *ngFor=\"let action of actions; let first = first\" mat-raised-button\r\n    (click)=\"close(action.value)\" [style.width]=\"actionWidth\" color=\"primary\" [autofocus]=\"first\">\r\n    {{ action.label }}\r\n  </button>\r\n</mat-dialog-actions>\r\n<mat-dialog-actions *ngIf=\"showCloseAction && actions.length === 0\">\r\n  <button mat-raised-button mat-dialog-close=\"close\" color=\"primary\" [style.width]=\"actionWidth\">\r\n    Close\r\n  </button>\r\n</mat-dialog-actions>\r\n","import { Component, Input, ViewEncapsulation, Optional, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\nimport { DialogModel, DialogAction } from '../dialog.model';\r\nimport { build, toArray } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-confirm-delete',\r\n  templateUrl: './confirm-delete.component.html',\r\n  styleUrls: ['./confirm-delete.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ConfirmDeleteComponent {\r\n  @Input() header = 'Delete Confirmation';\r\n  @Input() question = 'Are you sure you want to delete this record?';\r\n  dialog = new DialogModel();\r\n\r\n  constructor(@Optional() public dialogRef?: MatDialogRef<ConfirmDeleteComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public data?: any) {\r\n    this.dialog = build(DialogModel, {\r\n      title: this.headerText,\r\n      actions: data && data.actions ? toArray(data.actions) : [build(DialogAction, { label: `Yes`, value: true }), build(DialogAction, { label: `Cancel`, value: false })]\r\n    });\r\n  }\r\n\r\n  get headerText(): string {\r\n    return this.data && this.data.header ? this.data.header : this.header;\r\n  }\r\n\r\n  get questionText(): string {\r\n    return this.data && this.data.question ? this.data.question : this.question;\r\n  }\r\n}\r\n","<iu-dialog id=\"confirm-delete\" [model]=\"dialog\">\r\n  <div class=\"content-wrapper\">\r\n    <h4>{{ questionText }}</h4>\r\n  </div>\r\n</iu-dialog>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { Address } from '../../shared/models';\r\nimport { truthy } from '../../shared/utils';\r\n\r\n@Pipe({\r\n  name: 'address'\r\n})\r\nexport class AddressPipe implements PipeTransform {\r\n  transform(value: Address, showName = false): string {\r\n    const address = value\r\n      ? `\r\n      ${value.address1 || ''}\r\n      ${value.city || ''}${\r\n          truthy(value.city) && truthy(value.stateCode)\r\n            ? ', ' + value.stateCode\r\n            : ''\r\n        } ${value.zip || ''}\r\n    `\r\n      : '';\r\n    return showName\r\n      ? `${value.firstName || ''} ${value.lastName || ''} ${address}`\r\n      : address;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { Address } from '../../../shared/models';\r\n\r\n@Component({\r\n  selector: 'iu-inline-address',\r\n  templateUrl: './inline-address.component.html',\r\n  styleUrls: ['./inline-address.component.scss']\r\n})\r\nexport class InlineAddressComponent implements OnInit {\r\n\r\n  @Input() address: Address;\r\n  @Input() canActivate = false;\r\n  @Input() canDelete = false;\r\n  @Input() canEdit = false;\r\n  @Input() showName = false;\r\n  @Output() activate = new EventEmitter<Address>();\r\n  @Output() delete = new EventEmitter<Address>();\r\n  @Output() edit = new EventEmitter<Address>();\r\n\r\n  constructor() { }\r\n\r\n  get isPrimary(): boolean {\r\n    return this.address.isPrimaryAddress;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onActivate() {\r\n    this.activate.emit(this.address);\r\n  }\r\n\r\n  onDelete() {\r\n    this.delete.emit(this.address);\r\n  }\r\n\r\n  onEdit() {\r\n    this.edit.emit(this.address);\r\n  }\r\n\r\n}\r\n","<div class=\"row inline-address\">\r\n  <div class=\"col mailing-address\" [class.primary]=\"isPrimary\">\r\n    {{ address | address: showName }}\r\n  </div>\r\n  <div class=\"col\" *ngIf=\"canActivate\">\r\n    <button\r\n      color=\"primary\"\r\n      mat-button\r\n      class=\"edit-icon activate-text\"\r\n      (click)=\"onActivate()\"\r\n    >\r\n      Mark Active\r\n    </button>\r\n  </div>\r\n  <div class=\"col\" *ngIf=\"canEdit\">\r\n    <mat-icon color=\"primary\" class=\"edit-icon\" (click)=\"onEdit()\"\r\n      >edit</mat-icon\r\n    >\r\n  </div>\r\n  <div class=\"col\" *ngIf=\"canDelete\">\r\n    <mat-icon color=\"primary\" class=\"edit-icon\" (click)=\"onDelete()\"\r\n      >delete</mat-icon\r\n    >\r\n  </div>\r\n</div>\r\n","import { AbstractControl, FormBuilder, FormArray as Ng2FormArray, ValidatorFn, AsyncValidatorFn } from '@angular/forms';\r\n\r\nimport { buildAbstractControl, buildControlsConfig } from './utils';\r\nimport { TypeConstructor } from '../shared/models';\r\nimport { build, getValue, toArray } from '../shared/utils';\r\n\r\nexport class FormArray extends Ng2FormArray {\r\n\r\n    ctor: TypeConstructor<any>;\r\n\r\n    static Build<T>(fb: FormBuilder, controls: AbstractControl[], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        return new FormArray(fb, controls, validator, asyncValidator);\r\n    }\r\n\r\n    static BuildWithType<T>(ctor: TypeConstructor<T>, fb: FormBuilder, controls: AbstractControl[] = [], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        return fa;\r\n    }\r\n\r\n    static BuildWithTypeAndValue<T>(ctor: TypeConstructor<T>, value: T[], fb: FormBuilder, controls: AbstractControl[] = [], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n\r\n    static BuildWithValue<T>(value: T[], fb: FormBuilder, controls: AbstractControl[] = [], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n\r\n    static GetValue(value: any[], ctor: TypeConstructor<any>): any[] {\r\n        return toArray(value).map(x => getValue(build(ctor, x)));\r\n    }\r\n\r\n    constructor(public fb: FormBuilder, controls: AbstractControl[], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        super(controls, validator, asyncValidator);\r\n    }\r\n\r\n    get maxIndex(): number {\r\n        return this.length - 1;\r\n    }\r\n\r\n    get values(): any[] {\r\n        return [...this.value];\r\n    }\r\n\r\n    buildControls(n: number): AbstractControl[] {\r\n        return this.buildItems(n).map(x => buildAbstractControl(this.fb, x));\r\n    }\r\n\r\n    buildItems(n: number): any[] {\r\n        return Array.from(Array(n).keys()).map(x => this.ctor ? getValue(new this.ctor()) : {});\r\n    }\r\n\r\n    getValue(value: any[]): any[] {\r\n        return this.ctor ? toArray(value).map(x => getValue(build(this.ctor, x))) : value;\r\n    }\r\n\r\n    resetValue(value: any[]) {\r\n        this.removeAll();\r\n        this.addControls(value);\r\n        this.setValue(value);\r\n    }\r\n\r\n    setLength(value: number) {\r\n        if (this.length < value) {\r\n            this.add(value - this.length);\r\n        } else if (this.length > value) {\r\n            this.remove(this.length - value);\r\n        }\r\n    }\r\n\r\n    setValue(value: any[]) {\r\n        this.setLength(value.length);\r\n        super.setValue(this.getValue(value));\r\n    }\r\n\r\n    findControlById(id: any): AbstractControl {\r\n        return this.controls.find(control => control.value && control.value['id'] && control.value['id'] === id);\r\n    }\r\n\r\n    removeAll() {\r\n        this.controls = [];\r\n    }\r\n\r\n    removeIndexes(indexes: any[]) {\r\n        indexes.forEach(index => {\r\n            this.removeAt(index);\r\n        });\r\n    }\r\n\r\n    add(n: number) {\r\n        this.buildControls(n).forEach(x => {\r\n            this.push(x);\r\n        });\r\n    }\r\n\r\n    remove(n: number) {\r\n        const k = Math.min(n, this.length);\r\n        Array.from(Array(k).keys()).forEach(x => {\r\n            this.removeAt(this.maxIndex);\r\n        });\r\n    }\r\n\r\n    addControls(value: any[]) {\r\n        const controls = value.map(x => this.fb.group(buildControlsConfig(x, this.fb)));\r\n        controls.forEach(control => {\r\n            this.push(control);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set value of each control.\r\n     * @param ctor Class constructor\r\n     * @param props Values to assign to props of each control\r\n     */\r\n    setAll(ctor: TypeConstructor<any>, props: any) {\r\n        this.controls.forEach(control => {\r\n            control.setValue(build(new ctor(), control.value, props));\r\n        });\r\n    }\r\n\r\n}\r\n","import { FormGroup, FormBuilder, AbstractControl, FormControl, ValidatorFn, AsyncValidatorFn } from '@angular/forms';\r\n\r\nimport { FormArray } from './models';\r\nimport { Dictionary, TypeConstructor } from '../shared/models';\r\nimport { getAllProps, ignoreKey, inArray, build, getValue } from '../shared/utils';\r\n\r\nexport function buildAbstractControl(fb: FormBuilder, value: any): FormGroup | FormArray | FormControl {\r\n    return isGroupValue(value) ? fb.group(buildControlsConfig(value, fb)) : fb.control(value);\r\n}\r\n\r\n/**\r\n * Construct form builder and initialize new form array\r\n */\r\nexport function buildArrayFromType<T>(ctor: TypeConstructor<T>, validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn): FormArray {\r\n    const fb = new FormBuilder();\r\n    return FormArray.BuildWithType(ctor, fb, [], validator, asyncValidator);\r\n}\r\n\r\nexport function buildControl(fb: FormBuilder, model: any, key: string): FormGroup | FormArray | any[] {\r\n    return isFormGroup(model, key) ?\r\n        fb.group(buildControlsConfig(model[key], fb))\r\n        : (isFormArray(model, key) ? buildFormArray(fb, model, key)\r\n            : (hasValidators(model, key) ? [model[key], model['metadata'][key]['validators']]\r\n                : [model[key]]));\r\n}\r\n\r\n/**\r\n * Construct form builder and initialize new form group.\r\n */\r\nexport function buildControlFromModel<T>(model: T): FormGroup {\r\n    const fb = new FormBuilder();\r\n    const controlsConfig = buildControlsConfig(model, fb);\r\n    return hasGroupValidators(model) ? fb.group(controlsConfig, model['metadata']['validators']) : fb.group(controlsConfig);\r\n}\r\n\r\n/**\r\n * Function to recursively construct form control config object.\r\n */\r\nexport function buildControlsConfig(model: any, fb: FormBuilder): Dictionary<any> {\r\n    const keys = getAllProps(model);\r\n    const config: Dictionary<any> = {};\r\n    return keys.filter(key => key !== 'metadata' && !ignoreKey(model, key))\r\n        .reduce((acc, key) => Object.assign({}, acc, { [key]: buildControl(fb, model, key) }), {});\r\n}\r\n\r\n/**\r\n * Initialize new form array.\r\n */\r\nexport function buildFormArray<T>(fb: FormBuilder, model: any, key: string): FormArray {\r\n    const ctor = findFormArrayType(model, key);\r\n    const value = model[key];\r\n    const controls = buildFormArrayControls(fb, value, ctor);\r\n    return ctor ? FormArray.BuildWithType(ctor, fb, controls) : FormArray.Build(fb, []);\r\n}\r\n\r\nexport function buildFormArrayControls<T>(fb: FormBuilder, value: T[], ctor?: TypeConstructor<T>): AbstractControl[] {\r\n    return ctor ? value.map(x => buildAbstractControl(fb, getValue(build(ctor, x))))\r\n        : value.map(x => buildAbstractControl(fb, x));\r\n}\r\n\r\nexport function findFormArrayType(model: any, key: string): TypeConstructor<any> {\r\n    return model['metadata'] && model['metadata'][key] ?\r\n        <TypeConstructor<any>>model['metadata'][key]['type'] : null;\r\n}\r\n\r\nexport function hasGroupValidators(model: any): boolean {\r\n    return model['metadata'] && model['metadata']['validators'];\r\n}\r\n\r\nexport function hasValidators(model: any, key: string): boolean {\r\n    return model['metadata'] && model['metadata'][key] && model['metadata'][key]['validators'];\r\n}\r\n\r\nexport function isArrayValue(value: any): boolean {\r\n    return Array.isArray(value);\r\n}\r\n\r\nexport function isFormArray(model: any, key: string): boolean {\r\n    return Array.isArray(model[key]) && model['metadata'] && model['metadata'][key] && model['metadata'][key]['isFormArray'];\r\n}\r\n\r\nexport function isFormControl(model: any, key: string): boolean {\r\n    return model['metadata'] && model['metadata']['controls'] && inArray(model['metadata']['controls'], key);\r\n}\r\n\r\nexport function isFormGroup(model: any, key: string): boolean {\r\n    return model[key]\r\n        && typeof model[key] === 'object'\r\n        && !Array.isArray(model[key])\r\n        && Object.keys(model[key]).length > 0\r\n        && !isFormControl(model, key)\r\n        && !isFormArray(model, key);\r\n}\r\n\r\nexport function isGroupValue(value: any): boolean {\r\n    return typeof value === 'object' && Object.keys(value).length > 0 && !isArrayValue(value);\r\n}\r\n","import { TypeConstructor } from '../shared/models';\r\nimport { ValidatorFn, AsyncValidatorFn } from '@angular/forms';\r\n\r\nimport { buildControlFromModel, buildArrayFromType } from './utils';\r\n\r\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nexport function Control<T>(ctor: TypeConstructor<T>) {\r\n    const propertyDecorator = (target: any, propertySignature: string) => {\r\n        const decoratedProperty = buildControlFromModel(new ctor());\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\r\n\r\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nexport function ArrayControl<T>(ctor: TypeConstructor<T>, validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n    const propertyDecorator = (target: any, propertySignature: string) => {\r\n        const decoratedProperty = buildArrayFromType(ctor, validator, asyncValidator);\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\r\n","export const LOOKUP_STATES = [\r\n  {\r\n    label: 'Alabama',\r\n    name: 'AL'\r\n  },\r\n  {\r\n    label: 'Alaska',\r\n    name: 'AK'\r\n  },\r\n  {\r\n    label: 'American Samoa',\r\n    name: 'AS'\r\n  },\r\n  {\r\n    label: 'Arizona',\r\n    name: 'AZ'\r\n  },\r\n  {\r\n    label: 'Arkansas',\r\n    name: 'AR'\r\n  },\r\n  {\r\n    label: 'California',\r\n    name: 'CA'\r\n  },\r\n  {\r\n    label: 'Colorado',\r\n    name: 'CO'\r\n  },\r\n  {\r\n    label: 'Connecticut',\r\n    name: 'CT'\r\n  },\r\n  {\r\n    label: 'Delaware',\r\n    name: 'DE'\r\n  },\r\n  {\r\n    label: 'District Of Columbia',\r\n    name: 'DC'\r\n  },\r\n  {\r\n    label: 'Federated States Of Micronesia',\r\n    name: 'FM'\r\n  },\r\n  {\r\n    label: 'Florida',\r\n    name: 'FL'\r\n  },\r\n  {\r\n    label: 'Georgia',\r\n    name: 'GA'\r\n  },\r\n  {\r\n    label: 'Guam',\r\n    name: 'GU'\r\n  },\r\n  {\r\n    label: 'Hawaii',\r\n    name: 'HI'\r\n  },\r\n  {\r\n    label: 'Idaho',\r\n    name: 'ID'\r\n  },\r\n  {\r\n    label: 'Illinois',\r\n    name: 'IL'\r\n  },\r\n  {\r\n    label: 'Indiana',\r\n    name: 'IN'\r\n  },\r\n  {\r\n    label: 'Iowa',\r\n    name: 'IA'\r\n  },\r\n  {\r\n    label: 'Kansas',\r\n    name: 'KS'\r\n  },\r\n  {\r\n    label: 'Kentucky',\r\n    name: 'KY'\r\n  },\r\n  {\r\n    label: 'Louisiana',\r\n    name: 'LA'\r\n  },\r\n  {\r\n    label: 'Maine',\r\n    name: 'ME'\r\n  },\r\n  {\r\n    label: 'Marshall Islands',\r\n    name: 'MH'\r\n  },\r\n  {\r\n    label: 'Maryland',\r\n    name: 'MD'\r\n  },\r\n  {\r\n    label: 'Massachusetts',\r\n    name: 'MA'\r\n  },\r\n  {\r\n    label: 'Michigan',\r\n    name: 'MI'\r\n  },\r\n  {\r\n    label: 'Minnesota',\r\n    name: 'MN'\r\n  },\r\n  {\r\n    label: 'Mississippi',\r\n    name: 'MS'\r\n  },\r\n  {\r\n    label: 'Missouri',\r\n    name: 'MO'\r\n  },\r\n  {\r\n    label: 'Montana',\r\n    name: 'MT'\r\n  },\r\n  {\r\n    label: 'Nebraska',\r\n    name: 'NE'\r\n  },\r\n  {\r\n    label: 'Nevada',\r\n    name: 'NV'\r\n  },\r\n  {\r\n    label: 'New Hampshire',\r\n    name: 'NH'\r\n  },\r\n  {\r\n    label: 'New Jersey',\r\n    name: 'NJ'\r\n  },\r\n  {\r\n    label: 'New Mexico',\r\n    name: 'NM'\r\n  },\r\n  {\r\n    label: 'New York',\r\n    name: 'NY'\r\n  },\r\n  {\r\n    label: 'North Carolina',\r\n    name: 'NC'\r\n  },\r\n  {\r\n    label: 'North Dakota',\r\n    name: 'ND'\r\n  },\r\n  {\r\n    label: 'Northern Mariana Islands',\r\n    name: 'MP'\r\n  },\r\n  {\r\n    label: 'Ohio',\r\n    name: 'OH'\r\n  },\r\n  {\r\n    label: 'Oklahoma',\r\n    name: 'OK'\r\n  },\r\n  {\r\n    label: 'Oregon',\r\n    name: 'OR'\r\n  },\r\n  {\r\n    label: 'Palau',\r\n    name: 'PW'\r\n  },\r\n  {\r\n    label: 'Pennsylvania',\r\n    name: 'PA'\r\n  },\r\n  {\r\n    label: 'Puerto Rico',\r\n    name: 'PR'\r\n  },\r\n  {\r\n    label: 'Rhode Island',\r\n    name: 'RI'\r\n  },\r\n  {\r\n    label: 'South Carolina',\r\n    name: 'SC'\r\n  },\r\n  {\r\n    label: 'South Dakota',\r\n    name: 'SD'\r\n  },\r\n  {\r\n    label: 'Tennessee',\r\n    name: 'TN'\r\n  },\r\n  {\r\n    label: 'Texas',\r\n    name: 'TX'\r\n  },\r\n  {\r\n    label: 'Utah',\r\n    name: 'UT'\r\n  },\r\n  {\r\n    label: 'Vermont',\r\n    name: 'VT'\r\n  },\r\n  {\r\n    label: 'Virgin Islands',\r\n    name: 'VI'\r\n  },\r\n  {\r\n    label: 'Virginia',\r\n    name: 'VA'\r\n  },\r\n  {\r\n    label: 'Washington',\r\n    name: 'WA'\r\n  },\r\n  {\r\n    label: 'West Virginia',\r\n    name: 'WV'\r\n  },\r\n  {\r\n    label: 'Wisconsin',\r\n    name: 'WI'\r\n  },\r\n  {\r\n    label: 'Wyoming',\r\n    name: 'WY'\r\n  }\r\n];\r\n\r\nexport const COLORS = [\r\n  {\r\n    name: 'blue',\r\n    hex: '#OOOOFF'\r\n  },\r\n  {\r\n    name: 'blueviolet',\r\n    hex: '#8A2BE2'\r\n  },\r\n  {\r\n    name: 'cadetblue',\r\n    hex: '#5F9EA0'\r\n  },\r\n  {\r\n    name: 'crimson',\r\n    hex: '#DC143C'\r\n  },\r\n  // {\r\n  //   name: 'darkblue',\r\n  //   hex: '#00008B'\r\n  // },\r\n  {\r\n    name: 'darkcyan',\r\n    hex: '#008B8B'\r\n  },\r\n  {\r\n    name: 'darkgreen',\r\n    hex: '#006400'\r\n  },\r\n  {\r\n    name: 'darkmagenta',\r\n    hex: '#8B008B'\r\n  },\r\n  {\r\n    name: 'darkolivegreen',\r\n    hex: '#556B2F'\r\n  },\r\n  {\r\n    name: 'darkorange',\r\n    hex: '#FF8C00'\r\n  },\r\n  {\r\n    name: 'darkorchid',\r\n    hex: '#9932CC'\r\n  },\r\n  {\r\n    name: 'darkred',\r\n    hex: '#8B0000'\r\n  },\r\n  {\r\n    name: 'darkslateblue',\r\n    hex: '#483D8B'\r\n  },\r\n  {\r\n    name: 'darkslategray',\r\n    hex: '#2F4F4F'\r\n  },\r\n  {\r\n    name: 'darkturquoise',\r\n    hex: '#00CED1'\r\n  },\r\n  {\r\n    name: 'darkviolet',\r\n    hex: '#9400D3'\r\n  },\r\n  {\r\n    name: 'deeppink',\r\n    hex: '#FF1493'\r\n  },\r\n  {\r\n    name: 'deepskyblue',\r\n    hex: '#00BFFF'\r\n  },\r\n  {\r\n    name: 'dodgerblue',\r\n    hex: '#1E90FF'\r\n  },\r\n  {\r\n    name: 'firebrick',\r\n    hex: '#B22222'\r\n  },\r\n  {\r\n    name: 'forestgreen',\r\n    hex: '#228B22'\r\n  },\r\n  {\r\n    name: 'fuchsia',\r\n    hex: '\t#FF00FF'\r\n  },\r\n  {\r\n    name: 'gold',\r\n    hex: '#FFD700'\r\n  },\r\n  {\r\n    name: 'goldenrod',\r\n    hex: '#DAA520'\r\n  },\r\n  {\r\n    name: 'green',\r\n    hex: '#008000'\r\n  },\r\n  {\r\n    name: 'grey',\r\n    hex: '#808080'\r\n  },\r\n  {\r\n    name: 'hotpink',\r\n    hex: '#FF69B4'\r\n  },\r\n  {\r\n    name: 'indianred',\r\n    hex: '\t#CD5C5C'\r\n  },\r\n  {\r\n    name: 'indigo',\r\n    hex: '#4B0082'\r\n  },\r\n  {\r\n    name: 'lawngreen',\r\n    hex: '#7CFC00'\r\n  },\r\n  {\r\n    name: 'lightcoral',\r\n    hex: '#F08080'\r\n  },\r\n  {\r\n    name: 'lightsalmon',\r\n    hex: '\t#FFA07A'\r\n  },\r\n  {\r\n    name: 'lightseagreen',\r\n    hex: '#20B2AA'\r\n  },\r\n  {\r\n    name: 'lightslategrey',\r\n    hex: '#778899'\r\n  },\r\n  {\r\n    name: 'lightsteelblue',\r\n    hex: '#B0C4DE'\r\n  },\r\n  {\r\n    name: 'lime',\r\n    hex: '#00FF00'\r\n  },\r\n  {\r\n    name: 'limegreen',\r\n    hex: '#32CD32'\r\n  },\r\n  {\r\n    name: 'magenta',\r\n    hex: '#FF00FF'\r\n  },\r\n  {\r\n    name: 'mediumaquamarine',\r\n    hex: '#66CDAA'\r\n  },\r\n  {\r\n    name: 'mediumorchid',\r\n    hex: '#BA55D3'\r\n  },\r\n  {\r\n    name: 'mediumpurple',\r\n    hex: '#9370DB'\r\n  },\r\n  {\r\n    name: 'mediumseagreen',\r\n    hex: '#3CB371'\r\n  },\r\n  {\r\n    name: 'mediumspringgreen',\r\n    hex: '#00FA9A'\r\n  },\r\n  {\r\n    name: 'olive',\r\n    hex: '#808000'\r\n  },\r\n  {\r\n    name: 'olivedrab',\r\n    hex: '#6B8E23'\r\n  },\r\n  {\r\n    name: 'orange',\r\n    hex: '#FFA500'\r\n  },\r\n  {\r\n    name: 'orangered',\r\n    hex: '#FF4500'\r\n  },\r\n  {\r\n    name: 'orchid',\r\n    hex: '#DA70D6'\r\n  },\r\n  {\r\n    name: 'palevioletred',\r\n    hex: '#DB7093'\r\n  },\r\n  {\r\n    name: 'red',\r\n    hex: '#FFOOOO'\r\n  },\r\n  {\r\n    name: 'royalblue',\r\n    hex: '#4169E1'\r\n  },\r\n  {\r\n    name: 'salmon',\r\n    hex: '#FA8072'\r\n  },\r\n  {\r\n    name: 'sandybrown',\r\n    hex: '#F4A460'\r\n  },\r\n  {\r\n    name: 'seagreen',\r\n    hex: '#2E8B57'\r\n  },\r\n  {\r\n    name: 'silver',\r\n    hex: '#C0C0C0'\r\n  },\r\n  {\r\n    name: 'skyblue',\r\n    hex: '#87CEEB'\r\n  },\r\n  {\r\n    name: 'slateblue',\r\n    hex: '#6A5ACD'\r\n  },\r\n  {\r\n    name: 'springgreen',\r\n    hex: '#00FF7F'\r\n  },\r\n  {\r\n    name: 'steelblue',\r\n    hex: '#4682B4'\r\n  },\r\n  {\r\n    name: 'tan',\r\n    hex: '#D2B48C'\r\n  },\r\n  {\r\n    name: 'teal',\r\n    hex: '#008080'\r\n  },\r\n  {\r\n    name: 'thistle',\r\n    hex: '#D8BFD8'\r\n  },\r\n  {\r\n    name: 'tomato',\r\n    hex: '#FF6347'\r\n  },\r\n  {\r\n    name: 'turquoise',\r\n    hex: '#40E0D0'\r\n  },\r\n  {\r\n    name: 'violet',\r\n    hex: '#EE82EE'\r\n  },\r\n  {\r\n    name: 'yellow',\r\n    hex: '#FFFF00'\r\n  },\r\n  {\r\n    name: 'yellowgreen',\r\n    hex: '#9ACD32'\r\n  }\r\n];\r\n","import { Component, forwardRef } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\n\r\nimport { LOOKUP_STATES } from '../../../shared/lookup';\r\n\r\nexport const STATE_PICKER_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => StatePickerComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-state-picker',\r\n  templateUrl: './state-picker.component.html',\r\n  styleUrls: ['./state-picker.component.scss'],\r\n  providers: [STATE_PICKER_ACCESSOR]\r\n})\r\nexport class StatePickerComponent implements ControlValueAccessor {\r\n\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  value: string;\r\n  states = LOOKUP_STATES;\r\n\r\n  constructor() { }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: string) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: string) {\r\n    this.onModelChange(value);\r\n  }\r\n\r\n}\r\n","<mat-form-field>\r\n  <mat-select placeholder=\"State\" [value]=\"value\" (selectionChange)=\"onChange($event.value)\">\r\n    <mat-option *ngFor=\"let state of states\" [value]=\"state.name\">\r\n      {{ state.label }} ({{ state.name }})\r\n    </mat-option>\r\n  </mat-select>\r\n</mat-form-field>\r\n","import {\r\n  Component,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  forwardRef,\r\n  OnInit,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  AbstractControl,\r\n  NG_VALUE_ACCESSOR,\r\n  ControlValueAccessor\r\n} from '@angular/forms';\r\n\r\nimport { Control } from '../../../forms/decorators';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { Address } from '../../../shared/models';\r\nimport { build, equals, getValue } from '../../../shared/utils';\r\n\r\nexport const ADDRESS_FORM_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => AddressFormComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-address-form',\r\n  templateUrl: './address-form.component.html',\r\n  styleUrls: ['./address-form.component.scss'],\r\n  providers: [ADDRESS_FORM_ACCESSOR]\r\n})\r\nexport class AddressFormComponent extends DumbComponent\r\n  implements OnInit, OnChanges, ControlValueAccessor {\r\n  @Control(Address) form: FormGroup;\r\n  @Input() address: Address = new Address();\r\n  @Input() canDelete = false;\r\n  @Input() debug = false;\r\n  @Input() hasPrimaryAddress = true;\r\n  @Input() manager = false;\r\n  @Input() requireEffectiveDate = false;\r\n  @Input() showName = false;\r\n  @Input() zipPlus4 = true;\r\n  @Output() changes = new EventEmitter<Address>();\r\n  @Output() delete = new EventEmitter<Address>();\r\n  @Output() save = new EventEmitter<Address>();\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  value: Address;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  get canSave(): boolean {\r\n    return this.manager && this.form.valid && this.form.dirty;\r\n  }\r\n\r\n  get isPrimaryAddress(): boolean {\r\n    return this.isPrimaryAddressControl.value;\r\n  }\r\n\r\n  set isPrimaryAddress(value: boolean) {\r\n    this.isPrimaryAddressControl.setValue(value);\r\n  }\r\n\r\n  get isPrimaryAddressControl(): AbstractControl {\r\n    return this.form.controls['isPrimaryAddress'];\r\n  }\r\n\r\n  get showMakePrimaryButton(): boolean {\r\n    return this.canSave && !this.isPrimaryAddress && this.hasPrimaryAddress;\r\n  }\r\n\r\n  get valueOut(): Address {\r\n    return build(Address, this.form.value, {\r\n      id: this.address.id,\r\n      isPrimaryAddress: this.isPrimaryAddress\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!equals(changes['address'], this.address)) {\r\n      if (this.debug) {\r\n        console.log('\\nCHANGE Address VALUE');\r\n        console.dir(getValue(this.address));\r\n      }\r\n      this.setValue(this.address);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form.valueChanges.subscribe(x => {\r\n      this.onChange();\r\n    });\r\n  }\r\n\r\n  onActivate() {\r\n    this.isPrimaryAddress = true;\r\n    this.onSubmit();\r\n    this.isPrimaryAddress = false;\r\n  }\r\n\r\n  onChange() {\r\n    this.value = this.form.value;\r\n    this.changes.emit(this.valueOut);\r\n  }\r\n\r\n  onDelete() {\r\n    this.delete.emit(this.address);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.save.emit(this.valueOut);\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {}\r\n\r\n  writeValue(value: Address) {\r\n    if (this.debug) {\r\n      console.log('\\nCHANGE Address VALUE');\r\n      console.dir(getValue(build(Address, value)));\r\n    }\r\n    this.value = value;\r\n    this.setValue(build(Address, value));\r\n  }\r\n}\r\n","<form class=\"address-form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\r\n  <mat-form-field class=\"control first-name\" *ngIf=\"showName\">\r\n    <input\r\n      matInput\r\n      placeholder=\"First Name\"\r\n      type=\"text\"\r\n      formControlName=\"firstName\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control last-name\" *ngIf=\"showName\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Last Name\"\r\n      type=\"text\"\r\n      formControlName=\"lastName\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control address1\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Address 1\"\r\n      type=\"text\"\r\n      formControlName=\"address1\"\r\n      #address1\r\n    />\r\n    <mat-error>Street address is required.</mat-error>\r\n    <button\r\n      mat-button\r\n      *ngIf=\"address1.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"address1.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control address2\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Address 2\"\r\n      type=\"text\"\r\n      formControlName=\"address2\"\r\n      #address2\r\n    />\r\n    <button\r\n      mat-button\r\n      *ngIf=\"address2.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"address2.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control city\">\r\n    <input\r\n      matInput\r\n      placeholder=\"City\"\r\n      type=\"text\"\r\n      formControlName=\"city\"\r\n      #city\r\n    />\r\n    <mat-error>City is required.</mat-error>\r\n    <button\r\n      mat-button\r\n      *ngIf=\"city.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"city.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n\r\n  <iu-state-picker\r\n    class=\"control state\"\r\n    formControlName=\"stateCode\"\r\n  ></iu-state-picker>\r\n\r\n  <!--Zip Code Control-->\r\n  <mat-form-field class=\"control zip\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Zip Code\"\r\n      type=\"text\"\r\n      formControlName=\"zip\"\r\n      #zip\r\n    />\r\n    <mat-error\r\n      *ngIf=\"\r\n        form?.controls['zip']?.hasError('zipCode') &&\r\n        form.controls['zip'].touched\r\n      \"\r\n      >Please enter a valid 5-digit zip code.</mat-error\r\n    >\r\n    <button\r\n      mat-button\r\n      *ngIf=\"zip.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"zip.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n  <!--End Zip Code Control-->\r\n\r\n  <!--Zip Plus 4 Control-->\r\n  <mat-form-field class=\"control zip-4\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Zip + 4\"\r\n      type=\"text\"\r\n      formControlName=\"zipPlus4\"\r\n      #zip4\r\n    />\r\n    <mat-error\r\n      *ngIf=\"\r\n        form?.controls['zipPlus4']?.hasError('zipPlus4') &&\r\n        form.controls['zipPlus4'].touched\r\n      \"\r\n      >Please enter 4 numeric digits.</mat-error\r\n    >\r\n    <button\r\n      mat-button\r\n      *ngIf=\"zip4.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"zip4.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n  <!--End Zip Plus 4 Control-->\r\n\r\n  <mat-form-field class=\"control active-date\" *ngIf=\"requireEffectiveDate\">\r\n    <input\r\n      matInput\r\n      [matDatepicker]=\"picker2\"\r\n      placeholder=\"Effective Date\"\r\n      formControlName=\"effectiveDate\"\r\n    />\r\n    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n    <mat-datepicker #picker2></mat-datepicker>\r\n  </mat-form-field>\r\n\r\n  <button\r\n    *ngIf=\"address.id && canDelete\"\r\n    mat-raised-button\r\n    color=\"accent\"\r\n    class=\"btn-delete\"\r\n    (click)=\"onDelete()\"\r\n    [style.right.px]=\"showMakePrimaryButton ? 282 : canSave ? 92 : 20\"\r\n  >\r\n    Delete\r\n  </button>\r\n  <button\r\n    *ngIf=\"showMakePrimaryButton\"\r\n    mat-raised-button\r\n    color=\"primary\"\r\n    class=\"btn-save btn-activate\"\r\n    (click)=\"onActivate()\"\r\n  >\r\n    Save and Mark Active\r\n  </button>\r\n  <button\r\n    *ngIf=\"canSave\"\r\n    mat-raised-button\r\n    color=\"accent\"\r\n    class=\"btn-save\"\r\n    (click)=\"onSubmit()\"\r\n  >\r\n    Save\r\n  </button>\r\n</form>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  forwardRef,\r\n  Input,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport { ConfirmDeleteComponent } from '../dialog/confirm-delete/confirm-delete.component';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { Address } from '../../shared/models';\r\nimport { build, compareDates } from '../../shared/utils';\r\n\r\nexport const ADDRESS_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => AddressComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-address',\r\n  templateUrl: './address.component.html',\r\n  styleUrls: ['./address.component.scss'],\r\n  providers: [ADDRESS_ACCESSOR]\r\n})\r\nexport class AddressComponent extends DumbComponent\r\n  implements OnInit, ControlValueAccessor {\r\n  _addresses: Address[] = [];\r\n  @Input() debug = false;\r\n  @Input() editing = false;\r\n  @Input() hasPrimaryAddress = true;\r\n  @Input() requireEffectiveDate = false;\r\n  @Input() showName = true;\r\n  @Input() zipPlus4 = true;\r\n  @Output() activate = new EventEmitter<Address>();\r\n  @Output() add = new EventEmitter<Address>();\r\n  @Output() delete = new EventEmitter<Address>();\r\n  @Output() update = new EventEmitter<Address>();\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  current: Address;\r\n  errorMessage = '';\r\n  toBeDeleted: Address;\r\n  _value: Address[];\r\n\r\n  constructor(public dialog: MatDialog) {\r\n    super();\r\n  }\r\n\r\n  @Input() set addresses(value: Address[]) {\r\n    this._addresses = value;\r\n    this.changeValue(this._addresses);\r\n  }\r\n\r\n  get addresses(): Address[] {\r\n    return this._addresses.findIndex(x => x.isPrimaryAddress) === -1\r\n      ? this._addresses.map((x, index) =>\r\n          index === 0 ? build(Address, x, { isPrimaryAddress: true }) : x\r\n        )\r\n      : this._addresses;\r\n  }\r\n\r\n  get value(): Address[] {\r\n    return this._value;\r\n  }\r\n\r\n  set value(value: Address[]) {\r\n    this._value = value;\r\n  }\r\n\r\n  get choices(): Address[] {\r\n    return this.addresses.filter((x, i) => !x.isPrimaryAddress);\r\n  }\r\n\r\n  get primaryAddress(): Address {\r\n    return this.addresses.length === 0\r\n      ? null\r\n      : this.addresses.find(x => x.isPrimaryAddress) ||\r\n          build(Address, this.addresses[0]);\r\n  }\r\n\r\n  set primaryAddress(value: Address) {\r\n    this.addresses = [\r\n      build(Address, value, { isPrimaryAddress: true }),\r\n      ...this.removeAddress(value).map(x =>\r\n        build(Address, x, { isPrimaryAddress: false })\r\n      )\r\n    ];\r\n  }\r\n\r\n  get showChoices(): boolean {\r\n    return this.totalChoices > 0;\r\n  }\r\n\r\n  get totalChoices(): number {\r\n    return this.addresses.length;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {}\r\n\r\n  writeValue(value: Address[]) {\r\n    if (this.debug) {\r\n      console.log('\\nWRITE Address Manager VALUE');\r\n      console.dir(value);\r\n    }\r\n    this.value = value;\r\n  }\r\n\r\n  changeValue(value: Address[]) {\r\n    if (this.debug) {\r\n      console.log('\\nCHANGE Address Manager VALUE');\r\n      console.dir(value);\r\n    }\r\n    this.value = value;\r\n    if (this.onModelChange) {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  makePrimary(e: Address) {\r\n    this.primaryAddress = e;\r\n    this.activate.emit(e);\r\n  }\r\n\r\n  addNew() {\r\n    this.current = new Address();\r\n    this.editing = true;\r\n  }\r\n\r\n  addressExists(e: Address): boolean {\r\n    return (\r\n      this.addresses.findIndex(\r\n        x => x.address1 === e.address1 && x.cityStateZip === e.cityStateZip\r\n      ) !== -1\r\n    );\r\n  }\r\n\r\n  flashAddressExistsMessage() {\r\n    this.errorMessage = 'Cannot enter duplicate address!';\r\n    setTimeout(() => {\r\n      this.errorMessage = '';\r\n    }, 4000);\r\n  }\r\n\r\n  back() {\r\n    if (this.current.id === 0) {\r\n      this.addresses = this.removeAddress(this.current);\r\n    }\r\n    this.editing = false;\r\n  }\r\n\r\n  closeDialog(e: boolean) {\r\n    if (e) {\r\n      this.addresses = this.removeAddress(this.toBeDeleted);\r\n      this.delete.emit(this.toBeDeleted);\r\n      this.toBeDeleted = undefined;\r\n      this.editing = false;\r\n    }\r\n  }\r\n\r\n  remove(e: Address) {\r\n    this.toBeDeleted = e;\r\n    this.openDialog(ConfirmDeleteComponent);\r\n  }\r\n\r\n  edit(e: Address) {\r\n    this.current = e;\r\n    this.editing = true;\r\n  }\r\n\r\n  save(e: Address) {\r\n    if (!this.addressExists(e)) {\r\n      this.addresses = this.setActiveDates(this.addAddress(e));\r\n      if (e.id) {\r\n        this.add.emit(e);\r\n      } else {\r\n        this.update.emit(e);\r\n      }\r\n      this.editing = false;\r\n    } else if (!this.toBeDeleted) {\r\n      this.flashAddressExistsMessage();\r\n    }\r\n  }\r\n\r\n  private addAddress(address: Address): Address[] {\r\n    return this.reorder([\r\n      address,\r\n      ...this.addresses\r\n        .filter(x => x.id === 0 || x.id !== address.id)\r\n        .map(x =>\r\n          address.isPrimaryAddress && x.isPrimaryAddress && x.id !== address.id\r\n            ? build(Address, x, { isPrimaryAddress: false })\r\n            : build(Address, x)\r\n        )\r\n    ]);\r\n  }\r\n\r\n  private removeAddress(address: Address): Address[] {\r\n    return this.addresses.filter(x => x !== address);\r\n  }\r\n\r\n  private reorder(addresses: Address[]): Address[] {\r\n    return addresses.reduce(\r\n      (acc, x) => (x.isPrimaryAddress ? [x, ...acc] : [...acc, x]),\r\n      []\r\n    );\r\n  }\r\n\r\n  private setActiveDates(addresses: Address[]): Address[] {\r\n    const ordered = addresses\r\n      .sort((a, b) => compareDates(a.effectiveDate, b.effectiveDate))\r\n      .reverse();\r\n    const now = new Date();\r\n    return ordered.map((x, i) => {\r\n      const startDate = x.effectiveDate;\r\n      const endDate =\r\n        ordered[i + 1] &&\r\n        ordered[i + 1].effectiveDate &&\r\n        ordered[i + 1].effectiveDate > x.effectiveDate\r\n          ? ordered[i + 1].effectiveDate\r\n          : null;\r\n      const isPrimaryAddress =\r\n        x.isPrimaryAddress || (startDate < now && endDate > now ? true : false);\r\n      return build(Address, x, { startDate, endDate, isPrimaryAddress });\r\n    });\r\n  }\r\n}\r\n","<div class=\"card address scrollable\">\r\n  <div class=\"card-header\">\r\n    <h4 class=\"card-title\">Address Information</h4>\r\n  </div>\r\n\r\n  <button\r\n    mat-mini-fab\r\n    color=\"primary\"\r\n    class=\"action-icon\"\r\n    *ngIf=\"!editing\"\r\n    (click)=\"addNew()\"\r\n  >\r\n    <mat-icon>add</mat-icon>\r\n  </button>\r\n\r\n  <button\r\n    mat-mini-fab\r\n    color=\"primary\"\r\n    class=\"action-icon\"\r\n    *ngIf=\"editing\"\r\n    (click)=\"back()\"\r\n  >\r\n    <mat-icon>arrow_back</mat-icon>\r\n  </button>\r\n\r\n  <div *ngIf=\"!editing\" class=\"card-body\">\r\n    <div class=\"card-header\">\r\n      <h4 class=\"card-title\">Current Address</h4>\r\n    </div>\r\n    <div *ngIf=\"primaryAddress\" class=\"card-body\">\r\n      <div class=\"body-content\">\r\n        <div class=\"row\">\r\n          <div class=\"col\">\r\n            <iu-inline-address\r\n              [address]=\"primaryAddress\"\r\n              [canActivate]=\"false\"\r\n              [canDelete]=\"true\"\r\n              [canEdit]=\"true\"\r\n              [showName]=\"showName\"\r\n              (delete)=\"remove($event)\"\r\n              (edit)=\"edit($event)\"\r\n            ></iu-inline-address>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"card-header\">\r\n      <h4 class=\"card-title\">Other Addresses</h4>\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <div class=\"body-content choose-address\">\r\n        <iu-inline-address\r\n          *ngFor=\"let choice of choices\"\r\n          [canActivate]=\"hasPrimaryAddress\"\r\n          [canDelete]=\"true\"\r\n          [canEdit]=\"true\"\r\n          [showName]=\"showName\"\r\n          [address]=\"choice\"\r\n          (activate)=\"makePrimary($event)\"\r\n          (delete)=\"remove($event)\"\r\n          (edit)=\"edit($event)\"\r\n        ></iu-inline-address>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <iu-address-form\r\n    *ngIf=\"editing\"\r\n    [address]=\"current\"\r\n    [canDelete]=\"true\"\r\n    [hasPrimaryAddress]=\"hasPrimaryAddress\"\r\n    [showName]=\"showName\"\r\n    [manager]=\"true\"\r\n    [requireEffectiveDate]=\"requireEffectiveDate\"\r\n    [zipPlus4]=\"zipPlus4\"\r\n    [debug]=\"debug\"\r\n    (save)=\"save($event)\"\r\n    (delete)=\"remove($event)\"\r\n  ></iu-address-form>\r\n  <span id=\"error-message\">{{ errorMessage }}</span>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'iu-auto-logout',\r\n  templateUrl: './auto-logout.component.html',\r\n  styleUrls: ['./auto-logout.component.scss']\r\n})\r\nexport class AutoLogoutComponent implements OnInit {\r\n  seconds = 30;\r\n\r\n  constructor(public dialogRef?: MatDialogRef<AutoLogoutComponent>) {}\r\n\r\n  ngOnInit() {\r\n    setInterval(() => {\r\n      if (this.seconds > 0) {\r\n        this.seconds--;\r\n      } else {\r\n        this.logout();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  close() {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close();\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close(true);\r\n    }\r\n  }\r\n}\r\n","<div id=\"auto-logout\">\r\n  <mat-toolbar mat-dialog-title>\r\n    <span class=\"dialog-title\">\r\n      User Session Timed Out Due To Inactivity\r\n    </span>\r\n  </mat-toolbar>\r\n  <mat-dialog-content class=\"scrollable\">\r\n    <div class=\"content-wrapper\">\r\n      <h4>The system will automatically log you out in</h4>\r\n      <span class=\"countdown\">{{ seconds }}</span>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button class=\"action\" mat-raised-button (click)=\"close()\">\r\n      Keep me logged in\r\n    </button>\r\n    <button class=\"action\" mat-raised-button (click)=\"logout()\">\r\n      Log Out\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewEncapsulation,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { DialogModel, DialogAction } from '../dialog.model';\r\nimport { build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-unsaved-changes',\r\n  templateUrl: './unsaved-changes.component.html',\r\n  styleUrls: ['./unsaved-changes.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class UnsavedChangesComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  get dialog(): DialogModel {\r\n    return build(DialogModel, {\r\n      title: 'You Have Unsaved Changes!',\r\n      actions: [\r\n        build(DialogAction, { label: `Yes, Discard Changes`, value: true }),\r\n        build(DialogAction, { label: `No, Stay Here`, value: false })\r\n      ]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {}\r\n}\r\n","<iu-dialog id=\"unsaved-changes\" [model]=\"dialog\">\r\n  <div class=\"content-wrapper\">\r\n    <h4>Would you like to discard unsaved changes?</h4>\r\n  </div>\r\n</iu-dialog>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { DialogComponent } from './dialog.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { AutoLogoutComponent } from './auto-logout/auto-logout.component';\r\nimport { ConfirmDeleteComponent } from './confirm-delete/confirm-delete.component';\r\nimport { UnsavedChangesComponent } from './unsaved-changes/unsaved-changes.component';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, MatDialogModule, MatIconModule, MatToolbarModule],\r\n  declarations: [\r\n    DialogComponent,\r\n    AutoLogoutComponent,\r\n    ConfirmDeleteComponent,\r\n    UnsavedChangesComponent\r\n  ],\r\n  exports: [\r\n    MatDialogModule,\r\n    DialogComponent,\r\n    AutoLogoutComponent,\r\n    ConfirmDeleteComponent,\r\n    UnsavedChangesComponent\r\n  ]\r\n})\r\nexport class DialogModule { }\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { FormsModule as Ng2FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    Ng2FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  exports: [\r\n    Ng2FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class FormsModule {\r\n\r\n  static forRoot(): ModuleWithProviders<FormsModule> {\r\n    return {\r\n      ngModule: FormsModule,\r\n      providers: []\r\n    };\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\nimport { AddressComponent } from './address.component';\r\nimport { AddressPipe } from './address.pipe';\r\nimport { AddressFormComponent } from './address-form/address-form.component';\r\nimport { InlineAddressComponent } from './inline-address/inline-address.component';\r\nimport { StatePickerComponent } from './state-picker/state-picker.component';\r\nimport { DialogModule } from '../dialog/dialog.module';\r\nimport { FormsModule } from '../../forms/forms.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    DialogModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatDatepickerModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatNativeDateModule,\r\n    MatSelectModule,\r\n  ],\r\n  declarations: [\r\n    AddressComponent,\r\n    AddressFormComponent,\r\n    InlineAddressComponent,\r\n    AddressPipe,\r\n    StatePickerComponent,\r\n  ],\r\n  exports: [\r\n    AddressComponent,\r\n    AddressFormComponent,\r\n    InlineAddressComponent,\r\n    StatePickerComponent,\r\n    AddressPipe,\r\n  ]\r\n})\r\nexport class AddressModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-audit-fields',\r\n  templateUrl: './audit-fields.component.html',\r\n  styleUrls: ['./audit-fields.component.scss']\r\n})\r\nexport class AuditFieldsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  audit-fields works!\r\n</p>\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { ColumnMetadata } from '../../shared/models';\r\n\r\nexport class Audited {\r\n  startDate: Date = new Date();\r\n  endDate: Date = null;\r\n}\r\n\r\nexport class AuditHistory {\r\n  dataSource: Observable<Audited[]>;\r\n  columns: Observable<ColumnMetadata[]>;\r\n}\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuditHistory, Audited } from '../audit.model';\r\nimport { SmartComponent } from '../../../shared/component';\r\nimport { ColumnMetadata } from '../../../shared/models';\r\nimport { toArray } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-audit-history',\r\n  templateUrl: './audit-history.component.html',\r\n  styleUrls: ['./audit-history.component.scss']\r\n})\r\nexport class AuditHistoryComponent extends SmartComponent implements OnInit {\r\n  columns: ColumnMetadata[] = [];\r\n  dataSource: Audited[] = [];\r\n  constructor(\r\n    public store: Store<any>,\r\n    public dialogRef?: MatDialogRef<AuditHistoryComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data?: AuditHistory\r\n  ) {\r\n    super(store);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sync(['dataSource', 'columns']);\r\n  }\r\n\r\n  get activeRow(): Audited {\r\n    return this.dataSource.length > 0\r\n      ? this.dataSource.find(x => x.endDate === null) || this.dataSource[0]\r\n      : null;\r\n  }\r\n\r\n  get columns$(): Observable<ColumnMetadata[]> {\r\n    return this.data.columns;\r\n  }\r\n\r\n  get dataSource$(): Observable<Audited[]> {\r\n    return this.data.dataSource;\r\n  }\r\n\r\n  get displayedColumns(): string[] {\r\n    return ['startDate', 'endDate', ...this.columns.map(x => x.name)];\r\n  }\r\n\r\n  getDate(date: Date): Date {\r\n    return date === null ? null : new Date(date);\r\n  }\r\n\r\n  getList(list: any[]): string[] {\r\n    return toArray(list).map(x => x.toString());\r\n  }\r\n}\r\n","<div id=\"audit-history\" class=\"scrollable\">\r\n  <mat-table class=\"audit-history-table\" [dataSource]=\"dataSource\">\r\n    <!-- Start Date Column -->\r\n    <ng-container matColumnDef=\"startDate\">\r\n      <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>\r\n      <mat-cell *matCellDef=\"let element\">\r\n        {{ element.startDate | date: 'shortDate' }}\r\n      </mat-cell>\r\n      <mat-footer-cell *matFooterCellDef>\r\n        {{ activeRow?.startDate | date: 'shortDate' }}\r\n      </mat-footer-cell>\r\n    </ng-container>\r\n\r\n    <!-- End Date Column -->\r\n    <ng-container matColumnDef=\"endDate\" sticky>\r\n      <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>\r\n      <mat-cell *matCellDef=\"let element\">\r\n        {{ element.endDate | date: 'shortDate' }}\r\n      </mat-cell>\r\n      <mat-footer-cell class=\"active\" *matFooterCellDef>ACTIVE</mat-footer-cell>\r\n    </ng-container>\r\n\r\n    <!-- Custom Columns -->\r\n    <ng-container *ngFor=\"let column of columns\" [matColumnDef]=\"column.name\">\r\n      <mat-header-cell *matHeaderCellDef>{{ column.label }}</mat-header-cell>\r\n      <mat-cell *matCellDef=\"let element\">\r\n        <span *ngIf=\"!column.type && column.name !== 'lastModifiedDate'\">\r\n          {{ element[column.name] }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'DATE' || column.name === 'lastModifiedDate'\">\r\n          {{ getDate(element[column.name]) | date: 'shortDate' }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'LIST'\">\r\n          <div *ngFor=\"let item of getList(element[column.name])\">\r\n            {{ item }}\r\n          </div>\r\n        </span>\r\n      </mat-cell>\r\n      <!--Active Row-->\r\n      <mat-footer-cell *matFooterCellDef>\r\n        <span *ngIf=\"!column.type && column.name !== 'lastModifiedDate'\">\r\n          {{ activeRow[column.name] }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'DATE' || column.name === 'lastModifiedDate'\">\r\n          {{ getDate(activeRow[column.name]) | date: 'shortDate' }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'LIST'\">\r\n          <div *ngFor=\"let item of getList(activeRow[column.name])\">\r\n            {{ item }}\r\n          </div>\r\n        </span>\r\n      </mat-footer-cell>\r\n      <!--End Active Row-->\r\n    </ng-container>\r\n\r\n    <!-- Star Column -->\r\n    <!-- <ng-container matColumnDef=\"star\" stickyEnd>\r\n      <th mat-header-cell *matHeaderCellDef></th>\r\n      <td mat-cell *matCellDef=\"let element\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </td>\r\n    </ng-container> -->\r\n\r\n    <mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\"></mat-header-row>\r\n    <mat-row *matRowDef=\"let row; columns: displayedColumns\"></mat-row>\r\n    <mat-footer-row class=\"bold\" *matFooterRowDef=\"displayedColumns; sticky: true\"></mat-footer-row>\r\n  </mat-table>\r\n</div>","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Observable, Subscription, of, throwError } from \"rxjs\";\r\nimport {\r\n  catchError,\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  finalize,\r\n  map,\r\n  tap\r\n} from \"rxjs/operators\";\r\n\r\nimport { HttpActions } from \"./http.actions\";\r\nimport { HttpOptions } from \"./http.models\";\r\nimport { QueryModel } from \"../shared/models\";\r\nimport { serialize } from \"../shared/utils\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class HttpService {\r\n  private _authToken = \"\";\r\n  private _baseUrl = \"\";\r\n  private authTokenChanges: Subscription;\r\n  private baseUrlChanges: Subscription;\r\n  headers = {};\r\n  logEvents = false;\r\n  useDefaultHeaders = true;\r\n\r\n  constructor(\r\n    public http: HttpClient,\r\n    private baseUrl$: Observable<string>,\r\n    private authToken$: Observable<string>\r\n  ) {\r\n    this.authTokenChanges = this.authToken$.subscribe(x => {\r\n      this.authToken = x;\r\n    });\r\n    this.baseUrlChanges = this.baseUrl$.subscribe(x => {\r\n      this.baseUrl = x;\r\n    });\r\n  }\r\n\r\n  get authToken(): string {\r\n    return this._authToken;\r\n  }\r\n\r\n  set authToken(value: string) {\r\n    this._authToken = value;\r\n  }\r\n\r\n  get baseUrl(): string {\r\n    return this._baseUrl;\r\n  }\r\n\r\n  set baseUrl(value: string) {\r\n    this._baseUrl = value;\r\n  }\r\n\r\n  get defaultHeaders(): HttpHeaders {\r\n    let headers: HttpHeaders = new HttpHeaders();\r\n    headers = headers.append(\"Content-type\", \"application/json\");\r\n    if (this.authToken) {\r\n      headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n    }\r\n    return headers;\r\n  }\r\n\r\n  get requestHeaders(): HttpHeaders {\r\n    let headers: HttpHeaders = this.useDefaultHeaders\r\n      ? this.defaultHeaders\r\n      : new HttpHeaders();\r\n    Object.keys(this.headers).forEach(key => {\r\n      headers = headers.append(key, this.headers[key]);\r\n    });\r\n    return headers;\r\n  }\r\n\r\n  appendHeaders(headers = {}): HttpHeaders {\r\n    let requestHeaders = this.requestHeaders;\r\n    Object.keys(headers).forEach(key => {\r\n      requestHeaders = requestHeaders.append(key, this.headers[key]);\r\n    });\r\n    return requestHeaders;\r\n  }\r\n\r\n  /**\r\n   * Make a DELETE request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  delete(\r\n    relativePath: string,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.delete(url, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      catchError(err => this.onError(err.error)),\r\n      finalize(() => {\r\n        this.onComplete(\"DELETE\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a GET request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  get(\r\n    relativePath: string,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.get(url, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res => {\r\n        return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res;\r\n      }),\r\n      catchError(err => this.onError(err ? err.error : err)),\r\n      finalize(() => {\r\n        this.onComplete(\"GET\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a GET request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  getValue(relativePath: string): Observable<any> {\r\n    const url = this.formatUrl(relativePath);\r\n    let headers: HttpHeaders = new HttpHeaders();\r\n    headers = headers.append(\"Content-type\", \"text/plain\");\r\n    if (this.authToken) {\r\n      headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n    }\r\n    const obs = this.http.get(url, {\r\n      headers\r\n    });\r\n    return obs\r\n      // .pipe(\r\n      //   tap(x => {\r\n      //     console.log(x);\r\n      //   }),\r\n      //   catchError(err => this.onError(err ? err.error : err)),\r\n      //   finalize(() => {\r\n      //     this.onComplete(\"GET\", url);\r\n      //   })\r\n      // )\r\n      ;\r\n  }\r\n\r\n  /**\r\n   * Make a GET request.\r\n   * @param fullPath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  getFullPath(\r\n    fullPath: string,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    return this.get(\r\n      fullPath,\r\n      headers,\r\n      Object.assign({}, options, { prependBaseUrl: false })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make an autocomplete GET request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  autocomplete(\r\n    relativePath: string,\r\n    query: QueryModel<any>,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    if (!query.term || query.term.length < 1) {\r\n      return of([]);\r\n    }\r\n    const path = `${relativePath}/${QueryModel.BuildQueryString(query)}`;\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.get(url, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      debounceTime(500),\r\n      distinctUntilChanged(),\r\n      map(json => HttpActions.matchPath(path, json)),\r\n      catchError(err => this.onError(err ? err.error : err)),\r\n      finalize(() => {\r\n        this.onComplete(\"GET\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a POST request.\r\n   * @param relativePath\r\n   * @param body\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  post(\r\n    relativePath: string,\r\n    body: any,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.post(url, serialize(body), {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      catchError(err => {\r\n        return this.onError(err ? err.error : err);\r\n      }),\r\n      finalize(() => {\r\n        this.onComplete(\"POST\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a POST request with form url-encoded content type.\r\n   * @param relativePath\r\n   * @param body\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  postFormUrlEncoded(\r\n    relativePath: string,\r\n    body: any,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = new HttpHeaders({\r\n      \"content-type\": \"application/x-www-form-urlencoded\"\r\n    });\r\n    const obs = this.http.post(url, body, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      catchError(err => {\r\n        return this.onError(err ? err.error : err);\r\n      }),\r\n      finalize(() => {\r\n        this.onComplete(\"POST FORM URL-ENCODED\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a PUT request.\r\n   * @param relativePath\r\n   * @param body\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  put(\r\n    relativePath: string,\r\n    body: any,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.put(url, serialize(body), {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res => {\r\n        return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res;\r\n      }),\r\n      catchError(err => {\r\n        return this.onError(err ? err.error : err);\r\n      }),\r\n      finalize(() => {\r\n        this.onComplete(\"PUT\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * This method will be used to format URLs for all cross-origin requests.\r\n   */\r\n  formatUrl(path: string): string {\r\n    return `${this.baseUrl}/${path}`;\r\n  }\r\n\r\n  /**\r\n   * Use this method when a promise is preferred over an observable.\r\n   */\r\n  getPromise(url: string) {\r\n    return this.get(url)\r\n      .toPromise()\r\n      .then(res => res.json());\r\n  }\r\n\r\n  private onError(error: any) {\r\n    console.log(error);\r\n    // let errorBody: any;\r\n    // try {\r\n    //   errorBody = error._body\r\n    //     ? JSON.parse(error._body)\r\n    //     : { message: 'Internal server error', statusCode: error.status };\r\n    // } catch (e) {\r\n    //   if (error.status <= 0) {\r\n    //     errorBody = { message: 'Internal server error.', statusCode: 500 };\r\n    //   }\r\n    // }\r\n    // if (errorBody.message) {\r\n    //   errorBody.message = errorBody.message.replace(\r\n    //     'An error has occured in the api.System.Exception: ',\r\n    //     ''\r\n    //   );\r\n    //   errorBody.message = errorBody.message.substring(\r\n    //     0,\r\n    //     errorBody.message.indexOf(' at')\r\n    //   );\r\n    // }\r\n    return throwError({\r\n      message:\r\n        error && error.Message\r\n          ? error.Message\r\n          : \"An error occurred in the API.\",\r\n      statusCode: error && error.Code ? error.Code : null\r\n    });\r\n  }\r\n\r\n  private onComplete(method: string, url: string): void {\r\n    if (this.logEvents) {\r\n      console.log(`Completed ${method} request to ${url}`);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { BehaviorSubject, Observable, combineLatest } from 'rxjs';\r\nimport { distinctUntilChanged, switchMap, map, filter } from 'rxjs/operators';\r\nimport { AuditHistoryComponent } from '../audit-history/audit-history.component';\r\nimport { Audited, AuditHistory } from '../audit.model';\r\nimport { HttpService } from '../../../http/http.service';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { ColumnMetadata } from '../../../shared/models';\r\nimport {\r\n  build,\r\n  toArray,\r\n  truthy,\r\n  buildColumnsFromMetadata\r\n} from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-audit-history-link',\r\n  templateUrl: './audit-history-link.component.html',\r\n  styleUrls: ['./audit-history-link.component.scss']\r\n})\r\n\r\nexport class AuditHistoryLinkComponent extends DumbComponent implements OnInit {\r\n  @Input() mapper: (data: any) => Audited;\r\n  @Input() preloadData = false;\r\n  @Input() requestUrl = '';\r\n  @Output() dataLoaded = new EventEmitter<Audited[]>();\r\n  columnMetadata$: Observable<ColumnMetadata[]>;\r\n  columnsSubject = new BehaviorSubject<ColumnMetadata[]>([]);\r\n  dataSourceSubject = new BehaviorSubject<Audited[]>([]);\r\n  dataSource$: Observable<Audited[]>;\r\n  requestUrl$: Observable<string>;\r\n  requestUrlClicksSubject = new BehaviorSubject<string>(null);\r\n  _columns: ColumnMetadata[] = [];\r\n  _data: Audited[] = [];\r\n  _placeholderText = '';\r\n  _requestData: Audited[];\r\n  constructor(public dialog: MatDialog, public http: HttpService) {\r\n    super();\r\n    this.requestUrl$ = this.requestUrlClicksSubject.asObservable().pipe(\r\n      filter(x => truthy(x)),\r\n      distinctUntilChanged()\r\n    );\r\n    this.dataSource$ = this.dataSourceSubject\r\n      .asObservable()\r\n      .pipe(map(x => toArray(x)));\r\n    this.columnMetadata$ = combineLatest(\r\n      this.dataSource$,\r\n      this.columnsSubject.asObservable(),\r\n      (dataSource, columns) => {\r\n        return Array.isArray(columns) && columns.length > 1\r\n          ? columns\r\n          : buildColumnsFromMetadata(dataSource, 'history').filter(\r\n              x => x.name !== 'startDate' && x.name !== 'endDate'\r\n            );\r\n      }\r\n    );\r\n  }\r\n\r\n  @Input() set columns(value: ColumnMetadata[]) {\r\n    this._columns = value;\r\n    this.columnsSubject.next(value);\r\n  }\r\n\r\n  get columns(): ColumnMetadata[] {\r\n    return this._columns;\r\n  }\r\n\r\n  @Input() set data(value: Audited[]) {\r\n    this._data = value;\r\n    this.dataSourceSubject.next(value);\r\n  }\r\n\r\n  get data(): Audited[] {\r\n    return this._data;\r\n  }\r\n\r\n  @Input()\r\n  set placeholderText(value: string) {\r\n    this._placeholderText = value;\r\n  }\r\n\r\n  get placeholderText() {\r\n    return this._placeholderText || 'View Audit History';\r\n  }\r\n\r\n  set requestData(value: Audited[]) {\r\n    this._requestData = value;\r\n    this.dataSourceSubject.next(value);\r\n    this.dataLoaded.emit(value);\r\n  }\r\n\r\n  get requestData(): Audited[] {\r\n    return this._requestData;\r\n  }\r\n\r\n  get requestData$(): Observable<Audited[]> {\r\n    return this.requestUrl$.pipe(\r\n      switchMap(url => this.http.get(url)),\r\n      map(x =>\r\n        toArray(x).map(y =>\r\n          this.mapper && typeof this.mapper === 'function'\r\n            ? this.mapper(y)\r\n            : build(Audited, y)\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sync(['requestData']);\r\n    if (this.preloadData) {\r\n      this.refreshData();\r\n    }\r\n  }\r\n\r\n  refreshData() {\r\n    this.requestUrlClicksSubject.next(this.requestUrl);\r\n  }\r\n\r\n  viewHistory() {\r\n    if (!this.preloadData) {\r\n      this.refreshData();\r\n    }\r\n    this.openDialog(AuditHistoryComponent, {\r\n      data: build(AuditHistory, {\r\n        dataSource: this.dataSource$,\r\n        columns: this.columnMetadata$\r\n      })\r\n    });\r\n  }\r\n}\r\n","<button mat-button color=\"primary\" (click)=\"viewHistory()\">\r\n  {{ placeholderText }}\r\n</button>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatTableModule } from '@angular/material/table';\r\n\r\nimport { AuditFieldsComponent } from './audit-fields/audit-fields.component';\r\nimport { AuditHistoryComponent } from './audit-history/audit-history.component';\r\nimport { AuditHistoryLinkComponent } from './audit-history-link/audit-history-link.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AuditFieldsComponent,\r\n    AuditHistoryComponent,\r\n    AuditHistoryLinkComponent\r\n  ],\r\n  exports: [\r\n    AuditFieldsComponent,\r\n    AuditHistoryComponent,\r\n    AuditHistoryLinkComponent\r\n  ],\r\n  imports: [SharedModule, MatButtonModule, MatTableModule, MatIconModule]\r\n})\r\nexport class AuditModule { }\r\n","import { Dimensions, Image, Coordinates } from '../../shared/models';\r\n\r\nexport class Tile {\r\n    cellHeight = 0;\r\n    cellWidth = 0;\r\n    color = '#fff';\r\n    index = 0;\r\n    name = '';\r\n    src = '';\r\n    text = '';\r\n\r\n    _coordinates: Coordinates = new Coordinates();\r\n    _dimensions: Dimensions = new Dimensions();\r\n    _image: Image = new Image();\r\n\r\n    get id(): number {\r\n        return this.index + this.imageId * .0001;\r\n    }\r\n\r\n    get approxRatio(): number {\r\n        return this.rows * this.cellHeight / this.columns * this.cellWidth;\r\n    }\r\n\r\n    get columns(): number {\r\n        return this.dimensions.columns;\r\n    }\r\n\r\n    get coordinates(): Coordinates {\r\n        return this._coordinates || new Coordinates();\r\n    }\r\n\r\n    set coordinates(value: Coordinates) {\r\n        this._coordinates = value;\r\n    }\r\n\r\n    get dimensions(): Dimensions {\r\n        return this._dimensions || new Dimensions();\r\n    }\r\n\r\n    set dimensions(value: Dimensions) {\r\n        this._dimensions = value;\r\n    }\r\n\r\n    get height(): number {\r\n        return this.rows * this.cellHeight;\r\n    }\r\n\r\n    get heightScale(): number {\r\n        return (this.rows * this.cellHeight) / this.image.height;\r\n    }\r\n\r\n    get image(): Image {\r\n        return this._image || new Image();\r\n    }\r\n\r\n    set image(value: Image) {\r\n        this._image = value;\r\n    }\r\n\r\n    get imageHeight(): number {\r\n        return this.image.height * this.scale;\r\n    }\r\n\r\n    get imageId(): number {\r\n        return this.image.id;\r\n    }\r\n\r\n    get imageSrc(): string {\r\n        return this.image.src;\r\n    }\r\n\r\n    get imageWidth(): number {\r\n        return this.image.width * this.scale;\r\n    }\r\n\r\n    get positionLeft(): number {\r\n        return this.startColumn * this.cellWidth;\r\n    }\r\n\r\n    get positionTop(): number {\r\n        return this.startRow * this.cellHeight;\r\n    }\r\n\r\n    get ratio(): number {\r\n        return this.dimensions.ratio;\r\n    }\r\n\r\n    get rows(): number {\r\n        return this.dimensions.rows;\r\n    }\r\n\r\n    get scale(): number {\r\n        return this.heightScale >= this.widthScale ? this.heightScale : this.widthScale;\r\n    }\r\n\r\n    get startColumn(): number {\r\n        return this.coordinates.column;\r\n    }\r\n\r\n    get startRow(): number {\r\n        return this.coordinates.row;\r\n    }\r\n\r\n    get width(): number {\r\n        return this.columns * this.cellWidth;\r\n    }\r\n\r\n    get widthScale(): number {\r\n        return (this.columns * this.cellWidth) / this.image.width;\r\n    }\r\n\r\n}\r\n","import { Tile } from '../tile/tile.model';\r\nimport { Image, Dimensions, Coordinates } from '../../shared/models';\r\nimport { integerArray, positiveIntegerArray, build, inArray } from '../../shared/utils';\r\n\r\nexport class Collage {\r\n    canvasHeight = 0;\r\n    canvasWidth = 0;\r\n    cellHeight = 0;\r\n    cellWidth = 0;\r\n    maxColumns = 4;\r\n    maxRows = 4;\r\n    tileDimensions: Dimensions[] = [];\r\n    totalColumns = 0;\r\n    totalRows = 0;\r\n    _cells: number[][];\r\n    _images: Image[] = [];\r\n    _tiles: Tile[] = [];\r\n\r\n    /**\r\n     * Build new collage instance with given parameters.\r\n     * @param images \r\n     * @param canvasHeight \r\n     * @param canvasWidth \r\n     * @param totalRows \r\n     * @param totalColumns \r\n     * @param maxRows \r\n     * @param maxColumns \r\n     */\r\n    static Build(images: Image[], canvasHeight, canvasWidth, totalRows = 0, totalColumns = 0, maxRows = 0, maxColumns = 0): Collage {\r\n        const cellHeight = canvasHeight / totalRows;\r\n        const cellWidth = canvasWidth / totalColumns;\r\n        const tileDimensions = Collage.GetTileDimensions(cellHeight, cellWidth, maxRows, maxColumns);\r\n        const collage = Object.assign(new Collage(), {\r\n            canvasHeight,\r\n            canvasWidth,\r\n            totalRows,\r\n            totalColumns,\r\n            maxRows,\r\n            maxColumns,\r\n            cellHeight,\r\n            cellWidth,\r\n            tileDimensions,\r\n        });\r\n        collage.images = images;\r\n        return collage;\r\n    }\r\n\r\n    /**\r\n     * Build array of all possible dimensions for a single tile in the collage.\r\n     * @param cellHeight \r\n     * @param cellWidth \r\n     * @param maxRows \r\n     * @param maxColumns \r\n     */\r\n    static GetTileDimensions(cellHeight: number, cellWidth: number, maxRows: number, maxColumns: number): Dimensions[] {\r\n        return positiveIntegerArray(maxRows).reduce((acc, x) => {\r\n            const dimensions = positiveIntegerArray(maxColumns)\r\n                .map(y => build(Dimensions, {\r\n                    rows: x,\r\n                    columns: y,\r\n                    height: x * cellHeight,\r\n                    width: y * cellWidth\r\n                }));\r\n            return [...acc, ...dimensions];\r\n        }, []);\r\n    }\r\n\r\n    get cells(): number[][] {\r\n        return this._cells || this.emptyCells;\r\n    }\r\n\r\n    set cells(value: number[][]) {\r\n        this._cells = value;\r\n    }\r\n\r\n    get emptyCells(): number[][] {\r\n        return integerArray(this.totalRows).map(x => integerArray(this.totalColumns).map(y => 0));\r\n    }\r\n\r\n    get images(): Image[] {\r\n        return this._images;\r\n    }\r\n\r\n    set images(value: Image[]) {\r\n        this._images = value.map((img, index) => Image.BuildForTile(img, this.tileDimensions, index + 1));\r\n        // console.dir(this.images);\r\n        // console.dir(this.tiles);\r\n        // console.dir(this);\r\n    }\r\n\r\n    get tiles(): Tile[] {\r\n        this.cells = this.emptyCells;\r\n        return integerArray(this.totalCells)\r\n            .reduce((acc, i) => {\r\n                // console.dir(acc);\r\n                return this.isCellFilled(i) ? acc : [...acc, this.fillCell(i)]\r\n            }, []);\r\n    }\r\n\r\n    get totalCells(): number {\r\n        return this.totalRows * this.totalColumns;\r\n    }\r\n\r\n    private buildTile(image: Image, dimensions: Dimensions, coordinates: Coordinates, index: number): Tile {\r\n        const t = build(Tile, {\r\n            image,\r\n            dimensions,\r\n            coordinates,\r\n            index,\r\n            cellHeight: this.cellHeight,\r\n            cellWidth: this.cellWidth,\r\n        });\r\n        // console.log(\r\n        //     '\\nTILE ASSIGNED TO INDEX', index,\r\n        //     '\\nStart Row:\\t', t.startRow,\r\n        //     '\\nStartColumn:\\t', t.startColumn,\r\n        //     '\\nRows:\\t', t.rows,\r\n        //     '\\nColumns:\\t', t.columns,\r\n        // );\r\n        // console.dir(t);\r\n        return t;\r\n    }\r\n\r\n    private fillCell(index: number): Tile {\r\n        // console.log('\\n\\n\\n\\nFILLING CELL AT INDEX', index);\r\n        const coordinates = this.findCoordinates(index);\r\n        // console.log(\r\n        //     '\\nStart Row:\\t', coordinates.row,\r\n        //     '\\nStart Column:\\t', coordinates.column,\r\n        // );\r\n        const dim = this.findAvailableDimensions(coordinates.row, coordinates.column);\r\n        // console.log('Available Dimensions...');\r\n        dim.forEach(x => {\r\n            // console.log(\r\n            //     '\\nRows:\\t', x.rows,\r\n            //     '\\nColumns:\\t', x.columns,\r\n            // );\r\n        });\r\n        return this.images.reduce((acc, image, i) => {\r\n            if (acc) {\r\n                return <Tile>acc;\r\n            }\r\n            const dimensions = this.findImageDimensions(image, dim);\r\n            if (dimensions) {\r\n                this.reorderImages(i);\r\n                const tile = this.buildTile(image, dimensions, coordinates, index);\r\n                this.markCellsFilled(tile);\r\n                // console.dir(this);\r\n                // console.dir(this.cells);\r\n                // console.log('_____________________________________________________________\\n\\n\\n\\n');\r\n                return tile;\r\n            }\r\n            return null;\r\n        }, <Tile>null);\r\n    }\r\n\r\n    private findAvailableColumns(startRow: number, startColumn: number): number {\r\n        return Math.max(...positiveIntegerArray(this.maxColumns)\r\n            .map(k => k <= this.maxColumns && startColumn + k <= this.totalColumns && this.cells[startRow] && this.cells[startRow][startColumn + k] === 0 ? k : 1));\r\n    }\r\n\r\n    private findAvailableRows(startRow: number, startColumn: number): number {\r\n        return Math.max(...positiveIntegerArray(this.maxRows)\r\n            .map(k => k <= this.maxRows && startRow + k <= this.totalRows && this.cells[startRow + k] && this.cells[startRow + k][startColumn] === 0 ? k : 1));\r\n    }\r\n\r\n    private findAvailableDimensions(startRow: number, startColumn: number): Dimensions[] {\r\n        const availableRows = this.findAvailableRows(startRow, startColumn);\r\n        const availableColumns = this.findAvailableColumns(startRow, startColumn);\r\n        return this.tileDimensions.filter(x => x.rows <= availableRows && x.columns <= availableColumns);\r\n    }\r\n\r\n    private findCoordinates(index: number): Coordinates {\r\n        const remainder = (index + this.totalColumns) % this.totalColumns;\r\n        return {\r\n            row: (index - remainder) / this.totalColumns,\r\n            column: remainder\r\n        };\r\n    }\r\n\r\n    private findImageDimensions(image: Image, dim: Dimensions[]): Dimensions {\r\n        return image.dimensions.find(x => inArray(dim, x));\r\n    }\r\n\r\n    private isCellFilled(index: number): boolean {\r\n        const coordinates = this.findCoordinates(index);\r\n        return this.cells[coordinates.row][coordinates.column] !== 0;\r\n    }\r\n\r\n    private markCellsFilled(tile: Tile) {\r\n        let cells = this.cells;\r\n        const coordinates = this.findCoordinates(tile.index);\r\n        for (let i = 0; i < tile.rows; i++) {\r\n            for (let j = 0; j < tile.columns; j++) {\r\n                cells[coordinates.row + i][coordinates.column + j] = tile.id;\r\n            }\r\n        }\r\n        this.cells = cells;\r\n    }\r\n\r\n    private reorderImages(index: number) {\r\n        this._images = [...this._images.filter((img, i) => i !== index), this._images[index]];\r\n    }\r\n\r\n}\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Tile } from './tile.model';\r\nimport { build } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-tile',\r\n  templateUrl: './tile.component.html',\r\n  styleUrls: ['./tile.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TileComponent implements OnInit {\r\n\r\n  _tile: Tile = new Tile();\r\n  @Input() imageOpacity = 1;\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  set tile(value: Tile) {\r\n    this._tile = value;\r\n  }\r\n\r\n  get tile(): Tile {\r\n    return build(Tile, this._tile);\r\n  }\r\n\r\n  get backgroundColor(): string {\r\n    return '';\r\n  }\r\n\r\n  get height(): number {\r\n    return this.tile.height;\r\n  }\r\n\r\n  get imageHeight(): number {\r\n    return this.tile.imageHeight;\r\n  }\r\n\r\n  get imageSrc(): string {\r\n    return this.tile.image.src;\r\n  }\r\n\r\n  get imageWidth(): number {\r\n    return this.tile.imageWidth;\r\n  }\r\n\r\n  get position(): 'absolute' | 'relative' | 'fixed' {\r\n    return 'absolute';\r\n  }\r\n\r\n  get positionLeft(): number {\r\n    return this.tile.positionLeft;\r\n  }\r\n\r\n  get positionTop(): number {\r\n    return this.tile.positionTop;\r\n  }\r\n\r\n  get width(): number {\r\n    return this.tile.width;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div fxLayout fxLayoutAlign=\"center center\" class=\"tile\" [style.position]=\"position\" [style.top.px]=\"positionTop\"\r\n  [style.left.px]=\"positionLeft\" [style.background-color]=\"backgroundColor\" [style.height.px]=\"height\" [style.width.px]=\"width\">\r\n  <img [src]=\"imageSrc\" [style.height.px]=\"imageHeight\" [style.width.px]=\"imageWidth\" [style.opacity]=\"imageOpacity\">\r\n  <!-- <h4>{{tile.id}}</h4> -->\r\n</div>\r\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\r\n\r\nimport { Collage } from './collage.model';\r\nimport { Tile } from '../tile/tile.model';\r\nimport { Image } from '../../shared/models';\r\nimport { shuffle } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-collage',\r\n  templateUrl: './collage.component.html',\r\n  styleUrls: ['./collage.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CollageComponent {\r\n\r\n  @Input() imageOpacity = 1;\r\n  @Input() canvasHeight = 0;\r\n  @Input() canvasWidth = 0;\r\n  @Input() totalRows = 0;\r\n  @Input() totalColumns = 0;\r\n  @Input() maxRows = 0;\r\n  @Input() maxColumns = 0;\r\n  @Input() shuffle = false;\r\n  @Input() _images: Image[] = [];\r\n\r\n  constructor() { }\r\n\r\n  @Input() set images(value: Image[]) {\r\n    this._images = value;\r\n  }\r\n\r\n  get images(): Image[] {\r\n    return this.shuffle ? shuffle(this._images) : this._images;\r\n  }\r\n\r\n  get collage(): Collage {\r\n    return this.canvasHeight > 0 && this.canvasWidth > 0 ?\r\n      Collage.Build(this.images, this.canvasHeight, this.canvasWidth, this.totalRows, this.totalColumns, this.maxRows, this.maxColumns)\r\n      : new Collage();\r\n  }\r\n\r\n  get tiles(): Tile[] {\r\n    return this.collage.tiles;\r\n  }\r\n\r\n}\r\n","<div class=\"collage\" [style.height.px]=\"canvasHeight\" [style.width.px]=\"canvasWidth\">\r\n    <iu-tile *ngFor=\"let tile of tiles\" [tile]=\"tile\" [imageOpacity]=\"imageOpacity\"></iu-tile>\r\n</div>","import { NgModule } from '@angular/core';\r\n\r\nimport { TileComponent } from './tile.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    TileComponent,\r\n  ],\r\n  exports: [\r\n    TileComponent,\r\n  ]\r\n})\r\nexport class TileModule { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { CollageComponent } from './collage.component';\r\nimport { TileModule } from '../tile/tile.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    TileModule,\r\n  ],\r\n  declarations: [\r\n    CollageComponent,\r\n  ],\r\n  exports: [\r\n    CollageComponent,\r\n  ]\r\n})\r\nexport class CollageModule { }\r\n","import { Component, OnInit, HostListener, Input } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { SmartComponent } from '../../shared/component';\r\nimport { Image } from '../../shared/models';\r\nimport { truthy } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-container',\r\n  templateUrl: './container.component.html',\r\n  styleUrls: ['./container.component.scss']\r\n})\r\nexport class ContainerComponent extends SmartComponent implements OnInit {\r\n\r\n  @Input() backgroundImage: string;\r\n  @Input() showHelp = true;\r\n  @Input() navbar;\r\n  _hasWallpaper = true;\r\n  _images: Image[] = [];\r\n\r\n  constructor(\r\n    public store: Store<any>,\r\n    public dialog: MatDialog) {\r\n    super(store);\r\n  }\r\n\r\n  @Input() set hasWallpaper(value: boolean) {\r\n    this._hasWallpaper = value;\r\n  }\r\n\r\n  get hasWallpaper(): boolean {\r\n    return this._hasWallpaper;\r\n  }\r\n\r\n  get hasBackgroundImage(): boolean {\r\n    return truthy(this.backgroundImage) && !this.hasWallpaper;\r\n  }\r\n\r\n  set images(value: Image[]) {\r\n    this._images = value;\r\n  }\r\n\r\n  get images(): Image[] {\r\n    return this.mobile ? this._images.filter((x, i) => i < 20) : this._images;\r\n  }\r\n\r\n  get contentWidth(): number {\r\n    return this.windowWidth - this.offsetLeft;\r\n  }\r\n\r\n  get mobile(): boolean {\r\n    return this.windowWidth < 1000;\r\n  }\r\n\r\n  get offsetLeft(): number {\r\n    return 0;\r\n  }\r\n\r\n  get offsetTop(): number {\r\n    return this.navbar ? 130 : 64;\r\n  }\r\n\r\n  get menuWidth(): number {\r\n    return this.windowWidth;\r\n  }\r\n\r\n  get windowHeight(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10) - 64;\r\n  }\r\n\r\n  set windowHeight(value: number) {\r\n    localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n  }\r\n\r\n  get windowWidth(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n  }\r\n\r\n  set windowWidth(value: number) {\r\n    localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.windowHeight = parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n    this.windowWidth = parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n  }\r\n\r\n  @HostListener('window:load', ['$event'])\r\n  onLoad(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    // console.log('\\n\\nwindow:load', this.windowWidth, this.windowHeight);\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    // console.log('\\n\\nwindow:resize', this.windowWidth, this.windowHeight);\r\n  }\r\n\r\n}","<!-- <iu-header [windowWidth]=\"contentWidth\" [offsetLeft]=\"offsetLeft\" [mobile]=\"mobile\"></iu-header>\r\n<iu-navbar *ngIf=\"navbar\">\r\n  <iu-breadcrumbs *ngIf=\"breadcrumbs\"></iu-breadcrumbs>\r\n</iu-navbar>\r\n<iu-sidenav *ngIf=\"!mobile\" [style.height.px]=\"sidenavHeight\"></iu-sidenav>\r\n\r\n<div id=\"content\" class=\"scrollable\" [style.height.px]=\"windowHeight\" [style.width.px]=\"contentWidth\" [style.left.px]=\"offsetLeft\"\r\n  [style.background-image]=\"hasBackgroundImage ? 'url(' + backgroundImage + ')' : 'none'\">\r\n  <ng-content></ng-content>\r\n  <iu-wallpaper *ngIf=\"hasWallpaper\" [images]=\"images\" [imageOpacity]=\"0.6\" [shuffle]=\"true\" [offsetLeft]=\"offsetLeft\"\r\n    [offsetTop]=\"offsetTop\"></iu-wallpaper>\r\n</div> -->\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-breadcrumbs',\r\n  templateUrl: './breadcrumbs.component.html',\r\n  styleUrls: ['./breadcrumbs.component.scss']\r\n})\r\nexport class BreadcrumbsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  breadcrumbs works!\r\n</p>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { BreadcrumbsComponent } from './breadcrumbs.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    BreadcrumbsComponent,\r\n  ],\r\n  exports: [\r\n    BreadcrumbsComponent,\r\n  ]\r\n})\r\nexport class BreadcrumbsModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  @Input() mobile = false;\r\n  @Input() offsetLeft = 0;\r\n  @Input() windowWidth = 0;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<mat-toolbar id=\"header\" color=\"primary\" class=\"mat-elevation-z6\" [style.width.px]=\"windowWidth\" [style.left.px]=\"offsetLeft\">\r\n  <a class=\"banner\" routerLink=\"/\" [class.mobile]=\"mobile\">\r\n    <img src=\"assets/banner.jpg\">\r\n  </a>\r\n  <div id=\"header-links\">\r\n    <a class=\"link\" routerLink=\"/home\" routerLinkActive=\"active-link\">\r\n      <mat-icon>home</mat-icon>\r\n    </a>\r\n  </div>\r\n</mat-toolbar>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { HeaderComponent } from './header.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MatIconModule,\r\n    MatToolbarModule,\r\n  ],\r\n  declarations: [\r\n    HeaderComponent,\r\n  ],\r\n  exports: [\r\n    HeaderComponent,\r\n  ]\r\n})\r\nexport class HeaderModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div id=\"navbar\">\r\n  <a class=\"link\" routerLink=\"/about\">About Us</a>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { NavbarComponent } from './navbar.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    NavbarComponent,\r\n  ],\r\n  exports: [\r\n    NavbarComponent,\r\n  ]\r\n})\r\nexport class NavbarModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-social-icons',\r\n  templateUrl: './social-icons.component.html',\r\n  styleUrls: ['./social-icons.component.scss']\r\n})\r\nexport class SocialIconsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"social-icons\">\r\n  <a target=\"_blank\" href=\"https://www.facebook.com/grow.and.tellSLP/?pnref=lhc\"><img src=\"assets/facebook.png\"></a>\r\n  <a target=\"_blank\" href=\"https://www.linkedin.com/in/jessica-over-9a697011b?trk=nav_responsive_tab_profile\"><img src=\"assets/linkedin.png\"></a>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-sidenav',\r\n  templateUrl: './sidenav.component.html',\r\n  styleUrls: ['./sidenav.component.scss']\r\n})\r\nexport class SidenavComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<nav class=\"sidenav\">\r\n  <a class=\"link\" routerLink=\"/home\" routerLinkActive=\"active-link\">\r\n    <img class=\"logo\" src=\"assets/logo.png\">\r\n  </a>\r\n  <a class=\"link\" routerLink=\"/rankings\" routerLinkActive=\"active-link\">\r\n    <mat-icon>format_list_numbered</mat-icon>\r\n    <span class=\"label\">Rankings</span>\r\n  </a>\r\n  <iu-social-icons></iu-social-icons>\r\n</nav>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { SocialIconsComponent } from './social-icons.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    SocialIconsComponent,\r\n  ],\r\n  exports: [\r\n    SocialIconsComponent,\r\n  ]\r\n})\r\nexport class SocialIconsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { SidenavComponent } from './sidenav.component';\r\nimport { SocialIconsModule } from '../social-icons/social-icons.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MatIconModule,\r\n    SocialIconsModule,\r\n  ],\r\n  declarations: [\r\n    SidenavComponent,\r\n  ],\r\n  exports: [\r\n    SidenavComponent,\r\n  ]\r\n})\r\nexport class SidenavModule { }\r\n","import { Component, Input, ElementRef, HostListener, OnInit } from '@angular/core';\r\n\r\nimport { Image } from '../../shared/models';\r\n\r\n@Component({\r\n  selector: 'iu-wallpaper',\r\n  templateUrl: './wallpaper.component.html',\r\n  styleUrls: ['./wallpaper.component.scss']\r\n})\r\nexport class WallpaperComponent implements OnInit {\r\n  @Input() debug = false;\r\n  @Input() images: Image[] = [];\r\n  @Input() imageOpacity = .4;\r\n  @Input() bodyMargin = 0;\r\n  @Input() offsetTop = 0;\r\n  @Input() offsetLeft = 0;\r\n  // @Input() positionTop = 0;\r\n  // @Input() positionLeft = 0;\r\n  @Input() minCellWidth = 40;\r\n  @Input() minCellHeight = 40;\r\n  @Input() maxTileWidth = 240;\r\n  @Input() maxTileHeight = 400;\r\n  @Input() shuffle = false;\r\n  clientHeight = 0;\r\n  clientWidth = 0;\r\n\r\n  constructor(public elementRef: ElementRef) { }\r\n\r\n  get maxColumns(): number {\r\n    return Math.floor(this.maxTileWidth / this.minCellWidth);\r\n  }\r\n\r\n  get maxRows(): number {\r\n    return Math.floor(this.maxTileHeight / this.minCellHeight);\r\n  }\r\n\r\n  get positionLeft(): number {\r\n    return this.offsetLeft === 0 ? -this.bodyMargin : this.offsetLeft - this.bodyMargin;\r\n  }\r\n\r\n  get positionTop(): number {\r\n    return this.offsetTop === 0 ? -this.bodyMargin : this.offsetTop - this.bodyMargin;\r\n  }\r\n\r\n  get totalColumns(): number {\r\n    return Math.floor(this.canvasWidth / this.minCellWidth);\r\n  }\r\n\r\n  get totalRows(): number {\r\n    return Math.floor(this.canvasHeight / this.minCellHeight);\r\n  }\r\n\r\n  get canvasHeight(): number {\r\n    return this.windowHeight ? this.windowHeight - this.offsetTop - this.bodyMargin : this.clientHeight;\r\n  }\r\n\r\n  get canvasWidth(): number {\r\n    return this.windowWidth ? this.windowWidth - this.offsetLeft - this.bodyMargin : this.clientWidth;\r\n  }\r\n\r\n  get windowHeight(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n  }\r\n\r\n  set windowHeight(value: number) {\r\n    // console.log('\\n\\nWindow Height:\\t', value);\r\n    localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n  }\r\n\r\n  get windowWidth(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n  }\r\n\r\n  set windowWidth(value: number) {\r\n    // console.log('Window Width:\\t', value);\r\n    localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n  }\r\n\r\n  @HostListener('window:load', ['$event'])\r\n  onLoad(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    this.resetDimensions();\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    this.resetDimensions();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.resetDimensions();\r\n  }\r\n\r\n  resetDimensions() {\r\n    this.clientHeight = this.elementRef.nativeElement.clientHeight;\r\n    this.clientWidth = this.elementRef.nativeElement.clientWidth;\r\n    if (this.debug) {\r\n      this.logDimensions();\r\n    }\r\n  }\r\n\r\n  logDimensions() {\r\n    console.log('\\n\\nWindow Height:\\t', this.windowHeight);\r\n    console.log('Window Width:\\t', this.windowWidth);\r\n    console.log('Canvas Height:\\t', this.canvasHeight);\r\n    console.log('Canvas Width:\\t', this.canvasWidth);\r\n    console.log('Client Height:\\t', this.clientHeight);\r\n    console.log('Client Width:\\t', this.clientWidth);\r\n  }\r\n\r\n}\r\n","<div class=\"wallpaper\" [style.height.px]=\"canvasHeight\" [style.width.px]=\"canvasWidth\" [style.top.px]=\"positionTop\"\r\n  [style.left.px]=\"positionLeft\">\r\n  <iu-collage [images]=\"images\" [canvasHeight]=\"canvasHeight\" [canvasWidth]=\"canvasWidth\" [totalRows]=\"totalRows\"\r\n    [totalColumns]=\"totalColumns\" [maxRows]=\"maxRows\" [maxColumns]=\"maxColumns\" [imageOpacity]=\"imageOpacity\"\r\n    [shuffle]=\"shuffle\"></iu-collage>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { WallpaperComponent } from './wallpaper.component';\r\nimport { CollageModule } from '../collage/collage.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    CollageModule,\r\n  ],\r\n  declarations: [\r\n    WallpaperComponent,\r\n  ],\r\n  exports: [\r\n    WallpaperComponent,\r\n  ]\r\n})\r\nexport class WallpaperModule { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { ContainerComponent } from './container.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { BreadcrumbsModule } from '../breadcrumbs/breadcrumbs.module';\r\nimport { HeaderModule } from '../header/header.module';\r\nimport { NavbarModule } from '../navbar/navbar.module';\r\nimport { SidenavModule } from '../sidenav/sidenav.module';\r\nimport { SocialIconsModule } from '../social-icons/social-icons.module';\r\nimport { WallpaperModule } from '../wallpaper/wallpaper.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    BreadcrumbsModule,\r\n    HeaderModule,\r\n    NavbarModule,\r\n    SidenavModule,\r\n    SocialIconsModule,\r\n    WallpaperModule,\r\n  ],\r\n  declarations: [\r\n    ContainerComponent,\r\n  ],\r\n  exports: [\r\n    ContainerComponent,\r\n    BreadcrumbsModule,\r\n    HeaderModule,\r\n    NavbarModule,\r\n    SidenavModule,\r\n    SocialIconsModule,\r\n    WallpaperModule,\r\n  ]\r\n})\r\nexport class ContainerModule { }\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\nimport { build, toInt, integerArray } from \"./utils\";\r\n\r\nexport class DateRange {\r\n   startDate: Date = null;\r\n   endDate: Date = null;\r\n}\r\n\r\nexport class Month {\r\n   index = 0;\r\n   name = \"\";\r\n   abbreviation = \"\";\r\n   initial = \"\";\r\n}\r\n\r\nexport class Weekday {\r\n   index = 0;\r\n   name = \"\";\r\n   abbreviation = \"\";\r\n   initial = \"\";\r\n}\r\n\r\nexport class DateHelper {\r\n   static MonthNames = [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\",\r\n   ];\r\n\r\n   static BuildStartTime(\r\n      startDate: Date,\r\n      startHours: number,\r\n      startMinutes: number,\r\n      startMeridian: \"AM\" | \"PM\"\r\n   ): Date {\r\n      const startTime = new Date(startDate);\r\n      const hours = startMeridian === \"AM\" ? startHours : startHours + 12;\r\n      startTime.setHours(hours);\r\n      startTime.setMinutes(startMinutes);\r\n      return startTime;\r\n   }\r\n\r\n   static BuildEndTime(startTime: Date, dHours: number, dMinutes: number): Date {\r\n      const endTime = new Date(startTime);\r\n      endTime.setHours(endTime.getHours() + dHours);\r\n      endTime.setMinutes(endTime.getMinutes() + dMinutes);\r\n      return endTime;\r\n   }\r\n\r\n   static CalendarDaySpan(startDate: Date, endDate: Date): Date[] {\r\n      const daysBetween = Math.ceil(\r\n         DateHelper.DaysBetween(startDate, endDate) + 1\r\n      );\r\n      return daysBetween && daysBetween > 0\r\n         ? integerArray(daysBetween).map((i) => {\r\n            const d = new Date(startDate);\r\n            d.setDate(new Date(startDate).getDate() + i);\r\n            return d;\r\n         })\r\n         : [new Date(startDate)];\r\n   }\r\n\r\n   static CalendarDayStringSpan(startDate: Date, endDate: Date): string[] {\r\n      return DateHelper.CalendarDaySpan(startDate, endDate).map((d) =>\r\n         DateHelper.ToDayString(d)\r\n      );\r\n   }\r\n\r\n   static CountDaysInMonth(date: Date): number {\r\n      return DateHelper.DaysInMonth(date).length;\r\n   }\r\n\r\n   static DaysBetween(startDate: Date, endDate: Date): number {\r\n      const millisecondsPerDay = 24 * 60 * 60 * 1000;\r\n      return (\r\n         (DateHelper.TreatAsUTC(new Date(endDate)).getTime() -\r\n            DateHelper.TreatAsUTC(new Date(startDate)).getTime()) /\r\n         millisecondsPerDay\r\n      );\r\n   }\r\n\r\n   static DaysInMonth(date: Date): Date[] {\r\n      const d = new Date(date.getFullYear(), date.getMonth(), 1);\r\n      const days = [];\r\n      const month = d.getMonth();\r\n      while (d.getMonth() === month) {\r\n         days.push(new Date(d));\r\n         d.setDate(d.getDate() + 1);\r\n      }\r\n      return days;\r\n   }\r\n\r\n   static FormatDate(date: Date): string {\r\n      const d = new Date(date);\r\n      const month = \"\" + (d.getMonth() + 1);\r\n      const day = \"\" + d.getDate();\r\n      const year = d.getFullYear();\r\n\r\n      return month && day && year ? [month, day, year].join(\"/\") : null;\r\n   }\r\n\r\n   static FormatDateDashes(date: Date): string {\r\n      const d = new Date(date);\r\n      let month = \"\" + (d.getMonth() + 1);\r\n      let day = \"\" + d.getDate();\r\n      const year = d.getFullYear();\r\n\r\n      if (month.length < 2) {\r\n         month = \"0\" + month;\r\n      }\r\n      if (day.length < 2) {\r\n         day = \"0\" + day;\r\n      }\r\n\r\n      return [year, month, day].join(\"-\");\r\n   }\r\n\r\n   static FormatDateSlashes(date: Date): string {\r\n      const d = new Date(date);\r\n      let month = \"\" + (d.getMonth() + 1);\r\n      let day = \"\" + d.getDate();\r\n      const year = d.getFullYear();\r\n\r\n      if (month.length < 2) {\r\n         month = \"0\" + month;\r\n      }\r\n      if (day.length < 2) {\r\n         day = \"0\" + day;\r\n      }\r\n\r\n      return [month, day, year].join(\"/\");\r\n   }\r\n\r\n   static FromMonthYear(monthYear: string): Date {\r\n      const year = DateHelper.ToYearNumberFromMonthYear(monthYear);\r\n      const month = DateHelper.ToMonthNumberFromMonthYear(monthYear);\r\n      return year && month ? new Date(year, month) : new Date();\r\n   }\r\n\r\n   static GetFirstDayOfLastMonth(date: Date): Date {\r\n      const d = new Date(date);\r\n      return new Date(d.getFullYear(), d.getMonth() - 1, 1);\r\n   }\r\n\r\n   static GetFirstDayOfMonth(date: Date): Date {\r\n      const d = new Date(date);\r\n      return new Date(d.getFullYear(), d.getMonth(), 1);\r\n   }\r\n\r\n   static GetFirstDayOfNextMonth(date: Date): Date {\r\n      const d = new Date(date);\r\n      return new Date(d.getFullYear(), d.getMonth() + 1, 1);\r\n   }\r\n\r\n   static GetLastDayOfMonth(date: Date): Date {\r\n      const days = DateHelper.DaysInMonth(date);\r\n      return days[days.length - 1];\r\n   }\r\n\r\n   static GetHour(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getHours();\r\n   }\r\n\r\n   static GetMeridian(date: Date): \"AM\" | \"PM\" {\r\n      const hour = DateHelper.GetHour(date);\r\n      return hour >= 12 ? \"PM\" : \"AM\";\r\n   }\r\n\r\n   static GetMinute(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getMinutes();\r\n   }\r\n\r\n   static GetMonthIndex(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getMonth();\r\n   }\r\n\r\n   static GetMonthName(date: Date): string {\r\n      const d = new Date(date);\r\n      return build(\r\n         Month,\r\n         DateHelper.Months.find((x) => x.index === d.getMonth())\r\n      ).name;\r\n   }\r\n\r\n   static GetShortMonthName(date: Date): string {\r\n      const d = new Date(date);\r\n      return build(\r\n         Month,\r\n         DateHelper.Months.find((x) => x.index === d.getMonth())\r\n      ).abbreviation;\r\n   }\r\n\r\n   static GetWeekdayIndex(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getDay();\r\n   }\r\n\r\n   static GetYear(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getFullYear();\r\n   }\r\n\r\n   static HoursBetween(d1: Date, d2: Date): number {\r\n      return DateHelper.MillisecondsBetween(d1, d2) / 3600000;\r\n   }\r\n\r\n   static HoursFromBeginningOfDay(d: Date): number {\r\n      const date = new Date(d);\r\n      return date.getHours() + date.getMinutes() / 60;\r\n   }\r\n\r\n   static IsBetween(d: Date, startDate: Date, endDate: Date): boolean {\r\n      const date = new Date(d);\r\n      const calculatedEndDate = endDate || startDate;\r\n      return (\r\n         startDate &&\r\n         date > new Date(startDate) &&\r\n         date < new Date(calculatedEndDate)\r\n      );\r\n   }\r\n\r\n   static IsDate(date: any): boolean {\r\n      return Object.prototype.toString.call(date) === \"[object Date]\";\r\n   }\r\n\r\n   static IsValidDate(date: any): boolean {\r\n      const dateWrapper = new Date(date);\r\n      return !isNaN(dateWrapper.getDate());\r\n   }\r\n\r\n   static IsWeekday(d: Date): boolean {\r\n      const day = new Date(d).getDay();\r\n      return day === 1 || day === 2 || day === 3 || day === 4 || day === 5;\r\n   }\r\n\r\n   static IsWeekend(d: Date): boolean {\r\n      const day = new Date(d).getDay();\r\n      return day === 0 || day === 6;\r\n   }\r\n\r\n   static IsSameMonth(d1: Date, d2: Date): boolean {\r\n      return new Date(d1).getMonth() === new Date(d2).getMonth();\r\n   }\r\n\r\n   static MillisecondsBetween(d1: Date, d2: Date): number {\r\n      return Math.abs(new Date(d1).getTime() - new Date(d2).getTime());\r\n   }\r\n\r\n   static NextDay(fromDate: Date): Date {\r\n      const today = new Date(fromDate);\r\n      const tomorrow = new Date();\r\n      tomorrow.setDate(today.getDate() + 1);\r\n      return tomorrow;\r\n   }\r\n\r\n   static ParseDateDashes(date: string): Date {\r\n      const arr = date.split(\"-\");\r\n      return new Date(toInt(arr[0]), toInt(arr[1]) - 1, toInt(arr[2]));\r\n   }\r\n\r\n   static TimeAgo(date: Date): string {\r\n      if (!date) {\r\n         return '';\r\n      }\r\n      const seconds = Math.floor(\r\n         (new Date().getTime() - new Date(date).getTime()) / 1000\r\n      );\r\n\r\n      let interval = Math.floor(seconds / 31536000);\r\n\r\n      if (interval > 1) {\r\n         return `${interval} years ago`;\r\n      }\r\n      interval = Math.floor(seconds / 2592000);\r\n      if (interval > 1) {\r\n         return `${interval} months ago`;\r\n      }\r\n      interval = Math.floor(seconds / 86400);\r\n      if (interval > 1) {\r\n         return `${interval} days ago`;\r\n      }\r\n      interval = Math.floor(seconds / 3600);\r\n      if (interval > 1) {\r\n         return `${interval} hours ago`;\r\n      }\r\n      interval = Math.floor(seconds / 60);\r\n      if (interval > 1) {\r\n         return `${interval} minutes ago`;\r\n      }\r\n      return 'Just Now';\r\n      // return Math.floor(seconds) + \" seconds`\"\r\n   }\r\n\r\n   static TimeBetween(startDate: Date, endDate: Date): number {\r\n      return new Date(endDate).getTime() - new Date(startDate).getTime();\r\n   }\r\n\r\n   static ToDayString(d: Date): string {\r\n      const date = new Date(d);\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n   }\r\n\r\n   static ToMonthName(d: Date): string {\r\n      const date = new Date(d);\r\n      return DateHelper.MonthNames[date.getMonth()];\r\n   }\r\n\r\n   static ToMonthNumber(d: Date): number {\r\n      const date = new Date(d);\r\n      return date.getMonth() + 1;\r\n   }\r\n\r\n   static ToMonthNumberFromMonthYear(monthYear: string): number {\r\n      const month = monthYear.substr(monthYear.length - 2);\r\n      return toInt(month) - 1;\r\n   }\r\n\r\n   static ToMonthNumberFromMonthYearName(monthYear: string): number {\r\n      const parts = monthYear.split(/\\s*,\\s*/);\r\n      const month = DateHelper.MonthNumbers[parts[0]];\r\n      return month;\r\n   }\r\n\r\n   static ToMonthYear(d: Date): string {\r\n      const date = new Date(d);\r\n      const monthNumber = DateHelper.ToMonthNumber(date);\r\n      const month = monthNumber < 10 ? `0${monthNumber}` : monthNumber;\r\n      return `${date.getFullYear()}-${month}`;\r\n   }\r\n\r\n   static ToMonthYearName(d: Date): string {\r\n      const date = new Date(d);\r\n      const month = DateHelper.ToMonthName(date);\r\n      const year = date.getFullYear();\r\n      return month && year ? `${month} ${year}` : \"\";\r\n   }\r\n\r\n   static ToYearNumberFromMonthYear(monthYear: string): number {\r\n      const year = monthYear.substring(0, 4);\r\n      return toInt(year);\r\n   }\r\n\r\n   static TreatAsUTC(date: Date) {\r\n      const result = new Date(date);\r\n      result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\r\n      return result;\r\n   }\r\n\r\n   static get Today(): Date {\r\n      return new Date();\r\n   }\r\n\r\n   static get Month(): number {\r\n      return DateHelper.Today.getMonth();\r\n   }\r\n\r\n   static get MonthNumbers(): any {\r\n      return DateHelper.MonthNames.reduce((acc, x, i) =>\r\n         Object.assign({}, acc, { [x]: i })\r\n      );\r\n   }\r\n\r\n   static get Year(): number {\r\n      return DateHelper.Today.getFullYear();\r\n   }\r\n\r\n   static get NextSchoolYear(): number {\r\n      return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n   }\r\n\r\n   static get NextSchoolYearStartDate(): Date {\r\n      return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));\r\n   }\r\n\r\n   static get PreviousSchoolYear(): number {\r\n      return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n   }\r\n\r\n   static get PreviousSchoolYearEndDate(): Date {\r\n      return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));\r\n   }\r\n\r\n   static get FutureDate(): Date {\r\n      const date = DateHelper.Today;\r\n      return DateHelper.AddDays(date, 100000);\r\n   }\r\n\r\n   static get PastDate(): Date {\r\n      const date = DateHelper.Today;\r\n      return DateHelper.SubtractDays(date, 100000);\r\n   }\r\n\r\n   static AddDays(d: Date, days: number): Date {\r\n      const date = new Date(d);\r\n      date.setDate(date.getDate() + days);\r\n      return date;\r\n   }\r\n\r\n   static SubtractDays(d: Date, days: number): Date {\r\n      const date = new Date(d);\r\n      date.setDate(date.getDate() - days);\r\n      return date;\r\n   }\r\n\r\n   static BuildDate(year: number, month: number, day: number): Date {\r\n      const date = new Date();\r\n      date.setFullYear(year);\r\n      date.setMonth(month);\r\n      date.setDate(day);\r\n      return date;\r\n   }\r\n\r\n   static DateChanged(d1: Date, d2: Date): boolean {\r\n      const date1 = new Date(d1);\r\n      const date2 = new Date(d2);\r\n      return (\r\n         date1.getDate() !== date2.getDate() ||\r\n         date1.getMonth() !== date2.getMonth() ||\r\n         date1.getFullYear() !== date2.getFullYear()\r\n      );\r\n   }\r\n\r\n   static IsSameDay(d1: Date, d2: Date): boolean {\r\n      const date1 = new Date(d1);\r\n      const date2 = new Date(d2);\r\n      return (\r\n         date1.getDate() === date2.getDate() &&\r\n         date1.getMonth() === date2.getMonth() &&\r\n         date1.getFullYear() === date2.getFullYear()\r\n      );\r\n   }\r\n\r\n   static get YearStartDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year, 6, 1);\r\n      }\r\n   }\r\n\r\n   static get PreviousYearStartDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n      }\r\n   }\r\n\r\n   static SchoolYearStart(year: number): Date {\r\n      return DateHelper.BuildDate(year, 6, 1);\r\n   }\r\n\r\n   static get YearEndDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);\r\n      }\r\n   }\r\n\r\n   static get PreviousYearEndDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n      }\r\n   }\r\n\r\n   static SchoolYearEnd(year?: number): Date {\r\n      return DateHelper.BuildDate(year - 1, 5, 30);\r\n   }\r\n\r\n   static BuildDateRange(dateRangeId: number): DateRange {\r\n      let startDate: Date;\r\n      let endDate: Date;\r\n      switch (dateRangeId) {\r\n         case 0:\r\n            break;\r\n         case 1:\r\n            break;\r\n         case 2: // Today\r\n            startDate = DateHelper.Today;\r\n            endDate = startDate;\r\n            break;\r\n         case 3: // Next 15\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.AddDays(startDate, 15);\r\n            break;\r\n         case 4: // Next 30\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.AddDays(startDate, 30);\r\n            break;\r\n         case 5: // Next 60\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.AddDays(startDate, 60);\r\n            break;\r\n         case 6: // Previous 15\r\n            endDate = DateHelper.Today;\r\n            startDate = DateHelper.SubtractDays(endDate, 15);\r\n            break;\r\n         case 7: // Previous 30\r\n            endDate = DateHelper.Today;\r\n            startDate = DateHelper.SubtractDays(endDate, 30);\r\n            break;\r\n         case 8: // Previous 60\r\n            endDate = DateHelper.Today;\r\n            startDate = DateHelper.SubtractDays(endDate, 60);\r\n            break;\r\n         case 9: // School Year - Runs from July 1st Thru June 30th\r\n            startDate = DateHelper.YearStartDate;\r\n            endDate = DateHelper.YearEndDate;\r\n            break;\r\n         case 10: // Number of meetings = 10\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.FutureDate;\r\n            break;\r\n         case 11: // Previous School Year\r\n            startDate = DateHelper.PreviousYearStartDate;\r\n            endDate = DateHelper.PreviousYearEndDate;\r\n            break;\r\n      }\r\n      return build(DateRange, { startDate, endDate });\r\n   }\r\n\r\n   static get Months() {\r\n      return [\r\n         build(Month, { name: \"January\", abbreviation: \"Jan\", index: 0 }),\r\n         build(Month, { name: \"February\", abbreviation: \"Feb\", index: 1 }),\r\n         build(Month, { name: \"March\", abbreviation: \"Mar\", index: 2 }),\r\n         build(Month, { name: \"April\", abbreviation: \"Apr\", index: 3 }),\r\n         build(Month, { name: \"May\", abbreviation: \"May\", index: 4 }),\r\n         build(Month, { name: \"June\", abbreviation: \"June\", index: 5 }),\r\n         build(Month, { name: \"July\", abbreviation: \"July\", index: 6 }),\r\n         build(Month, { name: \"August\", abbreviation: \"Aug\", index: 7 }),\r\n         build(Month, { name: \"September\", abbreviation: \"Sept\", index: 8 }),\r\n         build(Month, { name: \"October\", abbreviation: \"Oct\", index: 9 }),\r\n         build(Month, { name: \"November\", abbreviation: \"Nov\", index: 10 }),\r\n         build(Month, { name: \"December\", abbreviation: \"Dec\", index: 11 }),\r\n      ];\r\n   }\r\n\r\n   static get Weekdays() {\r\n      return [\r\n         build(Weekday, {\r\n            name: \"Sunday\",\r\n            abbreviation: \"Sun\",\r\n            initial: \"Su\",\r\n            index: 0,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Monday\",\r\n            abbreviation: \"Mon\",\r\n            initial: \"M\",\r\n            index: 1,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Tuesday\",\r\n            abbreviation: \"Tues\",\r\n            initial: \"T\",\r\n            index: 2,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Wednesday\",\r\n            abbreviation: \"Wed\",\r\n            initial: \"W\",\r\n            index: 3,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Thursday\",\r\n            abbreviation: \"Thurs\",\r\n            initial: \"Th\",\r\n            index: 4,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Friday\",\r\n            abbreviation: \"Fri\",\r\n            initial: \"F\",\r\n            index: 5,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Saturday\",\r\n            abbreviation: \"Sat\",\r\n            initial: \"S\",\r\n            index: 6,\r\n         }),\r\n      ];\r\n   }\r\n}\r\n\r\nexport function noWeekendDaysValidator(): ValidatorFn {\r\n   return (control: AbstractControl): { [key: string]: any } => {\r\n      if (control.value && Date.parse(control.value.toString())) {\r\n         const dateValue = new Date(control.value.toString())\r\n         const IsWeekend = DateHelper.IsWeekend(dateValue);\r\n         const formattedDate = DateHelper.FormatDate(dateValue);\r\n         const weekendDay = DateHelper.Weekdays[new Date(dateValue).getDay()].name;\r\n         return !IsWeekend ? null : { weekend: `${formattedDate} is a ${weekendDay}. Weekend Days are not allowed.` };\r\n      } else {\r\n         return null;\r\n      }\r\n   };\r\n}\r\n\r\nexport function dateFormatValidator(): ValidatorFn {\r\n   return (control: AbstractControl): { [key: string]: any } => {\r\n      const dt = new Date(control.value);\r\n\r\n      const month = dt.getMonth() + 1;\r\n      const day = dt.getDate();\r\n      const year = dt.getFullYear();\r\n\r\n      if (!correctMonthFormat(month) || !correctDayFormat(day) || !correctYearFormat(year)) {\r\n         return { format: 'Date is not in a valid format.' }\r\n      }\r\n\r\n      return null;\r\n   }\r\n}\r\n\r\nfunction correctMonthFormat(month: number): boolean {\r\n   return month > 0 && month < 13;\r\n}\r\n\r\n// could improve to be a specific day based on the month.\r\nfunction correctDayFormat(day: number): boolean {\r\n   return day > 0 && day < 32;\r\n}\r\n\r\nfunction correctYearFormat(year: number): boolean {\r\n   return year > 999 && year < 10000;\r\n}","import {\r\n   ChangeDetectionStrategy,\r\n   Component,\r\n   EventEmitter,\r\n   forwardRef,\r\n   Input,\r\n   OnInit,\r\n   Output,\r\n   ViewChild\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, FormControl, NgModel, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\r\nimport { dateFormatValidator, noWeekendDaysValidator } from '../../shared/date';\r\n\r\nexport const DATEPICKER_ACCESSOR: any = {\r\n   provide: NG_VALUE_ACCESSOR,\r\n   useExisting: forwardRef(() => DatepickerComponent),\r\n   multi: true\r\n};\r\n\r\n@Component({\r\n   selector: 'iu-datepicker',\r\n   templateUrl: './datepicker.component.html',\r\n   styleUrls: ['./datepicker.component.scss'],\r\n   changeDetection: ChangeDetectionStrategy.OnPush,\r\n   providers: [DATEPICKER_ACCESSOR]\r\n})\r\n\r\nexport class DatepickerComponent implements ControlValueAccessor, OnInit {\r\n   @Input() filter: (d: Date) => boolean;\r\n   @Input() min: Date;\r\n   @Input() max: Date;\r\n   @Input() placeholder = 'Choose a date';\r\n   @Input() required: boolean = false;\r\n   @Input() startAt: Date;\r\n   @Input() startView: 'month' | 'year' = 'month';\r\n   @Input() touchUi;\r\n   @Output() selectedChanged = new EventEmitter<Date>();\r\n   @ViewChild('picker', { static: true }) datepicker: MatDatepicker<Date>;\r\n   private onModelChange: Function;\r\n   private onTouch: Function;\r\n   _value: Date;\r\n   dateFilter: (d: Date) => boolean;\r\n   focused: Date;\r\n   dateInput = new FormControl('');\r\n\r\n   constructor() { }\r\n\r\n   get value(): Date {\r\n      return this._value;\r\n   }\r\n\r\n   @Input()\r\n   set value(val: Date) {\r\n      this._value = val;\r\n   }\r\n\r\n   registerOnChange(fn: Function) {\r\n      this.onModelChange = fn;\r\n   }\r\n\r\n   registerOnTouched(fn: Function) {\r\n      this.onTouch = fn;\r\n   }\r\n\r\n   writeValue(value: Date) {\r\n      this.value = value;\r\n   }\r\n\r\n   onChange(value: MatDatepickerInputEvent<Date>) {\r\n      this.value = value.value;\r\n      if (this.onModelChange) {\r\n         this.onModelChange(value.value);\r\n      }\r\n   }\r\n\r\n   get id() {\r\n      return this.datepicker.id;\r\n   }\r\n\r\n   get opened() {\r\n      return this.datepicker.opened;\r\n   }\r\n\r\n   ngOnInit() {\r\n      this.startAt = this.value;\r\n      if (this.filter != null) {\r\n         this.dateFilter = this.filter;\r\n      } else {\r\n         this.dateFilter = null;\r\n      }\r\n\r\n      this.dateInput.setValidators([\r\n         dateFormatValidator(),\r\n         noWeekendDaysValidator()\r\n      ]);\r\n      this.dateInput.setValue(this.value);\r\n   }\r\n\r\n   changeSelected(date: MatDatepickerInputEvent<Date>) {\r\n      this.onChange(date);\r\n      this.selectedChanged.emit(date.value);\r\n   }\r\n\r\n   close() {\r\n      this.datepicker.close();\r\n   }\r\n\r\n   open() {\r\n      this.datepicker.open();\r\n   }\r\n\r\n}\r\n","<mat-form-field>\r\n   <input matInput dateMask [required]=\"required\" [placeholder]=\"placeholder\" \r\n   [matDatepicker]=\"picker\" [matDatepickerFilter]=\"dateFilter\" \r\n   (dateChange)=\"changeSelected($event)\" [min]=\"min\" [max]=\"max\" [value]=\"value\" \r\n   [formControl]=\"dateInput\" />\r\n   <mat-error *ngIf=\"dateInput.hasError('required')\">\r\n      This date is required.\r\n   </mat-error>\r\n   <mat-error *ngIf=\"dateInput.hasError('format')\">\r\n      Please enter a valid date using <strong>mm/dd/yyyy</strong> format.\r\n   </mat-error>\r\n   <mat-error *ngIf=\"dateInput.hasError('weekend')\">\r\n      {{ dateInput.errors['weekend'] }}\r\n   </mat-error>\r\n   <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n   <mat-datepicker #picker [startAt]=\"startAt\" [startView]=\"startView\" [touchUi]=\"touchUi\"></mat-datepicker>\r\n</mat-form-field>","import {\r\n   ChangeDetectionStrategy,\r\n   Component,\r\n   forwardRef,\r\n   Input,\r\n   ViewChild,\r\n   Output,\r\n   EventEmitter,\r\n   ChangeDetectorRef,\r\n   OnInit\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DatepickerComponent } from '../datepicker.component';\r\nimport { DateRange } from '../../../shared/date';\r\nimport { build } from '../../../shared/utils';\r\n\r\nexport const DATERANGE_ACCESSOR: any = {\r\n   provide: NG_VALUE_ACCESSOR,\r\n   useExisting: forwardRef(() => DaterangeComponent),\r\n   multi: true\r\n};\r\n\r\n@Component({\r\n   selector: 'iu-daterange',\r\n   templateUrl: './daterange.component.html',\r\n   styleUrls: ['./daterange.component.scss'],\r\n   changeDetection: ChangeDetectionStrategy.OnPush,\r\n   providers: [DATERANGE_ACCESSOR]\r\n})\r\n\r\nexport class DaterangeComponent implements ControlValueAccessor, OnInit {\r\n   @Input() debug = false;\r\n   @Input() inline = false;\r\n   @Input() min: Date;\r\n   @Input() max: Date; \r\n   @Input() required: boolean = false;\r\n   @Input() startAt: Date;\r\n   @Input() startLabel = 'Start Date';\r\n   @Input() endLabel = 'End Date';\r\n   @Input() startView;\r\n   @Input() touchUi;\r\n   @Output() startDateChanged = new EventEmitter<Date>();\r\n   @Output() endDateChanged = new EventEmitter<Date>();\r\n   @ViewChild('startDate', { static: true })\r\n   startDatepicker: DatepickerComponent;\r\n   @ViewChild('endDate', { static: true }) endDatepicker: DatepickerComponent;\r\n   private onModelChange: Function;\r\n   private onTouch: Function;\r\n   _value: DateRange = new DateRange();\r\n   focused: DateRange = new DateRange();\r\n   now = new Date();\r\n\r\n   constructor(private changeDetectorRef: ChangeDetectorRef) { }\r\n\r\n   ngOnInit() {}\r\n\r\n   get value(): DateRange {\r\n      return this._value;\r\n   }\r\n\r\n   @Input()\r\n   set value(val: DateRange) {\r\n      this._value = val;\r\n      if (this.startDatepicker) {\r\n         this.startDatepicker.value = val?.startDate;\r\n      }\r\n      if (this.endDatepicker) {\r\n         this.endDatepicker.value = val?.endDate;\r\n      }\r\n      if (\r\n         this &&\r\n         this.changeDetectorRef &&\r\n         !this.changeDetectorRef['destroyed']\r\n      ) {\r\n         this.changeDetectorRef.detectChanges();\r\n      }\r\n   }\r\n\r\n   get startDateId() {\r\n      return this.startDatepicker.id;\r\n   }\r\n\r\n   get startDateOpened() {\r\n      return this.startDatepicker.opened;\r\n   }\r\n\r\n   get endDateId() {\r\n      return this.endDatepicker.id;\r\n   }\r\n\r\n   get endDateOpened() {\r\n      return this.endDatepicker.opened;\r\n   }\r\n\r\n   get startDateValue(): Date {\r\n      return this.value.startDate ? new Date(this.value.startDate) : null;\r\n   }\r\n\r\n   set startDateValue(value: Date) {\r\n      this.changeStartDate(value);\r\n   }\r\n\r\n   get endDateValue(): Date {\r\n      return this.value.endDate ? new Date(this.value.endDate) : null;\r\n   }\r\n\r\n   set endDateValue(value: Date) {\r\n      this.changeEndDate(value);\r\n   }\r\n\r\n   get startDateLastDay() {\r\n      return new Date(\r\n         this.startDateValue.getFullYear(),\r\n         this.startDateValue.getMonth() + 1,\r\n         0\r\n      );\r\n   }\r\n\r\n   filter(d: Date): boolean {\r\n      return this.ifMonthSame(d) || this.ifMonthDifferent(d);\r\n   };\r\n\r\n   changeStartDate(date: Date) {\r\n      this.onChange(\r\n         build(DateRange, {\r\n            endDate: this.value.endDate,\r\n            startDate: date\r\n         })\r\n      );\r\n      this.startDateChanged.emit(date);\r\n   }\r\n\r\n   ifMonthSame(d: Date) {\r\n      return (\r\n         d.getMonth() === this.startDateValue.getMonth() &&\r\n         d.getDate() >= this.startDateValue.getDate() &&\r\n         d.getFullYear() === this.startDateValue.getFullYear()\r\n      );\r\n   }\r\n\r\n   ifMonthDifferent(d: Date) {\r\n      return (\r\n         (d.getMonth() > this.startDateValue.getMonth() &&\r\n            d.getFullYear() >= this.startDateValue.getFullYear() &&\r\n            (1 < d.getDate() ||\r\n               this.startDateValue.getDate() <= this.startDateLastDay.getDate())) ||\r\n         d.getFullYear() > this.startDateValue.getFullYear()\r\n      );\r\n   }\r\n\r\n   closeStartDate() {\r\n      this.startDatepicker.close();\r\n   }\r\n\r\n   openStateDate() {\r\n      this.startDatepicker.open();\r\n   }\r\n\r\n   changeEndDate(date: Date) {\r\n      this.onChange(\r\n         build(DateRange, {\r\n            endDate: date,\r\n            startDate: this.value.startDate\r\n         })\r\n      );\r\n      this.endDateChanged.emit(date);\r\n      if (this.debug) {\r\n         console.dir('changeEndDate ran');\r\n         console.dir('Start Date: ' + this.startDateValue);\r\n         console.dir('End Date:' + date);\r\n      }\r\n   }\r\n\r\n   closeEndDate() {\r\n      this.endDatepicker.close();\r\n   }\r\n\r\n   openEndDate() {\r\n      this.endDatepicker.open();\r\n   }\r\n\r\n   registerOnChange(fn: Function) {\r\n      this.onModelChange = fn;\r\n   }\r\n\r\n   registerOnTouched(fn: Function) {\r\n      this.onTouch = fn;\r\n   }\r\n\r\n   writeValue(value: DateRange) {\r\n      this.value = value;\r\n   }\r\n\r\n   onChange(value: DateRange) {\r\n      this.value = value;\r\n      if (this.onModelChange) {\r\n         this.onModelChange(value);\r\n      }\r\n   }\r\n\r\n   onFocus(value: DateRange) {\r\n      this.focused = value;\r\n      if (this.onTouch) {\r\n         this.onTouch();\r\n      }\r\n   }\r\n}\r\n","<div class=\"daterange\">\r\n   <div class=\"start-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\r\n      <label class=\"lbl-date iu-primary\">{{ startLabel }}:</label>\r\n      <iu-datepicker #startDate (selectedChanged)=\"changeStartDate($event)\" [startAt]=\"now\"\r\n      [required]=\"required\">\r\n      </iu-datepicker>\r\n   </div>\r\n   <div class=\"end-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\r\n      <label class=\"lbl-date iu-primary\">{{ endLabel }}:</label>\r\n      <iu-datepicker #endDate (selectedChanged)=\"changeEndDate($event)\" [startAt]=\"now\">\r\n      </iu-datepicker>\r\n   </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { DatepickerComponent } from './datepicker.component';\r\nimport { DaterangeComponent } from './daterange/daterange.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n   imports: [\r\n      SharedModule,\r\n      MatDatepickerModule,\r\n      MatNativeDateModule,\r\n      MatInputModule,\r\n      ReactiveFormsModule,\r\n   ],\r\n   declarations: [\r\n      DatepickerComponent,\r\n      DaterangeComponent,\r\n   ],\r\n   exports: [\r\n      DatepickerComponent,\r\n      DaterangeComponent,\r\n   ]\r\n})\r\nexport class DatepickerModule { }\r\n","import { build, truthy } from '../../shared/utils';\r\n\r\nexport class FileUpload {\r\n  isPrivate = false;\r\n  lastModified = 0;\r\n  lastModifiedDate: Date = new Date();\r\n  name = '';\r\n  size = 0;\r\n  type = '';\r\n  webkitRelativePath = '';\r\n  order?= 0;\r\n  readyState: 'EMPTY' | 'LOADING' | 'DONE' = 'EMPTY';\r\n  src = '';\r\n\r\n  static BuildFromFile(file: File): FileUpload {\r\n    return build(FileUpload, {\r\n      name: file.fileName,\r\n      size: file.fileSize,\r\n      type: file.mimeType,\r\n      src: file.src,\r\n      order: file.order\r\n    });\r\n  }\r\n\r\n  static GetReadyState(reader: FileReader) {\r\n    switch (reader.readyState) {\r\n      case 0:\r\n        return 'EMPTY';\r\n      case 1:\r\n        return 'LOADING';\r\n      case 2:\r\n        return 'DONE';\r\n      default:\r\n        return 'EMPTY';\r\n    }\r\n  }\r\n\r\n  set extension(value: string) {\r\n  }\r\n\r\n  get extension(): string {\r\n    return this.name.split('.').pop();\r\n  }\r\n\r\n  set isImage(value: boolean) {\r\n  }\r\n\r\n  get isImage(): boolean {\r\n    return this.type ? this.type.split('/')[0] === 'image' : false;\r\n  }\r\n\r\n  set loading(value: boolean) {\r\n  }\r\n\r\n  get loading(): boolean {\r\n    return this.readyState === 'LOADING';\r\n  }\r\n\r\n  set file(value: File) {\r\n  }\r\n\r\n  get file(): File {\r\n    return File.BuildFromFileUpload(this);\r\n  }\r\n}\r\n\r\nexport function getReadyState(reader: FileReader) {\r\n  switch (reader.readyState) {\r\n    case 0:\r\n      return 'EMPTY';\r\n    case 1:\r\n      return 'LOADING';\r\n    case 2:\r\n      return 'DONE';\r\n    default:\r\n      return 'EMPTY';\r\n  }\r\n}\r\n\r\nexport class File {\r\n  id = 0;\r\n  fileBinary: any[] = [];\r\n  fileExtension = '';\r\n  fileName = '';\r\n  fileSize = 0;\r\n  mimeType = '';\r\n  order = 0;\r\n\r\n  static BuildFromFileUpload(upload: FileUpload): File {\r\n    return build(File, {\r\n      fileBinary: upload.src.replace(File.GetSrcPrefix(upload.type), ''),\r\n      fileExtension: upload.extension,\r\n      fileName: upload.name,\r\n      fileSize: upload.size,\r\n      mimeType: upload.type,\r\n      order: upload.order\r\n    });\r\n  }\r\n\r\n  static GetImageBinarySrc(img: File | File[], defaultSrc = null) {\r\n    if (Array.isArray(img) && img.length > 0) {\r\n      return File.GetImageBinarySrc(img[0]);\r\n    } else {\r\n      return img && truthy((<File>img).mimeType) && truthy((<File>img).fileBinary) ?\r\n        `data:${(<File>img).mimeType};base64,${(<File>img).fileBinary}`\r\n        : defaultSrc;\r\n    }\r\n  }\r\n\r\n  static GetSrcPrefix(mimeType: string): string {\r\n    return `data:${mimeType};base64,`;\r\n  }\r\n\r\n  // get fileUpload(): FileUpload {\r\n  //     return FileUpload.BuildFromFile(this);\r\n  // }\r\n\r\n  get src(): string {\r\n    return File.GetImageBinarySrc(this);\r\n  }\r\n}\r\n","import { TypeConstructor } from './models';\r\nimport { build } from './utils';\r\n\r\nexport class Permutation<T> {\r\n    _timestamp: Date;\r\n\r\n    constructor(public order: OrderedItem<T>[]) {\r\n        this._timestamp = new Date();\r\n    }\r\n\r\n    get ranks(): OrderedItem<T>[] {\r\n        return this.order.sort((a, b) => a.order - b.order)\r\n            .map((x, index) => Object.assign(<OrderedItem<T>>{}, x, { rank: index + 1 }));\r\n    }\r\n\r\n    get timestamp(): Date {\r\n        return this._timestamp;\r\n    }\r\n}\r\n\r\nexport class OrderedItem<T> {\r\n    id: any;\r\n    order: number;\r\n    rank?: number;\r\n\r\n    constructor(public item: T) {\r\n    }\r\n}\r\n\r\nexport class Ordering<T> {\r\n\r\n    private _history: Permutation<T>[] = [];\r\n\r\n    constructor(private _items: T[], public ctor: TypeConstructor<T>, public orderKey: string, public idKey = 'id') {\r\n    }\r\n\r\n    get count(): number {\r\n        return this.items.length;\r\n    }\r\n\r\n    get history(): Permutation<T>[] {\r\n        return this._history;\r\n    }\r\n\r\n    get instance(): T {\r\n        return new this.ctor();\r\n    }\r\n\r\n    get items(): T[] {\r\n        return this._items.sort((a, b) => this.getItemOrder(a) - this.getItemOrder(b));\r\n    }\r\n\r\n    get maxIndex(): number {\r\n        return this.count === 0 ? 0 : Math.max(...this.order.map(x => x.order));\r\n    }\r\n\r\n    get order(): OrderedItem<T>[] {\r\n        return this.permutation.ranks;\r\n    }\r\n\r\n    get permutation(): Permutation<T> {\r\n        return new Permutation<T>(this.items.map(item => <OrderedItem<T>>{\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        }));\r\n    }\r\n\r\n    get nextPosition(): number {\r\n        return this.maxIndex + 1;\r\n    }\r\n\r\n    addItem(item: T): T[] {\r\n        return this.addItemAtPosition(item, this.nextPosition);\r\n    }\r\n\r\n    addItemAtPosition(item: T, pos: number): T[] {\r\n        const newItemId = this.getItemId(item);\r\n        return [...this.items, build(this.ctor, item, { order: pos })]\r\n            .map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return (order <= pos || id === newItemId) ? x : build(this.ctor, x, { order: order + 1 });\r\n            });\r\n    }\r\n\r\n    archive(items?: T[]) {\r\n        const permutation = items ? this.getPermutation(items) : this.permutation;\r\n        this._history = [...this._history, permutation];\r\n    }\r\n\r\n    getItemId(item: T): any {\r\n        return item[this.idKey];\r\n    }\r\n\r\n    getItemOrder(item: T): number {\r\n        return item[this.orderKey];\r\n    }\r\n\r\n    getPermutation(items: T[]): Permutation<T> {\r\n        return new Permutation(items.map(item => <OrderedItem<T>>{\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        }));\r\n    }\r\n\r\n    move(item: T, to: number): T[] {\r\n        const from = this.getItemOrder(item);\r\n        const itemId = this.getItemId(item);\r\n        if (to === from) {\r\n            return [...this.items];\r\n        } else if (to < from) {\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < to || order > from) ? x : build(this.ctor, x, { order: order + 1 });\r\n            });\r\n        } else { // to > from\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < from || order > to) ? x : build(this.ctor, x, { order: order - 1 });\r\n            });\r\n        }\r\n    }\r\n\r\n    moveDown(item: T): T[] {\r\n        return this.move(item, this.getItemOrder(item) + 1);\r\n    }\r\n\r\n    moveUp(item: T): T[] {\r\n        return this.move(item, this.getItemOrder(item) - 1);\r\n    }\r\n\r\n    removeItem(item: T): T[] {\r\n        return this.removeItemAtPosition(this.getItemOrder(item));\r\n    }\r\n\r\n    removeItemAtPosition(pos: number): T[] {\r\n        return this.items.filter(item => this.getItemOrder(item) !== pos)\r\n            .map(x => {\r\n                const order = this.getItemOrder(x);\r\n                return order < pos ? x : build(this.ctor, x, { order: order - 1 });\r\n            });\r\n    }\r\n\r\n    updateItems(items: T[]): void {\r\n        this.archive();\r\n        this._items = items;\r\n    }\r\n}\r\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\nimport { build, truthy } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-file-preview',\r\n  templateUrl: './file-preview.component.html',\r\n  styleUrls: ['./file-preview.component.scss']\r\n})\r\nexport class FilePreviewComponent {\r\n  @Input() height: number;\r\n  @Input() width: number;\r\n  @Input() ordered = true;\r\n  @Input() first = false;\r\n  @Input() last = false;\r\n  @Input() isPrivateMessage = '';\r\n  @Output() changePrivacyStatus = new EventEmitter<FileUpload>();\r\n  @Output() moveUp = new EventEmitter<FileUpload>();\r\n  @Output() moveDown = new EventEmitter<FileUpload>();\r\n  @Output() remove = new EventEmitter<FileUpload>();\r\n  _file: FileUpload = new FileUpload();\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  set file(value: FileUpload) {\r\n    this._file = value;\r\n  }\r\n\r\n  get file(): FileUpload {\r\n    return build(FileUpload, this._file);\r\n  }\r\n\r\n  get cursorStyle(): string {\r\n    return this.ordered ? 'move' : 'default';\r\n  }\r\n\r\n  get graphic(): string {\r\n    if (!this.file) {\r\n      return null;\r\n    }\r\n    if (this.file.loading) {\r\n      return 'cloud_upload';\r\n    } else if (this.file.isImage) {\r\n      return 'image';\r\n    } else {\r\n      switch (this.file.extension) {\r\n        case 'pdf':\r\n          return 'picture_as_pdf';\r\n        default:\r\n          return 'cloud_done';\r\n      }\r\n    }\r\n  }\r\n\r\n  set isPrivate(value: boolean) {\r\n    this.changePrivacyStatus.emit(build(FileUpload, this.file, {\r\n      isPrivate: value\r\n    }));\r\n  }\r\n\r\n  get isPrivate(): boolean {\r\n    return this._file.isPrivate;\r\n  }\r\n\r\n  get showImage(): boolean {\r\n    return this.file.isImage && truthy(this.file.src);\r\n  }\r\n\r\n  get showUpArrow(): boolean {\r\n    return this.ordered && !this.first;\r\n  }\r\n\r\n  get showDownArrow(): boolean {\r\n    return this.ordered && !this.last;\r\n  }\r\n\r\n  onMoveUp() {\r\n    this.moveUp.emit(this.file);\r\n  }\r\n\r\n  onMoveDown() {\r\n    this.moveDown.emit(this.file);\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit(this.file);\r\n  }\r\n}\r\n","<mat-card class=\"file-preview\" [style.cursor]=\"cursorStyle\">\r\n  <div class=\"graphic\">\r\n    <img *ngIf=\"showImage\" [src]=\"file.src\" [style.height]=\"height\" [style.width]=\"width\">\r\n    <mat-icon *ngIf=\"!showImage\" class=\"icon-graphic\">{{ graphic }}</mat-icon>\r\n  </div>\r\n  <mat-progress-bar mode=\"indeterminate\" *ngIf=\"file.loading\"></mat-progress-bar>\r\n  <div class=\"file-info\" [class.has-security]=\"isPrivateMessage\">\r\n    <span class=\"file-name\">{{ file.name }}</span>\r\n  </div>\r\n  <mat-checkbox *ngIf=\"isPrivateMessage\" [(ngModel)]=\"isPrivate\">{{ isPrivateMessage }}</mat-checkbox>\r\n  <mat-icon *ngIf=\"showUpArrow\" class=\"up-arrow\" (click)=\"onMoveUp()\">keyboard_arrow_up</mat-icon>\r\n  <mat-icon *ngIf=\"showDownArrow\" class=\"down-arrow\" (click)=\"onMoveDown()\">keyboard_arrow_down</mat-icon>\r\n  <mat-icon class=\"remove-upload\" (click)=\"onRemove()\">cancel</mat-icon>\r\n</mat-card>\r\n","import { Component, Input, ChangeDetectionStrategy, Output, EventEmitter } from '@angular/core';\r\nimport { CdkDragDrop } from '@angular/cdk/drag-drop';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\nimport { clamp, build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-uploads',\r\n  templateUrl: './uploads.component.html',\r\n  styleUrls: ['./uploads.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class UploadsComponent {\r\n  @Input() height: number;\r\n  @Input() width: number;\r\n  @Input() ordered = true;\r\n  @Input() isPrivateMessage = '';\r\n  @Output() changePrivacyStatus = new EventEmitter<FileUpload>();\r\n  @Output() moveUp = new EventEmitter<FileUpload>();\r\n  @Output() moveDown = new EventEmitter<FileUpload>();\r\n  @Output() remove = new EventEmitter<FileUpload>();\r\n  @Output() reorder = new EventEmitter<FileUpload[]>();\r\n  _uploads: FileUpload[] = [];\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  set uploads(value: FileUpload[]) {\r\n    this._uploads = value;\r\n  }\r\n\r\n  get uploads(): FileUpload[] {\r\n    return this._uploads;\r\n  }\r\n\r\n  onChangePrivacyStatus(f: FileUpload) {\r\n    this.changePrivacyStatus.emit(f);\r\n  }\r\n\r\n  onDrop(e: CdkDragDrop<string[]>) {\r\n    this.moveItemInArray(e.previousIndex, e.currentIndex);\r\n  }\r\n\r\n  onMoveUp(f: FileUpload) {\r\n    this.moveUp.emit(f);\r\n  }\r\n\r\n  onMoveDown(f: FileUpload) {\r\n    this.moveDown.emit(f);\r\n  }\r\n\r\n  onRemove(f: FileUpload) {\r\n    this.remove.emit(f);\r\n  }\r\n\r\n  /**\r\n   * Moves an item one index in an array to another.\r\n   * @param fromIndex Starting index of the item.\r\n   * @param toIndex Index to which the item should be moved.\r\n   */\r\n  moveItemInArray(fromIndex: number, toIndex: number): void {\r\n    const uploads = [...this.uploads];\r\n    const from = clamp(fromIndex, uploads.length - 1);\r\n    const to = clamp(toIndex, uploads.length - 1);\r\n\r\n    if (from === to) {\r\n      return;\r\n    }\r\n\r\n    const target = uploads[from];\r\n    const delta = to < from ? -1 : 1;\r\n\r\n    for (let i = from; i !== to; i += delta) {\r\n      uploads[i] = uploads[i + delta];\r\n    }\r\n\r\n    uploads[to] = target;\r\n    this.reorder.emit(uploads.map((x, i) => build(FileUpload, x, { order: i + 1 })));\r\n  }\r\n}\r\n","<div cdkDropList class=\"uploads\" [style.height]=\"height\" [style.width]=\"width\" (cdkDropListDropped)=\"onDrop($event)\">\r\n  <iu-file-preview *ngFor=\"let upload of uploads; let first = first; let last = last\" [file]=\"upload\" [first]=\"first\"\r\n    [last]=\"last\" [ordered]=\"ordered\" [isPrivateMessage]=\"isPrivateMessage\" (moveUp)=\"onMoveUp($event)\"\r\n    (moveDown)=\"onMoveDown($event)\" (remove)=\"onRemove($event)\" (changePrivacyStatus)=\"onChangePrivacyStatus($event)\"\r\n    cdkDrag></iu-file-preview>\r\n</div>\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\n\r\n@Component({\r\n  selector: 'iu-upload',\r\n  templateUrl: './upload.component.html',\r\n  styleUrls: ['./upload.component.scss']\r\n})\r\nexport class UploadComponent {\r\n\r\n  @Input() upload: FileUpload = new FileUpload();\r\n  @Input() height = 200;\r\n  @Input() width = 600;\r\n  @Output() remove = new EventEmitter<FileUpload>();\r\n\r\n  constructor() { }\r\n\r\n  get graphic(): string {\r\n    if (!this.upload) {\r\n      return null;\r\n    }\r\n    if (this.upload.loading) {\r\n      return 'cloud_upload';\r\n    } else if (this.upload.isImage) {\r\n      return 'image';\r\n    } else {\r\n      switch (this.upload.extension) {\r\n        case 'pdf':\r\n          return 'picture_as_pdf';\r\n        default:\r\n          return 'cloud_done';\r\n      }\r\n    }\r\n  }\r\n\r\n  get showImage(): boolean {\r\n    return this.graphic === 'image';\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit(this.upload);\r\n  }\r\n\r\n}\r\n","<div class=\"upload\" [style.height]=\"img?.style?.height\">\r\n  <div class=\"graphic\" #img>\r\n    <img *ngIf=\"showImage\" [src]=\"upload.src\" [style.max-height.px]=\"height\" [style.max-width.px]=\"width\">\r\n    <mat-icon *ngIf=\"!showImage\" class=\"icon-graphic\" [style.max-height.px]=\"height\" [style.max-width.px]=\"width\">\r\n      {{ graphic }}</mat-icon>\r\n    <mat-icon *ngIf=\"!upload.loading\" class=\"remove-upload\" (click)=\"onRemove()\">cancel</mat-icon>\r\n  </div>\r\n  <mat-progress-spinner mode=\"indeterminate\" *ngIf=\"upload.loading\"></mat-progress-spinner>\r\n  <div class=\"file-info\" *ngIf=\"!upload.loading\">\r\n    <span class=\"file-name\">{{ upload.name }}</span>\r\n  </div>\r\n</div>\r\n","import { Component, Output, EventEmitter, forwardRef, Input, OnInit, ViewEncapsulation, ChangeDetectorRef, OnDestroy, OnChanges } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { FileUpload } from './file-upload.model';\r\nimport { Ordering } from '../../shared/ordering';\r\nimport { build, guid, equals, toArray, toInt } from '../../shared/utils';\r\n\r\nexport const FILE_UPLOAD_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => FileUploadComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-file-upload',\r\n  templateUrl: './file-upload.component.html',\r\n  styleUrls: ['./file-upload.component.scss'],\r\n  providers: [FILE_UPLOAD_ACCESSOR],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class FileUploadComponent implements OnInit, OnDestroy, ControlValueAccessor, OnChanges {\r\n  @Input() id = `files-${guid()}`;\r\n  @Input() debug = false;\r\n  @Input() maxFileSize = 97000000;\r\n  @Input() multiple = false;\r\n  @Input() ordered = true;\r\n  @Input() preview = true;\r\n  @Input() prompt = '';\r\n  @Input() isPrivateMessage = '';\r\n  @Output() upload = new EventEmitter<FileUpload | FileUpload[]>();\r\n  @Output() delete = new EventEmitter<FileUpload>();\r\n  @Output() reorderUploads = new EventEmitter<FileUpload[]>();\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  changes$: BehaviorSubject<FileUpload> = new BehaviorSubject<FileUpload>(new FileUpload());\r\n  inDropZone = false;\r\n  _value: FileUpload[];\r\n  focused: FileUpload[];\r\n  ordering: Ordering<FileUpload> = new Ordering<FileUpload>([], FileUpload, 'order', 'name');\r\n  showMaxUploadError = false;\r\n  showMultiple = false;\r\n\r\n  constructor(private changeDetectorRef: ChangeDetectorRef) { }\r\n\r\n  get activeFile(): FileUpload {\r\n    return this.hasUploads ? this.uploads[0] : new FileUpload();\r\n  }\r\n\r\n  get hasUploads(): boolean {\r\n    return this.uploads.length > 0;\r\n  }\r\n\r\n  // get showMultiple(): boolean {\r\n  //   return this.preview && this.multiple;\r\n  // }\r\n\r\n  set value(value: FileUpload[]) {\r\n    if (this.debug) {\r\n      console.log('set value');\r\n      console.dir(value);\r\n    }\r\n    this._value = toArray(value);\r\n  }\r\n\r\n  get value(): FileUpload[] {\r\n    return this._value;\r\n  }\r\n\r\n  get uploads(): FileUpload[] {\r\n    return this.ordering.items.filter(upload => upload.name !== '');\r\n  }\r\n\r\n  set uploads(value: FileUpload[]) {\r\n    this.ordering.updateItems(value.filter(upload => upload.name !== ''));\r\n    if (this.debug) {\r\n      console.log('setting uploads');\r\n      console.dir(value);\r\n      console.dir(this.uploads);\r\n    }\r\n    this.onChange(this.uploads);\r\n  }\r\n\r\n  get orderedUploads(): FileUpload[] {\r\n    return this.uploads;\r\n  }\r\n\r\n  get validFileSize(): boolean {\r\n    return this.value.reduce((acc, x) => acc + x.file.fileSize, 0) < this.maxFileSize;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.changes$.subscribe(upload => {\r\n      this.onUpload(upload);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.writeValue([]);\r\n  }\r\n\r\n  ngOnChanges(e) {\r\n    this.showMultiple = this.preview && this.multiple;\r\n  }\r\n\r\n  add(f: FileUpload) {\r\n    if (!this.multiple && this.hasUploads) {\r\n      this.remove();\r\n    }\r\n    this.uploads = this.ordering.addItem(f);\r\n  }\r\n\r\n  changePrivacyStatus(f: FileUpload) {\r\n    this.uploads = this.uploads.map(x => x.name === f.name ? f : x);\r\n  }\r\n\r\n  clear() {\r\n    this.uploads = [];\r\n  }\r\n\r\n  emit() {\r\n    if (this.value.length > 0) {\r\n      if (this.multiple) {\r\n        this.upload.emit(this.value);\r\n      } else {\r\n        this.upload.emit(this.value[0]);\r\n      }\r\n    }\r\n  }\r\n\r\n  moveUp(f: FileUpload) {\r\n    this.uploads = this.ordering.moveUp(f);\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  moveDown(f: FileUpload) {\r\n    this.uploads = this.ordering.moveDown(f);\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  remove(f?: FileUpload) {\r\n    const removeFile = f || this.activeFile;\r\n    this.delete.emit(removeFile);\r\n    this.uploads = this.ordering.removeItem(removeFile);\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  reorder(e: FileUpload[]) {\r\n    this.uploads = e;\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  update(f: FileUpload) {\r\n    const index = this.uploads.findIndex(item => item['name'] === f.name);\r\n    if (index === -1) {\r\n      this.add(f);\r\n    } else {\r\n      setTimeout(() => {\r\n        this.uploads = this.uploads.map((x, i) => (i === index ? build(FileUpload, f, { order: x.order }) : x));\r\n        // this.changeDetectorRef.detectChanges();\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: FileUpload[]) {\r\n    if (this.debug) {\r\n      console.log('write value');\r\n      console.dir(value);\r\n    }\r\n    this.uploads = [];\r\n    this.value = value;\r\n    this.uploadAll(value);\r\n  }\r\n\r\n  onChange(value: FileUpload[]) {\r\n    if (!equals(this.value, value)) {\r\n      if (this.debug) {\r\n        console.log('on change');\r\n        console.dir(value);\r\n      }\r\n      this.value = value;\r\n      if (value.every(x => x.readyState === 'DONE')) {\r\n        this.emit();\r\n      }\r\n    }\r\n    if (this.onModelChange) {\r\n      if (this.debug) {\r\n        console.log('on model change');\r\n        console.dir(value);\r\n      }\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onInputChange(e: any) {\r\n    const input = e.target;\r\n    const files = toArray(Array.from(input['files']));\r\n    if (this.debug) {\r\n      console.dir(files);\r\n      console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n    }\r\n    if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n      this.showMaxUploadError = true;\r\n      setTimeout(() => {\r\n        this.showMaxUploadError = false;\r\n      }, 8000);\r\n    } else if (files && files.length > 0) {\r\n      for (let i = 0; i < files.length; i++) {\r\n        this.setupReader(files[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  onBlur(value: FileUpload[]) {\r\n    this.focused = [];\r\n  }\r\n\r\n  onDragEnter(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = true;\r\n  }\r\n\r\n  onDragLeave(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = false;\r\n  }\r\n\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = true;\r\n  }\r\n\r\n  onDrop(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = false;\r\n    const dt = e.dataTransfer;\r\n    const files = toArray(Array.from(dt.files));\r\n    if (this.debug) {\r\n      console.dir(files);\r\n      console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n    }\r\n    if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n      this.showMaxUploadError = true;\r\n      setTimeout(() => {\r\n        this.showMaxUploadError = false;\r\n      }, 8000);\r\n    } else {\r\n      files.forEach((file: File) => {\r\n        this.setupReader(file);\r\n      });\r\n    }\r\n  }\r\n\r\n  onFocus(value: FileUpload[]) {\r\n    this.focused = value;\r\n    this.onTouch();\r\n  }\r\n\r\n  onUpload(upload: FileUpload) {\r\n    const f = build(FileUpload, upload);\r\n    this.update(f);\r\n  }\r\n\r\n  setupReader(file: File) {\r\n    const reader = new FileReader();\r\n    const changes$ = this.changes$;\r\n    const upload = build(FileUpload, {\r\n      lastModified: file['lastModified'],\r\n      lastModifiedDate: file['lastModifiedDate'],\r\n      name: file['name'],\r\n      size: file['size'],\r\n      type: file['type'],\r\n      webkitRelativePath: file['webkitRelativePath']\r\n    });\r\n    reader.onload = function (e: any) {\r\n      const src = reader.result;\r\n      const readyState = FileUpload.GetReadyState(reader);\r\n      changes$.next(Object.assign(upload, { src, readyState }));\r\n    };\r\n    reader.readAsDataURL(file);\r\n    this.onUpload(\r\n      build(FileUpload, upload, {\r\n        readyState: FileUpload.GetReadyState(reader)\r\n      })\r\n    );\r\n  }\r\n\r\n  uploadAll(uploads: FileUpload[]) {\r\n    toArray(uploads).forEach(upload => {\r\n      this.onUpload(upload);\r\n    });\r\n  }\r\n}\r\n","<div class=\"file-upload\">\r\n  <span *ngIf=\"!validFileSize || showMaxUploadError\" class=\"error\"\r\n    >Files exceed max upload size!</span\r\n  >\r\n  <div\r\n    class=\"box\"\r\n    [class.hovering]=\"inDropZone\"\r\n    fxLayout=\"row\"\r\n    fxLayoutAlign=\"center end\"\r\n    (dragenter)=\"onDragEnter($event)\"\r\n    (dragleave)=\"onDragLeave($event)\"\r\n    (dragover)=\"onDragOver($event)\"\r\n    (drop)=\"onDrop($event)\"\r\n  >\r\n    <p id=\"dragdrop-message\" *ngIf=\"showMultiple\">\r\n      <span *ngIf=\"!prompt\">\r\n        <strong>Choose files</strong>\r\n        <span class=\"dragndrop\"> or drag them here</span>.\r\n      </span>\r\n      <strong *ngIf=\"prompt\">\r\n        {{ prompt }}\r\n      </strong>\r\n    </p>\r\n    <input\r\n      *ngIf=\"showMultiple\"\r\n      type=\"file\"\r\n      (change)=\"onInputChange($event)\"\r\n      [id]=\"id\"\r\n      multiple\r\n    />\r\n    <p id=\"dragdrop-message\" *ngIf=\"!multiple\">\r\n      <span *ngIf=\"!prompt\">\r\n        <strong>Choose a file</strong>\r\n        <span class=\"dragndrop\"> or drag it here</span>.\r\n      </span>\r\n      <strong *ngIf=\"prompt\">\r\n        {{ prompt }}\r\n      </strong>\r\n    </p>\r\n    <input\r\n      *ngIf=\"!multiple\"\r\n      type=\"file\"\r\n      (change)=\"onInputChange($event)\"\r\n      [id]=\"id\"\r\n    />\r\n    <label [for]=\"id\" class=\"custom-file-upload\">\r\n      <figure>\r\n        <mat-icon>cloud_upload</mat-icon>\r\n      </figure>\r\n    </label>\r\n  </div>\r\n  <iu-uploads\r\n    *ngIf=\"multiple\"\r\n    [uploads]=\"uploads\"\r\n    [ordered]=\"ordered\"\r\n    [isPrivateMessage]=\"isPrivateMessage\"\r\n    (moveUp)=\"moveUp($event)\"\r\n    (moveDown)=\"moveDown($event)\"\r\n    (remove)=\"remove($event)\"\r\n    (reorder)=\"reorder($event)\"\r\n    (changePrivacyStatus)=\"changePrivacyStatus($event)\"\r\n  >\r\n  </iu-uploads>\r\n  <iu-upload\r\n    *ngIf=\"preview && !multiple && hasUploads\"\r\n    [upload]=\"activeFile\"\r\n    [height]=\"200\"\r\n    (remove)=\"remove()\"\r\n  >\r\n  </iu-upload>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\nimport { guid } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-file-control',\r\n  templateUrl: './file-control.component.html',\r\n  styleUrls: ['./file-control.component.scss']\r\n})\r\nexport class FileControlComponent implements OnInit {\r\n  @Input() id = `files-${guid()}`;\r\n  @Input() debug = false;\r\n  @Input() maxFileSize = 97000000;\r\n  @Input() multiple = false;\r\n  @Input() ordered = true;\r\n  @Input() preview = true;\r\n  @Input() isPrivateMessage = '';\r\n  @Output() upload = new EventEmitter<FileUpload | FileUpload[]>();\r\n  @Output() delete = new EventEmitter<FileUpload>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<iu-file-upload [id]=\"id\" [maxFileSize]=\"maxFileSize\">\r\n\r\n</iu-file-upload>\r\n","import { Component, forwardRef, Input, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Store } from '@ngrx/store';\r\nimport { buildControlFromModel } from '../../../forms/utils';\r\nimport { SmartComponent } from '../../../shared/component';\r\nimport { build, compareNumbers, equals, getValue, inArray, toArray, truthy } from '../../../shared/utils';\r\nimport { File, FileUpload } from '../file-upload.model';\r\n\r\nexport const FILE_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => UploaderComponent),\r\n  multi: true\r\n};\r\n\r\nclass FileUploads {\r\n  uploads: FileUpload[] = [];\r\n}\r\n\r\nfunction buildFromFile(file: File): FileUpload {\r\n  return build(FileUpload, {\r\n    name: file.fileName,\r\n    size: file.fileSize,\r\n    type: file.mimeType,\r\n    src: getSrcFromFileName(file.fileName),\r\n    order: file.order\r\n  });\r\n}\r\n\r\nfunction getSrcFromFileName(fileName: string): string {\r\n  return fileName.includes('gun.png') ? fileName : `${''}/files/${fileName}`;\r\n}\r\n\r\nfunction mapToUrl(path: string | string[]): string | string[] {\r\n  console.log(path);\r\n  const s = Array.isArray(path) ? path.map(x => <string>mapToUrl(x))\r\n    : inArray(['assets/gun.png', 'assets/ar.png', 'assets/shotgun.png'], path) ?\r\n      `${''}/${path}`\r\n      : `${''}/files/${path}`;\r\n  console.log(s);\r\n  return s;\r\n}\r\n\r\n@Component({\r\n  selector: 'iu-uploader',\r\n  templateUrl: './uploader.component.html',\r\n  styleUrls: ['./uploader.component.scss'],\r\n  providers: [FILE_ACCESSOR]\r\n})\r\nexport class UploaderComponent extends SmartComponent implements OnInit, ControlValueAccessor {\r\n  @Input() apiBaseUrl = '';\r\n  fg: FormGroup;\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  authToken = '';\r\n  _uploads: FileUpload[] = [];\r\n  _value: string | string[];\r\n\r\n  constructor(public store: Store<any>, public sanitizer: DomSanitizer) {\r\n    super(store);\r\n    this.fg = buildControlFromModel(new FileUploads());\r\n    // this.addSubscription(authTokenSelector(store).subscribe(x => {\r\n    //   this.authToken = x;\r\n    // }));\r\n  }\r\n\r\n  set uploads(value: FileUpload[]) {\r\n    if (!equals(value.map(x => x.src), this._uploads.map(x => x.src))) {\r\n      this._uploads = value;\r\n      this.fg.setValue(getValue(build(FileUploads, {\r\n        uploads: value\r\n      })));\r\n      this.onChange(toArray(value).sort((a, b) => compareNumbers(a.order, b.order)).map(x => x.name));\r\n      console.dir(this.value);\r\n    }\r\n  }\r\n\r\n  get uploads(): FileUpload[] {\r\n    return this._uploads;\r\n  }\r\n\r\n  set value(value: string | string[]) {\r\n    if (truthy(value) && !equals(value, this._value)) {\r\n      // fetch file from server\r\n      if (typeof (value) === 'string') {\r\n        this.getFile(<string>mapToUrl(value));\r\n      } else if (Array.isArray(value) && value.length > 0) {\r\n        this.getFiles(<string[]>mapToUrl(value));\r\n      }\r\n    }\r\n    this._value = value;\r\n  }\r\n\r\n  get value(): string | string[] {\r\n    return this._value;\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: string | string[]) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: string | string[]) {\r\n    this._value = value;\r\n    if (typeof (this.onModelChange) === 'function') {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onReorderUploads(e: FileUpload[]) {\r\n    this.uploads = e;\r\n  }\r\n\r\n  onUpload(e: FileUpload | FileUpload[]) {\r\n    console.dir(e);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n      if (!equals(this.uploads.map(y => y.src), x.uploads.map(y => y.src))) {\r\n        if (x.uploads.filter(y => y.loading).length === 0) {\r\n          const uploads = x.uploads.filter(y => !inArray(this.uploads.map(z => z.name), y.name) && !y.loading && !y.name.includes('gun.png'));\r\n          console.log('\\n\\n', 'FORM CHANGE');\r\n          console.dir(x.uploads);\r\n          if (uploads.length > 0) {\r\n            console.dir(uploads);\r\n            uploads.forEach(upload => {\r\n              console.log(upload.name);\r\n              if (upload.src) {\r\n                this.saveFile(upload);\r\n              }\r\n            });\r\n          } else {\r\n            const reordering = x.uploads.length > 1 ? x.uploads.filter(y => !y.name.includes('gun.png')) : x.uploads;\r\n            console.log('NO NEW UPLOADS!');\r\n            // console.dir(reordering);\r\n            // this.uploads = reordering;\r\n            if (x.uploads.length > 1) {\r\n              // this.uploads = x.uploads;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }));\r\n  }\r\n\r\n  async getFile(url: string): Promise<FileUpload> {\r\n    console.log(url);\r\n    return fetch(url)\r\n      .then(response => response.blob())\r\n      .then(blob => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(blob);\r\n        reader.onloadend = () => {\r\n          // const src = this.sanitizer.bypassSecurityTrustUrl(`data:image/png;base64,${reader.result}`);\r\n          // const src = `data:image/png;base64,${reader.result}`;\r\n          const src = `${reader.result}`;\r\n          this.uploads = [...this.uploads, build(FileUpload, {\r\n            src,\r\n            size: blob.size,\r\n            type: blob.type,\r\n            name: url.split('/').pop()\r\n          })];\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  async getFiles(urls: string[]) {\r\n    urls.forEach(url => {\r\n      this.getFile(url);\r\n    });\r\n  }\r\n\r\n  saveFile(upload: FileUpload) {\r\n    (async () => {\r\n      const body = JSON.stringify(upload.file);\r\n      const headers = {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      };\r\n      if (this.authToken) {\r\n        headers['Authorization'] = `Bearer ${this.authToken}`;\r\n      }\r\n      const response = fetch(`${this.apiBaseUrl}/files`, {\r\n        method: 'POST',\r\n        headers,\r\n        body\r\n      });\r\n      await (await response).json()\r\n        .then((data: File) => {\r\n          console.dir(data);\r\n          const upload = buildFromFile(data);\r\n          console.dir(upload);\r\n          this.uploads = [...this.uploads.filter(x => !x.name.includes('gun.png')), upload];\r\n          console.dir(this.uploads);\r\n          console.log(this.value);\r\n          return upload;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        })\r\n    })();\r\n  }\r\n\r\n}\r\n","<!-- <p>uploader works!</p>\r\n<form [formGroup]=\"fg\">\r\n  <iu-file-upload formControlName=\"uploads\" [multiple]=\"true\" (upload)=\"onUpload($event)\"\r\n    (reorderUploads)=\"onReorderUploads($event)\">\r\n\r\n  </iu-file-upload>\r\n</form> -->\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n\r\nimport { FileUploadComponent } from './file-upload.component';\r\nimport { FileControlComponent } from './file-control/file-control.component';\r\nimport { FilePreviewComponent } from './file-preview/file-preview.component';\r\nimport { UploadComponent } from './upload/upload.component';\r\nimport { UploadsComponent } from './uploads/uploads.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { UploaderComponent } from './uploader/uploader.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    DragDropModule,\r\n    FormsModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  declarations: [\r\n    FileControlComponent,\r\n    FileUploadComponent,\r\n    FilePreviewComponent,\r\n    UploadComponent,\r\n    UploadsComponent,\r\n    UploaderComponent\r\n  ],\r\n  exports: [\r\n    FileControlComponent,\r\n    FileUploadComponent,\r\n    FilePreviewComponent,\r\n    UploadComponent,\r\n    UploadsComponent\r\n  ]\r\n})\r\nexport class FileUploadModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-not-found',\r\n  templateUrl: './not-found.component.html',\r\n  styleUrls: ['./not-found.component.scss']\r\n})\r\nexport class NotFoundComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  not-found works!\r\n</p>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { NotFoundComponent } from './not-found.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [NotFoundComponent],\r\n  exports: [NotFoundComponent]\r\n})\r\nexport class NotFoundModule { }\r\n","import { Metadata } from '../../shared/models';\r\nimport { build } from '../../shared/utils';\r\n\r\nexport class MilitaryDateTime {\r\n  date: Date = new Date();\r\n  hour = 0;\r\n  minutes = 0;\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['datetime']\r\n    });\r\n  }\r\n\r\n  set datetime(value: Date) {\r\n    const d = new Date(value);\r\n    this.date = d;\r\n    this.hour = d.getHours();\r\n    this.minutes = d.getMinutes();\r\n  }\r\n\r\n  get datetime(): Date {\r\n    const d = new Date(this.date);\r\n    d.setHours(this.hour);\r\n    d.setMinutes(this.minutes);\r\n    return d;\r\n  }\r\n}\r\n\r\nexport class DateTime {\r\n  date: Date = new Date();\r\n  hour = 0;\r\n  minutes = 0;\r\n  meridian: 'AM' | 'PM' = 'AM';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['datetime']\r\n    });\r\n  }\r\n\r\n  set datetime(value: Date) {\r\n    const d = new Date(value);\r\n    const hours = d.getHours();\r\n    this.date = d;\r\n    this.hour = hours === 12 ? 12 : hours % 12;\r\n    this.minutes = d.getMinutes();\r\n    this.meridian = hours >= 12 ? 'PM' : 'AM';\r\n  }\r\n\r\n  get datetime(): Date {\r\n    return build(MilitaryDateTime, this, {\r\n      hour: this.meridian === 'AM' ? this.hour : this.hour + 12\r\n    }).datetime;\r\n  }\r\n}\r\n\r\nexport class MilitaryTime {\r\n  hour = 0;\r\n  minutes = 0;\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: []\r\n    });\r\n  }\r\n}\r\n\r\nexport class Time {\r\n  hour = 0;\r\n  minutes = 0;\r\n  meridian: 'AM' | 'PM' = 'AM';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: []\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\r\nimport { FormGroup, NG_VALUE_ACCESSOR, ControlValueAccessor, FormControl } from '@angular/forms';\r\n\r\nimport { DateTime } from '../time.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { FormComponent } from '../../../shared/component';\r\nimport { build, integerArray } from '../../../shared/utils';\r\n\r\nexport const DATETIME_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => DateTimeControlComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-datetime-control',\r\n  templateUrl: './datetime-control.component.html',\r\n  styleUrls: ['./datetime-control.component.scss'],\r\n  providers: [DATETIME_ACCESSOR]\r\n})\r\nexport class DateTimeControlComponent extends FormComponent implements OnInit, ControlValueAccessor {\r\n  form: FormGroup = new FormGroup({\r\n    date: new FormControl(),\r\n    hour: new FormControl(),\r\n    minutes: new FormControl(),\r\n    meridian: new FormControl()\r\n  });\r\n  @Input() label = 'Time';\r\n  @Input() hideDate = false;\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  _value: Date;\r\n  focused: Date;\r\n  _time: DateTime = new DateTime();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  get value(): Date {\r\n    return this._value;\r\n  }\r\n\r\n  @Input()\r\n  set value(value: Date) {\r\n    this._value = value;\r\n    const time = build(DateTime, {\r\n      datetime: value\r\n    });\r\n    if (time.datetime.getTime() !== this.time.datetime.getTime()) {\r\n      this.time = time;\r\n    }\r\n  }\r\n\r\n  set time(value: DateTime) {\r\n    this.setValue(value);\r\n  }\r\n\r\n  get time(): DateTime {\r\n    return build(DateTime, this.form.value);\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: Date) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: Date) {\r\n    this.value = value;\r\n    if (this.onModelChange) {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onBlur(e: any) {\r\n    console.dir(e);\r\n  }\r\n\r\n  get hours(): any {\r\n    return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n  }\r\n\r\n  get minutes(): any {\r\n    return integerArray(60).filter(x => x > 9);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form.valueChanges.subscribe(x => {\r\n      this.onChange(build(DateTime, x).datetime);\r\n    });\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" class=\"time-control\">\r\n  <h3 class=\"time-text\">{{ label }}</h3>\r\n  <mat-form-field *ngIf=\"!hideDate\" class=\"date\">\r\n    <input matInput [matDatepicker]=\"picker\" formControlName=\"date\" placeholder=\"Choose a date\" />\r\n    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n    <mat-datepicker #picker></mat-datepicker>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"hour\" placeholder=\"Hour\">\r\n      <mat-option *ngFor=\"let hour of hours\" [value]=\"hour\">\r\n        {{ hour }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"minutes\" placeholder=\"Minute\">\r\n      <mat-option [value]=\"0\">00</mat-option>\r\n      <mat-option [value]=\"1\">01</mat-option>\r\n      <mat-option [value]=\"2\">02</mat-option>\r\n      <mat-option [value]=\"3\">03</mat-option>\r\n      <mat-option [value]=\"4\">04</mat-option>\r\n      <mat-option [value]=\"5\">05</mat-option>\r\n      <mat-option [value]=\"6\">06</mat-option>\r\n      <mat-option [value]=\"7\">07</mat-option>\r\n      <mat-option [value]=\"8\">08</mat-option>\r\n      <mat-option [value]=\"9\">09</mat-option>\r\n      <mat-option *ngFor=\"let minute of minutes\" [value]=\"minute\">\r\n        {{ minute }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"meridian\" placeholder=\"AM/PM\">\r\n      <mat-option value=\"AM\">AM</mat-option>\r\n      <mat-option value=\"PM\">PM</mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n</form>\r\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\r\nimport { FormGroup, NG_VALUE_ACCESSOR, ControlValueAccessor, FormControl } from '@angular/forms';\r\n\r\nimport { Time } from '../time.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { FormComponent } from '../../../shared/component';\r\nimport { build, integerArray, getValue } from '../../../shared/utils';\r\n\r\nexport const TIME_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => TimeControlComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-time-control',\r\n  templateUrl: './time-control.component.html',\r\n  styleUrls: ['./time-control.component.scss'],\r\n  providers: [TIME_ACCESSOR]\r\n})\r\nexport class TimeControlComponent extends FormComponent implements OnInit, ControlValueAccessor {\r\n  timeForm: FormGroup = new FormGroup({\r\n    hour: new FormControl(),\r\n    minutes: new FormControl(),\r\n    meridian: new FormControl()\r\n  });\r\n  @Input() label = 'Time';\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  _value: Date;\r\n  focused: Date;\r\n  _isDisabled = false;\r\n  _time: Time = new Time();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  @Input() set isDisabled(value: boolean) {\r\n    this._isDisabled = value;\r\n    if (value) {\r\n      this.timeForm.disable();\r\n    } else {\r\n      this.timeForm.enable();\r\n    }\r\n  }\r\n\r\n  get isDisabled(): boolean {\r\n    return this._isDisabled;\r\n  }\r\n\r\n  get value(): Date {\r\n    return this._value;\r\n  }\r\n\r\n  @Input()\r\n  set value(value: Date) {\r\n    this._value = value;\r\n  }\r\n\r\n  set time(value: Time) {\r\n    this.setValue(value);\r\n  }\r\n\r\n  get time(): Time {\r\n    return build(Time, this.timeForm.value);\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: Date) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: Date) {\r\n    this.value = value;\r\n    if (this.onModelChange) {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onBlur(e: any) {\r\n    console.dir(e);\r\n  }\r\n\r\n  get hours(): any {\r\n    return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n  }\r\n\r\n  get minutes(): any {\r\n    return integerArray(60).filter(x => x > 9);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  setValue(value: Time) {\r\n    this.timeForm.setValue(getValue(value));\r\n  }\r\n}\r\n","<form [formGroup]=\"timeForm\" class=\"time-control\">\r\n  <h3 class=\"time-text\">{{ label }}</h3>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"hour\" placeholder=\"Hour\">\r\n      <mat-option *ngFor=\"let hour of hours\" [value]=\"hour\">\r\n        {{ hour }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"minutes-control\">\r\n    <mat-select formControlName=\"minutes\" placeholder=\"Minute\">\r\n      <mat-option [value]=\"0\">00</mat-option>\r\n      <mat-option [value]=\"1\">01</mat-option>\r\n      <mat-option [value]=\"2\">02</mat-option>\r\n      <mat-option [value]=\"3\">03</mat-option>\r\n      <mat-option [value]=\"4\">04</mat-option>\r\n      <mat-option [value]=\"5\">05</mat-option>\r\n      <mat-option [value]=\"6\">06</mat-option>\r\n      <mat-option [value]=\"7\">07</mat-option>\r\n      <mat-option [value]=\"8\">08</mat-option>\r\n      <mat-option [value]=\"9\">09</mat-option>\r\n      <mat-option *ngFor=\"let minute of minutes\" [value]=\"minute\">\r\n        {{ minute }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"meridian-control\">\r\n    <mat-select formControlName=\"meridian\" placeholder=\"AM/PM\">\r\n      <mat-option value=\"AM\">AM</mat-option>\r\n      <mat-option value=\"PM\">PM</mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\nimport { DateTimeControlComponent } from './datetime-control/datetime-control.component';\r\nimport { TimeControlComponent } from './time-control/time-control.component';\r\nimport { FormsModule } from '../../forms/forms.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [DateTimeControlComponent, TimeControlComponent],\r\n  imports: [SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule],\r\n  exports: [DateTimeControlComponent, TimeControlComponent]\r\n})\r\nexport class TimeModule {}\r\n","import { build } from '../../shared/utils';\r\n\r\nexport class Timer {\r\n  hours = 0;\r\n  minutes = 0;\r\n  seconds = 0;\r\n  milliseconds = 0;\r\n\r\n  static Equals(p: Timer, q: Timer): boolean {\r\n    return p.hours === q.hours && p.minutes === q.minutes && p.seconds === q.seconds && p.milliseconds === q.milliseconds;\r\n  }\r\n\r\n  get zero(): boolean {\r\n    return this.hours === 0 && this.minutes === 0 && this.seconds === 0 && this.milliseconds === 0;\r\n  }\r\n\r\n  decrementMillisecond(): Timer {\r\n    const milliseconds = this.milliseconds === 0 ? (this.seconds > 0 ? 999 : 0) : this.milliseconds - 1;\r\n    const seconds = milliseconds === 59 ? (this.seconds > 0 ? this.seconds - 1 : 0) : this.seconds;\r\n    const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n    const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  decrementSecond(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds === 0 ? (this.minutes > 0 ? 59 : 0) : this.seconds - 1;\r\n    const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n    const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  decrementMinute(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds;\r\n    const minutes = this.minutes === 0 ? (this.hours > 0 ? 59 : 0) : this.minutes - 1;\r\n    const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  incrementMillisecond(): Timer {\r\n    const milliseconds = this.milliseconds === 999 ? 0 : this.milliseconds + 1;\r\n    const seconds = this.milliseconds === 999 ? (this.seconds === 59 ? 0 : this.seconds + 1) : this.seconds;\r\n    const minutes = this.milliseconds === 999 && this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n    const hours = this.milliseconds === 999 && this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  incrementSecond(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds === 59 ? 0 : this.seconds + 1;\r\n    const minutes = this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n    const hours = this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  incrementMinute(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds;\r\n    const minutes = this.minutes === 59 ? 0 : this.minutes + 1;\r\n    const hours = this.minutes === 59 ? this.hours + 1 : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { Timer } from './timer.model';\r\n\r\n@Pipe({\r\n  name: 'timer'\r\n})\r\nexport class TimerPipe implements PipeTransform {\r\n  transform(value: Timer, showHours = false, showMilliseconds = false): any {\r\n    const hours = showHours ? `${value.hours}:` : '';\r\n    const minutes = value.minutes.toString().padStart(2, '0');\r\n    const seconds = value.seconds.toString().padStart(2, '0');\r\n    const milliseconds = showMilliseconds\r\n      ? `:${Math.round(value.milliseconds / 10)\r\n          .toString()\r\n          .padStart(2, '0')}`\r\n      : '';\r\n    return `${hours}${minutes}:${seconds}${milliseconds}`;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { Timer } from './timer.model';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { build } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-timer',\r\n  templateUrl: './timer.component.html',\r\n  styleUrls: ['./timer.component.scss']\r\n})\r\nexport class TimerComponent extends DumbComponent implements OnInit {\r\n  @Input() countUp = false;\r\n  @Input() millisecondsAlways = false;\r\n  @Input() millisecondsUnderMinute = false;\r\n  @Input() showHours = false;\r\n  @Output() timesUp = new EventEmitter();\r\n  stopped = false;\r\n  timeElapsed: Timer = new Timer();\r\n  timeElapsed$: Observable<Timer>;\r\n  timeElapsedSubject = new BehaviorSubject<Timer>(new Timer());\r\n  timeRemaining: Timer = new Timer();\r\n  timeRemaining$: Observable<Timer>;\r\n  timeRemainingSubject = new BehaviorSubject<Timer>(new Timer());\r\n  _countDown = false;\r\n  _countdownFrom: Timer = new Timer();\r\n\r\n  constructor() {\r\n    super();\r\n    this.timeElapsed$ = this.timeElapsedSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n    this.timeRemaining$ = this.timeRemainingSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n  }\r\n\r\n  @Input() set countdownFrom(value: Timer) {\r\n    this._countdownFrom = build(Timer, value);\r\n    this.timeRemainingSubject.next(this._countdownFrom);\r\n  }\r\n\r\n  get countdownFrom(): Timer {\r\n    return this._countdownFrom;\r\n  }\r\n\r\n  @Input() set countDown(value: boolean) {\r\n    this._countDown = value;\r\n  }\r\n\r\n  get countDown(): boolean {\r\n    return this._countDown || !this.countdownFrom.zero;\r\n  }\r\n\r\n  get millisecondsEver(): boolean {\r\n    return this.millisecondsAlways || this.millisecondsUnderMinute;\r\n  }\r\n\r\n  get showElapsedMilliseconds(): boolean {\r\n    return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeElapsed.minutes < 1;\r\n  }\r\n\r\n  get showRemainingMilliseconds(): boolean {\r\n    return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeRemaining.minutes < 1;\r\n  }\r\n\r\n  get timeElapsedChanges(): Subscription {\r\n    return this.timeElapsed$.subscribe(x => {\r\n      this.timeElapsed = x;\r\n    });\r\n  }\r\n\r\n  get timeRemainingChanges(): Subscription {\r\n    return this.timeRemaining$.subscribe(x => {\r\n      this.timeRemaining = x;\r\n      if (this.timeRemaining.zero) {\r\n        this.timesUp.emit();\r\n      }\r\n    });\r\n  }\r\n\r\n  get zero(): boolean {\r\n    return this.timeRemaining.zero;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscribe([this.timeElapsedChanges, this.timeRemainingChanges]);\r\n  }\r\n\r\n  setTimeElapsed(time: Timer) {\r\n    this.stopped = true;\r\n    this.timeElapsedSubject.next(build(Timer, time));\r\n  }\r\n\r\n  setTimeRemaining(time: Timer) {\r\n    // this.stopped = true;\r\n    this.timeRemainingSubject.next(build(Timer, time));\r\n  }\r\n\r\n  start(e?: any) {\r\n    if (e && typeof e.preventDefault === 'function') {\r\n      e.preventDefault();\r\n    }\r\n    this.stopped = false;\r\n    if (this.millisecondsEver) {\r\n      this.timeoutMilliseconds();\r\n    } else {\r\n      this.timeoutSeconds();\r\n    }\r\n  }\r\n\r\n  startAt(time: Timer) {\r\n    this.setTimeRemaining(time);\r\n    // this.start();\r\n  }\r\n\r\n  stop(e?: any) {\r\n    if (e && typeof e.preventDefault === 'function') {\r\n      e.preventDefault();\r\n    }\r\n    this.stopped = true;\r\n  }\r\n\r\n  timeoutMilliseconds() {\r\n    if (!this.stopped && !this.zero) {\r\n      setTimeout(() => {\r\n        this.nextMillisecond();\r\n        this.timeoutMilliseconds();\r\n      }, 1);\r\n    }\r\n  }\r\n\r\n  timeoutSeconds() {\r\n    if (!this.stopped && !this.zero) {\r\n      setTimeout(() => {\r\n        if (!this.stopped) {\r\n          this.nextSecond();\r\n          if (!this.zero) {\r\n            this.timeoutSeconds();\r\n          }\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  nextMillisecond() {\r\n    if (this.countDown) {\r\n      this.timeRemainingSubject.next(this.timeRemaining.decrementMillisecond());\r\n    }\r\n    if (this.countUp) {\r\n      this.timeElapsedSubject.next(this.timeElapsed.incrementMillisecond());\r\n    }\r\n  }\r\n\r\n  nextSecond() {\r\n    if (this.countDown) {\r\n      this.timeRemainingSubject.next(this.timeRemaining.decrementSecond());\r\n    }\r\n    if (this.countUp) {\r\n      this.timeElapsedSubject.next(this.timeElapsed.incrementSecond());\r\n    }\r\n  }\r\n}\r\n","<div class=\"timer\">\r\n  <div *ngIf=\"countDown\" class=\"time-remaining\">\r\n    {{ timeRemaining | timer : showHours : showRemainingMilliseconds }}\r\n  </div>\r\n  <div *ngIf=\"countUp\" class=\"time-elapsed\">\r\n    {{ timeElapsed | timer : showHours : showElapsedMilliseconds }}\r\n  </div>\r\n  <button mat-raised-button (click)=\"start($event)\">Start</button>\r\n  <button mat-raised-button (click)=\"stop($event)\">Stop</button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\nimport { TimerComponent } from './timer.component';\r\nimport { TimerPipe } from './timer.pipe';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MatButtonModule\r\n  ],\r\n  declarations: [\r\n    TimerComponent,\r\n    TimerPipe,\r\n  ],\r\n  exports: [\r\n    TimerComponent,\r\n    TimerPipe,\r\n  ]\r\n})\r\nexport class TimerModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'list'\r\n})\r\nexport class ListPipe implements PipeTransform {\r\n\r\n  transform(value: any[], key?: string): string {\r\n    return Array.isArray(value) ?\r\n      value.reduce((acc, x) => key ?\r\n        acc ? `${acc}, ${x[key]}` : x[key]\r\n        : acc ? `${acc}, ${x}`\r\n          : x, '')\r\n      : '';\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'padLeft'\r\n})\r\nexport class PadLeftPipe implements PipeTransform {\r\n\r\n  transform(value: any, targetLength: number, padString = '0'): any {\r\n    return value.toString().padStart(targetLength, padString);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'phone'\r\n})\r\nexport class PhoneNumberPipe implements PipeTransform {\r\n\r\n  transform(value: string, args?: any): string {\r\n    return value ? value.length !== 10 ? value\r\n      : `(${value[0]}${value[1]}${value[2]}) ${value[3]}${value[4]}${value[5]}-${value[6]}${value[7]}${value[8]}${value[9]}`\r\n      : '';\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml'\r\n})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n  constructor(private sanitized: DomSanitizer) {}\r\n\r\n  transform(value: any, args?: any): any {\r\n    return this.sanitized.bypassSecurityTrustHtml(value);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { DateHelper } from '../shared/date';\r\n\r\n@Pipe({\r\n  name: 'timeago'\r\n})\r\nexport class TimeAgoPipe implements PipeTransform {\r\n\r\n  transform(value: Date, args?: any): string {\r\n    return DateHelper.TimeAgo(value);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'yesno'\r\n})\r\nexport class YesNoPipe implements PipeTransform {\r\n\r\n  transform(value: boolean, args?: any): 'Yes' | 'No' {\r\n    return value ? 'Yes' : 'No';\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ListPipe } from './list.pipe';\r\nimport { PadLeftPipe } from './pad-left.pipe';\r\nimport { PhoneNumberPipe } from './phone-number.pipe';\r\nimport { SafeHtmlPipe } from './safe-html.pipe';\r\nimport { TimeAgoPipe } from './time-ago.pipe';\r\nimport { YesNoPipe } from './yes-no.pipe';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [\r\n    ListPipe,\r\n    PadLeftPipe,\r\n    PhoneNumberPipe,\r\n    SafeHtmlPipe,\r\n    TimeAgoPipe,\r\n    YesNoPipe\r\n  ],\r\n  exports: [\r\n    ListPipe,\r\n    PadLeftPipe,\r\n    PhoneNumberPipe,\r\n    SafeHtmlPipe,\r\n    TimeAgoPipe,\r\n    YesNoPipe\r\n  ]\r\n})\r\nexport class PipesModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { LibraryComponent } from './library.component';\r\nimport { AccordionModule } from './components/accordion/accordion.module';\r\nimport { AddressModule } from './components/address/address.module';\r\nimport { AuditModule } from './components/audit/audit.module';\r\nimport { CollageModule } from './components/collage/collage.module';\r\nimport { ContainerModule } from './components/container/container.module';\r\nimport { DatepickerModule } from './components/datepicker/datepicker.module';\r\nimport { DialogModule } from './components/dialog/dialog.module';\r\nimport { FileUploadModule } from './components/file-upload/file-upload.module';\r\nimport { NotFoundModule } from './components/not-found/not-found.module';\r\nimport { TileModule } from './components/tile/tile.module';\r\nimport { TimeModule } from './components/time/time.module';\r\nimport { TimerModule } from './components/timer/timer.module';\r\nimport { PipesModule } from './pipes/pipes.module';\r\nimport { SharedModule } from './shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    AccordionModule,\r\n    AddressModule,\r\n    AuditModule,\r\n    \r\n    ContainerModule,\r\n    DatepickerModule,\r\n    DialogModule,\r\n    FileUploadModule,\r\n    NotFoundModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatTableModule,\r\n    MatToolbarModule,\r\n    PipesModule,\r\n    TimeModule,\r\n    TimerModule\r\n  ],\r\n  declarations: [LibraryComponent],\r\n  exports: [\r\n    LibraryComponent,\r\n    SharedModule,\r\n    AccordionModule,\r\n    AddressModule,\r\n    AuditModule,\r\n    CollageModule,\r\n    ContainerModule,\r\n    DatepickerModule,\r\n    DialogModule,\r\n    FileUploadModule,\r\n    TileModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    PipesModule,\r\n    TimeModule,\r\n    TimerModule\r\n  ]\r\n})\r\nexport class LibraryModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: []\r\n})\r\nexport class AnimationsModule { }\r\n","import { build, toArray } from '../shared/utils';\r\n\r\nexport class Lookup {\r\n  expires: Date;\r\n  typeName = '';\r\n  values: LookupValue[] = [];\r\n  _key = '';\r\n\r\n  get key(): string {\r\n    return this._key || this.typeName;\r\n  }\r\n\r\n  set key(value: string) {\r\n    this._key = value;\r\n  }\r\n\r\n  get name(): string {\r\n    return this.key;\r\n  }\r\n\r\n  set name(value: string) {\r\n    this.key = value;\r\n  }\r\n\r\n  get names(): string[] {\r\n    return this.values.map(x => x.name);\r\n  }\r\n}\r\n\r\nexport class LookupValue {\r\n  id = 0;\r\n  active = true;\r\n  description = '';\r\n  name = '';\r\n  sort = 0;\r\n  tooltip = ''; // use this for accessibility and/or help tooltip messages\r\n  _label = '';\r\n  _value: any;\r\n\r\n  get value(): any {\r\n    return this._value || this.id;\r\n  }\r\n\r\n  set value(value: any) {\r\n    this._value = value;\r\n  }\r\n\r\n  get label(): string {\r\n    return this._label || this.description;\r\n  }\r\n\r\n  set label(value: string) {\r\n    this._label = value;\r\n  }\r\n}\r\n\r\nexport class Lookups {\r\n  [key: string]: Lookup;\r\n\r\n  static AddLookups(state: Lookups, lookups: Lookup[]): Lookups {\r\n    return lookups.reduce(\r\n      (acc: Lookups, lookup: Lookup): Lookups =>\r\n        build(Lookups, acc, { [lookup.key]: build(Lookup, lookup) }),\r\n      state\r\n    );\r\n  }\r\n\r\n  static AddLookup(state: Lookups, lookup: Lookup): Lookups {\r\n    return build(Lookups, state, {\r\n      [lookup.key]: build(Lookup, lookup)\r\n    });\r\n  }\r\n\r\n  static BuildLookupValues(\r\n    values: LookupValue[],\r\n    names: string[]\r\n  ): LookupValue[] {\r\n    return names.reduce((acc, name) => {\r\n      const value = values.find(x => x.name === name);\r\n      return value ? [...acc, value] : [...acc];\r\n    }, []);\r\n  }\r\n\r\n  static FindLookupIdByName(values: LookupValue[], name: string): number {\r\n    const lkp = build(LookupValue, values.find(x => x.name === name));\r\n    return lkp.id;\r\n  }\r\n\r\n  static FindLookupNameById(values: LookupValue[], id: number): string {\r\n    const lkp = build(LookupValue, values.find(x => x.id === id));\r\n    return lkp.name;\r\n  }\r\n\r\n  static RemoveLookup(state: Lookups, removeKey: string): Lookups {\r\n    const newState = new Lookups();\r\n    const keys = Object.keys(state).filter(key => key !== removeKey);\r\n    keys.forEach(key => {\r\n      newState[key] = Object.assign({}, state[key]);\r\n    });\r\n    return newState;\r\n  }\r\n\r\n  static RemoveLookupValue(\r\n    state: Lookups,\r\n    lookupKey: string,\r\n    lookupValueId: number\r\n  ): Lookups {\r\n    const values = toArray(build(Lookup, state[lookupKey]).values).filter(\r\n      x => x.id !== lookupValueId\r\n    );\r\n    const lookup = build(Lookup, state[lookupKey], { values });\r\n    return build(Lookups, state, { [lookupKey]: lookup });\r\n  }\r\n\r\n  static UpdateLookupValue(\r\n    state: Lookups,\r\n    lookupKey: string,\r\n    lookupValue: LookupValue\r\n  ): Lookups {\r\n    const values = [\r\n      ...toArray(build(Lookup, state[lookupKey]).values).filter(\r\n        x => x.id !== lookupValue.id\r\n      ),\r\n      lookupValue\r\n    ];\r\n    const lookup = build(Lookup, state[lookupKey], { values });\r\n    return build(Lookups, state, { [lookupKey]: lookup });\r\n  }\r\n}\r\n\r\nexport class AddLookupPayload {\r\n  key = '';\r\n  value: '';\r\n}\r\n","import { Validators } from '@angular/forms';\r\n\r\nimport { LookupValue } from '../../lookup/lookup.models';\r\nimport { DateHelper } from '../../shared/date';\r\nimport { Metadata } from '../../shared/models';\r\nimport { build } from '../../shared/utils';\r\n\r\nexport class Calendar {\r\n  calendarName = '';\r\n  description = '';\r\n  isAllDayDefault = false;\r\n  isAllDayEnforced = false;\r\n  isMaster = false;\r\n  events: CalendarEvent[] = [];\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['firstDay', 'lastDay']\r\n    });\r\n  }\r\n\r\n  get firstDay() {\r\n    return;\r\n  }\r\n\r\n  get lastDay() {\r\n    return;\r\n  }\r\n}\r\n\r\nexport class CalendarEventType extends LookupValue {\r\n  allDay = false;\r\n  color = '';\r\n}\r\n\r\nexport class CalendarEvent {\r\n  id = 0;\r\n  description = '';\r\n  eventId = '';\r\n  name = '';\r\n  eventType: CalendarEventType = new CalendarEventType();\r\n  eventTypeId = 0;\r\n  calendarId = 0;\r\n  startTime: Date = new Date();\r\n  endTime: Date = null;\r\n  _allDay = false;\r\n  _color = '';\r\n\r\n  get metadata(): any {\r\n    return {\r\n      name: {\r\n        validators: [Validators.required]\r\n      },\r\n      ignore: [\r\n        '_allDay',\r\n        '_color',\r\n        'color',\r\n        'dayOf',\r\n        'description',\r\n        'startHour',\r\n        'startMinute',\r\n        'startTimePeriod',\r\n        'monthOf',\r\n        'endHour',\r\n        'endMinute',\r\n        'endTimePeriod',\r\n        'eventType',\r\n        'yearOf'\r\n      ]\r\n    };\r\n  }\r\n\r\n  set allDay(value: boolean) {\r\n    this._allDay = value;\r\n  }\r\n\r\n  get allDay(): boolean {\r\n    return this._allDay || this.eventType.allDay;\r\n  }\r\n\r\n  set color(value: string) {\r\n    this._color = value;\r\n  }\r\n\r\n  get color(): string {\r\n    return this._color || this.eventType.color;\r\n  }\r\n\r\n  get endHour(): number {\r\n    return DateHelper.GetHour(this.endTime);\r\n  }\r\n\r\n  get endMinute(): number {\r\n    return DateHelper.GetMinute(this.endTime);\r\n  }\r\n\r\n  get endTimePeriod(): string {\r\n    return DateHelper.GetMeridian(this.endTime);\r\n  }\r\n\r\n  get startHour(): number {\r\n    return DateHelper.GetHour(this.startTime);\r\n  }\r\n\r\n  get startMinute(): number {\r\n    return DateHelper.GetMinute(this.startTime);\r\n  }\r\n\r\n  get startTimePeriod(): string {\r\n    return DateHelper.GetMeridian(this.startTime);\r\n  }\r\n}\r\n\r\nexport class CalendarDay {\r\n  date: Date = new Date();\r\n  dayType: CalendarEventType = new CalendarEventType();\r\n  events: CalendarEvent[] = [];\r\n  isActive = false;\r\n  color = '';\r\n}\r\n","import { Component, OnInit, ElementRef, Input } from '@angular/core';\r\n\r\nimport { CalendarEvent } from '../calendar.model';\r\nimport { integerArray } from '../../../shared/utils';\r\nimport { DateHelper } from '../../../shared/date';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day-events',\r\n  templateUrl: './calendar-day-events.component.html',\r\n  styleUrls: ['./calendar-day-events.component.scss']\r\n})\r\nexport class CalendarDayEventsComponent implements OnInit {\r\n  @Input() dayTypeColor: string;\r\n  styles = {};\r\n  _calendarEvents: CalendarEvent[] = [];\r\n  totalHeight = 100;\r\n\r\n  constructor(public el: ElementRef) {}\r\n\r\n  @Input()\r\n  set calendarEvents(value: CalendarEvent[]) {\r\n    this._calendarEvents = value;\r\n    this.styles = value.reduce((acc, e, i) => {\r\n      const width =\r\n        DateHelper.HoursBetween(e.startTime, e.endTime) * this.hourWidth;\r\n      return Object.assign({}, acc, {\r\n        [i]: {\r\n          top: 5,\r\n          left:\r\n            DateHelper.HoursFromBeginningOfDay(e.startTime) * this.hourWidth,\r\n          width,\r\n          height: width < 200 ? this.rowHeight * 2 : this.rowHeight\r\n        }\r\n      });\r\n    }, {});\r\n  }\r\n\r\n  get calendarEvents(): CalendarEvent[] {\r\n    return this._calendarEvents;\r\n  }\r\n\r\n  get elementWidth(): number {\r\n    return Math.max(this.el.nativeElement.offsetWidth, 800);\r\n  }\r\n\r\n  get hours(): string[] {\r\n    return integerArray(24).map(\r\n      i => `${(i + 1) % 12 === 0 ? 12 : (i + 1) % 12}`\r\n    );\r\n  }\r\n\r\n  get hourWidth(): number {\r\n    return this.elementWidth / 24;\r\n  }\r\n\r\n  get rowHeight(): number {\r\n    return this.totalHeight / 5;\r\n  }\r\n\r\n  ngOnInit() {}\r\n}\r\n","<div class=\"calendar-day-events scrollable\">\r\n  <div\r\n    class=\"hours\"\r\n    [style.width.px]=\"elementWidth\"\r\n    [style.background-color]=\"dayTypeColor\"\r\n  >\r\n    <h4 *ngFor=\"let hour of hours\" [style.width.px]=\"hourWidth\">{{ hour }}</h4>\r\n  </div>\r\n  <div class=\"events-list\">\r\n    <span\r\n      class=\"inline-event\"\r\n      *ngFor=\"let event of calendarEvents; let i = index\"\r\n      [style.background]=\"event.color\"\r\n      [style.top.px]=\"styles[i].top\"\r\n      [style.left.px]=\"styles[i].left\"\r\n      [style.height.px]=\"styles[i].height\"\r\n      [style.width.px]=\"styles[i].width\"\r\n      >{{ event.name }}</span\r\n    >\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject, Optional, Input, TemplateRef, ViewChild, ElementRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\nimport { CalendarDay, CalendarEventType, CalendarEvent } from '../calendar.model';\r\nimport { LookupValue } from '../../../lookup/lookup.models';\r\nimport { toArray, build, toInt } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day-edit',\r\n  templateUrl: './calendar-day-edit.component.html',\r\n  styleUrls: ['./calendar-day-edit.component.scss']\r\n})\r\nexport class CalendarDayEditComponent implements OnInit, AfterViewInit {\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n  @Output() changeDayType = new EventEmitter<CalendarEventType>();\r\n  @ViewChild('dayTypeInput', { static: false }) dayTypeInput: ElementRef;\r\n  @ViewChild('wrapper', { static: false }) wrapper: ElementRef;\r\n  _calendarDay: CalendarDay = new CalendarDay();\r\n  _calendarDayEditTemplate: TemplateRef<any>;\r\n  _calendarDayTypes: LookupValue[] = [];\r\n  _calendarEventFormTemplate: TemplateRef<any>;\r\n  _calendarEventTypes: CalendarEventType[] = [];\r\n  _calendarEventViewTemplate: TemplateRef<any>;\r\n  calendarDayTypeId = 0;\r\n\r\n  constructor(public el: ElementRef, @Optional() @Inject(MAT_DIALOG_DATA) public data?: any) {}\r\n\r\n  @Input()\r\n  set calendarDay(value: CalendarDay) {\r\n    this._calendarDay = value;\r\n  }\r\n\r\n  get calendarDay(): CalendarDay {\r\n    return this.data && this.data['calendarDay'] ? this.data['calendarDay'] : this._calendarDay;\r\n  }\r\n\r\n  @Input()\r\n  set calendarDayEditTemplate(value: TemplateRef<any>) {\r\n    this._calendarDayEditTemplate = value;\r\n  }\r\n\r\n  get calendarDayEditTemplate() {\r\n    return this.data && this.data['calendarDayEditTemplate'] ? this.data['calendarDayEditTemplate'] : this._calendarDayEditTemplate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventFormTemplate(value: TemplateRef<any>) {\r\n    this._calendarEventFormTemplate = value;\r\n  }\r\n\r\n  get calendarEventFormTemplate() {\r\n    return this.data && this.data['calendarEventFormTemplate'] ? this.data['calendarEventFormTemplate'] : this._calendarEventFormTemplate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventViewTemplate(value: TemplateRef<any>) {\r\n    this._calendarEventViewTemplate = value;\r\n  }\r\n\r\n  get calendarEventViewTemplate() {\r\n    return this.data && this.data['calendarEventViewTemplate'] ? this.data['calendarEventViewTemplate'] : this._calendarEventViewTemplate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarDayTypes(value: LookupValue[]) {\r\n    this._calendarDayTypes = value;\r\n  }\r\n\r\n  get calendarDayTypes(): LookupValue[] {\r\n    return this.data && this.data['calendarDayTypes'] ? toArray(this.data['calendarDayTypes']) : toArray(this._calendarDayTypes);\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventTypes(value: CalendarEventType[]) {\r\n    this._calendarEventTypes = value;\r\n  }\r\n\r\n  get calendarEventTypes(): CalendarEventType[] {\r\n    return this.data && this.data['calendarEventTypes'] ? toArray(this.data['calendarEventTypes']) : toArray(this._calendarEventTypes);\r\n  }\r\n\r\n  get contentWidth(): number {\r\n    return this.wrapperWidth - 320;\r\n  }\r\n\r\n  get elementWidth(): number {\r\n    return this.el.nativeElement.offsetWidth;\r\n  }\r\n\r\n  get eventsWidth(): number {\r\n    return this.elementWidth - 320;\r\n  }\r\n\r\n  get valueOut(): CalendarDay {\r\n    return build(CalendarDay, this.calendarDay, {\r\n      dayTypeId: this.calendarDayTypeId\r\n    });\r\n  }\r\n\r\n  get wrapperWidth(): number {\r\n    return this.wrapper && this.wrapper.nativeElement ? this.wrapper.nativeElement.offsetWidth : 0;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngAfterViewInit() {\r\n    this.setDayType(this.calendarDay.dayType);\r\n  }\r\n\r\n  onChangeDayType(e: number) {\r\n    const id = toInt(e);\r\n    this.calendarDayTypeId = id;\r\n    this.changeDayType.emit(build(CalendarEventType, this.calendarDayTypes.find(x => x.id === id)));\r\n  }\r\n\r\n  setDayType(e: CalendarEventType) {\r\n    this.calendarDayTypeId = e.id;\r\n    if (this.dayTypeInput && this.dayTypeInput.nativeElement) {\r\n      this.dayTypeInput.nativeElement.value = e.id;\r\n    }\r\n  }\r\n}\r\n","<div class=\"calendar-day-edit\" #wrapper>\r\n  <div class=\"calendar-day-content\">\r\n    <div class=\"calendar-date accordion-trigger\" [style.background-color]=\"calendarDay.dayType.color\">\r\n      <h3 class=\"date-weekday font-effect-3d-float\">\r\n        {{ calendarDay.date | date: 'EEEE' }}\r\n      </h3>\r\n      <h2 class=\"date-month font-effect-3d-float\">\r\n        {{ calendarDay.date | date: 'MMMM' }}\r\n      </h2>\r\n      <h1 class=\"date-day font-effect-3d-float\">\r\n        {{ calendarDay.date | date: 'dd' }}\r\n      </h1>\r\n    </div>\r\n\r\n    <span class=\"day-type-label font-effect-outline\" [style.color]=\"calendarDay.dayType.color\">Day Type</span>\r\n\r\n    <div class=\"all-day-events\">\r\n      <select class=\"mat-select select-day-type\" #dayTypeInput (change)=\"onChangeDayType(dayTypeInput.value)\">\r\n        <option *ngFor=\"let lkp of calendarDayTypes\" [value]=\"lkp.id\">\r\n          {{ lkp.name }}\r\n        </option>\r\n      </select>\r\n\r\n      <!-- <mat-select class=\"mat-select select-day-type\">\r\n        <mat-option *ngFor=\"let lkp of calendarDayTypes\" [value]=\"lkp.id\">\r\n          {{ lkp.name }}\r\n        </mat-option>\r\n      </mat-select> -->\r\n\r\n      <!-- <div class=\"calendar-events-list\">\r\n        <div\r\n          class=\"calendar-event accordion-content\"\r\n          *ngFor=\"let event of calendarDay?.events; index as i\"\r\n        >\r\n          <iu-calendar-event-view\r\n            (saveEvent)=\"saveEvent.emit($event)\"\r\n            [calendarEvent]=\"event\"\r\n            [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n            [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n            [calendarEventTypes]=\"calendarEventTypes\"\r\n          ></iu-calendar-event-view>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <iu-calendar-day-events\r\n      *ngIf=\"!calendarDayEditTemplate\"\r\n      [style.width.px]=\"eventsWidth\"\r\n      [calendarEvents]=\"calendarDay.events\"\r\n      [dayTypeColor]=\"calendarDay.dayType.color\"\r\n      class=\"scrollable\"\r\n    ></iu-calendar-day-events>\r\n    <div class=\"custom-template\" [style.width.px]=\"contentWidth\" [style.background-color]=\"calendarDay.dayType.color\" *ngIf=\"calendarDayEditTemplate\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"\r\n          calendarDayEditTemplate;\r\n          context: {\r\n            day: calendarDay,\r\n            color: calendarDay.dayType.color\r\n          }\r\n        \"\r\n      ></ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy, TemplateRef, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { Calendar, CalendarDay, CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { LookupValue } from '../../../lookup/lookup.models';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-days',\r\n  templateUrl: './calendar-days.component.html',\r\n  styleUrls: ['./calendar-days.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarDaysComponent implements OnInit {\r\n  @Input() activeDate: Date = new Date();\r\n  @Input() calendarDayEditTemplate: TemplateRef<any>;\r\n  @Input() calendarDayListItemTemplate: TemplateRef<any>;\r\n  @Input() calendarDayTypes: LookupValue[] = [];\r\n  @Input() calendarDays: CalendarDay[] = [];\r\n  @Input() calendarEvents: CalendarEvent[] = [];\r\n  @Input() calendarEventFormTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() calendarEventViewTemplate: TemplateRef<any>;\r\n  @Control(Calendar) form: FormGroup;\r\n  @Output() changeDayType = new EventEmitter<{ date: Date; dayTypeId: number }>();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onChangeDayType(date: Date, e: CalendarEventType) {\r\n    this.changeDayType.emit({ date, dayTypeId: e.id });\r\n  }\r\n}\r\n","<div class=\"calendar-days\">\r\n  <div class=\"calendar-days-list-item\" *ngFor=\"let day of calendarDays; let odd = odd\">\r\n    <iu-calendar-day-edit\r\n      *ngIf=\"!calendarDayListItemTemplate\"\r\n      [calendarDay]=\"day\"\r\n      [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n      [calendarDayTypes]=\"calendarDayTypes\"\r\n      [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n      [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n      [calendarEventTypes]=\"calendarEventTypes\"\r\n      (changeDayType)=\"onChangeDayType(day.date, $event)\"\r\n      (saveEvent)=\"saveEvent.emit($event)\"\r\n      [class.right]=\"odd\"\r\n    ></iu-calendar-day-edit>\r\n\r\n    <div *ngIf=\"calendarDayListItemTemplate\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"\r\n          calendarDayListItemTemplate;\r\n          context: {\r\n            day: day\r\n          }\r\n        \"\r\n      ></ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy, TemplateRef, Output, EventEmitter } from '@angular/core';\r\nimport { CalendarDay, CalendarEventType, CalendarEvent } from '../calendar.model';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day',\r\n  templateUrl: './calendar-day.component.html',\r\n  styleUrls: ['./calendar-day.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarDayComponent implements OnInit {\r\n  @Input() day = new CalendarDay();\r\n  @Input() calendarDayTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Output() activate = new EventEmitter<CalendarDay>();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onSave(e: CalendarEvent) {\r\n    this.saveEvent.emit(e);\r\n  }\r\n}\r\n","<div class=\"calendar-day\" (click)=\"activate.emit(day)\">\r\n  <p [class.active-day]=\"day.isActive\" [style.background-color]=\"day.color\">{{ day.date.getDate() }}</p>\r\n  <div class=\"calendar-day-content\" *ngIf=\"!calendarDayTemplate\">\r\n    <div class=\"calendar-event\" *ngFor=\"let event of day.events; index as i\">\r\n      <!-- <iu-calendar-event\r\n        *ngIf=\"i < 3\"\r\n        [calendarEvent]=\"event\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        [plusMore]=\"day.events.length > 3 && i === 2 ? day.events.length - 2 : 0\"\r\n        (goToDay)=\"activate.emit(day)\"\r\n        (saveEvent)=\"onSave($event)\"\r\n      ></iu-calendar-event> -->\r\n    </div>\r\n  </div>\r\n  <div class=\"calendar-day-content\" *ngIf=\"calendarDayTemplate\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"\r\n        calendarDayTemplate;\r\n        context: {\r\n          day: day\r\n        }\r\n      \"\r\n    ></ng-container>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ElementRef,\r\n  ViewChild,\r\n  ChangeDetectionStrategy,\r\n  TemplateRef,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport {\r\n  CalendarDay,\r\n  CalendarEvent,\r\n  CalendarEventType\r\n} from '../calendar.model';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { DateHelper } from '../../../shared/date';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-view',\r\n  templateUrl: './calendar-view.component.html',\r\n  styleUrls: ['./calendar-view.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class CalendarViewComponent extends DumbComponent implements OnInit {\r\n  @ViewChild('wrapper', { static: true }) wrapper: ElementRef;\r\n  @Input() activeDate: Date = new Date();\r\n  @Input() calendarDayTemplate: TemplateRef<any>;\r\n  @Input() calendarDayEditTemplate: TemplateRef<any>;\r\n  @Input() calendarDays: CalendarDay[] = [];\r\n  @Input() calendarEvents: CalendarEvent[] = [];\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Output() activate = new EventEmitter<CalendarDay>();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n  weekdays = DateHelper.Weekdays;\r\n\r\n  get calendarWidth(): number {\r\n    return this.el.nativeElement.offsetWidth;\r\n  }\r\n\r\n  get dayWidth(): number {\r\n    return this.calendarWidth / 7 - 0.1;\r\n  }\r\n\r\n  get firstDayIndex(): number {\r\n    return DateHelper.GetFirstDayOfMonth(this.activeDate).getDay();\r\n  }\r\n\r\n  get lastDayIndex(): number {\r\n    return DateHelper.GetLastDayOfMonth(this.activeDate).getDay();\r\n  }\r\n\r\n  constructor(public dialog: MatDialog, public el: ElementRef) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  isActive(day: Date) {\r\n    return DateHelper.IsSameDay(day, this.activeDate);\r\n  }\r\n}\r\n","<div class=\"calendar\" id=\"calendar-view\" #wrapper>\r\n  <div class=\"cal-head\">\r\n    <div class=\"cal-day\" [style.width.px]=\"dayWidth\" *ngFor=\"let weekday of weekdays\">\r\n      <p>{{ weekday.name }}</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"cal-body\">\r\n    <div *ngFor=\"let weekday of weekdays\" class=\"beginningSpacer\">\r\n      <div class=\"day\" [style.height.px]=\"dayWidth\" [style.width.px]=\"dayWidth\" *ngIf=\"weekday.index < firstDayIndex\"></div>\r\n    </div>\r\n    <div class=\"day\" [style.height.px]=\"dayWidth\" [style.width.px]=\"dayWidth\" *ngFor=\"let day of calendarDays\">\r\n      <iu-calendar-day\r\n        [day]=\"day\"\r\n        [calendarDayTemplate]=\"calendarDayTemplate\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        (activate)=\"activate.emit($event)\"\r\n        (saveEvent)=\"saveEvent.emit($event)\"\r\n      ></iu-calendar-day>\r\n    </div>\r\n    <div *ngFor=\"let weekday of weekdays\" class=\"endSpacer\">\r\n      <div class=\"day\" [style.height.px]=\"dayWidth\" [style.width.px]=\"dayWidth\" *ngIf=\"weekday.index > lastDayIndex\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Optional,\r\n  Inject,\r\n  Input,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { Calendar } from '../calendar.model';\r\nimport { Control } from '../../../forms/decorators';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-form',\r\n  templateUrl: './calendar-form.component.html',\r\n  styleUrls: ['./calendar-form.component.scss']\r\n})\r\nexport class CalendarFormComponent implements OnInit {\r\n  @Control(Calendar) form: FormGroup;\r\n  _calendar: Calendar = new Calendar();\r\n  _calendarFormTemplate: TemplateRef<any>;\r\n\r\n  constructor(\r\n    @Optional() public dialogRef?: MatDialogRef<CalendarFormComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data?: any\r\n  ) {}\r\n\r\n  @Input()\r\n  set calendar(value: Calendar) {\r\n    this._calendar = value;\r\n  }\r\n\r\n  get calendar(): Calendar {\r\n    return this.data['calendar'] || this.calendar;\r\n  }\r\n\r\n  @Input()\r\n  set calendarFormTemplate(value: TemplateRef<any>) {\r\n    this._calendarFormTemplate = value;\r\n  }\r\n\r\n  get calendarFormTemplate(): TemplateRef<any> {\r\n    return this.data['calendarFormTemplate'] || this._calendarFormTemplate;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  submit() {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close();\r\n    }\r\n  }\r\n}\r\n","<div class=\"calendar-form\">\r\n  <div class=\"calendar-form\" *ngIf=\"calendarFormTemplate\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"\r\n        calendarFormTemplate;\r\n        context: {\r\n          calendar: calendar,\r\n          form: form,\r\n          submit: submit,\r\n          dialogRef: dialogRef\r\n        }\r\n      \"\r\n    ></ng-container>\r\n  </div>\r\n\r\n  <form [formGroup]=\"form\" *ngIf=\"!calendarFormTemplate\">\r\n    <h1>Create Calendar</h1>\r\n    <mat-form-field>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"calendarName\"\r\n        matInput\r\n        placeholder=\"Calendar Name\"\r\n      />\r\n    </mat-form-field>\r\n    <mat-form-field>\r\n      <textarea\r\n        matInput\r\n        formControlName=\"description\"\r\n        placeholder=\"Calendar Description\"\r\n      ></textarea>\r\n    </mat-form-field>\r\n    <button mat-button (click)=\"submit()\">Submit</button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { CalendarEventType } from '../calendar.model';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-key',\r\n  templateUrl: './calendar-key.component.html',\r\n  styleUrls: ['./calendar-key.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarKeyComponent implements OnInit {\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() heading = '';\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<div class=\"calendar-key\">\r\n  <h2>{{ heading }}</h2>\r\n  <h3 *ngFor=\"let type of calendarEventTypes\" [style.background-color]=\"type.color\">\r\n    {{ type.name }}\r\n  </h3>\r\n</div>\r\n","import { \r\n  Component, \r\n  OnInit, \r\n  Input, \r\n  EventEmitter, \r\n  Output, \r\n  ViewChild, \r\n  ContentChild, \r\n  TemplateRef, \r\n  ElementRef, \r\n  ChangeDetectionStrategy \r\n} from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Calendar, CalendarDay, CalendarEventType, CalendarEvent } from './calendar.model';\r\nimport { CalendarDaysComponent } from './calendar-days/calendar-days.component';\r\nimport { CalendarViewComponent } from './calendar-view/calendar-view.component';\r\nimport { LookupValue } from '../../lookup/lookup.models';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { DateHelper } from '../../shared/date';\r\nimport { CalendarFormComponent } from './calendar-form/calendar-form.component';\r\nimport { build, inArray, toArray } from '../../shared/utils';\r\nimport { COLORS } from '../../shared/lookup';\r\nimport { TypeConstructor } from '../../shared/models';\r\nimport { SafeUrl } from '@angular/platform-browser/platform-browser';\r\n\r\n@Component({\r\n  selector: 'iu-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    trigger('overviewState', [\r\n      state(\r\n        'closed',\r\n        style({\r\n          width: '0px',\r\n          right: '0',\r\n          padding: '0',\r\n          background: 'rgba(0,0,0,0.9)'\r\n        })\r\n      ),\r\n      state(\r\n        'open',\r\n        style({\r\n          width: '50%',\r\n          right: '25%',\r\n          padding: '75px 30px 60px 30px',\r\n          background: '#fff'\r\n        })\r\n      ),\r\n      transition('closed => open', animate('1000ms ease-in')),\r\n      transition('open => closed', animate('1000ms ease-out'))\r\n    ])\r\n  ]\r\n})\r\nexport class CalendarComponent extends DumbComponent implements OnInit {\r\n  @Input() allDayDefault = false;\r\n  @Input() calendar = new Calendar();\r\n  @Input() calendarView: 'DAYS';\r\n  @Input() dayCtor: TypeConstructor<any>;\r\n  @Input() defaultInactiveTypeId = 0;\r\n  @Input() defaultWeekdayTypeId = 0;\r\n  @Input() defaultWeekendTypeId = 0;\r\n  @Input() keyHeading = 'Calendar Event Types';\r\n  @Input() showActions = false;\r\n  @Input() showKey = true;\r\n  @Input() startDate: Date;\r\n  @Input() endDate: Date;\r\n  @Output() addEvent = new EventEmitter<CalendarEvent>();\r\n  @Output() changeActiveDate = new EventEmitter<Date>();\r\n  @Output() changeDayType = new EventEmitter<{ date: Date; dayTypeId: number }>();\r\n  @Output() deleteEvent = new EventEmitter<CalendarEvent>();\r\n  @Output() updateCalendar = new EventEmitter<Calendar>();\r\n  @Output() updateEvent = new EventEmitter<CalendarEvent>();\r\n  @ViewChild(CalendarViewComponent, { static: true })\r\n  calendarViewComponent: CalendarViewComponent;\r\n  @ViewChild(CalendarDaysComponent, { static: true })\r\n  calendarListComponent: CalendarDaysComponent;\r\n  @ContentChild('actionsTemplate', { static: true })\r\n  actionsTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayTemplate', { static: true })\r\n  calendarDayTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayEditTemplate', { static: true })\r\n  calendarDayEditTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayListItemTemplate', { static: true })\r\n  calendarDayListItemTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayViewTemplate', { static: true })\r\n  calendarDayViewTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarFormTemplate', { static: true })\r\n  calendarFormTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarEventFormTemplate', { static: true })\r\n  calendarEventFormTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarEventViewTemplate', { static: true })\r\n  calendarEventViewTemplate: TemplateRef<any>;\r\n  @ViewChild('pdfLink', { static: true }) pdfLink: ElementRef;\r\n  activeDay: CalendarDay;\r\n  fileUrl: SafeUrl = '';\r\n  now = new Date();\r\n  _activeDate: Date = new Date();\r\n  _calendarDays: CalendarDay[];\r\n  _calendarDayTypes: LookupValue[] = [];\r\n  _calendarEventTypes: CalendarEventType[] = [];\r\n  // dayTypes = [{ id: 1, name: '1' }, { id: 2, name: '2' }];\r\n  constructor(public dialog: MatDialog) {\r\n    super();\r\n  }\r\n\r\n  @Input()\r\n  set activeDate(value: Date) {\r\n    this._activeDate = value;\r\n    this.changeActiveDate.emit(value);\r\n  }\r\n\r\n  get activeDate(): Date {\r\n    return this._activeDate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventTypes(value: CalendarEventType[]) {\r\n    const colors = [];\r\n    this._calendarEventTypes = toArray(value).map(x => {\r\n      let color = x.color;\r\n      while (!color) {\r\n        const randomColor = COLORS[Math.floor(Math.random() * COLORS.length)].name;\r\n        color = inArray(colors, randomColor) ? null : randomColor;\r\n      }\r\n      colors.push(color);\r\n      return build(CalendarEventType, x, {\r\n        color\r\n      });\r\n    });\r\n  }\r\n\r\n  get calendarEventTypes(): CalendarEventType[] {\r\n    return this._calendarEventTypes;\r\n  }\r\n\r\n  @Input()\r\n  set calendarDayTypes(value: LookupValue[]) {\r\n    this._calendarDayTypes = value;\r\n  }\r\n\r\n  get calendarDayTypes(): LookupValue[] {\r\n    const types = Array.isArray(this._calendarDayTypes) && this._calendarDayTypes.length > 0 ? this._calendarDayTypes : this.calendarEventTypes.filter(x => x.allDay);\r\n    return [build(LookupValue, { id: 0, name: '' }), ...types];\r\n  }\r\n\r\n  @Input()\r\n  set calendarDays(value: CalendarDay[]) {\r\n    this._calendarDays = value;\r\n  }\r\n\r\n  get calendarDays(): CalendarDay[] {\r\n    const d =\r\n      this._calendarDays && Array.isArray(this._calendarDays)\r\n        ? DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n            const day = build(this.ctor, this._calendarDays.find(x => DateHelper.IsSameDay(date, x.date)));\r\n            const dayType = build(\r\n              CalendarEventType,\r\n              this.calendarEventTypes.find(\r\n                x =>\r\n                  x.id ===\r\n                  (day && day.dayType\r\n                    ? day.dayType.id\r\n                    : DateHelper.IsBetween(date, this.startDate, this.endDate)\r\n                    ? DateHelper.IsWeekend(date)\r\n                      ? this.defaultWeekendTypeId\r\n                      : this.defaultWeekdayTypeId\r\n                    : this.defaultInactiveTypeId)\r\n              )\r\n            );\r\n            return build(this.ctor, day, {\r\n              date,\r\n              dayType,\r\n              isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n              color: day.dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n            });\r\n          })\r\n        : DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n            const events = this.calendarEvents\r\n              .filter(event => DateHelper.IsBetween(date, event.startTime, event.endTime) || DateHelper.IsSameDay(date, event.startTime))\r\n              .map(event => build(CalendarEvent, event, {}));\r\n            const eventTypeId =\r\n              build(CalendarEvent, events.find(y => y.eventType.allDay)).eventTypeId || (DateHelper.IsWeekend(date) ? this.defaultWeekendTypeId : this.defaultWeekdayTypeId);\r\n            const dayType = build(CalendarEventType, this.calendarEventTypes.find(x => x.id === eventTypeId));\r\n            return build(this.ctor, {\r\n              date,\r\n              events,\r\n              dayType,\r\n              isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n              color: dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n            });\r\n          });\r\n    // console.dir(d);\r\n    return d;\r\n  }\r\n\r\n  get calendarEvents(): CalendarEvent[] {\r\n    return this.calendar.events.map((x, i) =>\r\n      build(CalendarEvent, x, {\r\n        // color: COLORS[i % COLORS.length].name,\r\n        eventType: build(CalendarEventType, this.calendarEventTypes.find(y => y.id === x.eventTypeId))\r\n      })\r\n    );\r\n  }\r\n\r\n  get ctor(): TypeConstructor<any> {\r\n    return this.dayCtor ? this.dayCtor : CalendarDay;\r\n  }\r\n\r\n  get currentYear(): number {\r\n    return DateHelper.GetYear(this.activeDate);\r\n  }\r\n\r\n  get minWidth(): number {\r\n    return this.showKey ? 960 : 720;\r\n  }\r\n\r\n  get monthName(): string {\r\n    return DateHelper.GetMonthName(this.activeDate);\r\n  }\r\n\r\n  get selectedIndex(): number {\r\n    switch (this.calendarView) {\r\n      case 'DAYS':\r\n        return 1;\r\n      default:\r\n        return 0;\r\n    }\r\n  }\r\n\r\n  get shortMonthName(): string {\r\n    return DateHelper.GetShortMonthName(this.activeDate);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngOnChanges(changes) {\r\n    // console.dir(changes);\r\n  }\r\n\r\n  changeTab(e: number) {\r\n    switch (e) {\r\n      case 1:\r\n        this.calendarView = 'DAYS';\r\n        break;\r\n      default:\r\n        this.calendarView = null;\r\n    }\r\n  }\r\n\r\n  closeOverview() {\r\n    this.activeDay = null;\r\n  }\r\n\r\n  editCalendar() {\r\n    this.openDialog(CalendarFormComponent, {\r\n      width: '600px',\r\n      data: {\r\n        calendar: this.calendar,\r\n        calendarFormTemplate: this.calendarFormTemplate\r\n      }\r\n    });\r\n  }\r\n\r\n  onDeleteEvent(e: CalendarEvent) {\r\n    this.deleteEvent.emit(e);\r\n  }\r\n\r\n  onSaveEvent(e: CalendarEvent) {\r\n    if (e.id === 0) {\r\n      this.addEvent.emit(e);\r\n    } else {\r\n      this.updateEvent.emit(e);\r\n    }\r\n  }\r\n\r\n  toDay(calendarDay: CalendarDay) {\r\n    this.activeDate = new Date(calendarDay.date);\r\n    this.activeDay = calendarDay;\r\n    // this.openDialog(CalendarDayEditComponent, {\r\n    //   width: '600px',\r\n    //   data: {\r\n    //     calendarDay,\r\n    //     calendarDayEditTemplate: this.calendarDayEditTemplate,\r\n    //     calendarDayTypes: this.calendarDayTypes,\r\n    //     calendarEventTypes: this.calendarEventTypes\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  toLastMonth() {\r\n    this.activeDate = DateHelper.GetFirstDayOfLastMonth(this.activeDate);\r\n  }\r\n\r\n  toNextMonth() {\r\n    this.activeDate = DateHelper.GetFirstDayOfNextMonth(this.activeDate);\r\n  }\r\n}\r\n","<div id=\"calendar-wrapper\" class=\"calendar-wrapper\" [style.min-width.px]=\"minWidth\">\r\n  <div *ngIf=\"showActions\" class=\"calendar-actions\">\r\n    <button class=\"btn-edit\" mat-button color=\"primary\" (click)=\"editCalendar()\">\r\n      Edit Calendar\r\n    </button>\r\n  </div>\r\n  <div class=\"date-heading-container\">\r\n    <div>\r\n      <button class=\"date-heading-arrow\" mat-mini-fab (click)=\"toLastMonth()\">\r\n        <i class=\"material-icons\">keyboard_arrow_left</i>\r\n      </button>\r\n    </div>\r\n    <div>\r\n      <h1 class=\"date-heading\">{{ monthName }} {{ currentYear }}</h1>\r\n    </div>\r\n    <div>\r\n      <button class=\"date-heading-arrow\" mat-mini-fab (click)=\"toNextMonth()\">\r\n        <i class=\"material-icons\">keyboard_arrow_right</i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <mat-tab-group (selectedTabChange)=\"changeTab($event.index)\" [selectedIndex]=\"selectedIndex\">\r\n    <mat-tab label=\"Calendar View\" id=\"calendar-view\">\r\n      <iu-calendar-view\r\n        [activeDate]=\"activeDate\"\r\n        [calendarDays]=\"calendarDays\"\r\n        [calendarEvents]=\"calendarEvents\"\r\n        [calendarDayTemplate]=\"calendarDayTemplate\"\r\n        [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        (activate)=\"toDay($event)\"\r\n        (saveEvent)=\"onSaveEvent($event)\"\r\n      ></iu-calendar-view>\r\n    </mat-tab>\r\n    <mat-tab label=\"List View\" id=\"list-view\">\r\n      <iu-calendar-days\r\n        [activeDate]=\"activeDate\"\r\n        [calendarDays]=\"calendarDays\"\r\n        [calendarEvents]=\"calendarEvents\"\r\n        [calendarDayListItemTemplate]=\"calendarDayListItemTemplate\"\r\n        [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n        [calendarDayTypes]=\"calendarDayTypes\"\r\n        [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n        (changeDayType)=\"changeDayType.emit($event)\"\r\n        (saveEvent)=\"onSaveEvent($event)\"\r\n      ></iu-calendar-days>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n  <a id=\"open-pdf\" [href]=\"fileUrl\" target=\"_blank\" #pdfLink></a>\r\n  <iu-calendar-key [calendarEventTypes]=\"calendarEventTypes\" *ngIf=\"showKey\" [heading]=\"keyHeading\"></iu-calendar-key>\r\n</div>\r\n<div id=\"overview\" [@overviewState]=\"activeDay ? 'open' : 'closed'\">\r\n  <iu-calendar-day-edit\r\n    *ngIf=\"activeDay\"\r\n    [calendarDay]=\"activeDay\"\r\n    [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n    [calendarDayTypes]=\"calendarDayTypes\"\r\n    [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n    [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n    [calendarEventTypes]=\"calendarEventTypes\"\r\n    (saveEvent)=\"onSaveEvent($event)\"\r\n  >\r\n  </iu-calendar-day-edit>\r\n  <mat-icon class=\"btn-close\" *ngIf=\"activeDay\" (click)=\"closeOverview()\">close</mat-icon>\r\n</div>\r\n\r\n<!-- <mat-form-field>\r\n  <mat-select placeholder=\"Calendar Day Type\">\r\n    <mat-option *ngFor=\"let lkp of dayTypes\" [value]=\"lkp.id\">\r\n      {{ lkp.name }}\r\n    </mat-option>\r\n  </mat-select>\r\n</mat-form-field> -->\r\n\r\n<!-- <mat-form-field>\r\n  <mat-select placeholder=\"Calendar Day Type\">\r\n    <mat-option [value]=\"1\">\r\n      1\r\n    </mat-option>\r\n    <mat-option [value]=\"2\">\r\n      2\r\n    </mat-option>\r\n    <mat-option [value]=\"3\">\r\n      3\r\n    </mat-option>\r\n  </mat-select>\r\n</mat-form-field> -->\r\n","import { Component, OnInit, Optional, Inject, Input, TemplateRef } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { LookupValue } from '../../../lookup/lookup.models';\r\nimport { FormComponent } from '../../../shared/component';\r\nimport { build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-event-form',\r\n  templateUrl: './calendar-event-form.component.html',\r\n  styleUrls: ['./calendar-event-form.component.scss']\r\n})\r\nexport class CalendarEventFormComponent extends FormComponent implements OnInit {\r\n  @Control(CalendarEvent) form: FormGroup;\r\n  _allDayDefault = false;\r\n  _calendarEvent: CalendarEvent = new CalendarEvent();\r\n  _calendarEventFormTemplate: TemplateRef<any>;\r\n  _calendarEventTypes: CalendarEventType[] = [];\r\n\r\n  constructor(@Optional() public dialogRef?: MatDialogRef<CalendarEventFormComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public data?: any) {\r\n    super();\r\n  }\r\n\r\n  get allDay(): boolean {\r\n    const event = this.calendarEvent;\r\n    return event.id === 0 ? this.allDayDefault : event.allDay;\r\n  }\r\n\r\n  @Input()\r\n  set allDayDefault(value: boolean) {\r\n    this._allDayDefault = value;\r\n  }\r\n\r\n  get allDayDefault(): boolean {\r\n    return this.data['allDayDefault'] || this._allDayDefault;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEvent(value: CalendarEvent) {\r\n    this._calendarEvent = value;\r\n  }\r\n\r\n  get calendarEvent(): CalendarEvent {\r\n    return this.data['calendarEvent'] || this._calendarEvent;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventFormTemplate(value: TemplateRef<any>) {\r\n    this._calendarEventFormTemplate = value;\r\n  }\r\n\r\n  get calendarEventFormTemplate(): TemplateRef<any> {\r\n    return this.data['calendarEventFormTemplate'] || this._calendarEventFormTemplate;\r\n  }\r\n\r\n  get editing(): boolean {\r\n    return this.calendarEvent.id !== 0;\r\n  }\r\n\r\n  set calendarEventTypes(value: CalendarEventType[]) {\r\n    this._calendarEventTypes = value;\r\n  }\r\n\r\n  get calendarEventTypes(): CalendarEventType[] {\r\n    return this.data && this.data['calendarEventTypes'] ? this.data['calendarEventTypes'] : this._calendarEventTypes;\r\n  }\r\n\r\n  get showTime(): boolean {\r\n    return !this.form.controls['allDay'].value;\r\n  }\r\n\r\n  get valueOut(): CalendarEvent {\r\n    return build(CalendarEvent, this.form.value, {\r\n      description: this.form.value.eventName,\r\n      eventName: this.form.value.eventTypeId ? build(LookupValue, this.calendarEventTypes.find(x => x.id === this.form.value.eventTypeId)).name : this.form.value.eventName,\r\n      calendarId: this.data.calendarId\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setValue(\r\n      build(CalendarEvent, this.calendarEvent, {\r\n        allDay: this.allDay\r\n      })\r\n    );\r\n  }\r\n\r\n  close(calendarEvent: CalendarEvent, action: string) {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close({ calendarEvent, action });\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    if (this.form.valid) {\r\n      this.close(this.valueOut, 'DELETE');\r\n    }\r\n  }\r\n\r\n  save() {\r\n    if (this.form.valid) {\r\n      this.close(this.valueOut, 'SAVE');\r\n    }\r\n  }\r\n}\r\n","<div class=\"calendar-form scrollable\">\r\n  <h1 *ngIf=\"!editing\">New Event</h1>\r\n  <h1 *ngIf=\"editing\">Edit Event</h1>\r\n  <!-- <mat-form-field *ngIf=\"data.editing != false && hideSelect === false\">\r\n    <mat-select\r\n      placeholder=\"Event to Edit\"\r\n      (selectionChange)=\"eventSelected($event)\"\r\n    >\r\n      <mat-option *ngFor=\"let event of eventsToday\" [value]=\"event\">\r\n        {{ event.eventName }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n  <button\r\n    mat-fab\r\n    color=\"warn\"\r\n    style=\"float: right;\"\r\n    (click)=\"deleteEvent(eventChosen)\"\r\n    *ngIf=\"\r\n      eventChosen.length > 0 && data.editing != false && noEvents === false\r\n    \"\r\n  >\r\n    <i class=\"material-icons\">delete </i>\r\n  </button>\r\n  <h1 *ngIf=\"noEvents === true\">No Events To Edit</h1> -->\r\n  <div *ngIf=\"calendarEventFormTemplate\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"\r\n        calendarEventFormTemplate;\r\n        context: {\r\n          calendarEvent: calendarEvent,\r\n          form: form,\r\n          save: save,\r\n          delete: delete,\r\n          dialogRef: dialogRef\r\n        }\r\n      \"\r\n    >\r\n    </ng-container>\r\n  </div>\r\n\r\n  <form [formGroup]=\"form\" *ngIf=\"!calendarEventFormTemplate\">\r\n    <mat-form-field class=\"event-name\">\r\n      <input type=\"text\" formControlName=\"name\" matInput placeholder=\"Event Name\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"event-type\" *ngIf=\"calendarEventTypes\">\r\n      <mat-select placeholder=\"Event Type\" formControlName=\"eventTypeId\">\r\n        <mat-option *ngFor=\"let lkp of calendarEventTypes\" [value]=\"lkp.id\"> {{ lkp.name }}</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-checkbox class=\"all-day\" formControlName=\"allDay\">All Day Event</mat-checkbox>\r\n\r\n    <iu-time-control *ngIf=\"showTime\" formControlName=\"startTime\" label=\"Start Time\"></iu-time-control>\r\n    <iu-time-control *ngIf=\"showTime\" formControlName=\"endTime\" label=\"End Time\"></iu-time-control>\r\n    <button *ngIf=\"editing\" mat-raised-button class=\"btn-delete\" (click)=\"delete()\">\r\n      Delete\r\n    </button>\r\n    <button mat-raised-button color=\"accent\" class=\"btn-save\" (click)=\"save()\">\r\n      Save\r\n    </button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport { CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { CalendarEventFormComponent } from '../calendar-event-form/calendar-event-form.component';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { CalendarComponent } from '../calendar.component';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-event',\r\n  templateUrl: './calendar-event.component.html',\r\n  styleUrls: ['./calendar-event.component.scss']\r\n})\r\nexport class CalendarEventComponent extends DumbComponent implements OnInit {\r\n  @Input() calendarEvent: CalendarEvent = new CalendarEvent();\r\n  @Input() calendarEventFormTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() plusMore = 0;\r\n  @Output() goToDay = new EventEmitter();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor(public dialog: MatDialog, @Inject(CalendarComponent) private calendarComponent: CalendarComponent) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeDialog(e: any) {\r\n    if (e) {\r\n      switch (e.action) {\r\n        case 'DELETE':\r\n          this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n          break;\r\n        case 'SAVE':\r\n          this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n          break;\r\n      }\r\n    }\r\n    super.closeDialog(e);\r\n  }\r\n\r\n  editEvent() {\r\n    if (!this.plusMore) {\r\n      this.openDialog(CalendarEventFormComponent, {\r\n        width: '600px',\r\n        data: {\r\n          allDayDefault: this.calendarComponent.allDayDefault,\r\n          calendarEvent: this.calendarEvent,\r\n          calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n          calendarEventTypes: this.calendarEventTypes\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!plusMore\" class=\"calendar-event\" (click)=\"editEvent()\">\r\n  <p class=\"calendar-event-name\" [style.background]=\"calendarEvent.color\">\r\n    {{ calendarEvent.name }}\r\n  </p>\r\n</div>\r\n\r\n<div *ngIf=\"plusMore\" class=\"calendar-event plus-more\" (click)=\"goToDay.emit()\">\r\n  <p class=\"calendar-event-name\">+ {{ plusMore }} events</p>\r\n</div>\r\n\r\n<!-- <span *ngIf=\"calendarEvent.allDay != true\">\r\n    {{ calendarEvent.startHour }}:<span *ngIf=\"calendarEvent.startMinute < 10\"\r\n      >0</span\r\n    >{{ calendarEvent.startMinute }} {{ calendarEvent.startTimePeriod }}\r\n    -\r\n    {{ calendarEvent.endHour }}:<span *ngIf=\"calendarEvent.endMinute < 10\"\r\n      >0</span\r\n    >{{ calendarEvent.endMinute }} {{ calendarEvent.endTimePeriod }}\r\n  </span>\r\n  <span *ngIf=\"calendarEvent.allDay != false\">All Day</span> -->\r\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport { CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { CalendarComponent } from '../calendar.component';\r\nimport { CalendarEventFormComponent } from '../calendar-event-form/calendar-event-form.component';\r\nimport { DumbComponent } from '../../../shared/component';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-event-view',\r\n  templateUrl: './calendar-event-view.component.html',\r\n  styleUrls: ['./calendar-event-view.component.scss']\r\n})\r\nexport class CalendarEventViewComponent extends DumbComponent implements OnInit {\r\n  @Input() calendarEvent: CalendarEvent = new CalendarEvent();\r\n  @Input() calendarEventFormTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() calendarEventViewTemplate: TemplateRef<any>;\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor(public dialog: MatDialog, @Inject(CalendarComponent) private calendarComponent: CalendarComponent) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeDialog(e: any) {\r\n    if (e) {\r\n      switch (e.action) {\r\n        case 'DELETE':\r\n          this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n          break;\r\n        case 'ADD':\r\n          this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n          break;\r\n      }\r\n    }\r\n    super.closeDialog(e);\r\n  }\r\n\r\n  editEvent() {\r\n    this.openDialog(CalendarEventFormComponent, {\r\n      width: '600px',\r\n      data: {\r\n        allDayDefault: this.calendarComponent.allDayDefault,\r\n        calendarEvent: this.calendarEvent,\r\n        calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n        calendarEventTypes: this.calendarEventTypes\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"event-view\" *ngIf=\"calendarEventViewTemplate\">\r\n  <ng-container\r\n    *ngTemplateOutlet=\"\r\n      calendarEventViewTemplate;\r\n      context: {\r\n        calendarEvent: calendarEvent\r\n      }\r\n    \"\r\n  >\r\n  </ng-container>\r\n</div>\r\n<div class=\"event-view\" *ngIf=\"!calendarEventViewTemplate\">\r\n  <div *ngIf=\"!calendarEvent.allDay\" class=\"timeframe\">\r\n    {{ calendarEvent.startTime | date: 'shortTime' }} -\r\n    {{ calendarEvent.endTime | date: 'shortTime' }}:\r\n  </div>\r\n  <div *ngIf=\"calendarEvent.allDay\" class=\"timeframe\">\r\n    ALL DAY\r\n  </div>\r\n  <div class=\"event-name\">{{ calendarEvent.name }}</div>\r\n  <mat-icon color=\"primary\" (click)=\"editEvent()\">edit</mat-icon>\r\n  <!-- <p class=\"event-description\">{{ calendarEvent.description }}</p> -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day-view',\r\n  templateUrl: './calendar-day-view.component.html',\r\n  styleUrls: ['./calendar-day-view.component.scss']\r\n})\r\nexport class CalendarDayViewComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  calendar-day-view works!\r\n</p>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { CalendarComponent } from './calendar.component';\r\nimport { CalendarDayComponent } from './calendar-day/calendar-day.component';\r\nimport { CalendarDayEditComponent } from './calendar-day-edit/calendar-day-edit.component';\r\nimport { CalendarDaysComponent } from './calendar-days/calendar-days.component';\r\nimport { CalendarEventComponent } from './calendar-event/calendar-event.component';\r\nimport { CalendarEventFormComponent } from './calendar-event-form/calendar-event-form.component';\r\nimport { CalendarFormComponent } from './calendar-form/calendar-form.component';\r\nimport { CalendarViewComponent } from './calendar-view/calendar-view.component';\r\nimport { FormsModule } from '../../forms/forms.module';\r\nimport { TimeModule } from '../time/time.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { CalendarEventViewComponent } from './calendar-event-view/calendar-event-view.component';\r\nimport { CalendarDayViewComponent } from './calendar-day-view/calendar-day-view.component';\r\nimport { CalendarKeyComponent } from './calendar-key/calendar-key.component';\r\nimport { AccordionModule } from '../accordion/accordion.module';\r\nimport { CalendarDayEventsComponent } from './calendar-day-events/calendar-day-events.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CalendarComponent,\r\n    CalendarDayComponent,\r\n    CalendarDaysComponent,\r\n    CalendarEventComponent,\r\n    CalendarViewComponent,\r\n    CalendarDayEditComponent,\r\n    CalendarFormComponent,\r\n    CalendarEventFormComponent,\r\n    CalendarEventViewComponent,\r\n    CalendarDayViewComponent,\r\n    CalendarKeyComponent,\r\n    CalendarDayEventsComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    TimeModule,\r\n    AccordionModule\r\n  ],\r\n  exports: [\r\n    CalendarComponent,\r\n    CalendarDayComponent,\r\n    CalendarDaysComponent,\r\n    CalendarEventComponent\r\n  ]\r\n})\r\nexport class CalendarModule { }\r\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { EditorEvent } from '../editor.model';\r\nimport { DialogAction, DialogModel } from '../../dialog/dialog.model';\r\nimport { build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-editor-window',\r\n  templateUrl: './editor-window.component.html',\r\n  styleUrls: ['./editor-window.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class EditorWindowComponent {\r\n  actionWidth = '100%';\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<EditorWindowComponent>) {}\r\n\r\n  get actions(): DialogAction[] {\r\n    return [build(DialogAction, { value: this.data, label: 'Save and Close' })];\r\n  }\r\n\r\n  get dialog(): DialogModel {\r\n    return build(DialogModel, {\r\n      title: this.title,\r\n      actions: this.actions\r\n    });\r\n  }\r\n\r\n  get title(): string {\r\n    return 'Editor';\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close(this.data);\r\n  }\r\n\r\n  update(e: EditorEvent) {\r\n    this.data = e.editor.getContent();\r\n  }\r\n}\r\n","<span id=\"editor-window\">\r\n  <mat-toolbar color=\"primary\" mat-dialog-title>\r\n    <span class=\"dialog-title\">\r\n      {{ title }}\r\n    </span>\r\n    <button mat-button [mat-dialog-close]=\"null\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content>\r\n    <div id=\"expanded-editor\">\r\n      <!-- <iu-editor [expanded]=\"true\" [initialValue]=\"data\" (onChange)=\"update($event)\"></iu-editor> -->\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button mat-raised-button (click)=\"close()\" [style.width]=\"actionWidth\" color=\"accent\">Save and Close</button>\r\n  </mat-dialog-actions>\r\n</span>\r\n","import { Output, EventEmitter, Directive } from '@angular/core';\r\n\r\nexport interface EventObj<T> {\r\n  event: T;\r\n  editor: any;\r\n}\r\n\r\n@Directive()\r\nexport class Events {\r\n  @Output() public onBeforePaste: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onBlur: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onClick: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onContextMenu: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onCopy: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onCut: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onDblclick: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onDrag: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragDrop: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragEnd: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragGesture: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragOver: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDrop: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onFocus: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onFocusIn: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onFocusOut: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onKeyDown: EventEmitter<EventObj<KeyboardEvent>> = new EventEmitter();\r\n  @Output() public onKeyPress: EventEmitter<EventObj<KeyboardEvent>> = new EventEmitter();\r\n  @Output() public onKeyUp: EventEmitter<EventObj<KeyboardEvent>> = new EventEmitter();\r\n  @Output() public onMouseDown: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseEnter: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseLeave: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseMove: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseOut: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseOver: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseUp: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onPaste: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onSelectionChange: EventEmitter<EventObj<Event>> = new EventEmitter();\r\n  @Output() public onActivate: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onAddUndo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeAddUndo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeExecCommand: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeGetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeRenderUI: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeSetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onChange: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onClearUndos: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onDeactivate: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onDirty: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onExecCommand: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onGetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onHide: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onInit: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onLoadContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onNodeChange: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPostProcess: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPostRender: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPreInit: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPreProcess: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onProgressState: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onRedo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onRemove: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onReset: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSaveContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSetAttrib: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onObjectResizeStart: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onObjectResized: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onObjectSelected: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onShow: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSubmit: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onUndo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onVisualAid: EventEmitter<EventObj<any>> = new EventEmitter();\r\n}\r\n\r\nexport const validEvents: (keyof Events)[] = [\r\n  'onActivate',\r\n  'onAddUndo',\r\n  'onBeforeAddUndo',\r\n  'onBeforeExecCommand',\r\n  'onBeforeGetContent',\r\n  'onBeforeRenderUI',\r\n  'onBeforeSetContent',\r\n  'onBeforePaste',\r\n  'onBlur',\r\n  'onChange',\r\n  'onClearUndos',\r\n  'onClick',\r\n  'onContextMenu',\r\n  'onCopy',\r\n  'onCut',\r\n  'onDblclick',\r\n  'onDeactivate',\r\n  'onDirty',\r\n  'onDrag',\r\n  'onDragDrop',\r\n  'onDragEnd',\r\n  'onDragGesture',\r\n  'onDragOver',\r\n  'onDrop',\r\n  'onExecCommand',\r\n  'onFocus',\r\n  'onFocusIn',\r\n  'onFocusOut',\r\n  'onGetContent',\r\n  'onHide',\r\n  'onInit',\r\n  'onKeyDown',\r\n  'onKeyPress',\r\n  'onKeyUp',\r\n  'onLoadContent',\r\n  'onMouseDown',\r\n  'onMouseEnter',\r\n  'onMouseLeave',\r\n  'onMouseMove',\r\n  'onMouseOut',\r\n  'onMouseOver',\r\n  'onMouseUp',\r\n  'onNodeChange',\r\n  'onObjectResizeStart',\r\n  'onObjectResized',\r\n  'onObjectSelected',\r\n  'onPaste',\r\n  'onPostProcess',\r\n  'onPostRender',\r\n  'onPreProcess',\r\n  'onProgressState',\r\n  'onRedo',\r\n  'onRemove',\r\n  'onReset',\r\n  'onSaveContent',\r\n  'onSelectionChange',\r\n  'onSetAttrib',\r\n  'onSetContent',\r\n  'onShow',\r\n  'onSubmit',\r\n  'onUndo',\r\n  'onVisualAid'\r\n];\r\n","import { EventEmitter } from '@angular/core';\r\n\r\nimport { EditorComponent } from './editor.component';\r\nimport { validEvents } from './Events';\r\n\r\nconst bindHandlers = (ctx: EditorComponent, editor: any, initEvent: Event): void => {\r\n  validEvents.forEach(eventName => {\r\n    const eventEmitter: EventEmitter<any> = ctx[eventName];\r\n    if (eventName === 'onInit') {\r\n      ctx.ngZone.run(() => eventEmitter.emit({ event: initEvent, editor }));\r\n    } else {\r\n      editor.on(eventName.substring(2), (event: any) => ctx.ngZone.run(() => eventEmitter.emit({ event, editor })));\r\n    }\r\n  });\r\n};\r\n\r\nlet unique = 0;\r\n\r\nconst uuid = (prefix: string): string => {\r\n  const date = new Date();\r\n  const time = date.getTime();\r\n  const random = Math.floor(Math.random() * 1000000000);\r\n\r\n  unique++;\r\n\r\n  return prefix + '_' + random + unique + String(time);\r\n};\r\n\r\nconst isTextarea = (element?: Element): element is HTMLTextAreaElement => {\r\n  return typeof element !== 'undefined' && element.tagName.toLowerCase() === 'textarea';\r\n};\r\n\r\nconst normalizePluginArray = (plugins?: string | string[]): string[] => {\r\n  if (typeof plugins === 'undefined' || plugins === '') {\r\n    return [];\r\n  }\r\n\r\n  return Array.isArray(plugins) ? plugins : plugins.split(' ');\r\n};\r\n\r\nconst mergePlugins = (initPlugins: string | string[], inputPlugins?: string | string[]) => normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\r\n\r\n// tslint:disable-next-line:no-empty\r\nconst noop: (...args: any[]) => void = () => {};\r\n\r\nexport { bindHandlers, uuid, isTextarea, normalizePluginArray, mergePlugins, noop };\r\n","import { uuid } from './utils';\r\n\r\nexport type callbackFn = () => void;\r\nexport interface IStateObj {\r\n  listeners: callbackFn[];\r\n  scriptId: string;\r\n  scriptLoaded: boolean;\r\n}\r\n\r\nconst injectScriptTag = (scriptId: string, doc: Document, url: string, callback: callbackFn) => {\r\n  const scriptTag = doc.createElement('script');\r\n  scriptTag.referrerPolicy = 'origin';\r\n  scriptTag.type = 'application/javascript';\r\n  scriptTag.id = scriptId;\r\n  scriptTag.addEventListener('load', callback);\r\n  scriptTag.src = url;\r\n  if (doc.head) {\r\n    doc.head.appendChild(scriptTag);\r\n  }\r\n};\r\n\r\nconst create = (): IStateObj => {\r\n  return {\r\n    listeners: [],\r\n    scriptId: uuid('tiny-script'),\r\n    scriptLoaded: false\r\n  };\r\n};\r\n\r\nconst load = (state: IStateObj, doc: Document, url: string, callback: callbackFn) => {\r\n  if (state.scriptLoaded) {\r\n    callback();\r\n  } else {\r\n    state.listeners.push(callback);\r\n    if (!doc.getElementById(state.scriptId)) {\r\n      injectScriptTag(state.scriptId, doc, url, () => {\r\n        state.listeners.forEach(fn => fn());\r\n        state.scriptLoaded = true;\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport { create, load };\r\n","const getTinymce = () => {\r\n  const w = typeof window !== 'undefined' ? (window as any) : undefined;\r\n  return w && w.tinymce ? w.tinymce : null;\r\n};\r\n\r\nexport { getTinymce };\r\n","export interface Editor {\r\n  getContent: () => string;\r\n}\r\n\r\nexport interface EditorEvent {\r\n  editor: Editor;\r\n  event: any;\r\n}\r\n\r\nexport const BASIC_PLUGINS = [\r\n  'advlist autolink lists link image charmap print preview anchor',\r\n  'searchreplace visualblocks code fullscreen',\r\n  'insertdatetime media table paste code'\r\n];\r\nexport const BASIC_TOOLBAR = `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link`;\r\nexport const FULL_PLUGINS = [\r\n  'advlist autolink lists link image charmap print preview hr anchor pagebreak',\r\n  'searchreplace wordcount visualblocks visualchars code fullscreen',\r\n  'insertdatetime media nonbreaking save table directionality',\r\n  'template paste textcolor colorpicker textpattern imagetools toc help'\r\n];\r\nexport const FULL_TOOLBAR = [\r\n  `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent`,\r\n  'print preview | forecolor backcolor | link'\r\n];\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Input,\r\n  OnDestroy,\r\n  AfterViewInit,\r\n  forwardRef,\r\n  ChangeDetectorRef,\r\n  ElementRef,\r\n  NgZone,\r\n  PLATFORM_ID,\r\n  Inject,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { EditorWindowComponent } from './editor-window/editor-window.component';\r\nimport { Events } from './Events';\r\nimport * as ScriptLoader from './ScriptLoader';\r\nimport { getTinymce } from './TinyMCE';\r\nimport { bindHandlers, isTextarea, mergePlugins, uuid, noop } from './utils';\r\nimport { BASIC_PLUGINS, BASIC_TOOLBAR, FULL_PLUGINS, FULL_TOOLBAR } from './editor.model';\r\n\r\nconst scriptState = ScriptLoader.create();\r\n\r\nexport const EDITOR_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => EditorComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [EDITOR_ACCESSOR]\r\n})\r\nexport class EditorComponent extends Events implements AfterViewInit, ControlValueAccessor, OnDestroy {\r\n  @Input()\r\n  set disabled(val) {\r\n    this._disabled = val;\r\n    if (this._editor && this._editor.initialized) {\r\n      this._editor.setMode(val ? 'readonly' : 'design');\r\n    }\r\n  }\r\n\r\n  get disabled() {\r\n    return this._disabled;\r\n  }\r\n\r\n  get editor() {\r\n    return this._editor;\r\n  }\r\n\r\n  @Input()\r\n  set plugins(value: string | string[] | undefined) {\r\n    this._plugins = value;\r\n  }\r\n\r\n  get plugins(): string | string[] | undefined {\r\n    if (this._plugins) {\r\n      return this._plugins;\r\n    }\r\n    switch (this.type) {\r\n      case 'BASIC':\r\n        return BASIC_PLUGINS;\r\n      case 'FULL':\r\n        return FULL_PLUGINS;\r\n      default:\r\n        return 'lists advlist';\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set toolbar(value: string | string[] | null) {\r\n    this._toolbar = value;\r\n  }\r\n\r\n  get toolbar(): string | string[] | null {\r\n    if (this._toolbar) {\r\n      return this._toolbar;\r\n    }\r\n    switch (this.type) {\r\n      case 'BASIC':\r\n        return BASIC_TOOLBAR;\r\n      case 'FULL':\r\n        return FULL_TOOLBAR;\r\n      default:\r\n        return 'undo redo | bold italic | bullist numlist outdent indent';\r\n    }\r\n  }\r\n\r\n  public ngZone: NgZone;\r\n\r\n  @Input() debug = false;\r\n  @Input() public cloudChannel = '5';\r\n  @Input() public apiKey = 'no-api-key';\r\n  @Input() public init: Record<string, any> | undefined;\r\n  @Input() public id = '';\r\n  @Input() public initialValue: string | undefined;\r\n  @Input() public inline: boolean | undefined;\r\n  @Input() public tagName: string | undefined;\r\n  @Input() expanded = false;\r\n  @Input() height: number;\r\n  @Input() type: 'BASIC' | 'FULL' = null;\r\n  @Output() loaded = new EventEmitter<any>();\r\n\r\n  baseUrl = '/tinymce'; // Root for resources\r\n  suffix = '.min'; // Suffix to use when loading resources\r\n  dialogRef: Subscription;\r\n\r\n  private _elementRef: ElementRef;\r\n  private _element: Element | undefined = undefined;\r\n  private _disabled: boolean | undefined;\r\n  private _editor: any;\r\n  _plugins: string | string[] | undefined;\r\n  _toolbar: string | string[] | null;\r\n\r\n  private onTouchedCallback = noop;\r\n  private onChangeCallback = noop;\r\n\r\n  constructor(elementRef: ElementRef, ngZone: NgZone, @Inject(PLATFORM_ID) private platformId: Object, public dialog: MatDialog, private ref: ChangeDetectorRef) {\r\n    super();\r\n    this._elementRef = elementRef;\r\n    this.ngZone = ngZone;\r\n    this.initialise = this.initialise.bind(this);\r\n  }\r\n\r\n  get basic(): boolean {\r\n    return this.type === 'BASIC';\r\n  }\r\n\r\n  get full(): boolean {\r\n    return this.type === 'FULL';\r\n  }\r\n\r\n  get showExpand() {\r\n    return !this.expanded;\r\n  }\r\n\r\n  expand(e: any) {\r\n    if (e && e.preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n    const config = {\r\n      data: this._editor.getContent(),\r\n      width: '1200px',\r\n      id: this.id ? `${this.id}-dialog` : null\r\n    };\r\n    this.openDialog(config);\r\n  }\r\n\r\n  openDialog(config: any) {\r\n    const dialogRef = this.dialog.open(EditorWindowComponent, config);\r\n    this.dialogRef = dialogRef.afterClosed().subscribe(result => {\r\n      this.closeDialog(result);\r\n    });\r\n  }\r\n\r\n  closeDialog(value: string) {\r\n    if (value) {\r\n      this.changeValue(value);\r\n    }\r\n    this.dialogRef.unsubscribe();\r\n  }\r\n\r\n  changeValue(value: string) {\r\n    this.writeValue(value);\r\n    this.onChangeCallback(value);\r\n  }\r\n\r\n  public writeValue(value: string | null): void {\r\n    this.initialValue = value || this.initialValue;\r\n    value = value || '';\r\n\r\n    if (this._editor && this._editor.initialized && typeof value === 'string') {\r\n      this._editor.setContent(value);\r\n    }\r\n  }\r\n\r\n  public registerOnChange(fn: (_: any) => void): void {\r\n    this.onChangeCallback = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: any): void {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n\r\n  public setDisabledState(isDisabled: boolean) {\r\n    if (this._editor) {\r\n      this._editor.setMode(isDisabled ? 'readonly' : 'design');\r\n    } else if (isDisabled) {\r\n      this.init = { ...this.init, readonly: true };\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit() {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.id = this.id || uuid('tiny-angular');\r\n      this.inline = typeof this.inline !== 'undefined' ? (typeof this.inline === 'boolean' ? this.inline : true) : this.init && this.init.inline;\r\n      this.createElement();\r\n      if (getTinymce() !== null) {\r\n        this.initialise();\r\n      } else if (this._element && this._element.ownerDocument) {\r\n        const doc = this._element.ownerDocument;\r\n        const channel = this.cloudChannel;\r\n        const apiKey = this.apiKey;\r\n\r\n        ScriptLoader.load(scriptState, doc, `https://cdn.tiny.cloud/1/${apiKey}/tinymce/${channel}/tinymce.min.js`, this.initialise);\r\n      }\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (getTinymce() !== null) {\r\n      getTinymce().remove(this._editor);\r\n    }\r\n  }\r\n\r\n  public createElement() {\r\n    const tagName = typeof this.tagName === 'string' ? this.tagName : 'div';\r\n    this._element = document.createElement(this.inline ? tagName : 'textarea');\r\n    if (this._element) {\r\n      this._element.id = this.id;\r\n      if (isTextarea(this._element)) {\r\n        this._element.style.visibility = 'hidden';\r\n      }\r\n      this._elementRef.nativeElement.appendChild(this._element);\r\n    }\r\n  }\r\n\r\n  public initialise() {\r\n    const finalInit = Object.assign({}, {\r\n      base_url: this.baseUrl,\r\n      suffix: this.suffix,\r\n      target: this._element,\r\n      inline: this.inline,\r\n      readonly: this.disabled,\r\n      plugins: this.plugins,\r\n      toolbar: this.toolbar,\r\n      height: this.height,\r\n      branding: false, // Note: The “Powered by Tiny” product attribution is required for users on the Tiny Cloud Starter plan. Product attribution is optional for premium users.\r\n      default_link_target: \"_blank\",\r\n      contextmenu: false,\r\n      setup: (editor: any) => {\r\n        this._editor = editor;\r\n        editor.on('init', (e: Event) => {\r\n          this.initEditor(e, editor);\r\n        });\r\n\r\n        if (this.init && typeof this.init.setup === 'function') {\r\n          this.init.setup(editor);\r\n        }\r\n      }\r\n    }, this.init);\r\n\r\n    if (isTextarea(this._element)) {\r\n      this._element.style.visibility = '';\r\n    }\r\n    if (this.debug) {\r\n      console.dir(this.init);\r\n      console.dir(finalInit);\r\n    }\r\n    this.ngZone.runOutsideAngular(() => {\r\n      getTinymce().init(finalInit);\r\n    });\r\n    this.loaded.emit(finalInit);\r\n  }\r\n\r\n  private initEditor(initEvent: Event, editor: any) {\r\n    if (typeof this.initialValue === 'string') {\r\n      this.ngZone.run(() => editor.setContent(this.initialValue));\r\n    }\r\n    editor.on('blur', () => this.ngZone.run(() => this.onTouchedCallback()));\r\n    editor.on('change keyup undo redo', () => this.ngZone.run(() => this.onChangeCallback(editor.getContent())));\r\n    bindHandlers(this, editor, initEvent);\r\n  }\r\n}\r\n","<!-- <div class=\"editor\">\r\n  <textarea [id]=\"elementId\">\r\n    <ng-content *ngIf=\"!hasValue\"></ng-content>\r\n    <span *ngIf=\"hasValue\">{{ value }}</span>\r\n  </textarea>\r\n  <button *ngIf=\"showExpand\" id=\"expand-editor\" (click)=\"expand($event)\" mat-button>\r\n    <mat-icon>fullscreen</mat-icon>\r\n  </button>\r\n</div> -->\r\n\r\n<div class=\"editor\">\r\n  <ng-template></ng-template>\r\n  <button *ngIf=\"showExpand\" id=\"expand-editor\" (click)=\"expand($event)\" mat-button>\r\n    <mat-icon>fullscreen</mat-icon>\r\n  </button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { EditorComponent } from './editor.component';\r\nimport { EditorWindowComponent } from './editor-window/editor-window.component';\r\nimport { DialogModule } from '../dialog/dialog.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    FormsModule,\r\n    DialogModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatDialogModule,\r\n    MatIconModule,\r\n    MatToolbarModule,\r\n  ],\r\n  declarations: [\r\n    EditorComponent,\r\n    EditorWindowComponent,\r\n  ],\r\n  exports: [\r\n    EditorComponent,\r\n    EditorWindowComponent,\r\n  ],\r\n})\r\nexport class EditorModule { }\r\n","import { phoneNumberValidator } from '../../forms/validators';\r\nimport { Metadata } from '../../shared/models';\r\nimport { build } from '../../shared/utils';\r\n\r\nexport class PhoneNumber {\r\n  _full = '';\r\n  _countryCode = '';\r\n  _areaCode = '';\r\n  _prefix = '';\r\n  _lineNumber = '';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['_full', '_countryCode', '_areaCode', '_prefix', '_lineNumber'],\r\n      validators: [phoneNumberValidator]\r\n    });\r\n  }\r\n\r\n  get full(): string {\r\n    return `${this.areaCode}${this.prefix}${this.lineNumber}`;\r\n  }\r\n\r\n  set full(value: string) {\r\n    this._full = value;\r\n    const strValue = value.toString();\r\n    const end = strValue.length;\r\n    this.areaCode = end > 0 ? strValue.substring(0, Math.min(3, end)) : '';\r\n    this.prefix = end > 3 ? strValue.substring(3, Math.min(6, end)) : '';\r\n    this.lineNumber = end > 6 ? strValue.substring(6, Math.min(10, end)) : '';\r\n  }\r\n\r\n  get countryCode(): string {\r\n    return this._countryCode;\r\n  }\r\n\r\n  set countryCode(value: string) {\r\n    this._countryCode = value;\r\n  }\r\n\r\n  get areaCode(): string {\r\n    // return this._full ? this._areaCode || this._full.substring(0, 3) : '';\r\n    return this._areaCode;\r\n  }\r\n\r\n  set areaCode(value: string) {\r\n    this._areaCode = value;\r\n  }\r\n\r\n  get prefix(): string {\r\n    // return this._full ? this._prefix || this._full.substring(3, 6) : '';\r\n    return this._prefix;\r\n  }\r\n\r\n  set prefix(value: string) {\r\n    this._prefix = value;\r\n  }\r\n\r\n  get lineNumber(): string {\r\n    // return this._full ? this._lineNumber || this._full.substring(6, 10) : '';\r\n    return this._lineNumber;\r\n  }\r\n\r\n  set lineNumber(value: string) {\r\n    this._lineNumber = value;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, forwardRef, ChangeDetectionStrategy, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormGroup, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { PhoneNumber } from './phone-number.model';\r\nimport { buildControlFromModel } from '../../forms/utils';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { build, getValue } from '../../shared/utils';\r\n\r\nexport const PHONE_NUMBER_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => PhoneNumberComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-phone-number',\r\n  templateUrl: './phone-number.component.html',\r\n  styleUrls: ['./phone-number.component.scss'],\r\n  providers: [PHONE_NUMBER_ACCESSOR],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PhoneNumberComponent extends DumbComponent implements OnInit, ControlValueAccessor {\r\n  @Input() placeholder = '';\r\n  @Input() showPrefix = false;\r\n  @Input() multi = false;\r\n  @ViewChild('areaCodeEl') areaCodeEl: ElementRef;\r\n  @ViewChild('prefixEl') prefixEl: ElementRef;\r\n  @ViewChild('lineNumberEl') lineNumberEl: ElementRef;\r\n  fg: FormGroup;\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  _value = '';\r\n  _phoneNumber: PhoneNumber = new PhoneNumber();\r\n\r\n  constructor() {\r\n    super();\r\n    this.fg = buildControlFromModel(new PhoneNumber());\r\n  }\r\n\r\n  set value(value: string) {\r\n    if (this.phoneNumber.full !== value) {\r\n      this._value = value;\r\n      this.phoneNumber = build(PhoneNumber, {\r\n        full: value\r\n      });\r\n    }\r\n  }\r\n\r\n  get value(): string {\r\n    return this._value;\r\n  }\r\n\r\n  set phoneNumber(value: PhoneNumber) {\r\n    this._phoneNumber = value;\r\n    this.fg.setValue(getValue(this.phoneNumber));\r\n  }\r\n\r\n  get phoneNumber(): PhoneNumber {\r\n    return this._phoneNumber;\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: string) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: string) {\r\n    this.value = value;\r\n    if (typeof (this.onModelChange) === 'function') {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n      if (typeof (this.onModelChange) === 'function') {\r\n        this.onModelChange(build(PhoneNumber, x).full);\r\n      }\r\n    }));\r\n  }\r\n\r\n  onChangeAreaCode(e: string) {\r\n    if (e.length === 3) {\r\n      this.prefixEl.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  onChangePrefix(e: string) {\r\n    if (e.length === 3) {\r\n      this.lineNumberEl.nativeElement.focus();\r\n    }\r\n  }\r\n}\r\n","<form class=\"phone-number\" [formGroup]=\"fg\">\r\n    <h3>Phone Number</h3>\r\n    <mat-form-field appearance=\"fill\" *ngIf=\"!multi\">\r\n        <span matPrefix *ngIf=\"showPrefix\">+1 &nbsp;</span>\r\n        <input type=\"tel\" matInput [placeholder]=\"placeholder\" formControlName=\"full\">\r\n        <mat-error *ngIf=\"fg.hasError('phoneNumber')\">\r\n            Please enter a valid phone number\r\n        </mat-error>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"multi\" *ngIf=\"multi\" appearance=\"fill\">\r\n        <span matPrefix>+1 &nbsp;</span>\r\n        <input matInput [placeholder]=\"placeholder\" formControlName=\"areaCode\"\r\n            (keyup)=\"onChangeAreaCode(areaCodeEl.value)\" #areaCodeEl>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"multi\" *ngIf=\"multi\" appearance=\"fill\">\r\n        <input matInput [placeholder]=\"placeholder\" formControlName=\"prefix\" (keyup)=\"onChangePrefix(prefixEl.value)\"\r\n            #prefixEl>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"multi\" *ngIf=\"multi\" appearance=\"fill\">\r\n        <input matInput [placeholder]=\"placeholder\" formControlName=\"lineNumber\" #lineNumberEl>\r\n    </mat-form-field>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\nimport { PhoneNumberComponent } from './phone-number.component';\r\n\r\n@NgModule({\r\n  declarations: [PhoneNumberComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [PhoneNumberComponent]\r\n})\r\nexport class PhoneNumberModule { }\r\n","import { NgModule, Type, ModuleWithProviders } from '@angular/core';\r\nimport { EffectsModule as NgrxEffectsModule } from '@ngrx/effects';\r\n\r\n@NgModule({\r\n  imports: [\r\n    NgrxEffectsModule\r\n  ],\r\n  declarations: []\r\n})\r\nexport class EffectsModule {\r\n\r\n  static forFeature(featureEffects: Type<any>[]): ModuleWithProviders<NgrxEffectsModule> {\r\n    return NgrxEffectsModule.forFeature(featureEffects);\r\n  }\r\n\r\n  static forRoot(rootEffects: Type<any>[]): ModuleWithProviders<NgrxEffectsModule> {\r\n    return NgrxEffectsModule.forRoot(rootEffects);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ErrorsService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Effect, Actions } from '@ngrx/effects';\r\nimport { Action } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { ErrorActions } from './errors.actions';\r\nimport { ErrorsService } from './errors.service';\r\n\r\n\r\n@Injectable()\r\nexport class ErrorEffects {\r\n    actionTypes: string[];\r\n\r\n    /**\r\n     * Listens for thrown errors and handles them accordingly\r\n     */\r\n    @Effect() handleError$: Observable<Action> = this.actions$.pipe(\r\n        filter((action: Action) => action.type === ErrorActions.THROW_ERROR),\r\n        map((data) => {\r\n            return <Action>{ type: ErrorActions.HANDLE_ERROR };\r\n        })\r\n    );\r\n\r\n    constructor(\r\n        private actions$: Actions,\r\n        private service: ErrorsService\r\n    ) { }\r\n}\r\n","import { Injectable, ErrorHandler } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GlobalErrorsService implements ErrorHandler {\r\n\r\n  constructor() { }\r\n\r\n  handleError(error) {\r\n    alert(error);\r\n    // IMPORTANT: Rethrow the error otherwise it gets swallowed\r\n    throw error;\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, ErrorHandler } from '@angular/core';\r\n\r\nimport { ErrorEffects } from './errors.effects';\r\nimport { ErrorsService } from './errors.service';\r\nimport { GlobalErrorsService } from './global-errors.service';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: []\r\n})\r\nexport class ErrorsModule {\r\n  static forRoot(): ModuleWithProviders<ErrorsModule> {\r\n    return {\r\n      ngModule: ErrorsModule,\r\n      providers: [\r\n        ErrorsService,\r\n        ErrorEffects,\r\n        {\r\n          provide: ErrorHandler,\r\n          useClass: GlobalErrorsService\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","export class Error {\r\n    message?: string = '';\r\n    data?: any;\r\n    statusCode?: number = 0;\r\n}\r\n\r\nexport interface ErrorOutlet {\r\n    key: string;\r\n    handler?: (e: Error) => Error;\r\n}\r\n\r\nexport interface ErrorPayload {\r\n    key: string;\r\n    error: Error;\r\n}\r\n","import { ErrorActions } from './errors.actions';\r\nimport { Collection } from '../shared/collection';\r\nimport { Dictionary } from '../shared/models';\r\nimport { Action } from '../store/models';\r\n\r\n\r\nexport function errorsReducer(state: Dictionary<Error> = {}, action: Action): Dictionary<Error> {\r\n    switch (action.type) {\r\n\r\n        case ErrorActions.ADD:\r\n            let newState = Collection.AddItem(state, 'lastError', action.payload.error);\r\n            if (action.payload.key === 'lastError') {\r\n                return newState;\r\n            }\r\n            return Collection.AddItem(state, action.payload.key, action.payload.error);\r\n\r\n        case ErrorActions.REMOVE:\r\n            return Collection.RemoveItem(state, action.payload);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { Error } from './errors.models';\r\nimport { Dictionary } from '../shared/models';\r\n\r\nexport function errorsSelector(store: Store<any>): Observable<Dictionary<Error>> {\r\n    return store.select(s => s['errors']);\r\n}\r\n\r\nexport function errorSelector(store: Store<any>, key: string): Observable<Error> {\r\n    return errorsSelector(store).pipe(map(errors => errors[key]));\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map, filter } from 'rxjs/operators';\r\n\r\nimport {\r\n  Events,\r\n  Event,\r\n  Messages,\r\n  MessageSubscription,\r\n  Message\r\n} from './events.models';\r\nimport { Dictionary } from '../shared/models';\r\nimport { truthy, build } from '../shared/utils';\r\n\r\nexport function eventsSelector(\r\n  store: Store<any>\r\n): Observable<Dictionary<Event>> {\r\n  return store\r\n    .select(s => s['events'])\r\n    .pipe(map((events: Events) => events.items));\r\n}\r\n\r\nexport function eventSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<Event> {\r\n  return eventsSelector(store).pipe(map(events => events[key]));\r\n}\r\n\r\nexport function eventValueSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<any> {\r\n  return eventSelector(store, key).pipe(map(e => (e ? e.value : null)));\r\n}\r\n\r\nexport function messagesSelector(store: Store<any>): Observable<Messages> {\r\n  return store.select('messages');\r\n}\r\n\r\nexport function messageSubscriptionsSelector(\r\n  store: Store<any>\r\n): Observable<MessageSubscription[]> {\r\n  return messagesSelector(store).pipe(map(x => x.subscriptions));\r\n}\r\n\r\nexport function messageSelector(\r\n  store: Store<any>,\r\n  channel: string\r\n): Observable<string> {\r\n  return messagesSelector(store).pipe(\r\n    map(x => build(Message, x.get(channel)).message),\r\n    filter(x => truthy(x))\r\n  );\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { EventActions, MessagesActions } from './events.actions';\r\nimport { Events, MessageSubscription } from './events.models';\r\nimport { messageSubscriptionsSelector } from './events.selectors';\r\nimport { Action } from '../store/models';\r\nimport { build } from '../shared/utils';\r\n\r\n@Injectable()\r\nexport class EventEffects {\r\n  events: Events = new Events();\r\n\r\n  /**\r\n   * Trigger event if action is a registered trigger.\r\n   */\r\n  @Effect() onTriggerEvent: Observable<Action> = this.actions$.pipe(\r\n    filter(action => this.events.actions.indexOf(action.type) !== -1),\r\n    map(this.trigger)\r\n  );\r\n\r\n  constructor(private actions$: Actions, private store: Store<any>) {\r\n    this.store\r\n      .select(s => s['events'])\r\n      .subscribe(events => {\r\n        this.events = events;\r\n      });\r\n  }\r\n\r\n  trigger(action: Action): Action {\r\n    return EventActions.triggerEvent(action);\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport class MessagesEffects {\r\n  messageSubscriptions: MessageSubscription[] = [];\r\n\r\n  /**\r\n   * Broadcast message if action has a registered subscription.\r\n   */\r\n  @Effect() onTriggerEvent: Observable<Action> = this.actions$.pipe(\r\n    filter(\r\n      action =>\r\n        this.messageSubscriptions.findIndex(x => x.action === action.type) !==\r\n        -1\r\n    ),\r\n    map(x => this.broadcast(x, this.messageSubscriptions))\r\n  );\r\n\r\n  /**\r\n   * Clear messages after they have been emitted.\r\n   */\r\n  @Effect() onMessageAdded: Observable<Action> = this.actions$.pipe(\r\n    ofType(MessagesActions.ADD),\r\n    map((action: Action) => this.clearMessages(action))\r\n  );\r\n\r\n  constructor(private actions$: Actions, private store: Store<any>) {\r\n    messageSubscriptionsSelector(store).subscribe(x => {\r\n      if (x && Array.isArray(x)) {\r\n        this.messageSubscriptions = x;\r\n      }\r\n    });\r\n  }\r\n\r\n  broadcast(\r\n    action: Action,\r\n    messageSubscriptions: MessageSubscription[]\r\n  ): Action {\r\n    const subscription = build(\r\n      MessageSubscription,\r\n      messageSubscriptions.find(x => x.action === action.type)\r\n    );\r\n    return MessagesActions.add(subscription, action);\r\n  }\r\n\r\n  clearMessages(action: Action): Action {\r\n    return {\r\n      type: MessagesActions.CLEAR,\r\n      payload: action.payload\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription, of } from 'rxjs';\r\nimport { combineLatest, skip, take } from 'rxjs/operators';\r\n\r\nimport { EventActions } from './events.actions';\r\nimport { eventValueSelector } from './events.selectors';\r\nimport { HttpAction } from '../http/http.models';\r\nimport { Action } from '../store/models';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EventsService {\r\n\r\n  eventIndex = 0;\r\n  events: Event[] = [];\r\n\r\n  constructor(public store: Store<any>) {\r\n  }\r\n\r\n  get eventKey(): string {\r\n    this.eventIndex++;\r\n    return `event-${this.eventIndex}`;\r\n  }\r\n\r\n  addEvent(actionType: string, handler?: (action: Action) => any): string {\r\n    const f = handler ? handler : (action: Action) => true;\r\n    const actionWithKey = EventActions.addEvent(actionType, f, false);\r\n    this.store.dispatch(actionWithKey);\r\n    return actionWithKey.key;\r\n  }\r\n\r\n  dispatch(action: HttpAction, handler?: (action: Action) => any): Observable<any> {\r\n    return this.dispatchHttpAction(action, handler);\r\n  }\r\n\r\n  dispatchHttpAction(action: HttpAction, handler?: (action: Action) => any): Observable<any> {\r\n    const successAction = action.payload.onSuccess;\r\n    const errorAction = typeof (action.payload.onError) === 'string' ? action.payload.onError : null;\r\n    const success = this.takeOne(successAction, handler);\r\n    const obs = errorAction ? success.pipe(\r\n      combineLatest(this.takeOne(errorAction, handler), (x, y) => true)\r\n    ) : success;\r\n    this.store.dispatch(action);\r\n    return obs;\r\n  }\r\n\r\n  removeEvent(eventKey: string) {\r\n    this.store.dispatch(EventActions.removeEvent(eventKey));\r\n  }\r\n\r\n  subscribe(action: string, handler: (e: any) => void): Subscription {\r\n    return this.take(1, action).subscribe(handler);\r\n  }\r\n\r\n  take(n = 1, actionType: string, handler?: (action: Action) => any): Observable<any> {\r\n    const key = this.addEvent(actionType, handler);\r\n    return eventValueSelector(this.store, key).pipe(\r\n      skip(1),\r\n      take(n)\r\n    );\r\n  }\r\n\r\n  takeFrom(n = 1, actions: string[], handler?: (action: Action) => any): Observable<any> {\r\n    const keys = actions.map(action => this.addEvent(action, handler));\r\n    return keys.map(key => eventValueSelector(this.store, key))\r\n      .reduce((acc, obs) => {\r\n        return acc.pipe(\r\n          combineLatest(obs, (x, y) => true)\r\n        );\r\n      }, of(false)).pipe(\r\n        skip(1),\r\n        take(n)\r\n      );\r\n  }\r\n\r\n  takeOne(actionType: string, handler?: (action: Action) => any): Observable<any> {\r\n    return this.take(1, actionType, handler);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { EventEffects } from './events.effects';\r\nimport { EventsService } from './events.service';\r\n\r\n@NgModule({\r\n  providers: [\r\n    EventEffects,\r\n    EventsService,\r\n  ],\r\n  exports: []\r\n})\r\nexport class EventsModule { }\r\n","import { EventActions, MessagesActions } from './events.actions';\r\nimport { Events, Messages } from './events.models';\r\nimport { Action } from '../store/models';\r\n\r\nexport function eventsReducer(\r\n  state: Events = new Events(),\r\n  action: Action\r\n): Events {\r\n  switch (action.type) {\r\n    case EventActions.ADD_EVENT:\r\n      return state.addEvent(action.payload);\r\n\r\n    case EventActions.REMOVE_EVENT:\r\n      return state.removeEvent(action.payload);\r\n\r\n    case EventActions.TRIGGER_EVENT:\r\n      return state.triggerEvent(action.payload);\r\n\r\n    case EventActions.UPDATE_VALUE:\r\n      return state.updateValue(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function messagesReducer(\r\n  state: Messages = new Messages(),\r\n  action: Action\r\n): Messages {\r\n  switch (action.type) {\r\n    case MessagesActions.ADD:\r\n      return state.addMessages(action.payload);\r\n\r\n    case MessagesActions.CLEAR:\r\n      return state.clearMessages(action.payload);\r\n\r\n    case MessagesActions.SUBSCRIBE:\r\n      return state.addSubscriptions(action.payload);\r\n\r\n    case MessagesActions.REMOVE:\r\n      return state.removeMessages(action.payload);\r\n\r\n    case MessagesActions.UNSUBSCRIBE:\r\n      return state.removeSubscriptions(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { AbstractControl, Form } from '@angular/forms';\r\n\r\nimport { Action } from '../store/models';\r\n\r\n// export class FormActions {\r\n//     static ADD = '[forms] Add Form';\r\n//     static RESET = '[forms] Reset Forms';\r\n//     static NAVIGATE = '[forms] Navigate to Form';\r\n//     static STATUS_CHANGES = '[form] Status Changes';\r\n//     static VALUE_CHANGES = '[form] Value Changes';\r\n\r\n//     static addForm(control: AbstractControl): Action {\r\n//         return {\r\n//             type: FormActions.ADD,\r\n//             payload: control\r\n//         };\r\n//     }\r\n\r\n//     static changeStatus(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.STATUS_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n\r\n//     static changeValue(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.VALUE_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n\r\n//     static navigateToForm(route: string): Action {\r\n//         return {\r\n//             type: FormActions.NAVIGATE,\r\n//             payload: route\r\n//         };\r\n//     }\r\n\r\n//     static resetForms(forms: Form[]): Action {\r\n//         return {\r\n//             type: FormActions.RESET,\r\n//             payload: forms\r\n//         };\r\n//     }\r\n\r\n// }\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { HttpService } from './http.service';\r\nimport { HttpGetPayload, HttpPostPayload, HttpPutPayload, HttpDeletePayload } from './http.models';\r\n// import { Command } from '../shared/decorators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HttpCommands<T> {\r\n\r\n  constructor(private http: HttpService) {\r\n  }\r\n\r\n  // @Command()\r\n  delete$(payload: HttpDeletePayload<T>): Observable<any> {\r\n    return this.http.delete(payload.path, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  get$(payload: HttpGetPayload<T>): Observable<any> {\r\n    return this.http.get(payload.path, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  post$(payload: HttpPostPayload<T>): Observable<any> {\r\n    return this.http.post(payload.path, payload.model, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  postFormUrlEncoded$(payload: HttpPostPayload<T>): Observable<any> {\r\n    return this.http.postFormUrlEncoded(payload.path, payload.model, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  put$(payload: HttpPutPayload<T>): Observable<any> {\r\n    return this.http.put(payload.path, payload.model, payload.headers, payload.options);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, mergeMap, catchError } from 'rxjs/operators';\r\n\r\nimport { HttpActions } from './http.actions';\r\nimport { HttpCommands } from './http.commands';\r\nimport {\r\n  HttpGetPayload,\r\n  HttpPostPayload,\r\n  HttpPutPayload,\r\n  HttpDeletePayload\r\n} from './http.models';\r\nimport { Error } from '../errors/errors.models';\r\nimport { Action } from '../store/models';\r\nimport { build } from '../shared/utils';\r\n\r\n@Injectable()\r\nexport class HttpEffects<T> {\r\n  @Effect() onDelete$ = this.actions$.pipe(\r\n    ofType(HttpActions.DELETE),\r\n    mergeMap((action: Action) => this.delete$(action.payload))\r\n  );\r\n\r\n  @Effect() onGet$ = this.actions$.pipe(\r\n    ofType(HttpActions.GET),\r\n    mergeMap((action: Action) => this.get$(action.payload))\r\n  );\r\n\r\n  @Effect() onPost$ = this.actions$.pipe(\r\n    ofType(HttpActions.POST),\r\n    mergeMap((action: Action) => this.post$(action.payload))\r\n  );\r\n\r\n  @Effect() onPostFormUrlEncoded$ = this.actions$.pipe(\r\n    ofType(HttpActions.POST_FORM_URL_ENCODED),\r\n    mergeMap((action: Action) => this.postFormUrlEncoded$(action.payload))\r\n  );\r\n\r\n  @Effect() onPut$ = this.actions$.pipe(\r\n    ofType(HttpActions.PUT),\r\n    mergeMap((action: Action) => this.put$(action.payload))\r\n  );\r\n\r\n  @Effect() onSearch$ = this.actions$.pipe(\r\n    ofType(HttpActions.SEARCH),\r\n    mergeMap((action: Action) => this.search$(action.payload))\r\n  );\r\n\r\n  constructor(private actions$: Actions, private commands: HttpCommands<T>) { }\r\n\r\n  delete$(payload: HttpDeletePayload<T>): Observable<Action> {\r\n    // console.log('DELETE:\\t', payload.onSuccess);\r\n    return this.commands.delete$(payload).pipe(\r\n      map((model: T) =>\r\n        HttpActions.deleteSuccess(payload.data || model, payload.onSuccess)\r\n      ),\r\n      catchError((e: Error) =>\r\n        of(\r\n          HttpActions.deleteError(\r\n            build(Error, e, { data: payload.data }),\r\n            payload.onError\r\n          )\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  get$(payload: HttpGetPayload<T>): Observable<Action> {\r\n    // console.log('GET:\\t', payload.onSuccess);\r\n    return this.commands.get$(payload).pipe(\r\n      map((model: T) => HttpActions.getSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => of(HttpActions.getError(e, payload.onError)))\r\n    );\r\n  }\r\n\r\n  post$(payload: HttpPostPayload<T>): Observable<Action> {\r\n    // console.log('POST:\\t', payload.onSuccess);\r\n    return this.commands.post$(payload).pipe(\r\n      map((model: T) => HttpActions.postSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => {\r\n        return of(HttpActions.postError(e, payload.onError));\r\n      })\r\n    );\r\n  }\r\n\r\n  postFormUrlEncoded$(payload: HttpPostPayload<T>): Observable<Action> {\r\n    // console.log('POST:\\t', payload.onSuccess);\r\n    return this.commands.postFormUrlEncoded$(payload).pipe(\r\n      map((model: T) => HttpActions.postSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => of(HttpActions.postError(e, payload.onError)))\r\n    );\r\n  }\r\n\r\n  put$(payload: HttpPutPayload<T>): Observable<Action> {\r\n    // console.log('PUT:\\t', payload.onSuccess);\r\n    return this.commands.put$(payload).pipe(\r\n      map((model: T) => HttpActions.putSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => of(HttpActions.putError(e, payload.onError)))\r\n    );\r\n  }\r\n\r\n  search$(payload: HttpGetPayload<T>): Observable<Action> {\r\n    // console.log('SEARCH:\\t', payload.onSuccess);\r\n    return this.commands.get$(payload).pipe(\r\n      map((model: T) =>\r\n        HttpActions.searchSuccess(model, payload.onSuccess, payload.path)\r\n      ),\r\n      catchError((e: Error) => of(HttpActions.getError(e, payload.onError)))\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { HttpCommands } from './http.commands';\r\nimport { HttpEffects } from './http.effects';\r\nimport { HttpService } from './http.service';\r\nimport { Selector } from '../store/models';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nconst BASE_URL$ = new InjectionToken<Observable<string>>('API Base URL');\r\nconst AUTH_TOKEN$ = new InjectionToken<Observable<string>>('API Auth Token');\r\n\r\nexport function baseUrlFactory(store: Store<any>, baseUrlSelector: Selector<string>): Observable<string> {\r\n  return store.pipe(baseUrlSelector);\r\n}\r\n\r\nexport function authTokenFactory(store: Store<any>, authTokenSelector: Selector<string>): Observable<string> {\r\n  return store.pipe(authTokenSelector);\r\n}\r\n\r\nexport function httpServiceFactory(http: HttpClient, baseUrl$: Observable<string>, authToken$: Observable<string>): HttpService {\r\n  return new HttpService(http, baseUrl$, authToken$);\r\n}\r\n\r\nexport function provideHttpContext(urlSelector: Selector<string>, authTokenSelector: Selector<string>): any[] {\r\n  return [\r\n    HttpEffects,\r\n    HttpCommands,\r\n    { provide: HttpService, useFactory: httpServiceFactory, deps: [HttpClient, 'BASE_URL$', 'AUTH_TOKEN$'] },\r\n    { provide: 'URL_SELECTOR', useValue: urlSelector },\r\n    { provide: 'BASE_URL$', useFactory: baseUrlFactory, deps: [Store, 'URL_SELECTOR'] },\r\n    { provide: 'TOKEN_SELECTOR', useValue: authTokenSelector },\r\n    { provide: 'AUTH_TOKEN$', useFactory: authTokenFactory, deps: [Store, 'TOKEN_SELECTOR'] },\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    HttpClientModule,\r\n  ],\r\n  exports: [\r\n    HttpClientModule,\r\n  ]\r\n})\r\nexport class HttpModule {\r\n\r\n  static forRoot(baseUrlSelector: Selector<string>, authTokenSelector: Selector<string>): ModuleWithProviders<HttpModule> {\r\n    return {\r\n      ngModule: HttpModule,\r\n      providers: provideHttpContext(baseUrlSelector, authTokenSelector)\r\n    };\r\n  }\r\n\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport * as signalR from '@Microsoft/signalr';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { SOCKET_URL } from './hub.module';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HubService {\r\n\r\n  private hubConnection: signalR.HubConnection;\r\n\r\n  constructor(public store: Store<any>, @Inject(SOCKET_URL) url: string) {\r\n    this.startConnection(url);\r\n  }\r\n\r\n  startConnection(url: string) {\r\n    this.hubConnection = new signalR.HubConnectionBuilder()\r\n      .withUrl(url, {\r\n        skipNegotiation: true,\r\n        transport: signalR.HttpTransportType.WebSockets\r\n      })\r\n      .build();\r\n\r\n    this.hubConnection.start();\r\n\r\n    return this.hubConnection;\r\n  }\r\n\r\n  addEffect(channel: string, action: string) {\r\n    this.removeEffect(channel); // make sure no existing streams exist for this channel\r\n    this.hubConnection.on(channel, (payload) => {\r\n      this.store.dispatch({\r\n        type: action,\r\n        payload\r\n      });\r\n    });\r\n  }\r\n\r\n  removeEffect(channel: string) {\r\n    this.removeListener(channel);\r\n  }\r\n\r\n  addListener(functionName: string, func: Function) {\r\n    this.hubConnection.on(functionName, (data) => func(data));\r\n  }\r\n\r\n  removeListener(channel: string) {\r\n    this.hubConnection.off(channel);\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { HubService } from './hub.service';\r\n\r\nexport const SOCKET_URL = new InjectionToken<string>('API hub endpoint');\r\nexport const SOCKET_KEYS = new InjectionToken<string[]>('API hub keys');\r\n\r\nexport function hubServiceFactory(store: Store<any>, url: string): HubService {\r\n  return new HubService(store, url);\r\n}\r\n\r\nexport function provideHub(url = '', keys: string[] = []): any[] {\r\n  return [\r\n    { provide: HubService, useFactory: hubServiceFactory, deps: [Store, SOCKET_URL] },\r\n    { provide: SOCKET_URL, useValue: url },\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: []\r\n})\r\nexport class HubModule {\r\n\r\n  static forRoot(url = ''): ModuleWithProviders<HubModule> {\r\n    return {\r\n      ngModule: HubModule,\r\n      providers: provideHub(url, [])\r\n    };\r\n  }\r\n}\r\n","import { AddLookupPayload, Lookup, LookupValue } from './lookup.models';\r\nimport { Action } from '../store/models';\r\n\r\nexport class LookupActions {\r\n  static ADD_KEYS = '[Lookup] Add keys';\r\n  static ADD_KEY = '[Lookup] Add key';\r\n  static ADD_VALUES = '[Lookup] Add values';\r\n  static REMOVE_KEY = '[Lookup] Remove key';\r\n  static REMOVE_VALUE = '[Lookup] Remove value';\r\n  static UPDATE_VALUE = '[Lookup] Update value';\r\n\r\n  static addKey(payload: AddLookupPayload): Action {\r\n    return {\r\n      type: LookupActions.ADD_KEY,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static addValue(lookupKey: string, lookupValue: LookupValue): Action {\r\n    return {\r\n      type: LookupActions.UPDATE_VALUE,\r\n      payload: { lookupKey, lookupValue }\r\n    };\r\n  }\r\n\r\n  static addValues(payload: Lookup[]): Action {\r\n    return {\r\n      type: LookupActions.ADD_VALUES,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static removeKey(key: string): Action {\r\n    return {\r\n      type: LookupActions.REMOVE_KEY,\r\n      payload: key\r\n    };\r\n  }\r\n\r\n  static removeValue(lookupKey: string, lookupValueId: number): Action {\r\n    return {\r\n      type: LookupActions.REMOVE_VALUE,\r\n      payload: { lookupKey, lookupValueId }\r\n    };\r\n  }\r\n\r\n  static updateValue(lookupKey: string, lookupValue: LookupValue): Action {\r\n    return {\r\n      type: LookupActions.UPDATE_VALUE,\r\n      payload: { lookupKey, lookupValue }\r\n    };\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { LookupActions } from './lookup.actions';\r\nimport { Lookup, AddLookupPayload } from './lookup.models';\r\nimport { LOOKUP_PATH, LOOKUP_KEYS } from './lookup.module';\r\nimport { HttpActions } from '../http/http.actions';\r\nimport { build } from '../shared/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LookupService {\r\n\r\n  _keys: string[] = [];\r\n  path = 'lookup';\r\n\r\n  constructor(\r\n    public store: Store<any>,\r\n    @Inject(LOOKUP_PATH) lookupPath = 'lookup',\r\n    @Inject(LOOKUP_KEYS) lookupKeys: string[] = []\r\n  ) {\r\n    this.path = lookupPath;\r\n    this.keys = lookupKeys;\r\n  }\r\n\r\n  get keys(): string[] {\r\n    return this._keys;\r\n  }\r\n\r\n  set keys(value: string[]) {\r\n    this._keys = value;\r\n  }\r\n\r\n  load(keys: string[], values?: Lookup[]): void {\r\n    if (values) {\r\n      this.loadValues(values);\r\n    }\r\n    this.loadKeys(keys);\r\n  }\r\n\r\n  loadKeys(keys: string[]): void {\r\n    this.keys = keys;\r\n    this.store.dispatch(HttpActions.get(`${this.path}${this.buildQueryString()}`, LookupActions.ADD_KEYS));\r\n  }\r\n\r\n  loadValues(values: Lookup[]): void {\r\n    this.store.dispatch(LookupActions.addValues(values));\r\n  }\r\n\r\n  lookup(key: string): Observable<any> {\r\n    return this.store.select('lookup').pipe(\r\n      map(s => s[key])\r\n    );\r\n  }\r\n\r\n  addKey(key: string, value: any): void {\r\n    this.store.dispatch(LookupActions.addKey(\r\n      build(AddLookupPayload,\r\n        {\r\n          key: key,\r\n          value: value\r\n        }\r\n      )));\r\n  }\r\n\r\n  removeKey(key: string): void {\r\n    this.store.dispatch(LookupActions.removeKey(key));\r\n  }\r\n\r\n  private buildQueryString(): string {\r\n    let query = this.keys.length > 0 ? `?keys=${this.keys[0]}` : '';\r\n    this.keys.filter((key: string, index: number) => index !== 0)\r\n      .forEach(key => {\r\n        query += `&keys=${key}`;\r\n      });\r\n    return query;\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { LookupService } from './lookup.service';\r\n\r\nexport const LOOKUP_PATH = new InjectionToken<string>('API lookup endpoint');\r\nexport const LOOKUP_KEYS = new InjectionToken<string[]>('API lookup keys');\r\n\r\nexport function lookupServiceFactory(store: Store<any>, LOOKUP_PATH = 'lookup', LOOKUP_KEYS: string[] = []): LookupService {\r\n  return new LookupService(store, LOOKUP_PATH, LOOKUP_KEYS);\r\n}\r\n\r\nexport function provideLookup(path = '', keys: string[] = []): any[] {\r\n  return [\r\n    { provide: LookupService, useFactory: lookupServiceFactory, deps: [Store, LOOKUP_PATH, LOOKUP_KEYS] },\r\n    { provide: LOOKUP_PATH, useValue: path },\r\n    { provide: LOOKUP_KEYS, useValue: keys },\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: []\r\n})\r\nexport class LookupModule {\r\n\r\n  static forRoot(): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup('lookup', [])\r\n    };\r\n  }\r\n\r\n  static forRootWithPath(path = ''): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup(path, [])\r\n    };\r\n  }\r\n\r\n  static forRootWithKeys(keys: string[]): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup('lookup', keys)\r\n    };\r\n  }\r\n\r\n  static forRootWithPathAndKeys(path = '', keys: string[]): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup(path, keys)\r\n    };\r\n  }\r\n\r\n}\r\n","import { Action as NgrxAction, ActionReducer, Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { Collection } from '../shared/collection';\r\nimport { build, truthy } from '../shared/utils';\r\n\r\nexport interface Action extends NgrxAction {\r\n  actionType?: ActionTypes | ActionTypes[];\r\n  payload?: any;\r\n}\r\n\r\nexport interface ActionWithKey extends Action {\r\n  key: string;\r\n}\r\n\r\nexport enum ActionTypes {\r\n  DEFAULT,\r\n  GET,\r\n  GET_SUCCESS,\r\n  GET_ERROR,\r\n  POST,\r\n  POST_SUCCESS,\r\n  POST_ERROR,\r\n  PUT,\r\n  PUT_SUCCESS,\r\n  PUT_ERROR,\r\n  DELETE,\r\n  DELETE_SUCCESS,\r\n  DELETE_ERROR,\r\n  SAVE\r\n}\r\n\r\nexport interface ActionWithPayload<T> extends Action {\r\n  payload: T;\r\n}\r\n\r\nexport type Mapper<T> = (store: any) => T;\r\n\r\nexport interface Reducers {\r\n  [key: string]: ActionReducer<any>;\r\n}\r\n\r\nexport class Redirect {\r\n  action = '';\r\n  redirectTo = '/';\r\n  redirectStatus: 'CANCEL' = null;\r\n\r\n  get id(): string {\r\n    return this.action;\r\n  }\r\n}\r\n\r\nexport class Redirects extends Collection<Redirect> {\r\n  constructor() {\r\n    super(Redirect);\r\n  }\r\n\r\n  add(data: Redirect): Redirects {\r\n    return build(Redirects, this.update([data]));\r\n  }\r\n\r\n  remove(data: string): Redirects {\r\n    return build(Redirects, this.delete(data));\r\n  }\r\n\r\n  update(data: Redirect[]): Redirects {\r\n    const items = Collection.BuildDictionaryFromArray(\r\n      data.reduce((acc, x) => {\r\n        const filtered = acc.filter(y => y.id !== x.action);\r\n        return truthy(x.redirectTo) ? [...filtered, x] : filtered;\r\n      }, this.asArray)\r\n    );\r\n    return build(Redirects, this, { items });\r\n  }\r\n}\r\n\r\nexport type Selector<T> = (store: Store<any>) => Observable<T>;\r\n\r\nexport type SelectorParameterized<T> = (\r\n  store: Store<any>,\r\n  ...params: any[]\r\n) => Observable<T>;\r\n\r\nexport interface UnsafeAction extends Action {\r\n  payload?: any;\r\n}\r\n\r\nexport class ViewSettings {\r\n  theme: 'dark' | 'light' = 'dark';\r\n\r\n  get isDarkTheme(): boolean {\r\n    return this.theme === 'dark';\r\n  }\r\n\r\n  get isLightTheme(): boolean {\r\n    return this.theme === 'light';\r\n  }\r\n}\r\n","import { Action, Redirect } from './models';\r\nimport { Config } from '../shared/config';\r\nimport { WindowResize } from '../shared/window';\r\nimport { build } from '../shared/utils';\r\n\r\nexport class AppActions {\r\n  static INIT_STORE = '[Storage] Init Store';\r\n  static NO_ACTION = '[App] No Action';\r\n\r\n  static noAction(): Action {\r\n    return {\r\n      type: AppActions.NO_ACTION\r\n    };\r\n  }\r\n}\r\n\r\nexport class ConfigActions {\r\n  static INITIALIZE = '[Config] Initialize Configuration';\r\n\r\n  static initialize(config: Config): Action {\r\n    return {\r\n      type: ConfigActions.INITIALIZE,\r\n      payload: config\r\n    };\r\n  }\r\n}\r\n\r\nexport class CurrentUserActions {\r\n  static LOGIN = '[CurrentUser] Login';\r\n  static LOGOUT = '[CurrentUser] Logout';\r\n  static RESET_PASSWORD = '[CurrentUser] Reset Password';\r\n  static ALL = [\r\n    CurrentUserActions.LOGIN,\r\n    CurrentUserActions.LOGOUT,\r\n    CurrentUserActions.RESET_PASSWORD\r\n  ];\r\n\r\n  static logout(): Action {\r\n    return {\r\n      type: CurrentUserActions.LOGOUT\r\n    };\r\n  }\r\n}\r\n\r\nexport class FormActions {\r\n  static SAVE = '[Form] SAVE';\r\n}\r\n\r\nexport class OrganizationsActions {\r\n  static GET = '[Organizations] GET';\r\n}\r\n\r\nexport class RedirectActions {\r\n  static ADD = '[Redirect] ADD';\r\n  static REMOVE = '[Redirect] REMOVE';\r\n  static UPDATE = '[Redirect] UPDATE';\r\n\r\n  static add(payload: Redirect | Redirect[]): Action {\r\n    return {\r\n      type: RedirectActions.ADD,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static update(actions: string[], redirectTo: string): Action {\r\n    const payload = actions.map(action =>\r\n      build(Redirect, {\r\n        action,\r\n        redirectTo\r\n      })\r\n    );\r\n    return {\r\n      type: RedirectActions.UPDATE,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static remove(payload: string): Action {\r\n    return {\r\n      type: RedirectActions.ADD,\r\n      payload\r\n    };\r\n  }\r\n}\r\n\r\nexport class SidenavActions {\r\n  static CLOSE = '[Sidenav] Close';\r\n  static OPEN = '[Sidenav] Open';\r\n  static TOGGLE = '[Sidenav] Toggle';\r\n\r\n  static close(): Action {\r\n    return {\r\n      type: SidenavActions.CLOSE\r\n    };\r\n  }\r\n\r\n  static open(): Action {\r\n    return {\r\n      type: SidenavActions.OPEN\r\n    };\r\n  }\r\n\r\n  static toggle(): Action {\r\n    return {\r\n      type: SidenavActions.TOGGLE\r\n    };\r\n  }\r\n}\r\n\r\nexport class ViewSettingsActions {\r\n  static CHANGETHEME = '[viewSettingsReducer] Change Theme';\r\n  static changeTheme(theme: 'dark' | 'light'): Action {\r\n    return {\r\n      type: ViewSettingsActions.CHANGETHEME,\r\n      payload: theme\r\n    };\r\n  }\r\n}\r\n\r\nexport class WindowActions {\r\n  static RESIZE = '[Window] Resize';\r\n\r\n  static resize(payload: WindowResize): Action {\r\n    return {\r\n      type: WindowActions.RESIZE,\r\n      payload\r\n    };\r\n  }\r\n}\r\n","import { LookupActions } from './lookup.actions';\r\nimport { Lookups, Lookup } from './lookup.models';\r\nimport { AppActions } from '../store/actions';\r\nimport { Action } from '../store/models';\r\nimport { build, toArray } from '../shared/utils';\r\n\r\nexport function lookupReducer(\r\n  state: Lookups = new Lookups(),\r\n  action: Action\r\n): Lookups {\r\n  switch (action.type) {\r\n    case LookupActions.ADD_KEYS:\r\n      return Lookups.AddLookups(\r\n        state,\r\n        toArray(action.payload).map(x => build(Lookup, x))\r\n      );\r\n\r\n    case LookupActions.ADD_KEY:\r\n      return Lookups.AddLookup(state, action.payload);\r\n\r\n    case LookupActions.UPDATE_VALUE:\r\n      return Lookups.UpdateLookupValue(\r\n        state,\r\n        action.payload.lookupKey,\r\n        action.payload.lookupValue\r\n      );\r\n\r\n    case LookupActions.ADD_VALUES:\r\n      return Lookups.AddLookups(state, action.payload);\r\n\r\n    case LookupActions.REMOVE_KEY:\r\n      return Lookups.RemoveLookup(state, action.payload);\r\n\r\n    case LookupActions.REMOVE_VALUE:\r\n      return Lookups.RemoveLookupValue(\r\n        state,\r\n        action.payload.lookupKey,\r\n        action.payload.lookupValueId\r\n      );\r\n\r\n    case AppActions.INIT_STORE:\r\n      return build(Lookups, action.payload['lookup']);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { truthy } from '../shared/utils';\r\n\r\nimport { Lookups, Lookup, LookupValue } from './lookup.models';\r\n\r\nexport function lookupSelector(store: Store<any>): Observable<Lookups> {\r\n  return store.select(s => s['lookup']);\r\n}\r\n\r\nexport function lookupKeySelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<Lookup> {\r\n  return lookupSelector(store).pipe(map(lookup => lookup[key] || new Lookup()));\r\n}\r\n\r\nexport function lookupValuesSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<LookupValue[]> {\r\n  return lookupKeySelector(store, key).pipe(\r\n    map(lookup => lookup.values)\r\n    // map(statuses => statuses.filter(x => truthy(x.name) && x.name !== 'Select'))\r\n  );\r\n}\r\n\r\nexport function lookupValueSelector(\r\n  store: Store<any>,\r\n  key: string,\r\n  f: (x: LookupValue) => boolean\r\n): Observable<LookupValue> {\r\n  const values$ = lookupValuesSelector(store, key);\r\n  return values$.pipe(map(values => values.find(f) || new LookupValue()));\r\n}\r\n","import {\r\n    Route,\r\n    NavigationCancel,\r\n    NavigationEnd,\r\n    NavigationError,\r\n    NavigationStart,\r\n    RoutesRecognized\r\n} from '@angular/router';\r\n\r\nimport { ActivatedRoutePayload } from './models';\r\nimport { Action } from '../store/models';\r\n\r\nexport class RouterActions {\r\n\r\n    static ACTIVATE = '[Router] Activate Route';\r\n    static NAVIGATE = '[Router] Navigate';\r\n    static NAVIGATE_SUCCESS = '[Router] Navigate Success';\r\n    static NAVIGATE_ERROR = '[Router] Navigate Error';\r\n    static NAVIGATION_CANCEL = '[Router] Cancel Navigation';\r\n    static NAVIGATION_END = '[Router] End Navigation';\r\n    static NAVIGATION_ERROR = '[Router] Error Navigation';\r\n    static NAVIGATION_START = '[Router] Start Navigation';\r\n    static ROUTES_RECOGNIZED = '[Router] Routes Recognized';\r\n\r\n    static activate(routeName: string, parent?: string): Action {\r\n        const payload: ActivatedRoutePayload = {\r\n            routeName,\r\n            parent\r\n        };\r\n        return {\r\n            type: RouterActions.ACTIVATE,\r\n            payload\r\n        };\r\n    }\r\n    static navigate(r: string | Route | any[]): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATE,\r\n            payload: r\r\n        };\r\n    }\r\n\r\n    static navigateSuccess(): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATE_SUCCESS\r\n        };\r\n    }\r\n\r\n    static navigateError(): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATE_ERROR\r\n        };\r\n    }\r\n\r\n    static navCancel(e: NavigationCancel): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_CANCEL,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static navEnd(e: NavigationEnd): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_END,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static navError(e: NavigationError): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_ERROR,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static navStart(e: NavigationStart): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_START,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static routesRecognized(e: RoutesRecognized): Action {\r\n        return {\r\n            type: RouterActions.ROUTES_RECOGNIZED,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport {\r\n  Router,\r\n  ActivatedRoute,\r\n  Event,\r\n  NavigationCancel,\r\n  NavigationEnd,\r\n  NavigationError,\r\n  NavigationStart,\r\n  RoutesRecognized,\r\n  Params,\r\n  Data,\r\n  NavigationExtras\r\n} from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, from } from 'rxjs';\r\n\r\nimport { RouterActions } from './actions';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RouterService {\r\n\r\n  navigationCancel = new EventEmitter<NavigationCancel>();\r\n  navigationEnd = new EventEmitter<NavigationEnd>();\r\n  navigationError = new EventEmitter<NavigationError>();\r\n  navigationStart = new EventEmitter<NavigationStart>();\r\n  routesRecognized = new EventEmitter<RoutesRecognized>();\r\n\r\n  constructor(\r\n    private _router: Router,\r\n    private _route: ActivatedRoute,\r\n    private store: Store<any>) {\r\n    _router.events.subscribe((e: Event) => {\r\n      if (e instanceof NavigationCancel) {\r\n        this.onNavigationCancel(e);\r\n      } else if (e instanceof NavigationEnd) {\r\n        this.onNavigationEnd(e);\r\n      } else if (e instanceof NavigationError) {\r\n        this.onNavigationError(e);\r\n      } else if (e instanceof NavigationStart) {\r\n        this.onNavigationStart(e);\r\n      } else if (e instanceof RoutesRecognized) {\r\n        this.onRoutesRecognized(e);\r\n      }\r\n    });\r\n  }\r\n\r\n  onNavigationCancel(e: NavigationCancel): void {\r\n    this.store.dispatch(RouterActions.navCancel(e));\r\n  }\r\n\r\n  onNavigationEnd(e: NavigationEnd): void {\r\n    this.store.dispatch(RouterActions.navEnd(e));\r\n  }\r\n\r\n  onNavigationError(e: NavigationError): void {\r\n    this.store.dispatch(RouterActions.navError(e));\r\n  }\r\n\r\n  onNavigationStart(e: NavigationStart): void {\r\n    this.store.dispatch(RouterActions.navStart(e));\r\n  }\r\n\r\n  onRoutesRecognized(e: RoutesRecognized): void {\r\n    this.store.dispatch(RouterActions.routesRecognized(e));\r\n  }\r\n\r\n  get activatedRoute(): ActivatedRoute {\r\n    return this._route;\r\n  }\r\n\r\n  get routeData$(): Observable<Data> {\r\n    return this.activatedRoute.data;\r\n  }\r\n\r\n  get routeParams$(): Observable<Params> {\r\n    return this.activatedRoute.params;\r\n  }\r\n\r\n  get router(): Router {\r\n    return this._router;\r\n  }\r\n\r\n  get url$(): Observable<string> {\r\n    return this.store.select(s => s.router.url);\r\n  }\r\n\r\n  navigate(commands: any[], extras?: NavigationExtras): Observable<boolean> {\r\n    const promise = this.router.navigate(commands, extras);\r\n    return from(promise);\r\n  }\r\n\r\n  navigateByUrl(url: string, extras?: NavigationExtras): Observable<boolean> {\r\n    const promise = this.router.navigateByUrl(url, extras);\r\n    return from(promise);\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { CanDeactivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { Effect, Actions, ofType } from '@ngrx/effects';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, switchMap, catchError } from 'rxjs/operators';\r\n\r\nimport { RouterActions } from './actions';\r\nimport { CanComponentDeactivate } from './models';\r\nimport { RouterService } from './router.service';\r\nimport { Action } from '../store/models';\r\n\r\n@Injectable()\r\nexport class RouterEffects {\r\n  actionTypes: string[];\r\n\r\n  /**\r\n   * All imperative navigation should be performed using this effects\r\n   * so that the state is aware of the navigation.\r\n   */\r\n  @Effect() navigate: Observable<Action> = this.actions$.pipe(\r\n    ofType(RouterActions.NAVIGATE),\r\n    switchMap((action: Action) => this.navigate$(action.payload))\r\n  );\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private router: RouterService\r\n  ) { }\r\n\r\n  navigate$(r: string | any[]): Observable<Action> {\r\n    const nav$: Observable<boolean> = typeof (r) === 'string' ? this.router.navigateByUrl(r) : this.router.navigate(r);\r\n    return nav$.pipe(\r\n      map(() => RouterActions.navigateSuccess()),\r\n      catchError((e) => {\r\n        return of(RouterActions.navigateError());\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport class CanDeactivateGuard implements CanDeactivate<CanComponentDeactivate> {\r\n  destUrl = '';\r\n\r\n  get routingDestination(): string {\r\n    return this.destUrl;\r\n  }\r\n\r\n  set routingDestination(url: string) {\r\n    this.destUrl = url;\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n\r\n  canDeactivate(component: CanComponentDeactivate, route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\r\n    Observable<boolean> | boolean {\r\n    return component.canDeactivate ? component.canDeactivate() : true;\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { RouterModule as NGRouterModule } from '@angular/router';\r\n\r\nimport { RouterEffects } from './router.effects';\r\nimport { RouterService } from './router.service';\r\n\r\n@NgModule({\r\n  imports: [NGRouterModule],\r\n  exports: [NGRouterModule]\r\n})\r\nexport class RouterModule {\r\n  static forRoot(): ModuleWithProviders<RouterModule> {\r\n    return {\r\n      ngModule: RouterModule,\r\n      providers: [RouterService, RouterEffects]\r\n    };\r\n  }\r\n}\r\n","import { Type } from '@angular/core';\r\nimport {\r\n  Route,\r\n  ActivatedRouteSnapshot,\r\n  Event,\r\n  NavigationCancel,\r\n  NavigationEnd,\r\n  NavigationError,\r\n  NavigationStart,\r\n  RoutesRecognized,\r\n  RouterStateSnapshot,\r\n  UrlSegment,\r\n  Params,\r\n  Data\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { build, assignProps } from '../shared/utils';\r\nimport { Dictionary } from '../shared/models';\r\n\r\nexport class ActivatedRoutePayload {\r\n  routeName = '';\r\n  parent?: string;\r\n}\r\n\r\nexport class Breadcrumbs {\r\n  constructor(public segments: RouteSegment[]) { }\r\n}\r\n\r\nexport interface CanComponentDeactivate {\r\n  canDeactivate: (dest?: string) => boolean | Observable<boolean>;\r\n}\r\n\r\nexport class CustomRoute implements Route {\r\n  public children: Route[] = [];\r\n  public lazyChildren: Route[] = [];\r\n  public component: Type<any>;\r\n  private _path = '';\r\n\r\n  constructor(props: Dictionary<any>) {\r\n    assignProps(this, props);\r\n  }\r\n\r\n  get path() {\r\n    return this._path;\r\n  }\r\n\r\n  set path(value: string) {\r\n    this._path = value;\r\n  }\r\n\r\n  get route(): Route {\r\n    return {\r\n      component: this.component,\r\n      children: [...this.children, ...this.lazyChildren]\r\n    };\r\n  }\r\n}\r\n\r\nexport class LazyRoute extends CustomRoute {\r\n  constructor(props: Dictionary<any>) {\r\n    super(props);\r\n    this.path = '';\r\n  }\r\n}\r\n\r\nexport interface RouterEvent {\r\n  eventType: any;\r\n  event: Event;\r\n  navigationCancel?: NavigationCancel;\r\n  navigationEnd?: NavigationEnd;\r\n  navigationError?: NavigationError;\r\n  navigationStart?: NavigationStart;\r\n  routesRecognized?: RoutesRecognized;\r\n}\r\n\r\nexport enum NavigationStatus {\r\n  Default,\r\n  NavigationStart,\r\n  NavigationCancel,\r\n  NavigationError,\r\n  RoutesRecognized,\r\n  NavigationEnd\r\n}\r\n\r\nexport class RouteSegment {\r\n  /** The static and resolved data of this route */\r\n  data: Data;\r\n  /** The URL fragment shared by all the routes */\r\n  fragment = '';\r\n  /** The order of the segment in the route */\r\n  order = 0;\r\n  /** The outlet name of the route */\r\n  outlet = '';\r\n  /** The path from the root of the router state tree to this route */\r\n  pathFromRoot: ActivatedRouteSnapshot[];\r\n  /** The matrix parameters scoped to this route */\r\n  params: Params;\r\n  /** The label to pass to the anchor tag */\r\n  routeLabel = '';\r\n  /** The unique identifier for the route segment */\r\n  routeName = '';\r\n  /** The URL segments matched by this route */\r\n  url: UrlSegment[];\r\n\r\n  /** The link to pass to the anchor tag */\r\n  get routerLink(): string {\r\n    return this.pathFromRoot\r\n      .map(r => r.url)\r\n      .reduce((acc, x) => {\r\n        const segment = RouterState.BuildUrlSegment(x);\r\n        return segment && segment !== '/' ? `${acc}${segment}` : acc;\r\n      }, '');\r\n  }\r\n}\r\n\r\nexport class RouterState {\r\n  id = 0;\r\n  error: any = undefined;\r\n  events: RouterEvent[] = [];\r\n  history: VisitedRoute[] = [];\r\n  navigationStatus: NavigationStatus = NavigationStatus.Default;\r\n  pendingState: RouterStateSnapshot = undefined;\r\n  pendingUrl = '';\r\n  pendingUrlAfterRedirects = '';\r\n  reason = '';\r\n  state: RouterStateSnapshot = undefined;\r\n  url = '';\r\n  urlAfterRedirects = '';\r\n\r\n  get activatedRoute(): ActivatedRouteSnapshot {\r\n    return RouterState.GetActivatedRoute(this.rootRoute);\r\n  }\r\n\r\n  get rootRoute(): ActivatedRouteSnapshot {\r\n    return this.state ? this.state.root : null;\r\n  }\r\n\r\n  static BuildRoute(props: Dictionary<any>): Route {\r\n    const r = new CustomRoute(props);\r\n    return <Route>r;\r\n  }\r\n\r\n  static BuildLazyRoute(props: Dictionary<any>): Route {\r\n    const r = new LazyRoute(props);\r\n    return <Route>r;\r\n  }\r\n\r\n  static BuildUrlSegment(url: UrlSegment[]): string {\r\n    return url.reduce(\r\n      (acc, segment) =>\r\n        segment.path && segment.path !== '/' ? `${acc}/${segment.path}` : acc,\r\n      ''\r\n    );\r\n  }\r\n\r\n  static GetActivatedOutlets(\r\n    root: ActivatedRouteSnapshot,\r\n    index = 0\r\n  ): Dictionary<RouteSegment> {\r\n    return root\r\n      ? root.children.reduce(\r\n        (\r\n          acc: Dictionary<RouteSegment>,\r\n          r: ActivatedRouteSnapshot,\r\n          currentIndex\r\n        ) => {\r\n          const i = index + currentIndex;\r\n          const routeName = RouterState.GetRouteName(r);\r\n          const existing = build(RouteSegment, acc[routeName]);\r\n          const outlet = RouterState.GetRouteSegment(r, existing, i);\r\n          return routeName\r\n            ? Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1), {\r\n              [routeName]: outlet\r\n            })\r\n            : Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1));\r\n        },\r\n        {}\r\n      )\r\n      : {};\r\n  }\r\n\r\n  static GetActivatedRoute(\r\n    root: ActivatedRouteSnapshot\r\n  ): ActivatedRouteSnapshot {\r\n    return root && Array.isArray(root.children)\r\n      ? root.children.reduce(\r\n        (acc: ActivatedRouteSnapshot, r: ActivatedRouteSnapshot) => {\r\n          return RouterState.GetActivatedRoute(r);\r\n        },\r\n        root\r\n      )\r\n      : null;\r\n  }\r\n\r\n  static GetAllParams(route: ActivatedRouteSnapshot): any {\r\n    return route\r\n      ? route.children.reduce((acc: any, r: ActivatedRouteSnapshot) => {\r\n        return Object.assign({}, acc, RouterState.GetAllParams(r));\r\n      }, Object.assign({}, route.params, route.queryParams))\r\n      : {};\r\n  }\r\n\r\n  static GetRouteData(route: ActivatedRouteSnapshot): any {\r\n    return route.data;\r\n  }\r\n\r\n  static GetRouteSegment(\r\n    route: ActivatedRouteSnapshot,\r\n    existing: RouteSegment = new RouteSegment(),\r\n    index = 0\r\n  ): RouteSegment {\r\n    const routeName = RouterState.GetRouteName(route);\r\n    return build(RouteSegment, existing, {\r\n      data: route.data,\r\n      fragment: route.fragment,\r\n      order: index,\r\n      outlet: route.outlet,\r\n      pathFromRoot: route.pathFromRoot,\r\n      params: route.params,\r\n      routeName,\r\n      routeLabel:\r\n        RouterState.GetRouteData(route)['routeLabel'] || existing.routeLabel\r\n    });\r\n  }\r\n\r\n  static GetRouteName(route: ActivatedRouteSnapshot): string {\r\n    return route ? RouterState.GetRouteData(route)['routeName'] : '';\r\n  }\r\n\r\n  get activatedOutlets(): Dictionary<RouteSegment> {\r\n    return RouterState.GetActivatedOutlets(this.rootRoute);\r\n  }\r\n\r\n  get lastEvent(): RouterEvent {\r\n    return this.events[-1];\r\n  }\r\n\r\n  get params(): any {\r\n    return RouterState.GetAllParams(this.rootRoute);\r\n  }\r\n\r\n  get routeName(): string {\r\n    return RouterState.GetRouteName(this.activatedRoute);\r\n  }\r\n\r\n  get visited(): string[] {\r\n    return this.history.map(x => x.link);\r\n  }\r\n\r\n  addRouterEvent(e: Event, eventType: any): RouterEvent[] {\r\n    const newEvent = <RouterEvent>{ eventType: eventType, event: e };\r\n    return [...this.events, newEvent];\r\n  }\r\n\r\n  navigationCancel(payload: NavigationCancel): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.NavigationCancel,\r\n      events: this.addRouterEvent(payload, NavigationStatus.NavigationCancel),\r\n      id: payload.id,\r\n      pendingState: null,\r\n      pendingUrl: '',\r\n      pendingUrlAfterRedirects: '',\r\n      reason: payload.reason\r\n    });\r\n  }\r\n\r\n  navigationEnd(payload: NavigationEnd): RouterState {\r\n    const history = [payload.toString(), ...this.history];\r\n    return build(\r\n      RouterState,\r\n      this,\r\n      {\r\n        state: this.pendingState\r\n      },\r\n      {\r\n        history,\r\n        navigationStatus: NavigationStatus.NavigationEnd,\r\n        events: this.addRouterEvent(payload, NavigationStatus.NavigationEnd),\r\n        id: payload.id,\r\n        pendingState: null,\r\n        pendingUrl: '',\r\n        pendingUrlAfterRedirects: '',\r\n        url: payload.url,\r\n        urlAfterRedirects: payload.urlAfterRedirects\r\n      }\r\n    );\r\n  }\r\n\r\n  navigationError(payload: NavigationError): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.NavigationError,\r\n      events: this.addRouterEvent(payload, NavigationStatus.NavigationError),\r\n      id: payload.id,\r\n      pendingState: null,\r\n      pendingUrl: '',\r\n      pendingUrlAfterRedirects: '',\r\n      error: payload.error\r\n    });\r\n  }\r\n\r\n  navigationStart(payload: NavigationStart): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.NavigationStart,\r\n      events: this.addRouterEvent(payload, NavigationStatus.NavigationStart),\r\n      id: payload.id,\r\n      pendingUrl: payload.url\r\n    });\r\n  }\r\n\r\n  routesRecognized(payload: RoutesRecognized): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.RoutesRecognized,\r\n      events: this.addRouterEvent(payload, NavigationStatus.RoutesRecognized),\r\n      id: payload.id,\r\n      pendingState: payload.state,\r\n      pendingUrl: payload.url,\r\n      pendingUrlAfterRedirects: payload.urlAfterRedirects\r\n    });\r\n  }\r\n}\r\n\r\nexport class VisitedRoute {\r\n  label = '';\r\n  link = '';\r\n  name = '';\r\n  visitTime = new Date();\r\n}\r\n","import { RouterActions } from './actions';\r\nimport { RouterState } from './models';\r\nimport { Action } from '../store/models';\r\n\r\nexport function routerReducer(\r\n  state: RouterState = new RouterState(),\r\n  action: Action\r\n): RouterState {\r\n  switch (action.type) {\r\n    case RouterActions.ACTIVATE:\r\n      return state;\r\n\r\n    case RouterActions.NAVIGATION_CANCEL:\r\n      // console.log(RouterActions.NAVIGATION_CANCEL, action.payload);\r\n      return state.navigationCancel(action.payload);\r\n\r\n    case RouterActions.NAVIGATION_END:\r\n      // console.log(RouterActions.NAVIGATION_END, action.payload);\r\n      return state.navigationEnd(action.payload);\r\n\r\n    case RouterActions.NAVIGATION_ERROR:\r\n      // console.log(RouterActions.NAVIGATION_ERROR, action.payload);\r\n      return state.navigationError(action.payload);\r\n\r\n    case RouterActions.NAVIGATION_START:\r\n      // console.log(RouterActions.NAVIGATION_START, action.payload);\r\n      return state.navigationStart(action.payload);\r\n\r\n    case RouterActions.ROUTES_RECOGNIZED:\r\n      // console.log(RouterActions.ROUTES_RECOGNIZED, action.payload);\r\n      // console.log(getAllParams(action.payload.state.root));\r\n      return state.routesRecognized(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable, of, combineLatest } from 'rxjs';\r\nimport { map, distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { RouterState, Breadcrumbs, VisitedRoute } from './models';\r\nimport { BaseQueryModel, QueryModel } from '../shared/models';\r\nimport { toArray, toInt, truthy } from '../shared/utils';\r\nimport { NavigationEnd, NavigationStart } from '@angular/router';\r\n\r\nexport function routeSelector(store: Store<any>): Observable<RouterState> {\r\n  return store.select('route');\r\n}\r\n\r\nexport function breadcrumbsSelector(\r\n  store: Store<any>\r\n): Observable<Breadcrumbs> {\r\n  return routeSelector(store).pipe(\r\n    map(r => {\r\n      const outlets = r.activatedOutlets;\r\n      return new Breadcrumbs(Object.keys(outlets).map(key => outlets[key]));\r\n    })\r\n  );\r\n}\r\n\r\nexport function routeNameSelector(store: Store<any>): Observable<string> {\r\n  return routeSelector(store).pipe(\r\n    map(r => r.routeName),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function routeParamsSelector(store: Store<any>): Observable<any> {\r\n  return routeSelector(store).pipe(\r\n    map(r => r.params),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function lazyRouteParamsSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<any> {\r\n  return routeParamsSelector(store).pipe(\r\n    map(params => params[key]),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function routeParamSelector(\r\n  store: Store<any>,\r\n  key: string,\r\n  defaultValue = null\r\n): Observable<any> {\r\n  return combineLatest(\r\n    of(defaultValue),\r\n    lazyRouteParamsSelector(store, key),\r\n    (x, y) => {\r\n      return y || x;\r\n    }\r\n  ).pipe(distinctUntilChanged());\r\n}\r\n\r\nexport function routeParamArraySelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<any[]> {\r\n  return routeParamSelector(store, key, []).pipe(map(x => toArray(x)));\r\n}\r\n\r\nexport function routeParamBoolSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<boolean> {\r\n  return routeParamSelector(store, key).pipe(map(x => x !== 'false' && (x === 'true' || truthy(x))));\r\n}\r\n\r\nexport function routeParamIdSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<number> {\r\n  return routeParamIntSelector(store, key);\r\n}\r\n\r\nexport function routeParamIntSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<number> {\r\n  return routeParamSelector(store, key, 0).pipe(map(x => toInt(x)));\r\n}\r\n\r\nexport function urlSelector(store: Store<any>): Observable<string> {\r\n  return routeSelector(store).pipe(\r\n    map(r => r.url),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function urlPathSelector(store: Store<any>): Observable<string> {\r\n  return urlSelector(store).pipe(\r\n    map(url => url.indexOf('?') === -1 ? url : url.substring(0, url.indexOf('?'))),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function querySelector(store: Store<any>, take = 10, skip = 0, term = 0): Observable<any> {\r\n  const skip$ = routeParamIntSelector(store, 'skip');\r\n  const take$ = routeParamIntSelector(store, 'take').pipe(\r\n    map(x => x === 0 ? take : x)\r\n  );\r\n  const term$ = routeParamSelector(store, 'term');\r\n  return combineLatest([skip$, take$, term$]).pipe(\r\n    map(x => Object.assign(new BaseQueryModel(), {\r\n      skip: x[0],\r\n      take: x[1],\r\n      term: x[2]\r\n    }))\r\n  );\r\n}\r\n\r\nexport function navigationStatusSelector(\r\n  store: Store<any>\r\n): Observable<number> {\r\n  return routeSelector(store).pipe(\r\n    map(x => x.navigationStatus),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function navigationEndedSelector(\r\n  store: Store<any>\r\n): Observable<boolean> {\r\n  return navigationStatusSelector(store).pipe(\r\n    map(x => x === 5),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function previousUrlsSelector(store: Store<any>): Observable<string[]> {\r\n  return routeSelector(store).pipe(\r\n    map(x => {\r\n      return x.events.filter(y => y.eventType === 5).map(y => (<NavigationStart>y.event)['urlAfterRedirects']);\r\n    })\r\n  );\r\n}\r\n\r\nexport function previousUrlSelector(store: Store<any>): Observable<string> {\r\n  return previousUrlsSelector(store).pipe(\r\n    map(x => {\r\n      return x.length > 0 ? x[x.length - 1] : '/';\r\n    })\r\n  );\r\n}\r\n","export class Token {\r\n    access_token = '';\r\n    expiresIn = 0;\r\n    expiresInDate: Date;\r\n\r\n    get authenticated(): boolean {\r\n        return !this.expired;\r\n    }\r\n\r\n    get expires_in(): number {\r\n        return this.expiresIn;\r\n    }\r\n\r\n    set expires_in(value: number) {\r\n        this.expiresIn = value;\r\n        this.expiresInDate = new Date();\r\n    }\r\n\r\n    get expirationDate(): Date {\r\n        const t = new Date(this.expiresInDate);\r\n        t.setSeconds(t.getSeconds() + this.expiresIn);\r\n        return t;\r\n    }\r\n\r\n    get expired(): boolean {\r\n        const now = new Date();\r\n        return this.access_token && this.expiresIn && this.expiresInDate ? now > this.expirationDate : true;\r\n    }\r\n\r\n    toString(): string {\r\n        return this.expired ? '' : this.access_token;\r\n    }\r\n\r\n}\r\n","export class Window {\r\n    windowHeight = 0;\r\n    windowWidth = 0;\r\n\r\n    get windowWidthSmall(): boolean {\r\n        return this.windowWidth < 1200;\r\n    }\r\n\r\n    get windowWidthMedium(): boolean {\r\n        return !this.windowWidthSmall && this.windowWidth < 1300;\r\n    }\r\n\r\n    get windowWidthLarge(): boolean {\r\n        return this.windowWidth >= 1300;\r\n    }\r\n}\r\n\r\nexport class WindowResize {\r\n    windowHeight = 0;\r\n    windowWidth = 0;\r\n}\r\n","import { Actions } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, of, combineLatest } from 'rxjs';\r\nimport { map, distinctUntilChanged, filter, take } from 'rxjs/operators';\r\n\r\nimport { Action } from './models';\r\nimport { Config } from '../shared/config';\r\nimport { Token } from '../shared/token';\r\nimport { CurrentUser } from '../shared/user';\r\nimport { build, isMobile } from '../shared/utils';\r\nimport { Window } from '../shared/window';\r\n\r\nexport function allSelector(store: Store<any>): Observable<any> {\r\n  return store.pipe(map(x => x));\r\n}\r\n\r\nexport function emptySelector(store: Store<any>): Observable<any> {\r\n  return of({});\r\n}\r\n\r\nexport function currentUserSelector(\r\n  store: Store<any>\r\n): Observable<CurrentUser> {\r\n  return store.select('currentUser');\r\n}\r\n\r\nexport function authenticatedSelector(store: Store<any>): Observable<boolean> {\r\n  return currentUserSelector(store).pipe(\r\n    map(user => user.authenticated),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function loggedInSelector(store: Store<any>): Observable<boolean> {\r\n  return currentUserSelector(store).pipe(\r\n    map(user => user.authenticated),\r\n    take(1)\r\n  );\r\n}\r\n\r\nexport function configSelector(store: Store<any>): Observable<Config> {\r\n  return store.select('config');\r\n}\r\n\r\nexport function windowSelector(store: Store<any>): Observable<Window> {\r\n  return store.select('window').pipe(map(w => build(Window, w)));\r\n}\r\n\r\nexport function windowHeightSelector(store: Store<any>): Observable<number> {\r\n  return windowSelector(store).pipe(\r\n    map(window => window.windowHeight),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function windowWidthSelector(store: Store<any>): Observable<number> {\r\n  return windowSelector(store).pipe(\r\n    map(window => window.windowWidth),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function containerHeightSelector(store: Store<any>): Observable<number> {\r\n  return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\n\r\nexport function containerWidthSelector(store: Store<any>): Observable<number> {\r\n  return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\n\r\nexport function contentHeightSelector(store: Store<any>): Observable<number> {\r\n  return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\n\r\nexport function contentWidthSelector(store: Store<any>): Observable<number> {\r\n  return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\n\r\nexport function sidenavOpenedSelector(store: Store<any>): Observable<boolean> {\r\n  return (<Observable<boolean>>store.select('sidenav')).pipe(\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function apiBaseUrlSelector(store: Store<any>): Observable<string> {\r\n  return configSelector(store).pipe(map(config => config.apiBaseUrl));\r\n}\r\n\r\nexport function authTokenSelector(store: Store<any>): Observable<string> {\r\n  return currentUserSelector(store).pipe(\r\n    map(user => {\r\n      const token: Token =\r\n        user && user.token ? build(Token, user.token) : new Token();\r\n      return token.toString();\r\n    })\r\n  );\r\n}\r\n\r\nexport function userLastActiveSelector(store: Store<any>): Observable<Date> {\r\n  return currentUserSelector(store).pipe(map(x => new Date(x.lastActive)));\r\n}\r\n\r\nexport function isMobileSelector(store: Store<any>): Observable<boolean> {\r\n  return combineLatest([\r\n    windowHeightSelector(store),\r\n    windowWidthSelector(store)]).pipe(\r\n      map(x => x[1] < x[0] || isMobile())\r\n    );\r\n}\r\n\r\nexport function actionTypeSelector(actions$: Actions, actionType: string): Observable<any> {\r\n  return actions$.pipe(\r\n    map((action: Action) => (action.type === actionType ? action.payload : null)),\r\n    filter(x => x !== null)\r\n  );\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { RouterService } from '../router.service';\r\nimport { loggedInSelector } from '../../store/selectors';\r\n\r\n@Injectable()\r\nexport class AuthenticatedGuard implements CanActivate {\r\n\r\n  authenticated = false;\r\n\r\n  constructor(public store: Store<any>, public routerService: RouterService) {\r\n    loggedInSelector(store).subscribe(x => {\r\n      this.authenticated = x;\r\n    });\r\n  }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\r\n    if (!this.authenticated) {\r\n      this.routerService.navigate([`/login`]);\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n","import { Metadata } from './models';\r\nimport { build } from './utils';\r\n\r\nexport class BaseEntity {\r\n  createdBy = null;\r\n  createdById = 0;\r\n  createdDate: Date = new Date();\r\n  formId = 0;\r\n  lastModifiedBy = null;\r\n  lastModifiedById = 0;\r\n  lastModifiedDate: Date = new Date();\r\n  matches: string[] = [];\r\n  ignore = [\r\n    '_metadata',\r\n    'metadata',\r\n    'ignore',\r\n    'createdBy',\r\n    'createdById',\r\n    'createdDate',\r\n    'formId',\r\n    'lastModifiedBy',\r\n    'lastModifiedById',\r\n    'lastModifiedByName',\r\n    'lastModifiedDate',\r\n    'lastModifiedOn',\r\n    'lastUpdated',\r\n    'matches',\r\n  ];\r\n  _metadata: Metadata = new Metadata();\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, this._metadata, {\r\n      ignore: this.ignore\r\n    });\r\n  }\r\n\r\n  set metadata(value: Metadata) {\r\n    this._metadata = value;\r\n  }\r\n\r\n  static getGetters(): string[] {\r\n    return Object.keys(this.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['get'] === 'function';\r\n    });\r\n  }\r\n\r\n  static getSetters(): string[] {\r\n    return Object.keys(this.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['set'] === 'function';\r\n    });\r\n  }\r\n\r\n  getGetters(): string[] {\r\n    return Object.keys(this.constructor.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['get'] === 'function';\r\n    });\r\n  }\r\n\r\n  getSetters(): string[] {\r\n    return Object.keys(this.constructor.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['set'] === 'function';\r\n    });\r\n  }\r\n\r\n  update(value: any): BaseEntity {\r\n    return Object.assign(new BaseEntity(), value);\r\n  }\r\n}\r\n","export class Config {\r\n    dev = false;\r\n    test = false;\r\n    staging = false;\r\n    production = false;\r\n    apiBaseUrl = '';\r\n}\r\n\r\nexport class ViewConfig extends Config {\r\n    viewMode: 'Default' | 'Classic' | 'Material' = 'Default';\r\n}\r\n","import { BaseEntity } from './base-entity';\r\n\r\n// export const ActionCreator = (actionType?: any | any[]) => {\r\n\r\n//     return (target: any, propertySignature: string) => {\r\n//         const method = target[propertySignature];\r\n//         const decoratedMethod = function () {\r\n//             const $this = this;\r\n//             const action = method.apply($this, arguments);\r\n//             action.actionType = actionType;\r\n//             return action;\r\n//         };\r\n\r\n//         target[propertySignature] = decoratedMethod;\r\n//         return target;\r\n//     };\r\n// };\r\n\r\nexport const ActionType = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\n/**\r\n * Class Decorator Factory\r\n * Decorates a class.\r\n */\r\nexport const Class = (metadata: any) => {\r\n  const classDecorator = (target: any) => {\r\n    return target;\r\n  };\r\n  return classDecorator;\r\n};\r\n\r\nexport const Command = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\nexport const Dispatcher = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\n/**\r\n * Decorates a class with properties from BaseEntity\r\n */\r\nexport const Entity = (metadata?: any) => {\r\n  function classDecorator<TFunction extends Function>(target: TFunction) {\r\n    const ctor: Function = function () {\r\n      Object.assign(this, new BaseEntity(), { metadata: metadata || {} });\r\n    };\r\n    ctor.prototype = Object.create(target.prototype);\r\n    ctor.prototype.constructor = target;\r\n    return <TFunction>ctor;\r\n  };\r\n  return classDecorator;\r\n};\r\n\r\nexport const EventHandler = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\nexport const LifecycleHook = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\n/**\r\n * Method Decorator Factory\r\n * Decorates a method.\r\n */\r\nexport const Method = (metadata: any) => {\r\n  const methodDecorator = (target: any, propertySignature: string, descriptor: TypedPropertyDescriptor<any>) => {\r\n    return target;\r\n  };\r\n  return methodDecorator;\r\n};\r\n\r\n/**\r\n * Parameter Decorator Factory\r\n * Decorates a parameter.\r\n */\r\nexport const Parameter = (metadata: any) => {\r\n  const parameterDecorator = (target: any, propertySignature: string, parameterIndex: number) => {\r\n    return target;\r\n  };\r\n  return parameterDecorator;\r\n};\r\n\r\n/**\r\n * Property Decorator Factory\r\n * Decorates a Property.\r\n */\r\nexport const Property = (metadata: any) => {\r\n  const propertyDecorator = (target: any, propertySignature: string) => {\r\n    if (!target.metadata) {\r\n      target.metadata = {};\r\n    }\r\n    target.metadata[propertySignature] = Object.assign(metadata, { propertyName: propertySignature });\r\n    return target;\r\n  };\r\n  return propertyDecorator;\r\n};\r\n\r\n/**\r\n * Static Method Decorator Factory\r\n * Decorates a static method.\r\n */\r\nexport const StaticMethod = (metadata: any) => {\r\n  const staticMethodDecorator = (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n  return staticMethodDecorator;\r\n};\r\n\r\n/**\r\n *  Static Property Decorator Factory\r\n * Decorates a static property.\r\n */\r\nexport const StaticProperty = (metadata: any) => {\r\n  const staticPropertyDecorator = (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n  return staticPropertyDecorator;\r\n};\r\n","import { Collection } from './collection';\r\nimport { DateHelper } from './date';\r\nimport { build } from './utils';\r\n\r\nexport class Question {\r\n    answer?: any;\r\n    lookup?: any;\r\n    key: string | number;\r\n    question = '';\r\n    title?= '';\r\n    type?: string | AnswerType;\r\n}\r\n\r\nexport type AnswerType = 'date' | 'monthyear' | 'yesno';\r\n\r\nexport class Questions extends Collection<Question> {\r\n\r\n    static AnswerQuestions(questions: Question[], answers: any): Question[] {\r\n        return questions.map(question => Questions.AnswerQuestion(question, answers[question.key]));\r\n    }\r\n\r\n    static AnswerQuestion(question: Question, answerData: any): Question {\r\n        let answer = answerData;\r\n        switch (question.type) {\r\n            case 'date':\r\n                answer = answerData;\r\n                break;\r\n            case 'monthyear':\r\n                answer = DateHelper.ToMonthYearName(answerData);\r\n                break;\r\n            case 'yesno':\r\n                answer = answerData ? 'Yes' : 'No';\r\n                break;\r\n        }\r\n        return build(Question, question, { answer });\r\n    }\r\n\r\n    answerQuestions(answers: any): Question[] {\r\n        return Questions.AnswerQuestions(this.toArray(), answers);\r\n    }\r\n}\r\n\r\nexport abstract class QuestionsModel {\r\n    ignore = ['isAdd', 'questions'];\r\n    abstract questions: Question[];\r\n\r\n    get answers(): Question[] {\r\n        return Questions.AnswerQuestions(this.questions, this);\r\n    }\r\n}\r\n","import { TypeConstructor } from './models';\r\nimport { compareNumbers } from './utils';\r\n\r\nexport class TreeItem<T> {\r\n\r\n    id = 0;\r\n    order = 0;\r\n    parentId = 0;\r\n    treeId = 0;\r\n    index = 0; // overall order within the flattened tree\r\n\r\n    static Build<T>(item: T): TreeItem<T> {\r\n        return <TreeItem<T>>{\r\n            item: item,\r\n            id: item['id'],\r\n            order: item['order'],\r\n            parentId: item['parentId']\r\n        };\r\n    }\r\n\r\n    constructor(public item: T, public parent?: T) {\r\n\r\n    }\r\n\r\n    get hasParent(): boolean {\r\n        return this.parentId ? true : false;\r\n    }\r\n\r\n    get sortOrder(): number {\r\n        return this.parentId ? this.treeId + (.1 * this.order) : this.treeId;\r\n    }\r\n\r\n    get treeOrder(): number {\r\n        return this.parentId ? this.order : 0;\r\n    }\r\n}\r\n\r\nexport class Tree<T> {\r\n    _activeId = 0;\r\n    _activeIndex = -1;\r\n\r\n    static FindParent<T>(items: TreeItem<T>[], item: TreeItem<T>): TreeItem<T> {\r\n        return items.find(x => x.id === item.parentId) || new TreeItem<T>(<T>{});\r\n    }\r\n\r\n    static FindParentOrder<T>(items: TreeItem<T>[], item: TreeItem<T>): number {\r\n        const parent = Tree.FindParent(items, item);\r\n        return parent.order;\r\n    }\r\n\r\n    static Build<T>(items: TreeItem<T>[], ctor: TypeConstructor<T>): Tree<T> {\r\n        const treeItems = items.reduce((acc, item) => {\r\n            item.treeId = item.parentId ? Tree.FindParentOrder(items, item) : item.order;\r\n            const treeItem = Object.assign(new TreeItem<T>(<T>{}), item);\r\n            return [...acc, treeItem];\r\n        }, []);\r\n        const orderedItems = items.sort((a, b) => compareNumbers(a.sortOrder, b.sortOrder))\r\n            .reduce((acc: TreeItem<T>[], treeItem: TreeItem<T>, index: number) => {\r\n                const item = treeItem.item;\r\n                const parent = treeItem.parent;\r\n                return [...acc, <TreeItem<T>>Object.assign(new TreeItem<T>(item, parent), treeItem, { index })];\r\n            }, []);\r\n        return new Tree<T>(orderedItems, ctor);\r\n    }\r\n\r\n    constructor(private _treeItems: TreeItem<T>[], public ctor: TypeConstructor<T>) {\r\n    }\r\n\r\n    get activeId(): number {\r\n        return this._activeId;\r\n    }\r\n\r\n    set activeId(id: number) {\r\n        this._activeId = id;\r\n        this._activeIndex = this.getIndexById(id);\r\n    }\r\n\r\n    get activeIndex(): number {\r\n        return this._activeIndex;\r\n    }\r\n\r\n    set activeIndex(index: number) {\r\n        this._activeIndex = index;\r\n        this._activeId = this.getIdByIndex(index);\r\n    }\r\n\r\n    get copy(): Tree<T> {\r\n        return Object.assign(new Tree<T>(this._treeItems, this.ctor), this);\r\n    }\r\n\r\n    get instance(): T {\r\n        return new this.ctor() || <T>{};\r\n    }\r\n\r\n    get next(): TreeItem<T> {\r\n        return this.getNext(this.activeIndex);\r\n    }\r\n\r\n    get nextId(): number {\r\n        return this.next.id;\r\n    }\r\n\r\n    get nextIndex(): number {\r\n        return this.activeIndex + 1;\r\n    }\r\n\r\n    get previous(): TreeItem<T> {\r\n        return this.getPrevious(this.activeIndex);\r\n    }\r\n\r\n    get previousId(): number {\r\n        return this.previous.id;\r\n    }\r\n\r\n    get previousIndex(): number {\r\n        return this.activeIndex - 1;\r\n    }\r\n\r\n    get items(): T[] {\r\n        return this._treeItems.map(x => x.item);\r\n    }\r\n\r\n    get treeItems(): TreeItem<T>[] {\r\n        return this._treeItems;\r\n    }\r\n\r\n    get orderedItems(): TreeItem<T>[] {\r\n        return this.treeItems.sort((a, b) => compareNumbers(a.index, b.index));\r\n    }\r\n\r\n    get subtrees(): Tree<T>[] {\r\n        const trees = this.treeItems.reduce((acc, item) => {\r\n            const treeId = item.treeId;\r\n            const subitems = acc[treeId] || [];\r\n            acc[treeId] = [...subitems, item];\r\n            return acc;\r\n        }, {});\r\n        return Object.keys(trees).map(key => Tree.Build(trees[key], this.ctor));\r\n    }\r\n\r\n    get subtreeItems(): TreeItem<T>[][] {\r\n        return this.subtrees.map(tree => tree.treeItems.sort((a, b) => compareNumbers(a.index, b.index)));\r\n    }\r\n\r\n    getIdByIndex(index: number): number {\r\n        const item = this.getItemByIndex(index);\r\n        return item.id;\r\n    }\r\n\r\n    getIndexById(id: number): number {\r\n        return this.getItemById(id).index;\r\n    }\r\n\r\n    getItemById(id: number): TreeItem<T> {\r\n        return this.treeItems.find(item => item.id === id) || new TreeItem<T>(this.instance);\r\n    }\r\n\r\n    getItemByIndex(index: number): TreeItem<T> {\r\n        return this.treeItems.find(item => item.index === index) || new TreeItem<T>(this.instance);\r\n    }\r\n\r\n    getNext(index: number): TreeItem<T> {\r\n        return this.getItemByIndex(index + 1);\r\n    }\r\n\r\n    getNextId(index: number): number {\r\n        return this.getNext(index).id;\r\n    }\r\n\r\n    getPrevious(index: number): TreeItem<T> {\r\n        return this.getItemByIndex(index - 1);\r\n    }\r\n\r\n    getPreviousId(index: number): number {\r\n        return this.getPrevious(index).id;\r\n    }\r\n}\r\n","import { Validators as NgValidators } from '@angular/forms';\r\n\r\nimport { Metadata } from './models';\r\nimport { Token } from './token';\r\nimport { build } from './utils';\r\nimport {\r\n  confirmPasswordValidator,\r\n  Validators,\r\n  passwordValidator\r\n} from '../forms/validators';\r\n\r\nexport class User {\r\n  id = 0;\r\n  email = '';\r\n  firstName = '';\r\n  lastName = '';\r\n}\r\n\r\nexport class CurrentUser extends User {\r\n  lastActive: Date;\r\n  token: Token = new Token();\r\n\r\n  static Build(data: CurrentUser): CurrentUser {\r\n    const token = data && data.token ? build(Token, data.token) : new Token();\r\n    return build(CurrentUser, data, { token });\r\n  }\r\n\r\n  get authenticated(): boolean {\r\n    return this.token && this.token.authenticated;\r\n  }\r\n\r\n  set fullName(value: string) {\r\n  }\r\n\r\n  get fullName(): string {\r\n    return `${this.firstName} ${this.lastName}`;\r\n  }\r\n\r\n  set userRoles(value: UserRoles) {\r\n  }\r\n\r\n  get userRoles(): UserRoles {\r\n    return new UserRoles(this);\r\n  }\r\n}\r\n\r\nexport class UserRoles {\r\n  constructor(public user: CurrentUser = new CurrentUser()) { }\r\n}\r\n\r\nexport class Login {\r\n  grant_type = 'password';\r\n  email = '';\r\n  password = '';\r\n}\r\n\r\nexport class NewUser {\r\n  email = '';\r\n  password = '';\r\n  confirmPassword = '';\r\n  firstName = '';\r\n  lastName = '';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: [],\r\n      validators: [confirmPasswordValidator],\r\n      firstName: {\r\n        validators: [NgValidators.required]\r\n      },\r\n      lastName: {\r\n        validators: [NgValidators.required]\r\n      },\r\n      email: {\r\n        validators: [NgValidators.required, Validators.email]\r\n      },\r\n      password: {\r\n        validators: [NgValidators.required, passwordValidator]\r\n      },\r\n      confirmPassword: {\r\n        validators: [NgValidators.required]\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport class ResetPassword {\r\n  passwordResetCode = '';\r\n  password = '';\r\n  confirmPassword = '';\r\n}\r\n","import { Action } from '../store/models';\r\n\r\nexport class StorageActions {\r\n    static UPDATE_LOCAL_STORAGE = '[Storage] Update Local Storage';\r\n    static UPDATE_SESSION_STORAGE = '[Storage] Update Session Storage';\r\n    static INIT_STORE = '[Storage] Init Store';\r\n\r\n    static initStore(localStore: any, sessionStore: any): Action {\r\n        return {\r\n            type: StorageActions.INIT_STORE,\r\n            payload: { localStore, sessionStore }\r\n        };\r\n    }\r\n\r\n}\r\n","import { Action } from '../store/models';\r\n\r\nexport class ActionStore {\r\n    store: any;\r\n    constructor(public lastAction: Action) {\r\n    }\r\n}\r\n\r\nexport class Storage {\r\n    [key: string]: any;\r\n    localStore: any = {};\r\n    sessionStore: any = {};\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { StorageActions } from './storage.actions';\r\nimport { ActionStore } from './storage.models';\r\nimport { STORE_KEY } from './storage.module';\r\nimport { Action } from '../store/models';\r\nimport { build, inArray, filterState } from '../shared/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StorageService {\r\n\r\n  localStorageActions: string[] = [];\r\n  sessionStorageActions: string[] = [];\r\n  localStorageMapper: (state: any) => any = s => s;\r\n  sessionStorageMapper: (state: any) => any = s => s;\r\n\r\n  constructor(public store: Store<any>, @Inject(STORE_KEY) public storeKey: string) {\r\n  }\r\n\r\n  get localStore(): any {\r\n    return localStorage.getItem(this.storeKey);\r\n  }\r\n\r\n  get sessionStore(): any {\r\n    return sessionStorage.getItem(this.storeKey);\r\n  }\r\n\r\n  get storage(): Storage {\r\n    const localStore = this.localStore;\r\n    const sessionStore = this.sessionStore;\r\n    return build(Storage, Object.assign({}, localStore, sessionStore), {\r\n      localStore,\r\n      sessionStore\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initialize the use of local storage and/or session storage\r\n   * @param localStorageMapper Mapper function for mapping state to local store\r\n   * @param sessionStorageMapper Mapper function for mapping state to session store\r\n   * @param localStorageActions Actions after which to save to local storage\r\n   * @param sessionStorageActions Actions after which to save to session storage\r\n   */\r\n  init(localStorageMapper: (state: any) => any = s => s, sessionStorageMapper: (state: any) => any = s => s, localStorageActions = [], sessionStorageActions = []) {\r\n    const localStore = this.initLocalStore(localStorageMapper, localStorageActions);\r\n    const sessionStore = this.initSessionStore(sessionStorageMapper, sessionStorageActions);\r\n    this.store.dispatch(StorageActions.initStore(localStore, sessionStore));\r\n  }\r\n\r\n  /**\r\n   * Initialize the use of local storage\r\n   * @param localStorageMapper Mapper function for mapping state to local store\r\n   * @param localStorageActions Actions after which to save to local storage\r\n   */\r\n  initLocalStore(localStorageMapper: (state: any) => any = s => s, localStorageActions = []): any {\r\n    this.localStorageMapper = localStorageMapper;\r\n    this.localStorageActions = localStorageActions;\r\n    const ls = this.localStore;\r\n    const localStore = ls ? JSON.parse(ls) : {};\r\n    return localStore;\r\n  }\r\n\r\n  /**\r\n   * Initialize the use of session storage\r\n   * @param sessionStorageMapper Mapper function for mapping state to session store\r\n   * @param sessionStorageActions Actions after which to save to session storage\r\n   */\r\n  initSessionStore(sessionStorageMapper: (state: any) => any = s => s, sessionStorageActions = []) {\r\n    this.sessionStorageMapper = sessionStorageMapper;\r\n    this.sessionStorageActions = sessionStorageActions;\r\n    const ss = this.sessionStore;\r\n    const sessionStore = ss ? JSON.parse(ss) : {};\r\n    return sessionStorage;\r\n  }\r\n\r\n  inLocalStorage(actionType: string): boolean {\r\n    return inArray(this.localStorageActions, actionType);\r\n  }\r\n\r\n  inSessionStorage(actionType: string): boolean {\r\n    return inArray(this.sessionStorageActions, actionType);\r\n  }\r\n\r\n  /**\r\n   * Store state to local storage.\r\n   */\r\n  storeLocal(state: any, action: Action) {\r\n    try {\r\n      // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n      const filteredState = Object.assign(\r\n        filterState(new ActionStore(action)),\r\n        filterState(Object.assign({},\r\n          this.localStorageMapper(state))));\r\n      const serializedState = JSON.stringify(filteredState);\r\n      localStorage.removeItem(this.storeKey);\r\n      localStorage.setItem(this.storeKey, serializedState);\r\n    } catch (err) {\r\n      console.error(`ERROR SAVING LOCAL STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Store state to session storage.\r\n   */\r\n  storeSession(state: any, action: Action) {\r\n    try {\r\n      // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n      // const filteredState = this.filterState(Object.assign({}, state));\r\n      const filteredState = Object.assign(\r\n        filterState(new ActionStore(action)),\r\n        filterState(Object.assign({},\r\n          this.sessionStorageMapper(state))));\r\n      const serializedState = JSON.stringify(filteredState);\r\n      localStorage.removeItem(this.storeKey);\r\n      sessionStorage.setItem(this.storeKey, serializedState);\r\n    } catch (err) {\r\n      console.error(`ERROR SAVING SESSION STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Effect, ofType, Actions } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map, filter, withLatestFrom } from 'rxjs/operators';\r\n\r\nimport { StorageActions } from './storage.actions';\r\nimport { StorageService } from './storage.service';\r\nimport { Action } from '../store/models';\r\nimport { toPayload } from '../shared/utils';\r\n\r\n\r\n@Injectable()\r\nexport class StorageEffects {\r\n\r\n    actionTypes: string[];\r\n\r\n    /**\r\n     * Listens for dispatched actions, updates local storage in response.\r\n     */\r\n    @Effect() onSyncLocalStorage: Observable<Action> = this.actions$.pipe(\r\n        filter((action: Action) => this.service.inLocalStorage(action.type)),\r\n        map(action => ({\r\n            type: StorageActions.UPDATE_LOCAL_STORAGE,\r\n            payload: action\r\n        }))\r\n    );\r\n\r\n    /**\r\n     * Listens for dispatched actions, updates session storage in response.\r\n     */\r\n    @Effect() onSyncSessionStorage: Observable<Action> = this.actions$.pipe(\r\n        filter((action: Action) => this.service.inSessionStorage(action.type)),\r\n        map(action => ({\r\n            type: StorageActions.UPDATE_SESSION_STORAGE,\r\n            payload: action\r\n        }))\r\n    );\r\n\r\n    /**\r\n     * Stores state to local storage after each action.\r\n     */\r\n    @Effect({ dispatch: false }) onStoreLocal: Observable<void> = this.actions$.pipe(\r\n        ofType(StorageActions.UPDATE_LOCAL_STORAGE),\r\n        map(toPayload),\r\n        withLatestFrom(this.state$, (action: Action, state: any) => {\r\n            this.service.storeLocal(state, action);\r\n        })\r\n    );\r\n\r\n    /**\r\n     * Stores state to local storage after each action.\r\n     */\r\n    @Effect({ dispatch: false }) onStoreSession: Observable<void> = this.actions$.pipe(\r\n        ofType(StorageActions.UPDATE_SESSION_STORAGE),\r\n        map(toPayload),\r\n        withLatestFrom(this.state$, (action: Action, state: any) => {\r\n            this.service.storeSession(state, action);\r\n        })\r\n    );\r\n\r\n    constructor(\r\n        private actions$: Actions,\r\n        private service: StorageService,\r\n        private state$: Store<any>\r\n    ) { }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { StorageEffects } from './storage.effects';\r\nimport { StorageService } from './storage.service';\r\n\r\nexport const STORE_KEY = new InjectionToken<string>('Local/Session Storage Key');\r\n\r\nexport function storageServiceFactory(store: Store<any>, storeKey: string): StorageService {\r\n  return new StorageService(store, storeKey);\r\n}\r\n\r\nexport function provideStorage(storeKey: string): any[] {\r\n  return [\r\n    StorageEffects,\r\n    { provide: StorageService, useFactory: storageServiceFactory, deps: [Store, STORE_KEY] },\r\n    { provide: STORE_KEY, useValue: storeKey },\r\n  ];\r\n}\r\n\r\n@NgModule()\r\nexport class StorageModule {\r\n\r\n  /**\r\n   * Provides StorageModule with storage service and effects.\r\n   * @param storeKey - The name of the key containing the store in storage.\r\n   */\r\n  static forRoot(storeKey: string): ModuleWithProviders<StorageModule> {\r\n    return {\r\n      ngModule: StorageModule,\r\n      providers: provideStorage(storeKey)\r\n    };\r\n  }\r\n\r\n}\r\n","import { NgModule, InjectionToken, ModuleWithProviders } from '@angular/core';\r\nimport { StoreModule as NgrxStoreModule, ActionReducer, Action, ActionReducerMap } from '@ngrx/store';\r\n\r\n@NgModule({\r\n  imports: [\r\n    NgrxStoreModule,\r\n  ],\r\n  declarations: [],\r\n  exports: [\r\n    NgrxStoreModule,\r\n  ]\r\n})\r\nexport class StoreModule {\r\n\r\n  static forRoot<T, V extends Action = Action>(reducers: ActionReducerMap<T, V> | InjectionToken<ActionReducerMap<T, V>>, config?: any): ModuleWithProviders<StoreModule> {\r\n    return NgrxStoreModule.forRoot(reducers, config);\r\n  }\r\n\r\n  static forFeatures<T, V extends Action = Action>(featureName: string, reducers: ActionReducerMap<T, V> | InjectionToken<ActionReducerMap<T, V>>, config?: any): ModuleWithProviders<StoreModule> {\r\n    return NgrxStoreModule.forFeature(featureName, reducers, config);\r\n  }\r\n\r\n  static forFeature<T, V extends Action = Action>(featureName: string, reducer: ActionReducer<T, V> | InjectionToken<ActionReducer<T, V>>, config?: any): ModuleWithProviders<StoreModule> {\r\n    return NgrxStoreModule.forFeature(featureName, reducer, config);\r\n  }\r\n\r\n}\r\n","import {\r\n  WindowActions,\r\n  ConfigActions,\r\n  SidenavActions,\r\n  FormActions,\r\n  RedirectActions,\r\n  ViewSettingsActions\r\n} from './actions';\r\nimport { Action, Redirects, ViewSettings } from './models';\r\nimport { Config } from '../shared/config';\r\nimport { build } from '../shared/utils';\r\nimport { Window, WindowResize } from '../shared/window';\r\n\r\nexport function configReducer(\r\n  state: Config = new Config(),\r\n  action: Action\r\n): Config {\r\n  switch (action.type) {\r\n    case ConfigActions.INITIALIZE:\r\n      return build(Config, state, action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function formReducer(state: any = {}, action: Action): any {\r\n  switch (action.type) {\r\n    case FormActions.SAVE:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function redirectsReducer(\r\n  state: Redirects = new Redirects(),\r\n  action: Action\r\n): Redirects {\r\n  switch (action.type) {\r\n    case RedirectActions.ADD:\r\n      return state.add(action.payload);\r\n\r\n    case RedirectActions.UPDATE:\r\n      return state.update(action.payload);\r\n\r\n    case RedirectActions.REMOVE:\r\n      return state.remove(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function sidenavReducer(state = false, action: Action): boolean {\r\n  switch (action.type) {\r\n    case SidenavActions.CLOSE:\r\n      return false;\r\n\r\n    case SidenavActions.OPEN:\r\n      return true;\r\n\r\n    case SidenavActions.TOGGLE:\r\n      return !state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function viewSettingsReducer(\r\n  state: ViewSettings = new ViewSettings(),\r\n  action: Action\r\n): ViewSettings {\r\n  switch (action.type) {\r\n    case ViewSettingsActions.CHANGETHEME:\r\n      return build(ViewSettings, { theme: action.payload });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function windowReducer(\r\n  state: Window = new Window(),\r\n  action: Action\r\n): Window {\r\n  switch (action.type) {\r\n    case WindowActions.RESIZE:\r\n      return build(Window, state, <WindowResize>action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Collection } from '../shared/collection';\r\nimport { build } from '../shared/utils';\r\n\r\nexport class Widget {\r\n  id = 0;\r\n  active = false;\r\n  name = '';\r\n  userId = 0;\r\n  height = 0;\r\n  heightPx = 0;\r\n  justifyX: 'LEFT' | 'RIGHT' | 'CENTER';\r\n  justifyY: 'TOP' | 'BOTTOM' | 'CENTER';\r\n  offsetX = 0;\r\n  label = '';\r\n  left = 0;\r\n  offsetY = 0;\r\n  showIcons = false;\r\n  top = 0;\r\n  width = 0;\r\n  widthPx = 0;\r\n  zIndex = 0;\r\n}\r\n\r\nexport class Widgets extends Collection<Widget> {\r\n\r\n  borderWidth = 10;\r\n\r\n  constructor() {\r\n    super(Widget);\r\n  }\r\n\r\n  delete(id: number): Widgets {\r\n    return build(Widgets, super.delete(id));\r\n  }\r\n\r\n  hideIcons(id: number): Widgets {\r\n    const existing = this.get(id);\r\n    return build(Widgets, super.update(build(Widget, existing, { showIcons: false })));\r\n  }\r\n\r\n  replace(data: Widget[]): Widgets {\r\n    return build(Widgets, super.replace(data.map(x => build(Widget, x, {\r\n      showIcons: build(Widget, this.get(x.id)).showIcons\r\n    }))));\r\n  }\r\n\r\n  showIcons(id: number): Widgets {\r\n    const existing = this.get(id);\r\n    return build(Widgets, super.update(build(Widget, existing, { showIcons: true })));\r\n  }\r\n\r\n  update(data: Widget | Widget[]): Widgets {\r\n    const items = Array.isArray(data) ? data.map(x => build(Widget, x, {\r\n      showIcons: build(Widget, this.get(x.id)).showIcons\r\n    })) : build(Widget, data, {\r\n      showIcons: build(Widget, this.get(data.id)).showIcons\r\n    });\r\n    return build(Widgets, super.update(items));\r\n  }\r\n\r\n  getDefaultItems(h: number, w: number): Widget[] {\r\n    return [];\r\n  }\r\n\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { combineLatest, Observable } from 'rxjs';\r\nimport { distinctUntilChanged, map } from 'rxjs/operators';\r\n\r\nimport { LookupValue } from '../lookup/lookup.models';\r\nimport { lookupValuesSelector } from '../lookup/lookup.selectors';\r\nimport { arrayDistinct, build, compareNumbers, truthy } from '../shared/utils';\r\nimport { Action } from '../store/models';\r\nimport { windowHeightSelector, windowWidthSelector } from '../store/selectors';\r\nimport { Widget, Widgets } from './widgets.model';\r\n\r\nexport class WidgetsActions {\r\n  static DELETE = '[Widgets] DELETE';\r\n  static GET = '[Widgets] GET';\r\n  static POST = '[Widgets] POST';\r\n  static POST_ERROR = '[Widgets] POST ERROR';\r\n  static PUT = '[Widgets] PUT';\r\n  static RESET = '[Widgets] RESET';\r\n  static RESET_ERROR = '[Widgets] RESET ERROR';\r\n  static SHOW_ICONS = '[Widgets] SHOW ICONS';\r\n  static HIDE_ICONS = '[Widgets] HIDE ICONS';\r\n\r\n  static toggleIcons(id: number, visible: boolean): Action {\r\n    return {\r\n      type: visible ? WidgetsActions.SHOW_ICONS : WidgetsActions.HIDE_ICONS,\r\n      payload: id\r\n    };\r\n  }\r\n}\r\n\r\nexport function widgetsReducer(state: Widgets = new Widgets(), action: Action): Widgets {\r\n  switch (action.type) {\r\n\r\n    case WidgetsActions.POST:\r\n    case WidgetsActions.PUT:\r\n      return state.update(action.payload);\r\n\r\n    case WidgetsActions.GET:\r\n    case WidgetsActions.RESET:\r\n      return state.replace(action.payload);\r\n\r\n    case WidgetsActions.DELETE:\r\n      return state.delete(action.payload);\r\n\r\n    case WidgetsActions.SHOW_ICONS:\r\n      return state.showIcons(action.payload);\r\n\r\n    case WidgetsActions.HIDE_ICONS:\r\n      return state.hideIcons(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function widgetsSelector(store: Store<any>): Observable<Widgets> {\r\n  return store.select('widgets');\r\n}\r\n\r\nexport function userWidgetsSelector(store: Store<any>): Observable<Widget[]> {\r\n  return combineLatest([widgetsSelector(store), lookupValuesSelector(store, 'lkpWidgets'), windowHeightSelector(store), windowWidthSelector(store)]).pipe(\r\n    map(z => {\r\n      const userWidgets = arrayDistinct(z[0].asArray.map(x => build(Widget, x, {\r\n        label: build(LookupValue, z[1].find(y => y.name === x.name)).label,\r\n        left: x.offsetX * z[3],\r\n        top: x.offsetY * z[2],\r\n        heightPx: x.height === 0 ? 400 : x.height * z[2],\r\n        widthPx: x.width === 0 ? 500 : x.width * z[3]\r\n      })), x => x.name);\r\n      return userWidgets.length > 0 ? userWidgets : z[0].getDefaultItems(z[2], z[3]);\r\n    })\r\n  );\r\n}\r\n\r\nexport function widgetsLookupSelector(store: Store<any>): Observable<Widget[]> {\r\n  return combineLatest([lookupValuesSelector(store, 'lkpWidgets'), userWidgetsSelector(store)]).pipe(\r\n    map(x => {\r\n      return x[0].map(y => {\r\n        const widget = x[1].find(w => w.name === y.name);\r\n        return build(Widget, widget, {\r\n          label: y.label,\r\n          name: y.name,\r\n          active: truthy(widget)\r\n        });\r\n      }\r\n      )\r\n        .sort((a, b) => compareNumbers(-a.id, -b.id));\r\n    })\r\n  );\r\n}\r\n\r\nexport function widgetsDefaultSelector(store: Store<any>): Observable<Widget[]> {\r\n  return combineLatest([widgetsSelector(store), windowHeightSelector(store), windowWidthSelector(store)]).pipe(\r\n    map(x => x[0].getDefaultItems(x[1], x[2]))\r\n  );\r\n}\r\n\r\nexport function widgetsBorderWidthSelector(store: Store<any>): Observable<number> {\r\n  return widgetsSelector(store).pipe(\r\n    map(x => x.borderWidth),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function widgetsHeightSelector(store: Store<any>): Observable<number> {\r\n  return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(\r\n    map(x => x[0].reduce((acc, y) => {\r\n      const topPx = y.top + y.heightPx + 2 * x[1];\r\n      return Math.max(acc, topPx);\r\n    }, 0)));\r\n}\r\n\r\nexport function widgetsWidthSelector(store: Store<any>): Observable<number> {\r\n  return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(\r\n    map(x => {\r\n      return x[0].reduce((acc, y) => {\r\n        const topPx = y.top + y.heightPx + 2 * x[1];\r\n        return Math.max(acc, topPx);\r\n      }, 0);\r\n    })\r\n  );\r\n}\r\n\r\nexport function hasDefaultWidgetsSelector(store: Store<any>): Observable<boolean> {\r\n  return widgetsSelector(store).pipe(\r\n    map(x => x.asArray.length === 0)\r\n  );\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ElementRef, ViewChild, AfterViewInit, OnChanges } from '@angular/core';\r\nimport { CdkDragEnd } from '@angular/cdk/drag-drop';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { WidgetsActions } from '../widgets.reducer';\r\nimport { SmartComponent } from '../../shared/component';\r\n\r\n@Component({\r\n  selector: 'iu-widget',\r\n  templateUrl: './widget.component.html',\r\n  styleUrls: ['./widget.component.scss'],\r\n  animations: [\r\n    trigger('toggle', [state('show', style({ width: '237px' })), state('hide', style({ width: '0px' })), transition('show <=> hide', [animate('300ms ease-out')])])\r\n  ]\r\n})\r\nexport class WidgetComponent extends SmartComponent implements OnInit, OnChanges, AfterViewInit {\r\n\r\n  @Input() borderWidth = 10;\r\n  @Input() heading = '';\r\n  @Input() id = 0;\r\n  @Input() isFocused = false;\r\n  @Input() key = '';\r\n  @Input() widthPx = 600;\r\n  @Input() heightPx = 300;\r\n  _top = 0;\r\n  _left = 0;\r\n  @Input() scrollLeft = 0;\r\n  @Input() scrollTop = 0;\r\n  @Input() startX = 0;\r\n  @Input() startY = 0;\r\n  @Input() zIndex = 1;\r\n  @Input() nextZIndex = 1;\r\n  @Output() dropped = new EventEmitter();\r\n  @Output() justifyLeft = new EventEmitter();\r\n  @Output() justifyRight = new EventEmitter();\r\n  @Output() justifyCenter = new EventEmitter();\r\n  @Output() justifyTop = new EventEmitter();\r\n  @Output() justifyBottom = new EventEmitter();\r\n  @Output() justifyCenterVertical = new EventEmitter();\r\n  @Output() focused = new EventEmitter<number>();\r\n  @Output() remove = new EventEmitter();\r\n  @Output() resized = new EventEmitter();\r\n  @Output() toFullScreen = new EventEmitter();\r\n  @ViewChild('widgetWrapper') widgetWrapperEl: ElementRef;\r\n  cursorStyle = 'move';\r\n  dragging = false;\r\n  _hasIcons = false;\r\n  hovering = false;\r\n  mouseBottom = false;\r\n  mouseLeft = false;\r\n  mouseRight = false;\r\n  mouseTop = false;\r\n  pageX = 0;\r\n  pageY = 0;\r\n  _resizable = false;\r\n  resizing = false;\r\n  _scrollbarYVisible = false;\r\n  scrollbarWidth = 12;\r\n  showIcons = false;\r\n  wrapperWidth = 55;\r\n\r\n  constructor(public store: Store<any>) {\r\n    super(store);\r\n  }\r\n\r\n  @Input()\r\n  set left(value: number) {\r\n    this._left = value;\r\n  }\r\n\r\n  get left(): number {\r\n    return this._left;\r\n  }\r\n\r\n  @Input()\r\n  set top(value: number) {\r\n    this._top = value;\r\n  }\r\n\r\n  get top(): number {\r\n    return this._top;\r\n  }\r\n\r\n  get headingLeftPx(): number {\r\n    return this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 2 : this.borderWidth === 2 ? 1 : 0) + 10;\r\n  }\r\n\r\n  get headingTopPx(): number {\r\n    return 67 - Math.min(3, this.borderWidth) - this.borderWidth + 1;\r\n  }\r\n\r\n  get iconsRightPx(): number {\r\n    const px = this.iconsTop ? this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 1 : 0) + this.borderWidth : 55;\r\n    return this.scrollbarYVisible ? px + this.scrollbarWidth : px;\r\n  }\r\n\r\n  get iconsTop(): boolean {\r\n    return this.widthPx > 500 || this.heightPx < 300;\r\n  }\r\n\r\n  get iconsTopPx(): number {\r\n    return this.iconsTop ? 61 + Math.min(3, this.borderWidth) - this.borderWidth : this.wrapperWidth - 1;\r\n  }\r\n\r\n  get mini(): boolean {\r\n    return this.widthPx < 400 && this.heightPx < 250;\r\n  }\r\n\r\n  set resizable(value: boolean) {\r\n    this._resizable = value;\r\n  }\r\n\r\n  get resizable(): boolean {\r\n    return this._resizable;\r\n  }\r\n\r\n  set scrollbarYVisible(value: boolean) {\r\n    this._scrollbarYVisible = value;\r\n  }\r\n\r\n  get scrollbarYVisible(): boolean {\r\n    return this._scrollbarYVisible;\r\n  }\r\n\r\n  @Input()\r\n  set hasIcons(value: boolean) {\r\n    if (value !== this._hasIcons) {\r\n      setTimeout(() => {\r\n        this._hasIcons = value;\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  get hasIcons(): boolean {\r\n    return this._hasIcons;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n    }, 0);\r\n  }\r\n\r\n  ngOnChanges() {\r\n    setTimeout(() => {\r\n      this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n    }, 0);\r\n  }\r\n\r\n  onDrag() {\r\n    this.zIndex = this.nextZIndex;\r\n    this.dragging = true;\r\n  }\r\n\r\n  onDrop(e: CdkDragEnd) {\r\n    this.dropped.emit(Object.assign({}, e.distance, { zIndex: this.zIndex }));\r\n    setTimeout(() => {\r\n      this.dragging = false;\r\n    });\r\n  }\r\n\r\n  onFocus() {\r\n    if (!this.dragging && !this.resizing && !this.isFocused) {\r\n      this.zIndex = this.nextZIndex;\r\n      this.focused.emit(this.id);\r\n    }\r\n    this.showIcons = true;\r\n    setTimeout(() => {\r\n      this.showIcons = false;\r\n    }, 5000);\r\n  }\r\n\r\n  onMousedown(e) {\r\n    if (this.resizable) {\r\n      this.resizing = true;\r\n    }\r\n  }\r\n\r\n  onMousemove(e) {\r\n    this.pageX = e.pageX;\r\n    this.pageY = e.pageY;\r\n    if (this.resizing) {\r\n      this.onResize();\r\n    } else {\r\n      this.refreshCursorStyle();\r\n    }\r\n  }\r\n\r\n  onMouseout(e) {\r\n    this.onMouseup(e);\r\n    this.hovering = false;\r\n  }\r\n\r\n  onMouseup(e) {\r\n    if (this.resizing) {\r\n      this.resized.emit({\r\n        top: this.top,\r\n        left: this.left,\r\n        heightPx: this.heightPx,\r\n        widthPx: this.widthPx,\r\n        zIndex: this.nextZIndex\r\n      });\r\n    }\r\n    setTimeout(() => {\r\n      this.resizing = false;\r\n    });\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit({\r\n      id: this.id,\r\n      key: this.key\r\n    });\r\n  }\r\n\r\n  onResize() {\r\n    const dY = this.top - ((this.pageY + this.scrollTop) - this.startY);\r\n    const dX = this.left - (this.pageX - this.startX);\r\n    if (this.mouseTop) {\r\n      this.top = this.top - dY;\r\n      this.heightPx = this.heightPx + dY;\r\n    }\r\n    if (this.mouseBottom) {\r\n      this.heightPx = (this.pageY + this.scrollTop) - this.startY - this.top;\r\n    }\r\n    if (this.mouseLeft) {\r\n      this.left = this.left - dX;\r\n      this.widthPx = this.widthPx + dX;\r\n    }\r\n    if (this.mouseRight) {\r\n      this.widthPx = this.pageX - this.startX - this.left;\r\n    }\r\n  }\r\n\r\n  refreshCursorStyle() {\r\n    this.mouseLeft = this.left + this.startX - this.pageX >= 0\r\n      && this.left + this.startX - this.pageX <= this.borderWidth;\r\n    this.mouseRight = this.pageX - (this.widthPx + this.left + this.startX) >= 0\r\n      && this.pageX - (this.widthPx + this.left + this.startX) <= this.borderWidth;\r\n    this.mouseTop = this.top + this.startY - (this.pageY + this.scrollTop) >= 0\r\n      && this.top + this.startY - (this.pageY + this.scrollTop) <= this.borderWidth;\r\n    this.mouseBottom = (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) >= 0\r\n      && (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) <= this.borderWidth;\r\n    if (this.mouseTop && this.mouseLeft) { // top-left\r\n      this.cursorStyle = 'nw-resize';\r\n    } else if (this.mouseBottom && this.mouseRight) { // bottom-right\r\n      this.cursorStyle = 'se-resize';\r\n    } else if (this.mouseBottom && this.mouseLeft) { // bottom-left\r\n      this.cursorStyle = 'sw-resize';\r\n    } else if (this.mouseTop && this.mouseRight) { // top-right\r\n      this.cursorStyle = 'ne-resize';\r\n    } else if (this.mouseTop) { // top\r\n      this.cursorStyle = 'n-resize';\r\n    } else if (this.mouseBottom) { // bottom\r\n      this.cursorStyle = 's-resize';\r\n    } else if (this.mouseLeft) { // left\r\n      this.cursorStyle = 'w-resize';\r\n    } else if (this.mouseRight) { // right\r\n      this.cursorStyle = 'e-resize';\r\n    } else if (this.showIcons) {\r\n      this.cursorStyle = 'move';\r\n    } else {\r\n      this.cursorStyle = 'default';\r\n    }\r\n    this.resizable = this.cursorStyle !== 'move' && this.cursorStyle !== 'default';\r\n  }\r\n\r\n  onHideIcons() {\r\n    if (this.hasIcons === true) {\r\n      this.hasIcons = false;\r\n      this.dispatch(WidgetsActions.toggleIcons(this.id, false));\r\n    }\r\n  }\r\n\r\n  onShowIcons() {\r\n    if (this.hasIcons === false) {\r\n      this.hasIcons = true;\r\n      this.dispatch(WidgetsActions.toggleIcons(this.id, true));\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"wrapper\" [style.height.px]=\"heightPx + wrapperWidth + wrapperWidth\"\r\n  [style.width.px]=\"widthPx + wrapperWidth + wrapperWidth\" [style.top.px]=\"top - wrapperWidth\"\r\n  [style.left.px]=\"left - wrapperWidth\" [style.z-index]=\"zIndex\" (mouseenter)=\"hovering = true\"\r\n  (mousedown)=\"onMousedown($event)\" (mouseleave)=\"onMouseout($event)\" (mousemove)=\"onMousemove($event)\"\r\n  (mouseup)=\"onMouseup($event)\" (cdkDragEnded)=\"onDrop($event)\" (cdkDragStarted)=\"onDrag()\"\r\n  [cdkDragDisabled]=\"resizable\" cdkDrag>\r\n  <!-- <svg width=\"24px\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path d=\"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z\">\r\n    </path>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n  </svg> -->\r\n  <div class=\"widget scrollable\" [class.active]=\"isFocused\" [style.border-width.px]=\"borderWidth\"\r\n    [style.height.px]=\"heightPx\" [style.width.px]=\"widthPx\" [style.cursor]=\"cursorStyle\" (click)=\"onFocus()\"\r\n    #widgetWrapper>\r\n    <ng-content></ng-content>\r\n  </div>\r\n  <button class=\"icons-trigger\" *ngIf=\"!hasIcons && !mini && isFocused\" mat-button (click)=\"onShowIcons()\"\r\n    [class.open]=\"hasIcons\" [style.top.px]=\"iconsTopPx\" [style.right.px]=\"iconsRightPx\" [style.z-index]=\"zIndex + 1\">\r\n    <mat-icon>more_vert</mat-icon>\r\n  </button>\r\n  <h2 class=\"font-effect-emboss\" *ngIf=\"heading && borderWidth > 0\" [style.top.px]=\"headingTopPx\"\r\n    [style.left.px]=\"headingLeftPx\" [style.z-index]=\"zIndex + 1\">\r\n    {{ heading }}\r\n  </h2>\r\n  <div class=\"icons\" [class.top]=\"iconsTop\" [style.top.px]=\"iconsTopPx\" [style.right.px]=\"iconsRightPx\"\r\n    [style.z-index]=\"zIndex + 1\" [@toggle]=\"hasIcons ? 'show' : 'hide'\">\r\n    <mat-icon class=\"btn-collapse\" *ngIf=\"!mini\" (click)=\"onHideIcons()\">double_arrow</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyLeft.emit()\">format_align_left</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyCenter.emit()\">format_align_center</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyRight.emit()\">format_align_right</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyTop.emit()\">vertical_align_top</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyCenterVertical.emit()\">vertical_align_center</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyBottom.emit()\">vertical_align_bottom</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" class=\"expand\" (click)=\"toFullScreen.emit()\">fullscreen</mat-icon>\r\n    <mat-icon class=\"btn-remove\" (click)=\"onRemove()\">cancel</mat-icon>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, Output, EventEmitter, ElementRef, ViewChildren, QueryList, AfterViewInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Widget } from '../widgets.model';\r\nimport { WidgetsActions, widgetsLookupSelector, userWidgetsSelector, widgetsDefaultSelector, widgetsHeightSelector, hasDefaultWidgetsSelector } from '../widgets.reducer';\r\nimport { ConfirmDeleteComponent } from '../../components/dialog/confirm-delete/confirm-delete.component';\r\nimport { HttpActions } from '../../http/http.actions';\r\nimport { routeNameSelector } from '../../router/selectors';\r\nimport { SmartComponent } from '../../shared/component';\r\nimport { build } from '../../shared/utils';\r\nimport { windowHeightSelector, windowWidthSelector } from '../../store/selectors';\r\n\r\n@Component({\r\n  selector: 'iu-widgets-menu',\r\n  templateUrl: './widgets-menu.component.html',\r\n  styleUrls: ['./widgets-menu.component.scss']\r\n})\r\nexport class WidgetsMenuComponent extends SmartComponent implements OnInit, AfterViewInit {\r\n\r\n  @Input() increment = 3;\r\n  @Input() width = 300;\r\n  @Input() wrapperHeight = 0;\r\n  @Output() add = new EventEmitter<string>();\r\n  @Output() remove = new EventEmitter<number>();\r\n  @ViewChildren('btnWidget') widgetsList: QueryList<ElementRef>;\r\n  defaultWidgets: Widget[] = [];\r\n  defaultWidgets$: Observable<Widget[]>;\r\n  hasDefaultWidgets = true;\r\n  hasDefaultWidgets$: Observable<boolean>;\r\n  _index = 0;\r\n  lkpWidgets: Widget[] = [];\r\n  lkpWidgets$: Observable<Widget[]>;\r\n  restoringDefaults = false;\r\n  routeName$: Observable<string>;\r\n  _userId = 0;\r\n  visibleItems: Widget[] = [];\r\n  _widgets: Widget[] = [];\r\n  widgets$: Observable<Widget[]>;\r\n  widgetsHeight = 0;\r\n  widgetsHeight$: Observable<number>;\r\n  windowHeight = 0;\r\n  windowHeight$: Observable<number>;\r\n  windowWidth = 0;\r\n  windowWidth$: Observable<number>;\r\n  _elWidth = 0;\r\n  _visible = false;\r\n\r\n  constructor(public store: Store<any>, public el: ElementRef, public dialog: MatDialog) {\r\n    super(store);\r\n    this.defaultWidgets$ = widgetsDefaultSelector(store);\r\n    this.hasDefaultWidgets$ = hasDefaultWidgetsSelector(store);\r\n    this.lkpWidgets$ = widgetsLookupSelector(store);\r\n    this.routeName$ = routeNameSelector(store);\r\n    this.widgets$ = userWidgetsSelector(store);\r\n    this.widgetsHeight$ = widgetsHeightSelector(store);\r\n    this.windowHeight$ = windowHeightSelector(store);\r\n    this.windowWidth$ = windowWidthSelector(store);\r\n  }\r\n\r\n  @Input()\r\n  set visible(value: boolean) {\r\n    this._visible = value;\r\n  }\r\n\r\n  get visible(): boolean {\r\n    return this._visible;\r\n  }\r\n\r\n  @Input()\r\n  set userId(value: number) {\r\n    this._userId = value;\r\n  }\r\n\r\n  get userId(): number {\r\n    return this._userId;\r\n  }\r\n\r\n  get hostWidth(): number {\r\n    return this.el ? this.el.nativeElement.offsetWidth : 0;\r\n  }\r\n\r\n  set index(value: number) {\r\n    this._index = value;\r\n    this.toggle();\r\n  }\r\n\r\n  get index(): number {\r\n    return this._index;\r\n  }\r\n\r\n  get menuWidth(): number {\r\n    return this.hostWidth - 300;\r\n  }\r\n\r\n  get nextZIndex(): number {\r\n    return Math.max(...this.widgets.map(x => x.zIndex), 0) + 1;\r\n  }\r\n\r\n  get showBack(): boolean {\r\n    return this.index !== 0;\r\n  }\r\n\r\n  get showNext(): boolean {\r\n    return this.lkpWidgets.length > this.index + this.totalVisible;\r\n  }\r\n\r\n  get totalAfter(): number {\r\n    return this.lkpWidgets.length - (this.index + this.totalVisible);\r\n  }\r\n\r\n  get totalVisible(): number {\r\n    return Math.floor(this.menuWidth / 140);\r\n  }\r\n\r\n  set widgets(value: Widget[]) {\r\n    this._widgets = value;\r\n    // this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n    this.toggle();\r\n  }\r\n\r\n  get widgets(): Widget[] {\r\n    return this._widgets;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sync(['defaultWidgets', 'lkpWidgets', 'widgets', 'widgetsHeight', 'windowHeight', 'windowWidth', 'userId', 'hasDefaultWidgets']);\r\n  }\r\n\r\n  back() {\r\n    this.index -= this.totalVisible;\r\n  }\r\n\r\n  onAdd(e: string) {\r\n    const top = this.widgetsHeight + 20;\r\n    let w;\r\n    switch (e) {\r\n      case 'meetings':\r\n        w = build(Widget, {\r\n          name: 'meetings',\r\n          userId: this.userId,\r\n          label: 'Meetings',\r\n          left: 20,\r\n          top,\r\n          offsetY: top / this.windowHeight,\r\n          offsetX: 20 / this.windowWidth,\r\n          height: 500 / this.windowHeight,\r\n          width: .9,\r\n          heightPx: 500,\r\n          widthPx: .9 * this.windowWidth\r\n        });\r\n        break;\r\n      default:\r\n        w = build(Widget, {\r\n          name: e,\r\n          userId: this.userId,\r\n          offsetX: .25,\r\n          offsetY: top / this.windowHeight,\r\n          width: .5,\r\n          height: .5,\r\n          zIndex: this.nextZIndex,\r\n          top\r\n        });\r\n    }\r\n    if (this.hasDefaultWidgets) {\r\n      this.saveUserWidgets([...this.widgets, w]);\r\n    } else {\r\n      this.addWidget(w);\r\n    }\r\n  }\r\n\r\n  onFocus(e: number) {\r\n    this.updateWidget(build(Widget, this.widgets.find(x => x.id === e), { zIndex: this.nextZIndex }));\r\n  }\r\n\r\n  next() {\r\n    // this.index = this.totalAfter < this.increment ? this.index + this.totalAfter : this.index + this.increment;\r\n    this.index += this.totalVisible;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.toggle();\r\n  }\r\n\r\n  toggle() {\r\n    this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n  }\r\n\r\n  refresh() {\r\n\r\n  }\r\n\r\n  addWidget(e: Widget) {\r\n    this.dispatch(HttpActions.post(`widgets`, e, WidgetsActions.POST, WidgetsActions.POST_ERROR));\r\n    this.index = 0;\r\n  }\r\n\r\n  // not sure why deleteWidget is used when adding a widget. Adding isActive so the dialog only opens when deleting a widget.\r\n  deleteWidget(e: number, isActive: boolean) {\r\n    if (isActive) {\r\n      const ref = this.dialog.open(ConfirmDeleteComponent, {\r\n        width: '500px',\r\n        data: {\r\n          question: 'Would you like to remove this widget?'\r\n        }\r\n      })\r\n\r\n      ref.afterClosed().subscribe(result => {\r\n        if (result) {\r\n          this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n          this.index = 0;\r\n        }\r\n      })\r\n    } else {\r\n      this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n      this.index = 0;\r\n    }\r\n  }\r\n\r\n  updateWidget(e: Widget) {\r\n    this.dispatch(HttpActions.put(`widgets/${e.id}`, e, WidgetsActions.PUT));\r\n  }\r\n\r\n  restoreDefault() {\r\n    this.restoringDefaults = true;\r\n    this.httpPost(`widgets/user`, this.defaultWidgets, WidgetsActions.RESET, WidgetsActions.RESET_ERROR).subscribe(\r\n      x => {\r\n        this.restoringDefaults = false;\r\n      }\r\n    );\r\n    this.index = 0;\r\n  }\r\n\r\n  saveUserWidgets(e: Widget[]) {\r\n    this.dispatch(HttpActions.post(`widgets/user`, e, WidgetsActions.POST));\r\n    this.index = 0;\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"(routeName$ | async) === 'dashboard'\" class=\"widgets-menu\">\r\n  <button *ngIf=\"!restoringDefaults\" mat-raised-button class=\"btn-reset\" (click)=\"restoreDefault()\">\r\n    <mat-icon>settings_backup_restore</mat-icon>\r\n    Reset\r\n  </button>\r\n  <mat-spinner *ngIf=\"restoringDefaults\" color=\"accent\" [diameter]=\"30\"></mat-spinner>\r\n  <span class=\"hint font-effect-emboss\">Add Widgets to Dashboard:</span>\r\n  <button mat-fab class=\"arrow\" (click)=\"back()\" *ngIf=\"showBack\">\r\n    <mat-icon>navigate_before</mat-icon>\r\n  </button>\r\n  <!-- <mat-icon *ngIf=\"showBack\" class=\"more\">more_horiz</mat-icon> -->\r\n  <div class=\"widgets-list\" [style.width.px]=\"hostWidth\">\r\n    <button class=\"btn-widget font-effect-outline\" mat-button *ngFor=\"let w of visibleItems\" [disabled]=\"w.id !== 0\"\r\n      color=\"accent\" (click)=\"onAdd(w.name)\" #btnWidget>\r\n      <mat-icon *ngIf=\"!w.active\" class=\"btn-add\" (click)=\"deleteWidget(w.id, w.active)\">add_circle</mat-icon>\r\n      <mat-icon *ngIf=\"w.active\" class=\"btn-remove\" (click)=\"deleteWidget(w.id, w.active)\">cancel</mat-icon>\r\n      {{ w.label }}\r\n    </button>\r\n  </div>\r\n  <!-- <mat-icon class=\"more\" *ngIf=\"showNext\">more_horiz</mat-icon> -->\r\n  <button mat-fab class=\"arrow\" (click)=\"next()\" *ngIf=\"showNext\">\r\n    <mat-icon>navigate_next</mat-icon>\r\n  </button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n\r\nimport { WidgetComponent } from './widget/widget.component';\r\nimport { WidgetsMenuComponent } from './widgets-menu/widgets-menu.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WidgetComponent,\r\n    WidgetsMenuComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    DragDropModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  exports: [\r\n    WidgetComponent,\r\n    WidgetsMenuComponent,\r\n    DragDropModule\r\n  ]\r\n})\r\nexport class WidgetsModule { }\r\n","// /*\r\n//  * Public API Surface of library\r\n//  */\r\n\r\nexport * from './lib/library.service';\r\nexport * from './lib/library.component';\r\nexport * from './lib/library.module';\r\n\r\n/**\r\n * Animations\r\n */\r\nexport * from './lib/animations/animations.module';\r\n\r\n/**\r\n * Components\r\n */\r\nexport * from './lib/components/accordion/accordion.module';\r\nexport * from './lib/components/accordion/accordion.component';\r\nexport * from './lib/components/address/address.module';\r\nexport * from './lib/components/address/address.pipe';\r\nexport * from './lib/components/address/address.component';\r\nexport * from './lib/components/address/address-form/address-form.component';\r\nexport * from './lib/components/address/inline-address/inline-address.component';\r\nexport * from './lib/components/address/state-picker/state-picker.component';\r\nexport * from './lib/components/audit/audit.module';\r\nexport * from './lib/components/audit/audit.model';\r\nexport * from './lib/components/audit/audit-fields/audit-fields.component';\r\nexport * from './lib/components/audit/audit-history/audit-history.component';\r\nexport * from './lib/components/audit/audit-history-link/audit-history-link.component';\r\nexport * from './lib/components/breadcrumbs/breadcrumbs.module';\r\nexport * from './lib/components/breadcrumbs/breadcrumbs.component';\r\nexport * from './lib/components/calendar/calendar.module';\r\nexport * from './lib/components/calendar/calendar.component';\r\nexport * from './lib/components/calendar/calendar-day/calendar-day.component';\r\nexport * from './lib/components/calendar/calendar-days/calendar-days.component';\r\nexport * from './lib/components/calendar/calendar-event/calendar-event.component';\r\nexport * from './lib/components/calendar/calendar.model';\r\nexport * from './lib/components/collage/collage.module';\r\nexport * from './lib/components/collage/collage.component';\r\nexport * from './lib/components/collage/collage.model';\r\nexport * from './lib/components/container/container.module';\r\nexport * from './lib/components/container/container.component';\r\nexport * from './lib/components/datepicker/datepicker.module';\r\nexport * from './lib/components/datepicker/datepicker.component';\r\nexport * from './lib/components/datepicker/daterange/daterange.component';\r\nexport * from './lib/components/dialog/dialog.module';\r\nexport * from './lib/components/dialog/dialog.component';\r\nexport * from './lib/components/dialog/dialog.model';\r\nexport * from './lib/components/dialog/auto-logout/auto-logout.component';\r\nexport * from './lib/components/dialog/confirm-delete/confirm-delete.component';\r\nexport * from './lib/components/dialog/unsaved-changes/unsaved-changes.component';\r\nexport * from './lib/components/editor/editor.module';\r\nexport * from './lib/components/editor/editor.model';\r\nexport * from './lib/components/editor/editor.component';\r\nexport * from './lib/components/editor/editor-window/editor-window.component';\r\nexport * from './lib/components/file-upload/file-upload.module';\r\nexport * from './lib/components/file-upload/file-upload.component';\r\nexport * from './lib/components/file-upload/file-upload.model';\r\nexport * from './lib/components/file-upload/file-preview/file-preview.component';\r\nexport * from './lib/components/file-upload/file-control/file-control.component';\r\nexport * from './lib/components/file-upload/upload/upload.component';\r\nexport * from './lib/components/file-upload/uploader/uploader.component';\r\nexport * from './lib/components/file-upload/uploads/uploads.component';\r\nexport * from './lib/components/header/header.module';\r\nexport * from './lib/components/header/header.component';\r\nexport * from './lib/components/phone-number/phone-number.module';\r\nexport * from './lib/components/phone-number/phone-number.component';\r\nexport * from './lib/components/phone-number/phone-number.model';\r\nexport * from './lib/components/navbar/navbar.module';\r\nexport * from './lib/components/navbar/navbar.component';\r\nexport * from './lib/components/not-found/not-found.module';\r\nexport * from './lib/components/not-found/not-found.component';\r\nexport * from './lib/components/sidenav/sidenav.module';\r\nexport * from './lib/components/sidenav/sidenav.component';\r\nexport * from './lib/components/social-icons/social-icons.module';\r\nexport * from './lib/components/social-icons/social-icons.component';\r\nexport * from './lib/components/tile/tile.module';\r\nexport * from './lib/components/tile/tile.component';\r\nexport * from './lib/components/tile/tile.model';\r\nexport * from './lib/components/time/time.module';\r\nexport * from './lib/components/time/datetime-control/datetime-control.component';\r\nexport * from './lib/components/time/time-control/time-control.component';\r\nexport * from './lib/components/time/time.model';\r\nexport * from './lib/components/timer/timer.module';\r\nexport * from './lib/components/timer/timer.component';\r\nexport * from './lib/components/timer/timer.model';\r\nexport * from './lib/components/timer/timer.pipe';\r\nexport * from './lib/components/wallpaper/wallpaper.module';\r\nexport * from './lib/components/wallpaper/wallpaper.component';\r\n\r\n// /**\r\n//  * Effects\r\n//  */\r\nexport * from './lib/effects/effects.module';\r\n\r\n// /**\r\n//  * Errors\r\n//  */\r\nexport * from './lib/errors/errors.module';\r\nexport * from './lib/errors/errors.actions';\r\nexport * from './lib/errors/errors.effects';\r\nexport * from './lib/errors/errors.models';\r\nexport * from './lib/errors/errors.reducer';\r\nexport * from './lib/errors/errors.selectors';\r\nexport * from './lib/errors/errors.service';\r\nexport * from './lib/errors/global-errors.service';\r\n\r\n// /**\r\n//  * Events\r\n//  */\r\nexport * from './lib/events/events.module';\r\nexport * from './lib/events/events.actions';\r\nexport * from './lib/events/events.effects';\r\nexport * from './lib/events/events.models';\r\nexport * from './lib/events/events.reducer';\r\nexport * from './lib/events/events.selectors';\r\nexport * from './lib/events/events.service';\r\n\r\n// /**\r\n//  * Forms\r\n//  */\r\nexport * from './lib/forms/forms.module';\r\nexport * from './lib/forms/actions';\r\nexport * from './lib/forms/decorators';\r\nexport * from './lib/forms/models';\r\nexport * from './lib/forms/validators';\r\nexport * from './lib/forms/utils';\r\n\r\n// /**\r\n//  * HTTP\r\n//  */\r\nexport * from './lib/http/http.module';\r\nexport * from './lib/http/http.actions';\r\nexport * from './lib/http/http.commands';\r\nexport * from './lib/http/http.effects';\r\nexport * from './lib/http/http.models';\r\nexport * from './lib/http/http.service';\r\n\r\n/**\r\n * Hub\r\n */\r\nexport * from './lib/hub/hub.module';\r\nexport * from './lib/hub/hub.service';\r\n\r\n// /**\r\n//  * Lookup\r\n//  */\r\nexport * from './lib/lookup/lookup.module';\r\nexport * from './lib/lookup/lookup.actions';\r\nexport * from './lib/lookup/lookup.models';\r\nexport * from './lib/lookup/lookup.reducer';\r\nexport * from './lib/lookup/lookup.selectors';\r\nexport * from './lib/lookup/lookup.service';\r\n\r\n// /**\r\n//  * Pipes\r\n//  */\r\nexport * from './lib/pipes/pipes.module';\r\nexport * from './lib/pipes/list.pipe';\r\nexport * from './lib/pipes/pad-left.pipe';\r\nexport * from './lib/pipes/phone-number.pipe';\r\nexport * from './lib/pipes/safe-html.pipe';\r\nexport * from './lib/pipes/time-ago.pipe';\r\nexport * from './lib/pipes/yes-no.pipe';\r\n\r\n// /**\r\n//  * Router\r\n//  */\r\nexport * from './lib/router/router.module';\r\nexport * from './lib/router/actions';\r\nexport * from './lib/router/router.effects';\r\nexport * from './lib/router/models';\r\nexport * from './lib/router/router.reducer';\r\nexport * from './lib/router/selectors';\r\nexport * from './lib/router/router.service';\r\nexport * from './lib/router/guards/authenticated.guard';\r\n\r\n// /**\r\n//  * Shared\r\n//  */\r\nexport * from './lib/shared/shared.module';\r\nexport * from './lib/shared/actions';\r\nexport * from './lib/shared/base-entity';\r\nexport * from './lib/shared/collection';\r\nexport * from './lib/shared/component';\r\nexport * from './lib/shared/config';\r\nexport * from './lib/shared/date';\r\nexport * from './lib/shared/date-mask.directive';\r\nexport * from './lib/shared/decorators';\r\nexport * from './lib/shared/lookup';\r\nexport * from './lib/shared/models';\r\nexport * from './lib/shared/ordering';\r\nexport * from './lib/shared/question';\r\nexport * from './lib/shared/token';\r\nexport * from './lib/shared/tree';\r\nexport * from './lib/shared/user';\r\nexport * from './lib/shared/utils';\r\nexport * from './lib/shared/window';\r\n\r\n/**\r\n * Storage\r\n */\r\nexport * from './lib/storage/storage.module';\r\nexport * from './lib/storage/storage.actions';\r\nexport * from './lib/storage/storage.effects';\r\nexport * from './lib/storage/storage.models';\r\nexport * from './lib/storage/storage.service';\r\n\r\n// /**\r\n//  * Store\r\n//  */\r\nexport * from './lib/store/store.module';\r\nexport * from './lib/store/actions';\r\nexport * from './lib/store/models';\r\nexport * from './lib/store/reducers';\r\nexport * from './lib/store/selectors';\r\n\r\n/**\r\n * Widgets\r\n */\r\nexport * from './lib/widgets/widgets.module';\r\nexport * from './lib/widgets/widgets.model';\r\nexport * from './lib/widgets/widgets.reducer';\r\nexport * from './lib/widgets/widget/widget.component';\r\nexport * from './lib/widgets/widgets-menu/widgets-menu.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["AngularValidators","Events","i1","RouterModule","i4","i2.DialogComponent","i2","i3","i4.AddressPipe","Ng2FormArray","i4.StatePickerComponent","i5","i6","i7","i4.InlineAddressComponent","i5.AddressFormComponent","i1.DialogComponent","Ng2FormsModule","i2.HttpService","i1.TileComponent","i2.SocialIconsComponent","i1.CollageComponent","i5.DateMaskDirective","i1.DatepickerComponent","i1.FilePreviewComponent","i2.UploadsComponent","i3.UploadComponent","i1.FileUploadComponent","FormsModule","i3.TimerPipe","Validators","i1.CalendarDayEventsComponent","i1.CalendarDayEditComponent","i2.CalendarDayComponent","i4.CalendarViewComponent","i5.CalendarDaysComponent","i6.CalendarKeyComponent","i7.CalendarDayEditComponent","i8","i9","i6.TimeControlComponent","i10","ScriptLoader.create","ScriptLoader.load","NgrxEffectsModule","i2.ErrorsService","combineLatest","i1.HttpService","i2.HttpCommands","i2.RouterService","NGRouterModule","NgValidators","Storage","i2.StorageService","NgrxStoreModule"],"mappings":"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"}},"fesm2015":{"code":"import * as i0 from '@angular/core';\nimport { Injectable, Component, EventEmitter, Input, Output, Directive, NgModule, ViewEncapsulation, ViewChildren, Optional, Inject, Pipe, forwardRef, ChangeDetectionStrategy, HostListener, ViewChild, ContentChild, PLATFORM_ID, ErrorHandler, InjectionToken } from '@angular/core';\nimport * as i2$2 from '@angular/material/button';\nimport { MatButtonModule } from '@angular/material/button';\nimport * as i1$6 from '@angular/material/card';\nimport { MatCardModule } from '@angular/material/card';\nimport * as i4 from '@angular/material/checkbox';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport * as i8 from '@angular/material/input';\nimport { MatInputModule } from '@angular/material/input';\nimport * as i3$3 from '@angular/material/progress-bar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport * as i2$7 from '@angular/material/progress-spinner';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRadioModule } from '@angular/material/radio';\nimport * as i2$3 from '@angular/material/select';\nimport { MatSelectModule } from '@angular/material/select';\nimport * as i3$2 from '@angular/material/table';\nimport { MatTableModule } from '@angular/material/table';\nimport * as i3$4 from '@angular/material/tabs';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport * as i2 from '@angular/material/toolbar';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport * as i3 from '@angular/material/icon';\nimport { MatIconModule } from '@angular/material/icon';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i2$1 from '@angular/common';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport * as i1$5 from '@angular/router';\nimport { RouterModule as RouterModule$1, NavigationCancel, NavigationEnd, NavigationError, NavigationStart, RoutesRecognized } from '@angular/router';\nimport { filter, map, take, catchError, finalize, debounceTime, distinctUntilChanged, switchMap, combineLatest as combineLatest$1, skip, mergeMap, withLatestFrom } from 'rxjs/operators';\nimport * as i5 from '@angular/forms';\nimport { Validators as Validators$1, FormArray as FormArray$1, FormBuilder, NG_VALUE_ACCESSOR, FormGroup, FormsModule as FormsModule$1, ReactiveFormsModule, FormControl } from '@angular/forms';\nimport { __decorate, __metadata, __awaiter } from 'tslib';\nimport * as i1 from '@ngrx/effects';\nimport { Effect, EffectsModule as EffectsModule$1, ofType } from '@ngrx/effects';\nimport * as i2$5 from 'rxjs';\nimport { Observable, of, throwError, BehaviorSubject, combineLatest, from } from 'rxjs';\nimport * as i1$1 from '@ngrx/store';\nimport { Store, StoreModule as StoreModule$1 } from '@ngrx/store';\nimport * as i3$1 from '@angular/material/core';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport * as i2$4 from '@angular/material/datepicker';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport * as i1$2 from '@angular/material/dialog';\nimport { MatDialogClose, MAT_DIALOG_DATA, MatDialogModule } from '@angular/material/dialog';\nimport * as i1$3 from '@angular/material/form-field';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport * as i1$4 from '@angular/common/http';\nimport { HttpHeaders, HttpClient, HttpClientModule } from '@angular/common/http';\nimport * as i2$6 from '@angular/cdk/drag-drop';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport * as i2$8 from '@angular/platform-browser';\nimport * as signalR from '@Microsoft/signalr';\n\nclass LibraryService {\r\n    constructor() { }\r\n}\r\n/** @nocollapse */ LibraryService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ LibraryService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass LibraryComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ LibraryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ LibraryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: LibraryComponent, selector: \"iu-library\", ngImport: i0, template: `\r\n    <p>\r\n      library works!\r\n    </p>\r\n  `, isInline: true });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    selector: 'iu-library',\r\n                    template: `\r\n    <p>\r\n      library works!\r\n    </p>\r\n  `,\r\n                    styles: []\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass AccordionComponent {\r\n    constructor() {\r\n        this.active = true;\r\n        this.opened = true;\r\n        this.showArrow = false;\r\n        this.closeStart = new EventEmitter();\r\n        this.closeDone = new EventEmitter();\r\n        this.openStart = new EventEmitter();\r\n        this.openDone = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    toggle() {\r\n        this.opened = !this.opened;\r\n    }\r\n    open() {\r\n        this.opened = true;\r\n    }\r\n    close() {\r\n        this.opened = false;\r\n    }\r\n    onStart(e) {\r\n        if (this.opened) {\r\n            this.openStart.emit();\r\n        }\r\n        else {\r\n            this.closeStart.emit();\r\n        }\r\n    }\r\n    onDone(e) {\r\n        if (this.opened) {\r\n            this.openDone.emit();\r\n        }\r\n        else {\r\n            this.closeDone.emit();\r\n        }\r\n    }\r\n    onClickTrigger() {\r\n        if (this.active) {\r\n            this.toggle();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ AccordionComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AccordionComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AccordionComponent, selector: \"iu-accordion\", inputs: { active: \"active\", opened: \"opened\", showArrow: \"showArrow\" }, outputs: { closeStart: \"closeStart\", closeDone: \"closeDone\", openStart: \"openStart\", openDone: \"openDone\" }, ngImport: i0, template: \"<div class=\\\"accordion\\\">\\r\\n  <div class=\\\"trigger-wrapper\\\" (click)=\\\"onClickTrigger()\\\" [class.active]=\\\"active\\\">\\r\\n    <ng-content select=\\\".accordion-trigger\\\"></ng-content>\\r\\n  </div>\\r\\n  <div class=\\\"content-wrapper\\\" [@toggle]=\\\"opened ? 'show' : 'hide'\\\" (@toggle.start)=\\\"onStart($event)\\\" (@toggle.done)=\\\"onDone($event)\\\">\\r\\n    <ng-content select=\\\".accordion-content\\\"></ng-content>\\r\\n  </div>\\r\\n</div>\", styles: [\".trigger-wrapper{position:relative;padding:0}.trigger-wrapper.active{cursor:pointer}.content-wrapper{overflow:hidden;clear:both}.mat-icon{position:absolute;right:2%;top:25%;color:#fff;font-size:32px;height:50%;font-weight:700}\\n\"], animations: [\r\n        trigger('toggle', [\r\n            state('*', style({ height: '0px' })),\r\n            state('show', style({ height: '*' })),\r\n            state('hide', style({ height: '0px' })),\r\n            transition('show <=> hide', [\r\n                animate('300ms ease-out')\r\n            ])\r\n        ])\r\n    ] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-accordion', animations: [\r\n                        trigger('toggle', [\r\n                            state('*', style({ height: '0px' })),\r\n                            state('show', style({ height: '*' })),\r\n                            state('hide', style({ height: '0px' })),\r\n                            transition('show <=> hide', [\r\n                                animate('300ms ease-out')\r\n                            ])\r\n                        ])\r\n                    ], template: \"<div class=\\\"accordion\\\">\\r\\n  <div class=\\\"trigger-wrapper\\\" (click)=\\\"onClickTrigger()\\\" [class.active]=\\\"active\\\">\\r\\n    <ng-content select=\\\".accordion-trigger\\\"></ng-content>\\r\\n  </div>\\r\\n  <div class=\\\"content-wrapper\\\" [@toggle]=\\\"opened ? 'show' : 'hide'\\\" (@toggle.start)=\\\"onStart($event)\\\" (@toggle.done)=\\\"onDone($event)\\\">\\r\\n    <ng-content select=\\\".accordion-content\\\"></ng-content>\\r\\n  </div>\\r\\n</div>\", styles: [\".trigger-wrapper{position:relative;padding:0}.trigger-wrapper.active{cursor:pointer}.content-wrapper{overflow:hidden;clear:both}.mat-icon{position:absolute;right:2%;top:25%;color:#fff;font-size:32px;height:50%;font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { active: [{\r\n                type: Input\r\n            }], opened: [{\r\n                type: Input\r\n            }], showArrow: [{\r\n                type: Input\r\n            }], closeStart: [{\r\n                type: Output\r\n            }], closeDone: [{\r\n                type: Output\r\n            }], openStart: [{\r\n                type: Output\r\n            }], openDone: [{\r\n                type: Output\r\n            }] } });\n\nclass Validators {\r\n    static compose(validators) {\r\n        return Validators$1.compose(validators);\r\n    }\r\n    static composeAsync(validators) {\r\n        return Validators$1.composeAsync(validators);\r\n    }\r\n    static email(control) {\r\n        if (falsy(control.value)) {\r\n            return null;\r\n        }\r\n        return Validators$1.email(control);\r\n    }\r\n    static exactLength(exactLength) {\r\n        return (control) => {\r\n            return Validators.maxLength(exactLength)(control) === null &&\r\n                Validators.minLength(exactLength)(control) === null\r\n                ? null\r\n                : { exactLength: { value: control.value } };\r\n        };\r\n    }\r\n    static max(max) {\r\n        return Validators$1.max(max);\r\n    }\r\n    static maxLength(maxLength) {\r\n        return Validators$1.maxLength(maxLength);\r\n    }\r\n    static min(min) {\r\n        return Validators$1.min(min);\r\n    }\r\n    static minLength(minLength) {\r\n        return Validators$1.minLength(minLength);\r\n    }\r\n    static numeric(maxLength = 0) {\r\n        return (control) => {\r\n            const numeric = typeof control.value === 'number';\r\n            const toInt = parseInt(control.value, 10);\r\n            const valid = maxLength\r\n                ? numeric && toInt < Math.pow(10, maxLength)\r\n                : numeric;\r\n            return !valid ? { numeric: { value: control.value } } : null;\r\n        };\r\n    }\r\n    static nullValidator(control) {\r\n        return Validators$1.nullValidator(control);\r\n    }\r\n    static pattern(pattern) {\r\n        return Validators$1.pattern(pattern);\r\n    }\r\n    static phone(control) {\r\n        if (falsy(control.value)) {\r\n            return null;\r\n        }\r\n        const toInt = parseInt(control.value, 10);\r\n        const numeric = typeof toInt === 'number' && toInt > 999999999;\r\n        return !numeric ? { phone: { value: control.value } } : null;\r\n    }\r\n    static required(control) {\r\n        return Validators$1.required(control);\r\n    }\r\n    static requiredTrue(control) {\r\n        return Validators$1.requiredTrue(control);\r\n    }\r\n    static zip(control) {\r\n        if (falsy(control.value)) {\r\n            return null;\r\n        }\r\n        return Validators.exactLength(5)(control) === null\r\n            ? null\r\n            : { zip: { value: control.value } };\r\n    }\r\n}\r\nfunction atLeastOneAlphaNumericValidator(c) {\r\n    return c.value ? /^(?=.*[a-zA-Z].*)([a-zA-Z0-9]+)$/i.test(c.value.replace(/[^\\w\\s]/gi, '').replace(/\\s/g, '').replace(/_/g, '')) ? null : {\r\n        atLeastOneAlphaNumeric: true\r\n    } : null;\r\n}\r\nfunction confirmPasswordValidator(fg) {\r\n    const pass = fg.controls['password'];\r\n    const confirm = fg.controls['confirmPassword'];\r\n    if (pass.value !== confirm.value) {\r\n        confirm.setErrors({ confirmPwdFail: true });\r\n        return { confirmPwdFail: true };\r\n    }\r\n    return null;\r\n}\r\nfunction numericValidator(length, key = 'numeric') {\r\n    return (control) => {\r\n        const toInt = parseInt(control.value, 10);\r\n        const isNumber = /^\\d+$/.test(control.value);\r\n        const numeric = isNumber && typeof toInt === 'number' && control.value.length === length;\r\n        return !numeric && !falsy(control.value)\r\n            ? { [key]: { value: control.value } }\r\n            : null;\r\n    };\r\n}\r\nfunction passwordValidator(ctrl) {\r\n    // const lengthReq = '{6,100}';\r\n    // const atleastOneNumberReq = '(?=.*[0-9])';\r\n    // {6,100}           - Assert password is between 6 and 100 characters\r\n    // (?=.*[0-9])       - Assert a string has at least one number\r\n    if (ctrl.value &&\r\n        ctrl.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)) {\r\n        return null;\r\n    }\r\n    return { password: true };\r\n}\r\nfunction phoneNumberValidator() {\r\n    return (control) => {\r\n        const formatted = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im.test(control.value);\r\n        return !formatted ? { phoneNumber: { value: control.value } } : null;\r\n    };\r\n}\r\nfunction zipCodeValidator(control) {\r\n    const val = control.value.replace(/\\s/g, '');\r\n    if (!val) {\r\n        return { zipCode: 'Please enter a zip code.' };\r\n    }\r\n    if (val.length >= 5 && val.length < 9) {\r\n        return isNumericAndHasLength(val.indexOf('-') === -1 ? val : val.substring(0, val.indexOf('-')), 5)\r\n            ? null\r\n            : { zipCode: 'Please enter a valid zip code.' };\r\n    }\r\n    if (val.length === 9) {\r\n        return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n            isNumericAndHasLength(val.substring(5), 4)\r\n            ? null\r\n            : { zipCode: 'Please enter a valid zip code.' };\r\n    }\r\n    if (val.length === 10) {\r\n        return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n            isNumericAndHasLength(val.substring(6), 4)\r\n            ? null\r\n            : { zipCode: 'Please enter a valid zip code.' };\r\n    }\r\n    return { zipCode: 'Please enter a valid zip code.' };\r\n}\r\nfunction zipPlus4Validator() {\r\n    return numericValidator(4, 'zipPlus4');\r\n}\n\nclass Address {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.addressTypeId = 0;\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n        this.address1 = '';\r\n        this.address2 = '';\r\n        this.city = '';\r\n        this.stateCode = 'PA';\r\n        this.stateId = null;\r\n        this.zip = '';\r\n        this.zipPlus4 = '';\r\n        this.isPrimaryAddress = false;\r\n        this.effectiveDate = new Date();\r\n        this.startDate = new Date();\r\n        this.endDate = new Date();\r\n        this.metadata = {\r\n            ignore: [\r\n                'id',\r\n                'cityStateZip',\r\n                'endDate',\r\n                'fullName',\r\n                'hasAddress',\r\n                'hasCityStateZip',\r\n                'hasStreetAddress',\r\n                'middleName',\r\n                'startDate',\r\n                'state'\r\n            ],\r\n            address1: {\r\n                validators: [Validators.required]\r\n            },\r\n            address2: {},\r\n            city: {\r\n                validators: [Validators.required]\r\n            },\r\n            stateCode: {\r\n                validators: [Validators.required]\r\n            },\r\n            zip: {\r\n                validators: [zipCodeValidator]\r\n            },\r\n            zipPlus4: {\r\n                validators: [zipPlus4Validator()]\r\n            }\r\n        };\r\n    }\r\n    get cityStateZip() {\r\n        return this.hasCityStateZip\r\n            ? `${this.city}, ${this.stateCode} ${this.zip} `\r\n            : '';\r\n    }\r\n    set cityStateZip(value) { }\r\n    get fullName() {\r\n        return this.firstName && this.lastName\r\n            ? `${this.firstName} ${this.lastName}`\r\n            : '';\r\n    }\r\n    set fullName(value) { }\r\n    get hasAddress() {\r\n        return this.hasStreetAddress && this.hasCityStateZip;\r\n    }\r\n    get hasCityStateZip() {\r\n        return (this.city !== '' &&\r\n            (this.stateCode !== '' || this.stateId !== 0) &&\r\n            truthy(this.zip));\r\n    }\r\n    get hasStreetAddress() {\r\n        return this.address1 !== '';\r\n    }\r\n}\r\nclass Alert {\r\n    constructor() {\r\n        this.message = '';\r\n    }\r\n}\r\nclass Coordinates {\r\n    constructor() {\r\n        this.row = 0;\r\n        this.column = 0;\r\n    }\r\n}\r\nclass Dimensions {\r\n    constructor() {\r\n        this.columns = 0;\r\n        this.height = 0;\r\n        this.rows = 0;\r\n        this.width = 0;\r\n    }\r\n    get approxRatio() {\r\n        return this.rows / this.columns;\r\n    }\r\n    get ratio() {\r\n        return this.height / this.width;\r\n    }\r\n    get orientation() {\r\n        return this.height > this.width ? 'v' : 'h';\r\n    }\r\n}\r\nclass Email {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.bcc = '';\r\n        this.body = '';\r\n        this.cc = '';\r\n        this.failed = '';\r\n        this.from = '';\r\n        this.sent = false;\r\n        this.sentDate = new Date();\r\n        this.subject = '';\r\n        this.to = '';\r\n        this.createdById = null;\r\n        this.createdDate = new Date();\r\n        this.attachments = [];\r\n    }\r\n}\r\nconst EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\nclass Filters {\r\n    constructor() {\r\n        this.skip = 0;\r\n        this.sortBy = '';\r\n        this.take = 0;\r\n    }\r\n}\r\nclass Image {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.dimensions = [];\r\n        this.height = 0;\r\n        this.src = '';\r\n        this.width = 0;\r\n    }\r\n    static Build(data) {\r\n        return build(Image, data);\r\n    }\r\n    static BuildForTile(data, dim, index) {\r\n        const img = Image.Build(data);\r\n        img.id = index;\r\n        img.dimensions = Image.FindDimensions(img, dim);\r\n        return img;\r\n    }\r\n    static FilterDimensions(image, dim) {\r\n        return Image.FilterDimensionsByOrientation(image, dim);\r\n    }\r\n    static FilterDimensionsByOrientation(image, dim) {\r\n        return dim.filter(x => x.orientation === image.orientation);\r\n    }\r\n    static FindDimensions(image, dim) {\r\n        return Image.OrderDimensions(image, Image.FilterDimensions(image, dim));\r\n    }\r\n    static OrderDimensions(image, dim) {\r\n        // console.log(image.ratio);\r\n        const d = dim.sort((a, b) => Math.abs(image.ratio - a.ratio) - Math.abs(image.ratio - b.ratio));\r\n        // console.dir(d);\r\n        return d;\r\n    }\r\n    get orientation() {\r\n        return this.height > this.width ? 'v' : 'h';\r\n    }\r\n    get horizontal() {\r\n        return this.orientation === 'h';\r\n    }\r\n    get vertical() {\r\n        return this.orientation === 'v';\r\n    }\r\n    get colspan() {\r\n        return this.vertical ? 1 : 1;\r\n    }\r\n    get rowspan() {\r\n        return this.vertical ? 2 : 1;\r\n    }\r\n    get ratio() {\r\n        return this.height / this.width;\r\n    }\r\n}\r\nclass Metadata {\r\n    constructor() {\r\n        this.controls = [];\r\n        this.ignore = [];\r\n        this.label = '';\r\n        this.name = '';\r\n    }\r\n}\r\nvar MetadataType;\r\n(function (MetadataType) {\r\n    MetadataType[MetadataType[\"CLASS\"] = 0] = \"CLASS\";\r\n    MetadataType[MetadataType[\"METHOD\"] = 1] = \"METHOD\";\r\n    MetadataType[MetadataType[\"PROPERTY\"] = 2] = \"PROPERTY\";\r\n    MetadataType[MetadataType[\"PARAMETER\"] = 3] = \"PARAMETER\";\r\n    MetadataType[MetadataType[\"STATIC_METHOD\"] = 4] = \"STATIC_METHOD\";\r\n    MetadataType[MetadataType[\"STATIC_PROPERTY\"] = 5] = \"STATIC_PROPERTY\";\r\n})(MetadataType || (MetadataType = {}));\r\nclass PropertyMetadata {\r\n    constructor() {\r\n        this.ignore = [];\r\n        this.label = '';\r\n        this.name = '';\r\n    }\r\n}\r\nclass QueryItem {\r\n    constructor() {\r\n        this.label = '';\r\n    }\r\n}\r\nclass QueryModel {\r\n    constructor() {\r\n        this.userId = 0;\r\n        this.accountId = 0;\r\n        this.fields = [];\r\n        this.filters = [];\r\n        this.groups = [];\r\n        this.skip = 0;\r\n        this.sort = [];\r\n        this.sortBy = '';\r\n        this.take = 0;\r\n        this.term = '';\r\n    }\r\n    get hasParams() {\r\n        return this.totalParams > 0;\r\n    }\r\n    get keys() {\r\n        return Object.keys(this);\r\n    }\r\n    get totalParams() {\r\n        return Object.keys(this.params).length;\r\n    }\r\n    static AppendQueryString(query) {\r\n        const obj = QueryModel.BuildQueryObject(query);\r\n        return Object.keys(obj).reduce((acc, key) => {\r\n            const str = obj[key];\r\n            return str ? QueryModel.AppendToQueryString(acc, str) : acc;\r\n        }, '');\r\n    }\r\n    static AppendToQueryString(path, str) {\r\n        return path ? `${path}&${str}` : str;\r\n    }\r\n    static BuildQueryString(query) {\r\n        const path = QueryModel.AppendQueryString(query);\r\n        return path ? `?${path}` : '';\r\n    }\r\n    static BuildQueryStringFromObject(obj) {\r\n        return Object.keys(obj).reduce((acc, key) => acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}`, '');\r\n    }\r\n    static BuildQueryObject(query) {\r\n        return Object.assign({\r\n            skip: QueryModel.QuerySkip(query),\r\n            take: QueryModel.QueryTake(query),\r\n            term: QueryModel.QueryTerm(query)\r\n        }, QueryModel.QueryParams(query));\r\n    }\r\n    static FormatDate(date) {\r\n        const d = new Date(date);\r\n        let month = '' + (d.getMonth() + 1);\r\n        let day = '' + d.getDate();\r\n        const year = d.getFullYear();\r\n        if (month.length < 2) {\r\n            month = '0' + month;\r\n        }\r\n        if (day.length < 2) {\r\n            day = '0' + day;\r\n        }\r\n        return [year, month, day].join('-');\r\n    }\r\n    static ParseQuery(queryString) {\r\n        const query = {};\r\n        const pairs = (queryString[0] === '?'\r\n            ? queryString.substr(1)\r\n            : queryString).split('&');\r\n        for (let i = 0; i < pairs.length; i++) {\r\n            const pair = pairs[i].split('=');\r\n            query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\r\n        }\r\n        return query;\r\n    }\r\n    static QueryParams(query) {\r\n        return Object.keys(query.params).reduce((acc, key) => Object.assign({}, acc, { [key]: `${key}=${query.params[key]}` }), {});\r\n    }\r\n    static QuerySkip(query) {\r\n        return query.skip ? `skip=${query.skip}` : '';\r\n    }\r\n    static QueryTake(query) {\r\n        return query.take ? `take=${query.take}` : '';\r\n    }\r\n    static QueryTerm(query) {\r\n        return query.term ? `term=${query.term}` : '';\r\n    }\r\n    get queryParams() {\r\n        return QueryModel.QueryParams(this);\r\n    }\r\n    get queryString() {\r\n        return QueryModel.BuildQueryString(this);\r\n    }\r\n    get queryObject() {\r\n        return QueryModel.BuildQueryObject(this);\r\n    }\r\n    get querySkip() {\r\n        return this.skip ? `skip=${this.skip}` : '';\r\n    }\r\n    get queryTake() {\r\n        return this.take ? `take=${this.take}` : '';\r\n    }\r\n    get queryTerm() {\r\n        return this.term ? `term=${this.term}` : '';\r\n    }\r\n}\r\nclass BaseQueryModel extends QueryModel {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.params = {};\r\n    }\r\n}\r\nclass Search {\r\n    constructor() {\r\n        this.results = [];\r\n        this.total = 0;\r\n    }\r\n}\r\nclass SearchResults {\r\n    constructor() {\r\n        this.results = [];\r\n        this.total = 0;\r\n    }\r\n}\r\nclass StyleModel {\r\n    get styles() {\r\n        const s = {};\r\n        if (this.backgroundColor) {\r\n            s['backgroundColor'] = this.backgroundColor;\r\n        }\r\n        if (this.border) {\r\n            s['border'] = this.border;\r\n        }\r\n        if (this.borderRadius) {\r\n            s['borderRadius.px'] = this.borderRadius;\r\n        }\r\n        if (this.color) {\r\n            s['color'] = this.color;\r\n        }\r\n        if (this.cursor) {\r\n            s['color'] = this.cursor;\r\n        }\r\n        if (this.display) {\r\n            s['display'] = this.display;\r\n        }\r\n        if (this.fontSize) {\r\n            s['fontSize'] = this.fontSize;\r\n        }\r\n        if (this.height) {\r\n            s['height.px'] = this.height;\r\n        }\r\n        if (this.lineHeight) {\r\n            s['line-height.px'] = this.lineHeight;\r\n        }\r\n        if (this.padding) {\r\n            s['padding.px'] = this.padding;\r\n        }\r\n        if (this.paddingTop) {\r\n            s['padding-top.px'] = this.paddingTop;\r\n        }\r\n        if (this.paddingBottom) {\r\n            s['padding-bottom.px'] = this.paddingBottom;\r\n        }\r\n        if (this.paddingLeft) {\r\n            s['padding-left.px'] = this.paddingLeft;\r\n        }\r\n        if (this.paddingRight) {\r\n            s['padding-right.px'] = this.paddingRight;\r\n        }\r\n        if (this.textDecoration) {\r\n            s['textDecoration'] = this.textDecoration;\r\n        }\r\n        if (this.width) {\r\n            s['width.px'] = this.width;\r\n        }\r\n        return s;\r\n    }\r\n}\r\nclass ColumnMetadata {\r\n    constructor() {\r\n        this.name = '';\r\n        this._label = '';\r\n    }\r\n    get label() {\r\n        return this._label || convertCamel2Space(this.name);\r\n    }\r\n    set label(value) {\r\n        this._label = value;\r\n    }\r\n}\n\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nfunction applyDecorators(derived, baseCtors) {\r\n    baseCtors.forEach(baseCtor => {\r\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n            derived[name] = baseCtor.prototype[name];\r\n        });\r\n    });\r\n}\r\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nfunction applyMixins(derivedCtor, baseCtors) {\r\n    baseCtors.forEach(baseCtor => {\r\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\r\n        });\r\n    });\r\n}\r\nfunction arrayDistinct(arr, map = x => x) {\r\n    return arr.reduce((acc, x) => {\r\n        return acc.findIndex(y => equals(map(x), map(y))) === -1 ? [...acc, x] : acc;\r\n    }, []);\r\n}\r\n/**\r\n * Find distinct elements in the union of 2 arrays.\r\n * @param array1\r\n * @param array2\r\n */\r\nfunction arrayUnion(array1, array2) {\r\n    const a = [...array1, ...array2];\r\n    for (let i = 0; i < a.length; ++i) {\r\n        for (let j = i + 1; j < a.length; ++j) {\r\n            if (a[i] === a[j]) {\r\n                a.splice(j--, 1);\r\n            }\r\n        }\r\n    }\r\n    return a;\r\n}\r\nfunction assignProps(target, props) {\r\n    Object.keys(props).forEach(key => {\r\n        if (target[key]) {\r\n            target[key] = props[key];\r\n        }\r\n    });\r\n}\r\nfunction build(ctor, ...args) {\r\n    const instance = new ctor();\r\n    return args.reduce((acc, next) => {\r\n        let ret;\r\n        try {\r\n            ret = Object.assign(acc, next);\r\n        }\r\n        catch (e) {\r\n            console.warn(e);\r\n            ret = acc;\r\n        }\r\n        finally {\r\n            return ret;\r\n        }\r\n    }, instance);\r\n}\r\nfunction buildColumnsFromMetadata(model, key) {\r\n    const metadata = findMetadataFromInstance(model);\r\n    const columns = Array.isArray(metadata[key]) ? metadata[key] : Array.isArray(model) ? (model.length > 0 ? Object.keys(model[0]) : []) : Object.keys(model);\r\n    return columns.map((x) => typeof x === 'string'\r\n        ? build(ColumnMetadata, {\r\n            name: x\r\n        })\r\n        : build(ColumnMetadata, x));\r\n}\r\nfunction buildQueryStringFromObject(obj) {\r\n    return Object.keys(obj).reduce((acc, key) => obj[key] ? acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}` : acc, '');\r\n}\r\n/** Clamps a number between zero and a maximum. */\r\nfunction clamp(value, max) {\r\n    return Math.max(0, Math.min(max, value));\r\n}\r\nfunction compareDates(a, b) {\r\n    return new Date(b).getTime() - new Date(a).getTime();\r\n}\r\nfunction compareNumbers(a, b) {\r\n    return a - b;\r\n}\r\nfunction compareStrings(a, b) {\r\n    const x = a.toLowerCase();\r\n    const y = b.toLowerCase();\r\n    if (x < y) {\r\n        return -1;\r\n    }\r\n    else if (x > y) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nfunction distinct(arr, key = '') {\r\n    return key\r\n        ? arr.reduce((acc, x) => (acc.findIndex(y => y[key] === x[key]) === -1 ? [...acc, x] : acc), [])\r\n        : arr.reduce((acc, x) => (acc.indexOf(x) === -1 ? [...acc, x] : acc), []);\r\n}\r\nfunction convertCamel2Dash(str) {\r\n    return str.replace(/([a-z][A-Z])/g, function (g) {\r\n        return g[0] + '-' + g[1].toLowerCase();\r\n    });\r\n}\r\nfunction convertCamel2Space(str) {\r\n    const result = str.replace(/([A-Z])/g, ' $1');\r\n    return result.charAt(0).toUpperCase() + result.slice(1);\r\n}\r\nfunction convertDash2Camel(str) {\r\n    return str.replace(/-([a-z])/g, function (g) {\r\n        return g[1].toUpperCase();\r\n    });\r\n}\r\nfunction equals(x1, x2) {\r\n    // check whether x1 and x2 have the same type\r\n    if (typeof x1 !== typeof x2) {\r\n        return false;\r\n    }\r\n    // check whether x1 and x2 are both null or both undefined\r\n    if ((x1 === null && x2 === null) || (x1 === undefined && x2 === undefined)) {\r\n        return true;\r\n    }\r\n    // account for non-matching null and undefined values\r\n    if (((x1 === null || x1 === undefined) && x2 !== null && x2 !== undefined) || ((x2 === null || x2 === undefined) && x1 !== null && x1 !== undefined)) {\r\n        return false;\r\n    }\r\n    // compare two arrays\r\n    if (Array.isArray(x1) && Array.isArray(x2) && x1.length === x2.length) {\r\n        return x1.findIndex((x, index) => !equals(x, x2[index])) === -1 ? true : false;\r\n    }\r\n    // compare two objects\r\n    if (x1 &&\r\n        typeof x1 === 'object' &&\r\n        typeof x2 === 'object' &&\r\n        Object.keys(x1).length === Object.keys(x2).length &&\r\n        Object.keys(x2).length === arrayUnion(Object.keys(x1), Object.keys(x2)).length) {\r\n        return Object.keys(x1).findIndex(key => !equals(x1[key], x2[key])) === -1;\r\n    }\r\n    // compare two primitives with the same type\r\n    return x1 === x2;\r\n}\r\n/**\r\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\r\n * similar to Object.assign.\r\n *\r\n * @param dest The object which will have properties copied to it.\r\n * @param sources The source objects from which properties will be copied.\r\n */\r\nfunction extendObject(dest, ...sources) {\r\n    if (dest == null) {\r\n        throw TypeError('Cannot convert undefined or null to object');\r\n    }\r\n    for (const source of sources) {\r\n        if (source != null) {\r\n            for (const key in source) {\r\n                if (source.hasOwnProperty(key)) {\r\n                    dest[key] = source[key];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return dest;\r\n}\r\nfunction falsy(value) {\r\n    return value === null || value === 0 || value === '' || value === undefined;\r\n}\r\n/**\r\n * Remove problematic or undesired store properties.\r\n */\r\nfunction filterState(obj) {\r\n    return removeCycles(removeProps(obj));\r\n}\r\nfunction findMetadata(ctor) {\r\n    const instance = new ctor();\r\n    return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\nfunction findMetadataFromInstance(model) {\r\n    if (!model) {\r\n        return null;\r\n    }\r\n    const instance = Array.isArray(model) && model.length > 0 ? model[0] : model;\r\n    return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\nfunction findSchoolYear() {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    return month >= 7 ? `${year}-${year + 1}` : `${year - 1}-${year}`;\r\n}\r\nfunction flattenKeys(obj, parents) {\r\n    return Object.keys(obj).reduce((acc, key) => {\r\n        const pathToRoot = [...parents, key];\r\n        const val = obj[key];\r\n        if (!Array.isArray(val) && Object.keys(val).length > 0) {\r\n            return [...acc, ...flattenKeys(val, pathToRoot)];\r\n        }\r\n        return [...acc, ...pathToRoot];\r\n    }, []);\r\n}\r\nfunction formatPhoneNumber(number = '') {\r\n    if (!number) {\r\n        return '000-000-0000';\r\n    }\r\n    const l = number.length;\r\n    return number && (l === 7 || l === 10) ? (l === 7 ? format7DigitPhoneNumber(number) : format10DigitPhoneNumber(number)) : '000-000-0000';\r\n}\r\nfunction format7DigitPhoneNumber(number = '0000000') {\r\n    const first3 = number.substring(0, 3);\r\n    const last4 = number.substring(3, 7);\r\n    return `${first3} -${last4} `;\r\n}\r\nfunction format10DigitPhoneNumber(number = '0000000000') {\r\n    const first3 = number.substring(0, 3);\r\n    const last7 = format7DigitPhoneNumber(number.substring(3, 10));\r\n    return `${first3} -${last7} `;\r\n}\r\nfunction formatPrice(total) {\r\n    const dollars = total.toFixed(2).replace(/./g, function (c, i, a) {\r\n        return i && c !== '.' && (a.length - i) % 3 === 0 ? ',' + c : c;\r\n    });\r\n    return `$${dollars}`;\r\n}\r\nfunction getTypeNameForDebugging(type) {\r\n    return type['name'] || typeof type;\r\n}\r\nfunction getAllProps(obj) {\r\n    const mapped = obj['metadata'] && obj['metadata']['include'] && Array.isArray(obj['metadata']['include'])\r\n        ? obj['metadata']['include'].reduce((acc, key) => Object.assign({}, acc, { [key]: obj[key] }), {})\r\n        : obj;\r\n    if (obj['metadata'] && obj['metadata']['exclude'] && Array.isArray(obj['metadata']['exclude'])) {\r\n        obj['metadata']['exclude'].forEach(key => {\r\n            delete mapped[key];\r\n        });\r\n    }\r\n    return [...Object.keys(mapped), ...getGetters(mapped)];\r\n}\r\nfunction getGetters(obj) {\r\n    return Reflect.ownKeys(obj.constructor.prototype).filter(name => {\r\n        return typeof Object.getOwnPropertyDescriptor(obj.constructor.prototype, name)['get'] === 'function';\r\n    });\r\n}\r\nfunction getKeyValues(model) {\r\n    const keys = getAllProps(model);\r\n    return model['metadata'] && model['metadata']['include']\r\n        ? toArray(model['metadata']['include']).reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {})\r\n        : keys.reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {});\r\n}\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n/**\r\n * Returns a random number between min (inclusive) and max (exclusive)\r\n */\r\nfunction getRandomArbitrary(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n/**\r\n * Returns a random integer between min (inclusive) and max (inclusive)\r\n * Using Math.round() will give you a non-uniform distribution!\r\n */\r\nfunction getRandomIntInRange(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\nfunction getSetters(obj) {\r\n    return Object.keys(obj.prototype).filter(name => {\r\n        return typeof Object.getOwnPropertyDescriptor(obj.prototype, name)['set'] === 'function';\r\n    });\r\n}\r\n// Gist adapted from: https://gist.github.com/cms/369133\r\nfunction getStyle(el, styleProp) {\r\n    let value;\r\n    const defaultView = el.ownerDocument.defaultView;\r\n    // W3C standard way:\r\n    if (defaultView && defaultView.getComputedStyle) {\r\n        // sanitize property name to css notation (hypen separated words eg. font-Size)\r\n        styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n        return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n    }\r\n    else if (el['currentStyle']) {\r\n        // IE\r\n        // sanitize property name to camelCase\r\n        styleProp = styleProp.replace(/\\-(\\w)/g, function (str, letter) {\r\n            return letter.toUpperCase();\r\n        });\r\n        value = el['currentStyle'][styleProp];\r\n        return value;\r\n    }\r\n    return '';\r\n}\r\nfunction getValue(model, ignore = []) {\r\n    if (model === null || typeof model === 'string' || typeof model === 'string' || model instanceof Date) {\r\n        return model;\r\n    }\r\n    const keys = getAllProps(model);\r\n    const props = keys\r\n        .filter(key => key !== 'metadata' && !ignoreKey(model, key) && !inArray(ignore, key))\r\n        .map(key => {\r\n        const obj = {};\r\n        obj[key] =\r\n            model[key] && typeof model[key] === 'object'\r\n                ? Array.isArray(model[key])\r\n                    ? model[key].length > 0\r\n                        ? model[key].map(x => (typeof x === 'object' ? getValue(x) : x))\r\n                        : []\r\n                    : getValue(model[key])\r\n                : model[key];\r\n        return obj;\r\n    });\r\n    return props.reduce((acc, val) => {\r\n        return Object.assign({}, acc, val);\r\n    }, {});\r\n}\r\nfunction guid() {\r\n    function s4() {\r\n        return Math.floor((1 + Math.random()) * 0x10000)\r\n            .toString(16)\r\n            .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\nfunction hasChanged(changes, key, props) {\r\n    const currentValue = changes[key] && changes[key].currentValue ? changes[key].currentValue : {};\r\n    const previousValue = changes[key] && changes[key].previousValue ? changes[key].previousValue : {};\r\n    return props.reduce((acc, prop) => {\r\n        return acc ? true : currentValue[prop] !== previousValue[prop];\r\n    }, false);\r\n}\r\nfunction hashToArray(hashMap) {\r\n    return Object.keys(hashMap).map(key => hashMap[key]);\r\n}\r\nfunction htmlToString(element) {\r\n    return `${htmlElementTag(element)}${htmlElementContents(element)}${htmlElementCloseTag(element)}`;\r\n}\r\nfunction htmlElementTag(element) {\r\n    const html = element.outerHTML;\r\n    const style = htmlStyleElementToString(element);\r\n    const insertAtIndex = html.indexOf('>');\r\n    return `${html.substring(0, insertAtIndex)} style=\"${style}\">`;\r\n}\r\nfunction htmlElementContents(element) {\r\n    const children = Array.from(element.children);\r\n    return `${children.length === 0 ? element.innerText : ''}${children.reduce((acc, el) => acc + htmlToString(el), '')}`;\r\n}\r\nfunction htmlElementCloseTag(element) {\r\n    const html = element.outerHTML;\r\n    return html.substring(html.lastIndexOf('</'));\r\n}\r\nfunction htmlStyleElementToString(element) {\r\n    const computedStyle = window.getComputedStyle(element);\r\n    return ['background', 'border', 'bottom', 'color', 'display', 'fontSize', 'height', 'left', 'margin', 'overflow', 'padding', 'position', 'right', 'top', 'width'].reduce((acc, attr) => {\r\n        return `${acc}${attr}:${computedStyle[convertDash2Camel(attr)]};`;\r\n    }, '');\r\n}\r\nfunction htmlWrap(html, style) {\r\n    return `<head>${style ? '<style>' + style + '</style>' : ''}</head><body>${html}</body>`;\r\n}\r\nfunction idChanged(changes, key) {\r\n    const newId = changes[key].currentValue ? changes[key].currentValue['id'] || 0 : 0;\r\n    const oldId = changes[key].previousValue ? changes[key].previousValue['id'] || 0 : 0;\r\n    return newId !== oldId;\r\n}\r\nfunction ignoreKey(model, key) {\r\n    if (model['metadata'] && model['metadata']['ignore']) {\r\n        return inArray(model['metadata']['ignore'], key);\r\n    }\r\n    return false;\r\n}\r\nfunction inArray(arr, val) {\r\n    return arr.filter(item => item === val).length > 0;\r\n}\r\nfunction inArrayByKey(arr, val, key) {\r\n    return arr.findIndex(item => item[key] === val) !== -1;\r\n}\r\nfunction integerArray(n) {\r\n    return Array.from(Array(n).keys());\r\n}\r\nfunction isBetweenDates(dateFrom, dateTo, dateCheck) {\r\n    const d1 = dateFrom.toLocaleDateString().split('/');\r\n    const d2 = dateTo.toLocaleDateString().split('/');\r\n    const c = dateCheck.toLocaleDateString().split('/');\r\n    const from = new Date(d1[2], toInt(d1[1]) - 1, d1[0]); // -1 because months are from 0 to 11\r\n    const to = new Date(d2[2], toInt(d2[1]) - 1, d2[0]);\r\n    const check = new Date(c[2], toInt(c[1]) - 1, c[0]);\r\n    return check >= from && check <= to;\r\n}\r\n/**\r\n * Detects cycles in an object.\r\n * @param obj\r\n */\r\nfunction isCyclic(obj) {\r\n    const seenObjects = [];\r\n    const detect = (x) => {\r\n        if (x && typeof x === 'object') {\r\n            if (seenObjects.indexOf(x) !== -1) {\r\n                return true;\r\n            }\r\n            seenObjects.push(x);\r\n            for (const key in x) {\r\n                if (x.hasOwnProperty(key) && detect(x[key])) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return detect(obj);\r\n}\r\nfunction isMobile() {\r\n    return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\r\n        (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) ||\r\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4))));\r\n}\r\nfunction isNumeric(str) {\r\n    const asInt = parseInt(str, 10);\r\n    const isNumber = /^\\d+$/.test(str);\r\n    return isNumber && typeof asInt === 'number';\r\n}\r\nfunction isNumericAndHasLength(str, length) {\r\n    const asInt = parseInt(str, 10);\r\n    const isNumber = /^\\d+$/.test(str);\r\n    return isNumber && typeof asInt === 'number' && str.length === length;\r\n}\r\nfunction isValidEmail(email) {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(String(email).toLowerCase());\r\n}\r\n/**\r\n * @param fromState The last state object from the store\r\n * @param dState A partial class containing all properties that have changed wrt fromState\r\n * @return The current/updated state of the application (toState)\r\n */\r\nfunction nextState(fromState, dState) {\r\n    const toState = Object.assign({}, fromState, dState);\r\n    return toState;\r\n}\r\nfunction positiveIntegerArray(n) {\r\n    return integerArray(n).map(x => x + 1);\r\n}\r\n/**\r\n * Remove store props that contain cycles.\r\n */\r\nfunction removeCycles(obj) {\r\n    if (obj && typeof obj === 'object') {\r\n        for (const key in obj) {\r\n            if (obj.hasOwnProperty(key) && isCyclic(obj[key])) {\r\n                delete obj[key];\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n/**\r\n * Remove any props that should not appear in the store.\r\n */\r\nfunction removeProps(obj) {\r\n    return obj;\r\n}\r\nfunction roundToDecimalPlace(num, decimalPlace) {\r\n    return Math.round(num * Math.pow(10, decimalPlace)) / Math.pow(10, decimalPlace);\r\n}\r\nfunction serialize(model) {\r\n    if (!model) {\r\n        return model;\r\n    }\r\n    if (Array.isArray(model)) {\r\n        return model.map(x => serialize(x));\r\n    }\r\n    if (model.serialize && typeof model.serialize === 'function') {\r\n        return serialize(model.serialize());\r\n    }\r\n    if (model === null || typeof model === 'number' || typeof model === 'string' || model instanceof Date) {\r\n        return model;\r\n    }\r\n    const keys = getAllProps(model);\r\n    if (keys.length === 0) {\r\n        return model;\r\n    }\r\n    return keys.filter(key => !inArray(['arguments', 'caller', 'callee'], key)).reduce((acc, key) => {\r\n        let val = null;\r\n        if (model[key] !== null && typeof model[key] === 'object' && !(model[key] instanceof Date)) {\r\n            if (model[key].serialize && typeof model[key].serialize === 'function') {\r\n                val = model[key].serialize();\r\n            }\r\n            else {\r\n                val = serialize(model[key]);\r\n            }\r\n        }\r\n        else {\r\n            val = model[key];\r\n        }\r\n        return Object.assign({}, acc, {\r\n            [key]: val\r\n        });\r\n    }, {});\r\n}\r\n/**\r\n * Reorder the elements of an array.\r\n * @param arr array to be randomized\r\n */\r\nfunction shuffle(arr) {\r\n    const shuffled = [...arr];\r\n    for (let i = shuffled.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]; // eslint-disable-line no-param-reassign\r\n    }\r\n    return shuffled;\r\n}\r\nfunction stringify(token) {\r\n    if (typeof token === 'string') {\r\n        return token;\r\n    }\r\n    if (token == null) {\r\n        return '' + token;\r\n    }\r\n    if (token.overriddenName) {\r\n        return `${token.overriddenName}`;\r\n    }\r\n    if (token.name) {\r\n        return `${token.name}`;\r\n    }\r\n    const res = token.toString();\r\n    const newLineIndex = res.indexOf('\\n');\r\n    return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\r\n}\r\nfunction str2CharCode(str) {\r\n    return str.charCodeAt(0);\r\n}\r\nfunction str2Id(str) {\r\n    const charCodes = str ? str.split('').reduce((acc, x) => `${acc}${str2CharCode(x)}`, '') : '';\r\n    return toInt(charCodes);\r\n}\r\nfunction str2int(str) {\r\n    return parseInt(str, 10);\r\n}\r\nfunction strArray2Id(strArray) {\r\n    const str = strArray.reduce((acc, x) => `${acc}${x}`, '');\r\n    return str2Id(str);\r\n}\r\nfunction throwException(errorName, errorMessage) {\r\n    throw {\r\n        name: errorName,\r\n        level: 'Show Stopper',\r\n        message: errorMessage,\r\n        htmlMessage: 'Error detected. Please contact the <a href=\\'mailto:agendamanager@caiu.com\\'>system administrator</a>.',\r\n        toString: function () {\r\n            return errorName + ': ' + errorMessage;\r\n        }\r\n    };\r\n}\r\nfunction throwNotImplementedException() {\r\n    throwException('Not Implemented', 'Not Implemented');\r\n}\r\nfunction toArray(val) {\r\n    return val ? (Array.isArray(val) ? val : [val]) : [];\r\n}\r\nfunction toInt(val) {\r\n    return val && val.toString ? str2int(val.toString()) : 0;\r\n}\r\nfunction toFullName(first, last) {\r\n    return truthy(first) && truthy(last) ? `${first} ${last}` : null;\r\n}\r\nfunction toPayload(action) {\r\n    return action ? action.payload : null;\r\n}\r\nfunction toPx(n) {\r\n    return `${n}px`;\r\n}\r\nfunction truthy(value) {\r\n    return !falsy(value);\r\n}\r\nfunction tryCast(obj, type) {\r\n    const retObj = new type();\r\n    for (const key in obj) {\r\n        if (typeof retObj[key] !== 'undefined') {\r\n            retObj[key] = obj[key];\r\n        }\r\n    }\r\n    return retObj;\r\n}\r\nfunction valueChanged(changes, key = '') {\r\n    return key\r\n        ? changes[key].currentValue !== changes[key].previousValue\r\n        : Object.keys(changes).reduce((acc, currentKey) => {\r\n            return acc ? true : changes[currentKey].currentValue !== changes[currentKey].previousValue;\r\n        }, false);\r\n}\r\nfunction valueEquals(value, formValue) {\r\n    return equals(getValue(value), formValue);\r\n}\n\nclass Collection {\r\n    constructor(ctor, findByKey = 'id') {\r\n        this.ctor = ctor;\r\n        this.findByKey = findByKey;\r\n        this.activeId = 0;\r\n        this.metadata = {};\r\n        this._items = {};\r\n    }\r\n    static AddItem(state, key, item) {\r\n        const newState = {};\r\n        Object.keys(state).forEach(k => {\r\n            newState[k] = state[k];\r\n        });\r\n        newState[key] = item;\r\n        return newState;\r\n    }\r\n    static BuildCollection(items, findByKey = 'id') {\r\n        const dictionary = Collection.BuildItems(items, findByKey);\r\n        return Object.assign(new Collection(), { items: dictionary });\r\n    }\r\n    static BuildDictionaryFromArray(value, key = 'id') {\r\n        const obj = {};\r\n        value.forEach(item => {\r\n            obj[item[key]] = item;\r\n        });\r\n        return obj;\r\n    }\r\n    static BuildFromArray(items, findByKey = 'id') {\r\n        const dictionary = Collection.BuildItems(items, findByKey);\r\n        return Object.assign(new Collection(), { items: dictionary });\r\n    }\r\n    static BuildItems(items, findByKey = 'id') {\r\n        const dictionary = {};\r\n        items.forEach(item => {\r\n            const key = item[findByKey];\r\n            dictionary[key] = item;\r\n        });\r\n        return dictionary;\r\n    }\r\n    static Filter(item, path) {\r\n        return Array.isArray(item['matches']) && inArray(item['matches'], path);\r\n    }\r\n    static FilterAnd(item, paths) {\r\n        return Array.isArray(item['matches']) && paths.every(path => inArray(item['matches'], path));\r\n    }\r\n    static FilterOr(item, paths) {\r\n        return Array.isArray(item['matches']) && paths.some(path => inArray(item['matches'], path));\r\n    }\r\n    static RemoveItem(state, key) {\r\n        const newState = {};\r\n        Object.keys(state)\r\n            .filter(k => k !== key)\r\n            .forEach(k => {\r\n            newState[k] = state[k];\r\n        });\r\n        return newState;\r\n    }\r\n    get active() {\r\n        const item = this.items[this.activeId] || {};\r\n        return this.ctor ? build(this.ctor, item) : item;\r\n    }\r\n    get count() {\r\n        return this.toArray().length;\r\n    }\r\n    get defaultItem() {\r\n        return this.ctor ? new this.ctor() : {};\r\n    }\r\n    get empty() {\r\n        return this.toArray().length === 0;\r\n    }\r\n    get instance() {\r\n        const activeId = this.activeId;\r\n        const ctor = this.ctor;\r\n        const lastUpdated = this.lastUpdated;\r\n        const metadata = this.metadata;\r\n        // const collection = this.constructor();\r\n        const collection = new Collection();\r\n        collection.activeId = activeId;\r\n        collection.ctor = ctor;\r\n        collection.lastUpdated = lastUpdated;\r\n        collection.metadata = metadata;\r\n        return collection;\r\n    }\r\n    get items() {\r\n        return this._items;\r\n    }\r\n    set items(value) {\r\n        this._items = value;\r\n        this.lastUpdated = new Date();\r\n    }\r\n    get keys() {\r\n        return Object.keys(this.items);\r\n    }\r\n    get asArray() {\r\n        return this.toArray();\r\n    }\r\n    get itemsArray() {\r\n        return this.asArray;\r\n    }\r\n    toArray() {\r\n        return Object.keys(this.items).map((key) => this.items[key]);\r\n    }\r\n    activate(id, key) {\r\n        const findByKey = key || this.findByKey;\r\n        const items = this.items[id] ? this.copyItems() : Object.assign(this.copyItems(), { [id]: { [findByKey]: id } });\r\n        return Object.assign(new Collection(), this, { activeId: id, items });\r\n    }\r\n    addItem(item, key) {\r\n        const items = this.copyItems();\r\n        return Object.assign(this.constructor(), this, {\r\n            items: Object.assign(items, { [key]: item })\r\n        });\r\n    }\r\n    addItems(items, key) {\r\n        const findByKey = key || this.findByKey;\r\n        const newItems = {};\r\n        this.toArray().forEach(item => {\r\n            newItems[item[findByKey]] = item;\r\n        });\r\n        items.forEach(item => {\r\n            const existingItem = newItems[item[findByKey]] ? newItems[item[findByKey]] : {};\r\n            const existingMatches = existingItem['matches'] || [];\r\n            const newMatches = item['matches'] || [];\r\n            const matches = arrayUnion(existingMatches, newMatches);\r\n            const newItem = this.buildItem(item, { matches: matches });\r\n            newItems[item[findByKey]] = this.buildItem(existingItem, newItem);\r\n        });\r\n        this.items = newItems;\r\n        return Object.assign(new Collection(), this);\r\n    }\r\n    build(items, ctor) {\r\n        return ctor ? build(ctor, { items }) : Object.assign(this.instance, { items });\r\n    }\r\n    buildItem(existingItem, newItem, ctor) {\r\n        const existing = existingItem || {};\r\n        const item = ctor ? build(ctor, existing, newItem) : this.ctor ? build(this.ctor, existing, newItem) : Object.assign({}, existing, newItem);\r\n        return item;\r\n    }\r\n    buildItems(items, ctor) {\r\n        const factory = ctor ? ctor : this.ctor;\r\n        return items.map(x => (factory ? build(factory, x) : Object.assign({}, x)));\r\n    }\r\n    copyItems() {\r\n        return Object.keys(this.items).reduce((acc, key) => {\r\n            acc[key] = this.get(key);\r\n            return acc;\r\n        }, {});\r\n    }\r\n    delete(key) {\r\n        return this.removeAt(key);\r\n    }\r\n    filter(f) {\r\n        const items = Collection.BuildDictionaryFromArray(this.toArray().filter(f));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    filterBy(f) {\r\n        return this.filterItems(f);\r\n    }\r\n    filterItems(f) {\r\n        return this.toArray().filter(f);\r\n    }\r\n    findBy(f) {\r\n        return this.asArray.find(f) || this.defaultItem;\r\n    }\r\n    get(id) {\r\n        const existing = this.items[id];\r\n        return this.ctor ? build(this.ctor, existing) : Object.assign({}, existing);\r\n    }\r\n    keyExists(key) {\r\n        return truthy(this.items[key]);\r\n    }\r\n    map(f) {\r\n        const items = Collection.BuildDictionaryFromArray(this.toArray().map(f));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    patch(id, props) {\r\n        const existing = this.get(id);\r\n        return this.update(this.buildItem(existing, props));\r\n    }\r\n    query(path) {\r\n        return this.toArray().filter(item => Collection.Filter(item, path));\r\n    }\r\n    queryAnd(paths) {\r\n        return this.toArray().filter(item => Collection.FilterAnd(item, paths));\r\n    }\r\n    queryOr(paths) {\r\n        return this.toArray().filter(item => Collection.FilterOr(item, paths));\r\n    }\r\n    removeAt(key) {\r\n        const keys = Object.keys(this.items);\r\n        const items = Collection.BuildDictionaryFromArray(keys.filter(x => x.toString() !== key.toString()).map(y => this.items[y]));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    removeItem(key) {\r\n        const collection = this.constructor();\r\n        const keys = Object.keys(this.items).filter(k => k !== key);\r\n        keys.forEach((k) => {\r\n            collection.items[k] = Object.assign({}, this.items[k]);\r\n        });\r\n        return collection;\r\n    }\r\n    removeItems(filter, key) {\r\n        const findByKey = key || this.findByKey;\r\n        const keys = this.toArray()\r\n            .filter(filter)\r\n            .map(x => x[findByKey]);\r\n        this.removeKeys(keys);\r\n    }\r\n    removeKeys(keys) {\r\n        keys.forEach((key) => {\r\n            this.removeItem(key);\r\n        });\r\n    }\r\n    replace(itemsArray) {\r\n        const items = Collection.BuildDictionaryFromArray(this.buildItems(itemsArray));\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    replaceItems(items, filter) {\r\n        if (filter) {\r\n            const f = (x) => !filter(x);\r\n            return this.replaceItems([...this.filterItems(f), ...items]);\r\n        }\r\n        return Object.assign(new Collection(), this, { items });\r\n    }\r\n    setValue(value) {\r\n        return Object.assign(new Collection(), this, value);\r\n    }\r\n    update(value, ctor) {\r\n        if (Array.isArray(value)) {\r\n            return this.updateItems(value, ctor);\r\n        }\r\n        return this.updateItem(value, value[this.findByKey], ctor);\r\n    }\r\n    updateItem(item, key, ctor) {\r\n        const items = this.copyItems();\r\n        const updatedItem = this.buildItem(items[key], item, ctor);\r\n        return this.build(Object.assign(items, { [key]: updatedItem }));\r\n    }\r\n    updateItems(items, ctor) {\r\n        const existingItems = this.copyItems();\r\n        const updatedItems = items.reduce((acc, item) => {\r\n            const existingItem = acc[item[this.findByKey]];\r\n            acc[item[this.findByKey]] = this.buildItem(existingItem, item, ctor);\r\n            return acc;\r\n        }, existingItems);\r\n        return this.build(updatedItems);\r\n    }\r\n}\n\nclass Event {\r\n    constructor() {\r\n        this.emittedCount = 0;\r\n        this.key = '';\r\n        this.onAction = '';\r\n        this.value = null;\r\n    }\r\n}\r\nclass Events$1 extends Collection {\r\n    get actions() {\r\n        return this.toArray().reduce((acc, event) => {\r\n            const addValues = !event.onAction\r\n                ? []\r\n                : typeof event.onAction === 'string'\r\n                    ? acc.indexOf(event.onAction) === -1\r\n                        ? [event.onAction]\r\n                        : []\r\n                    : event.onAction.filter(x => acc.indexOf(x) === -1);\r\n            return [...acc, ...addValues];\r\n        }, []);\r\n    }\r\n    get eventsByAction() {\r\n        return this.toArray().reduce((acc, event) => {\r\n            if (typeof event.onAction === 'string') {\r\n                const val = acc[event.onAction] || [];\r\n                acc[event.onAction] = [...val, event];\r\n            }\r\n            else {\r\n                event.onAction.forEach(actionType => {\r\n                    const val = acc[actionType] || [];\r\n                    acc[actionType] = [...val, event];\r\n                });\r\n            }\r\n            return acc;\r\n        }, {});\r\n    }\r\n    addEvent(payload) {\r\n        return build(Events$1, this.addItem(payload, payload.key));\r\n    }\r\n    getActionEvents(actionType) {\r\n        return this.eventsByAction[actionType];\r\n    }\r\n    removeEvent(payload) {\r\n        return build(Events$1, this.removeItem(payload));\r\n    }\r\n    replaceEvents(payload) {\r\n        const events = this.copyItems();\r\n        payload.forEach(e => {\r\n            events[e.key] = e;\r\n        });\r\n        return build(Events$1, this, { items: events });\r\n    }\r\n    triggerEvent(payload) {\r\n        const events = this.getActionEvents(payload.type).map(e => build(Event, e, { value: e.handler ? e.handler(payload) : payload }));\r\n        return this.replaceEvents(events);\r\n    }\r\n    updateValue(payload) {\r\n        const event = build(Event, this.items[payload.key], {\r\n            value: payload.value\r\n        });\r\n        return build(Events$1, this.updateItem(event, payload.key, Event));\r\n    }\r\n}\r\nclass UpdateValuePayload {\r\n}\r\nclass Message {\r\n    constructor() {\r\n        this.action = '';\r\n        this.channel = '';\r\n        this.message = '';\r\n    }\r\n    set id(value) {\r\n        this.channel = value;\r\n    }\r\n    get id() {\r\n        return this.channel;\r\n    }\r\n}\r\nclass MessageSubscription {\r\n    constructor() {\r\n        this.action = '';\r\n        this.channel = '';\r\n    }\r\n}\r\nclass Messages extends Collection {\r\n    constructor() {\r\n        super(Message);\r\n        this.subscriptions = [];\r\n    }\r\n    addMessages(data) {\r\n        return build(Messages, this, this.update(data));\r\n    }\r\n    clearMessages(data) {\r\n        const channelNames = Array.isArray(data)\r\n            ? data.map(x => x.channel)\r\n            : [data.channel];\r\n        return build(Messages, this, this.removeMessages(channelNames));\r\n    }\r\n    removeMessages(channelNames) {\r\n        return build(Messages, channelNames.reduce((acc, id) => {\r\n            return acc.delete(id);\r\n        }, this));\r\n    }\r\n    addSubscription(arr, data) {\r\n        return [\r\n            ...arr.filter(x => !(x.action === data.action && x.channel === data.channel)),\r\n            data\r\n        ];\r\n    }\r\n    addSubscriptions(data) {\r\n        const subscriptions = Array.isArray(data)\r\n            ? data.reduce((acc, x) => this.addSubscription(acc, x), this.subscriptions)\r\n            : this.addSubscription(this.subscriptions, data);\r\n        return build(Messages, this, {\r\n            subscriptions\r\n        });\r\n    }\r\n    removeSubscription(arr, data) {\r\n        return arr.filter(x => !(x.action === data.action && x.channel === data.channel));\r\n    }\r\n    removeSubscriptions(data) {\r\n        const subscriptions = Array.isArray(data)\r\n            ? data.reduce((acc, x) => this.addSubscription(acc, x), this.subscriptions)\r\n            : this.addSubscription(this.subscriptions, data);\r\n        const channels = Array.isArray(data)\r\n            ? data.map(x => x.channel)\r\n            : [data.channel];\r\n        const items = this.asArray; // TODO: filter out messages from unsubscribed channels\r\n        return build(Messages, {\r\n            items,\r\n            subscriptions\r\n        });\r\n    }\r\n}\n\nclass EventActions {\r\n    static addEvent(onAction, handler, value = null) {\r\n        const e = build(Event, {\r\n            onAction,\r\n            handler,\r\n            value,\r\n            key: guid()\r\n        });\r\n        return {\r\n            type: EventActions.ADD_EVENT,\r\n            payload: e,\r\n            key: e.key\r\n        };\r\n    }\r\n    static removeEvent(key) {\r\n        return {\r\n            type: EventActions.REMOVE_EVENT,\r\n            payload: key\r\n        };\r\n    }\r\n    static triggerEvent(action) {\r\n        return {\r\n            type: EventActions.TRIGGER_EVENT,\r\n            payload: action\r\n        };\r\n    }\r\n    static updateValue(key, value) {\r\n        const payload = build(UpdateValuePayload, {\r\n            key,\r\n            value\r\n        });\r\n        return {\r\n            type: EventActions.UPDATE_VALUE,\r\n            payload: payload\r\n        };\r\n    }\r\n}\r\nEventActions.ADD_EVENT = '[Events] Add Event';\r\nEventActions.REMOVE_EVENT = '[Events] Remove Event';\r\nEventActions.TRIGGER_EVENT = '[Events] Trigger Event';\r\nEventActions.UPDATE_VALUE = '[Events] Update Value';\r\nclass MessagesActions {\r\n    static add(e, action) {\r\n        return {\r\n            type: MessagesActions.ADD,\r\n            payload: build(Message, {\r\n                channel: e.channel,\r\n                action: e.action,\r\n                message: e.mapper && typeof e.mapper === 'function'\r\n                    ? e.mapper(action.payload)\r\n                    : ''\r\n            })\r\n        };\r\n    }\r\n    static error(action, mapper) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(MessageSubscription, {\r\n                channel: 'ERRORS',\r\n                action,\r\n                mapper\r\n            })\r\n        };\r\n    }\r\n    static toast(action, mapper) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(MessageSubscription, {\r\n                channel: 'TOASTS',\r\n                action,\r\n                mapper\r\n            })\r\n        };\r\n    }\r\n    static subscribe(payload) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload\r\n        };\r\n    }\r\n    static toastMessage(action, message) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(Message, {\r\n                channel: 'TOASTS',\r\n                action,\r\n                mapper: (e) => message\r\n            })\r\n        };\r\n    }\r\n    static unsubscribe(payload) {\r\n        return {\r\n            type: MessagesActions.UNSUBSCRIBE,\r\n            payload\r\n        };\r\n    }\r\n    static warn(action, mapper) {\r\n        return {\r\n            type: MessagesActions.SUBSCRIBE,\r\n            payload: build(MessageSubscription, {\r\n                channel: 'WARNINGS',\r\n                action,\r\n                mapper\r\n            })\r\n        };\r\n    }\r\n}\r\nMessagesActions.ADD = '[Messages] Add Messages';\r\nMessagesActions.CLEAR = '[Messages] Clear Messages';\r\nMessagesActions.REMOVE = '[Messages] Remove Messages';\r\nMessagesActions.SUBSCRIBE = '[Messages] Subscribe';\r\nMessagesActions.UNSUBSCRIBE = '[Messages] Unsubscribe';\n\nclass HttpDeletePayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nclass HttpGetPayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nclass HttpPutPayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.model = null;\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nclass HttpPostPayload {\r\n    constructor() {\r\n        this.path = '';\r\n        this.model = null;\r\n        this.options = new HttpOptions();\r\n        this.headers = undefined;\r\n        this.onSuccess = '';\r\n    }\r\n}\r\nvar HTTP_REQUEST_STATUS;\r\n(function (HTTP_REQUEST_STATUS) {\r\n    HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS[\"PENDING\"] = 0] = \"PENDING\";\r\n    HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS[\"ERROR\"] = 1] = \"ERROR\";\r\n    HTTP_REQUEST_STATUS[HTTP_REQUEST_STATUS[\"SUCCESS\"] = 2] = \"SUCCESS\";\r\n})(HTTP_REQUEST_STATUS || (HTTP_REQUEST_STATUS = {}));\r\nvar HTTP_STATUS_CODES;\r\n(function (HTTP_STATUS_CODES) {\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"CONTINUE\"] = 100] = \"CONTINUE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"SWITCHING_PROTOCOLS\"] = 101] = \"SWITCHING_PROTOCOLS\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"OK\"] = 200] = \"OK\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"CREATED\"] = 201] = \"CREATED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"ACCEPTED\"] = 202] = \"ACCEPTED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NON_AUTHORITATIVE_INFORMATION\"] = 203] = \"NON_AUTHORITATIVE_INFORMATION\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NO_CONTENT\"] = 204] = \"NO_CONTENT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"RESET_CONTENT\"] = 205] = \"RESET_CONTENT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PARTIAL_CONTENT\"] = 206] = \"PARTIAL_CONTENT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"MULTIPLE_CHOICES\"] = 300] = \"MULTIPLE_CHOICES\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"MOVED_PERMANENTLY\"] = 301] = \"MOVED_PERMANENTLY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"FOUND\"] = 302] = \"FOUND\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"SEE_OTHER\"] = 303] = \"SEE_OTHER\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_MODIFIED\"] = 304] = \"NOT_MODIFIED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"USE_PROXY\"] = 305] = \"USE_PROXY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"TEMPORARY_REDIRECT\"] = 307] = \"TEMPORARY_REDIRECT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"BAD_REQUEST\"] = 400] = \"BAD_REQUEST\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"UNAUTHORIZED\"] = 401] = \"UNAUTHORIZED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PAYMENT_REQUIRED\"] = 402] = \"PAYMENT_REQUIRED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"FORBIDDEN\"] = 403] = \"FORBIDDEN\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_FOUND\"] = 404] = \"NOT_FOUND\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"METHOD_NOT_ALLOWED\"] = 405] = \"METHOD_NOT_ALLOWED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_ACCEPTABLE\"] = 406] = \"NOT_ACCEPTABLE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PROXY_AUTHENTICATION_REQUIRED\"] = 407] = \"PROXY_AUTHENTICATION_REQUIRED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUEST_TIMEOUT\"] = 408] = \"REQUEST_TIMEOUT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"CONFLICT\"] = 409] = \"CONFLICT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"GONE\"] = 410] = \"GONE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"LENGTH_REQUIRED\"] = 411] = \"LENGTH_REQUIRED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"PRECONDITION_FAILED\"] = 412] = \"PRECONDITION_FAILED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUEST_ENTITY_TOO_LARGE\"] = 413] = \"REQUEST_ENTITY_TOO_LARGE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUEST_URI_TOO_LONG\"] = 414] = \"REQUEST_URI_TOO_LONG\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"UNSUPPORTED_MEDIA_TYPE\"] = 415] = \"UNSUPPORTED_MEDIA_TYPE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"REQUESTED_RANGE_NOT_SATISFIABLE\"] = 416] = \"REQUESTED_RANGE_NOT_SATISFIABLE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"EXPECTATION_FAILED\"] = 417] = \"EXPECTATION_FAILED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"UNPROCESSABLE_ENTITY\"] = 422] = \"UNPROCESSABLE_ENTITY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"NOT_IMPLEMENTED\"] = 501] = \"NOT_IMPLEMENTED\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"BAD_GATEWAY\"] = 502] = \"BAD_GATEWAY\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"SERVICE_UNAVAILABLE\"] = 503] = \"SERVICE_UNAVAILABLE\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"GATEWAY_TIMEOUT\"] = 504] = \"GATEWAY_TIMEOUT\";\r\n    HTTP_STATUS_CODES[HTTP_STATUS_CODES[\"HTTP_VERSION_NOT_SUPPORTED\"] = 505] = \"HTTP_VERSION_NOT_SUPPORTED\";\r\n})(HTTP_STATUS_CODES || (HTTP_STATUS_CODES = {}));\r\nclass HttpOptions {\r\n    constructor() {\r\n        this.prependBaseUrl = true;\r\n    }\r\n}\n\nclass ErrorActions {\r\n    static addAtOutlet(e, outlet) {\r\n        let payload = {\r\n            key: outlet.key,\r\n            error: outlet.handler ? outlet.handler(e) : e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n    static addError(key, e) {\r\n        let payload = {\r\n            key: key,\r\n            error: e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n    static add(payload) {\r\n        return {\r\n            type: ErrorActions.ADD,\r\n            payload: payload\r\n        };\r\n    }\r\n    static remove(key) {\r\n        return {\r\n            type: ErrorActions.REMOVE,\r\n            payload: key\r\n        };\r\n    }\r\n}\r\nErrorActions.ADD = '[Error] Add Error';\r\nErrorActions.REMOVE = '[Error] Remove Error';\r\nErrorActions.HANDLE_ERROR = '[Error Handler] Handle Error';\r\nErrorActions.THROW_ERROR = '[Error Handler] Throw Error';\n\nclass HttpActions {\r\n    static addPath(path, target) {\r\n        const existingMatches = target['matches'] || [];\r\n        const matches = inArray(existingMatches, path)\r\n            ? existingMatches\r\n            : [...existingMatches, path];\r\n        return Object.assign(target, { matches: matches });\r\n    }\r\n    static matchPath(path, payload) {\r\n        if (payload && payload['results']) {\r\n            return Object.assign(payload, {\r\n                results: HttpActions.matchPath(path, payload['results'])\r\n            });\r\n        }\r\n        if (Array.isArray(payload)) {\r\n            return payload.map(x => HttpActions.addPath(path, x));\r\n        }\r\n        return HttpActions.addPath(path, payload);\r\n    }\r\n    static buildError(payload) {\r\n        return ErrorActions.add(payload);\r\n    }\r\n    static buildErrorPayload(key, e) {\r\n        return {\r\n            key: key,\r\n            error: e\r\n        };\r\n    }\r\n    static handleError(e, onError) {\r\n        return {\r\n            type: onError,\r\n            payload: e\r\n        };\r\n    }\r\n    static handleErrorOutlet(e, outlet) {\r\n        return ErrorActions.addAtOutlet(e, outlet);\r\n    }\r\n    static handleErrorDefault(e) {\r\n        return {\r\n            type: HttpActions.DELETE_ERROR,\r\n            payload: HttpActions.buildErrorPayload('lastError', e)\r\n        };\r\n    }\r\n    static delete(path, data, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpDeletePayload(), {\r\n            path: path,\r\n            onSuccess: onSuccess || HttpActions.DELETE_SUCCESS,\r\n            data,\r\n            onError: onError || HttpActions.DELETE_ERROR\r\n        });\r\n        return HttpActions.httpDelete(payload);\r\n    }\r\n    static httpDelete(payload) {\r\n        return {\r\n            type: HttpActions.DELETE,\r\n            payload: payload\r\n        };\r\n    }\r\n    static deleteSuccess(model, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.DELETE_SUCCESS,\r\n            payload: model\r\n        };\r\n    }\r\n    static deleteError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        // else if (typeof onError === 'ErrorOutlet') {\r\n        //     return HttpActions.handleErrorOutlet(e, onError);\r\n        // }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static get(path, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpGetPayload(), {\r\n            path: path,\r\n            onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n            onError: onError || HttpActions.GET_ERROR\r\n        });\r\n        return HttpActions.httpGet(payload);\r\n    }\r\n    static httpGet(payload) {\r\n        return {\r\n            type: HttpActions.GET,\r\n            payload: payload\r\n        };\r\n    }\r\n    static getSuccess(response, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.GET_SUCCESS,\r\n            payload: response\r\n        };\r\n    }\r\n    static getError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        // else if (typeof onError === 'ErrorOutlet') {\r\n        //     return HttpActions.handleErrorOutlet(e, onError);\r\n        // }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static post(path, model, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpPostPayload(), {\r\n            path: path,\r\n            model: model,\r\n            onSuccess: onSuccess || HttpActions.POST_SUCCESS,\r\n            onError: onError || HttpActions.POST_ERROR\r\n        });\r\n        return HttpActions.httpPost(payload);\r\n    }\r\n    static httpPost(payload) {\r\n        return {\r\n            type: HttpActions.POST,\r\n            payload: payload\r\n        };\r\n    }\r\n    static postFormUrlEncoded(path, model, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpPostPayload(), {\r\n            path: path,\r\n            model: model,\r\n            onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n            onError: onError || HttpActions.GET_ERROR\r\n        });\r\n        return {\r\n            type: HttpActions.POST_FORM_URL_ENCODED,\r\n            payload\r\n        };\r\n    }\r\n    static postSuccess(model, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.POST_SUCCESS,\r\n            payload: model\r\n        };\r\n    }\r\n    static postError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        else if (typeof onError === 'object') {\r\n            return HttpActions.handleErrorOutlet(e, onError);\r\n        }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static put(path, model, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpPutPayload(), {\r\n            path: path,\r\n            model: model,\r\n            onSuccess: onSuccess || HttpActions.PUT_SUCCESS,\r\n            onError: onError || HttpActions.PUT_ERROR\r\n        });\r\n        return HttpActions.httpPut(payload);\r\n    }\r\n    static httpPut(payload) {\r\n        return {\r\n            type: HttpActions.PUT,\r\n            payload: payload\r\n        };\r\n    }\r\n    static putSuccess(model, actionType) {\r\n        return {\r\n            type: actionType || HttpActions.PUT_SUCCESS,\r\n            payload: model\r\n        };\r\n    }\r\n    static putError(e, onError) {\r\n        if (typeof onError === 'string') {\r\n            return HttpActions.handleError(e, onError);\r\n        }\r\n        // else if (typeof onError === 'ErrorOutlet') {\r\n        //     return HttpActions.handleErrorOutlet(e, onError);\r\n        // }\r\n        return HttpActions.handleErrorDefault(e);\r\n    }\r\n    static search(path, onSuccess, onError) {\r\n        const payload = Object.assign(new HttpGetPayload(), {\r\n            path: path,\r\n            onSuccess: onSuccess || HttpActions.SEARCH_SUCCESS,\r\n            onError: onError || HttpActions.SEARCH_ERROR\r\n        });\r\n        return {\r\n            type: HttpActions.SEARCH,\r\n            payload: payload\r\n        };\r\n    }\r\n    static searchSuccess(response, actionType, path) {\r\n        const payload = path ? HttpActions.matchPath(path, response) : response;\r\n        return {\r\n            type: actionType || HttpActions.SEARCH_SUCCESS,\r\n            payload: payload\r\n        };\r\n    }\r\n}\r\nHttpActions.DELETE = `[Http] DELETE`;\r\nHttpActions.DELETE_SUCCESS = `[Http] DELETE Success`;\r\nHttpActions.DELETE_ERROR = `[Http] DELETE Error`;\r\nHttpActions.GET = `[Http] GET`;\r\nHttpActions.GET_SUCCESS = `[Http] GET Success`;\r\nHttpActions.GET_ERROR = `[Http] GET Error`;\r\nHttpActions.POST = `[Http] POST`;\r\nHttpActions.POST_SUCCESS = `[Http] POST Success`;\r\nHttpActions.POST_ERROR = `[Http] POST Error`;\r\nHttpActions.POST_FORM_URL_ENCODED = `[Http] POST Form URL Encoded`;\r\nHttpActions.PUT = `[Http] PUT`;\r\nHttpActions.PUT_SUCCESS = `[Http] PUT Success`;\r\nHttpActions.PUT_ERROR = `[Http] PUT Error`;\r\nHttpActions.SEARCH = `[Http] SEARCH`;\r\nHttpActions.SEARCH_SUCCESS = `[Http] SEARCH Success`;\r\nHttpActions.SEARCH_ERROR = `[Http] SEARCH Error`;\n\nclass StreamActions {\r\n    static update(payload) {\r\n        return {\r\n            type: StreamActions.UPDATE,\r\n            payload\r\n        };\r\n    }\r\n}\r\nStreamActions.UPDATE = '[Stream] UPDATE';\r\nfunction actionsStreamReducer(state = null, action) {\r\n    switch (action.type) {\r\n        case StreamActions.UPDATE:\r\n            return { type: action.payload.type, payload: action.payload.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nclass ActionsEffects {\r\n    constructor(actions$) {\r\n        this.actions$ = actions$;\r\n        /**\r\n         * Update actions store with latest action\r\n         */\r\n        this.onAction = this.actions$.pipe(filter(action => action.type !== StreamActions.UPDATE), map((action) => StreamActions.update(action)));\r\n    }\r\n}\r\n/** @nocollapse */ ActionsEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ActionsEffects, deps: [{ token: i1.Actions }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ActionsEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ActionsEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], ActionsEffects.prototype, \"onAction\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ActionsEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }]; }, propDecorators: { onAction: [] } });\r\nfunction actionsStreamSelector(store) {\r\n    return store.select('actions');\r\n}\n\nclass DumbComponent {\r\n    constructor() {\r\n        this.requestState = 'DEFAULT';\r\n        this.subscriptions = [];\r\n    }\r\n    get inErrorState() {\r\n        return this.requestState === 'ERROR';\r\n    }\r\n    get inSuccessState() {\r\n        return this.requestState === 'SUCCESS';\r\n    }\r\n    get message() {\r\n        return this.inErrorState ? `An error has occurred. Please try again later.` : this.inSuccessState ? `Saved successfully!` : '';\r\n    }\r\n    get showMessage() {\r\n        return this.inErrorState || this.inSuccessState;\r\n    }\r\n    ngOnDestroy() {\r\n        this.removeSubscriptions();\r\n    }\r\n    addSubscription(subscription) {\r\n        this.subscriptions.push(subscription);\r\n    }\r\n    closeDialog(result) {\r\n        this.dialogSubscription.unsubscribe();\r\n    }\r\n    openDialog(component, config = {}) {\r\n        const dialogRef = this.dialog.open(component, config);\r\n        this.dialogSubscription = dialogRef.afterClosed().subscribe(result => {\r\n            this.closeDialog(result);\r\n        });\r\n    }\r\n    playAudioElement(tag) {\r\n        const el = document.getElementById(tag);\r\n        if (el && typeof el['play'] === 'function') {\r\n            el['play']();\r\n        }\r\n    }\r\n    playAudioFile(file) {\r\n        const audio = new Audio(file);\r\n        audio.play();\r\n    }\r\n    print(html) {\r\n        const iframe = document.createElement('iframe');\r\n        iframe.onload = function () {\r\n            const doc = iframe.contentDocument ? iframe.contentDocument : iframe.contentWindow.document;\r\n            doc.getElementsByTagName('body')[0].innerHTML = html;\r\n            iframe.contentWindow.focus(); // This is key, the iframe must have focus first\r\n            iframe.contentWindow.print();\r\n        };\r\n        document.getElementsByTagName('body')[0].appendChild(iframe);\r\n    }\r\n    removeSubscriptions() {\r\n        this.subscriptions.forEach(s => {\r\n            s.unsubscribe();\r\n        });\r\n    }\r\n    subscribe(subscriptions) {\r\n        subscriptions.forEach(s => {\r\n            this.addSubscription(s);\r\n        });\r\n    }\r\n    sync(keys) {\r\n        keys.forEach(key => {\r\n            const subscription = this[`${key}$`].subscribe(e => {\r\n                this[key] = e;\r\n            });\r\n            this.addSubscription(subscription);\r\n        });\r\n    }\r\n    syncKey(key, handler) {\r\n        const subscription = this[`${key}$`].subscribe(e => {\r\n            this[key] = e;\r\n            if (handler && typeof handler === 'function') {\r\n                handler(e);\r\n            }\r\n        });\r\n        this.addSubscription(subscription);\r\n    }\r\n    flashErrorMessage(duration = 5000) {\r\n        this.toErrorState();\r\n        setTimeout(() => {\r\n            this.resetRequestState();\r\n        }, duration);\r\n    }\r\n    flashSuccessMessage(duration = 5000) {\r\n        this.toSucessState();\r\n        setTimeout(() => {\r\n            this.resetRequestState();\r\n        }, duration);\r\n    }\r\n    onError(e) {\r\n        this.flashErrorMessage();\r\n    }\r\n    onSuccess(e) {\r\n        this.flashSuccessMessage();\r\n    }\r\n    resetRequestState() {\r\n        this.requestState = 'DEFAULT';\r\n    }\r\n    setValue(value) {\r\n        if (this.form && this.form.setValue) {\r\n            this.form.setValue(getValue(value));\r\n        }\r\n    }\r\n    toErrorState() {\r\n        this.requestState = 'ERROR';\r\n    }\r\n    toSucessState() {\r\n        this.requestState = 'SUCCESS';\r\n    }\r\n}\r\n/** @nocollapse */ DumbComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DumbComponent, deps: [], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ DumbComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DumbComponent, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DumbComponent, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return []; } });\r\nclass FormComponent extends DumbComponent {\r\n    get editing() {\r\n        return truthy(this.id);\r\n    }\r\n    get id() {\r\n        return this.model.id;\r\n    }\r\n    get isValid() {\r\n        return this.form.valid;\r\n    }\r\n    getControl(key) {\r\n        return this.form.controls[key];\r\n    }\r\n    getControlValue(key, defaultValue) {\r\n        return this.form.value[key] || defaultValue;\r\n    }\r\n    getControlValueChanges(key, fn) {\r\n        const control = this.getControl(key);\r\n        return control.valueChanges.subscribe(fn);\r\n    }\r\n    getValue(defaultValue = null) {\r\n        return this.form.value || defaultValue;\r\n    }\r\n    getValueChanges(fn) {\r\n        return this.form.valueChanges.subscribe(fn);\r\n    }\r\n    markAsSubmitted() {\r\n        this.form.markAsTouched();\r\n        Object.keys(this.form.controls).forEach(key => {\r\n            this.form.controls[key].markAsTouched();\r\n        });\r\n    }\r\n    setControlValue(key, value) {\r\n        const control = this.getControl(key);\r\n        control.setValue(value);\r\n    }\r\n    subscribeToChanges(key, fn) {\r\n        this.addSubscription(this.getValueChanges(fn));\r\n    }\r\n    subscribeToControlChanges(key, fn) {\r\n        this.addSubscription(this.getControlValueChanges(key, fn));\r\n    }\r\n}\r\n/** @nocollapse */ FormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormComponent, deps: null, target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ FormComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormComponent, usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormComponent, decorators: [{\r\n            type: Directive\r\n        }] });\r\nclass SmartComponent extends DumbComponent {\r\n    constructor(store) {\r\n        super();\r\n        this.store = store;\r\n        this.messages = [];\r\n        this.channels = [];\r\n        this.actions$ = actionsStreamSelector(store);\r\n    }\r\n    get hasMessages() {\r\n        return this.messages && Array.isArray(this.messages) && this.messages.length > 0;\r\n    }\r\n    onInit() {\r\n        if (this.hasMessages) {\r\n            this.dispatch(MessagesActions.subscribe(this.messages));\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.hasMessages) {\r\n            this.dispatch(MessagesActions.unsubscribe(this.messages));\r\n        }\r\n        this.removeChannels();\r\n        super.ngOnDestroy();\r\n    }\r\n    addChannel(channel, action) {\r\n        if (this.hubService && typeof this.hubService.addEffect == 'function' && (this.channels.findIndex(x => x === channel) === -1)) {\r\n            this.hubService.addEffect(channel, action);\r\n            this.channels.push(channel);\r\n        }\r\n    }\r\n    dispatch(action) {\r\n        this.store.dispatch(action);\r\n    }\r\n    dispatchAndSubscribe(action, onSuccess, onError) {\r\n        const f1 = onSuccess\r\n            ? onSuccess\r\n            : e => {\r\n                this.flashSuccessMessage();\r\n            };\r\n        const f2 = onError\r\n            ? onError\r\n            : e => {\r\n                this.flashErrorMessage();\r\n            };\r\n        if (this.events && this.events.dispatch) {\r\n            this.addSubscription(this.events.dispatch(action).subscribe(f1, f2));\r\n        }\r\n        else {\r\n            this.store.dispatch(action);\r\n        }\r\n    }\r\n    httpDelete(path, payload, onSuccess, onError) {\r\n        this.dispatch(HttpActions.delete(path, payload, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    httpGet(path, onSuccess, onError) {\r\n        this.dispatch(HttpActions.get(path, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    httpPost(path, payload, onSuccess, onError) {\r\n        this.dispatch(HttpActions.post(path, payload, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    httpPut(path, payload, onSuccess, onError) {\r\n        this.dispatch(HttpActions.put(path, payload, onSuccess, onError));\r\n        return this.actions$.pipe(filter(x => x && (x.type === onSuccess || x.type === onError)), take(1));\r\n    }\r\n    removeChannel(channel) {\r\n        if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n            this.hubService.removeEffect(channel);\r\n        }\r\n    }\r\n    removeChannels() {\r\n        if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n            this.channels.forEach(x => {\r\n                this.hubService.removeEffect(x);\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ SmartComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SmartComponent, deps: [{ token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ SmartComponent.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: SmartComponent, usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SmartComponent, decorators: [{\r\n            type: Directive\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }]; } });\n\nclass DateMaskDirective extends DumbComponent {\r\n    constructor(el, _dateControl, renderer) {\r\n        super();\r\n        this.el = el;\r\n        this._dateControl = _dateControl;\r\n        this.renderer = renderer;\r\n    }\r\n    get dateController() {\r\n        return this._dateControl.control;\r\n    }\r\n    get dateMask() {\r\n        return this.dateController.valueChanges.subscribe(() => {\r\n            let data = this.el.nativeElement.value;\r\n            if (data.length < 10) {\r\n                if (data.length == 0) {\r\n                    data = '';\r\n                }\r\n                else if (data.length <= 3) {\r\n                    data = data.replace(/^(\\d{2})/, '$1/');\r\n                }\r\n                else if (data.length <= 5) {\r\n                    data = data.replace(/^(.{3})(\\d{2})/, '$1$2/');\r\n                }\r\n                this.renderer.setProperty(this.el.nativeElement, 'value', data);\r\n            }\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.subscribe([this.dateMask]);\r\n    }\r\n}\r\n/** @nocollapse */ DateMaskDirective.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateMaskDirective, deps: [{ token: i0.ElementRef }, { token: i5.NgControl }, { token: i0.Renderer2 }], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ DateMaskDirective.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DateMaskDirective, selector: \"[dateMask]\", usesInheritance: true, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateMaskDirective, decorators: [{\r\n            type: Directive,\r\n            args: [{\r\n                    selector: '[dateMask]'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i5.NgControl }, { type: i0.Renderer2 }]; } });\n\nclass SharedModule {\r\n}\r\n/** @nocollapse */ SharedModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ SharedModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, declarations: [DateMaskDirective], imports: [CommonModule,\r\n        RouterModule$1], exports: [CommonModule,\r\n        RouterModule$1,\r\n        DateMaskDirective] });\r\n/** @nocollapse */ SharedModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, imports: [[\r\n            CommonModule,\r\n            RouterModule$1,\r\n        ], CommonModule,\r\n        RouterModule$1] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SharedModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        RouterModule$1,\r\n                    ],\r\n                    declarations: [DateMaskDirective],\r\n                    exports: [\r\n                        CommonModule,\r\n                        RouterModule$1,\r\n                        DateMaskDirective\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AccordionModule {\r\n}\r\n/** @nocollapse */ AccordionModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AccordionModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, declarations: [AccordionComponent], imports: [SharedModule], exports: [AccordionComponent] });\r\n/** @nocollapse */ AccordionModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AccordionModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        AccordionComponent,\r\n                    ],\r\n                    exports: [\r\n                        AccordionComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass DialogModel {\r\n    constructor() {\r\n        this.title = ' ';\r\n        this.actions = [];\r\n        /** Whether the dialog has a backdrop. */\r\n        this.hasBackdrop = true;\r\n        /** Whether the user can use escape or clicking outside to close a modal. */\r\n        this.disableClose = false;\r\n    }\r\n    get config() {\r\n        return {\r\n            viewContainerRef: this.viewContainerRef,\r\n            role: this.role,\r\n            panelClass: this.panelClass,\r\n            hasBackdrop: this.hasBackdrop,\r\n            backdropClass: this.backdropClass,\r\n            disableClose: this.disableClose,\r\n            width: this.width,\r\n            height: this.height,\r\n            position: this.position,\r\n            data: this.data,\r\n            direction: this.direction\r\n        };\r\n    }\r\n}\r\nclass DialogAction {\r\n    constructor() {\r\n        this.value = null;\r\n        this.label = '';\r\n        this.color = 'accent';\r\n    }\r\n}\n\nclass DialogComponent {\r\n    constructor(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n        this.model = new DialogModel();\r\n        this.showActions = true;\r\n        this.showCloseAction = false;\r\n        this.showCloseIcon = true;\r\n        this.defaultActionColor = 'accent';\r\n    }\r\n    get actions() {\r\n        return this.model.actions;\r\n    }\r\n    get actionWidth() {\r\n        const actionsCount = Math.max(this.actions.length, 1);\r\n        return `${100 / actionsCount}%`;\r\n    }\r\n    get closeDialogDirectives() {\r\n        return this.actionElements['_results'];\r\n    }\r\n    get closeDialogElements() {\r\n        return this.closeDialogDirectives.map(x => x['_elementRef']);\r\n    }\r\n    get title() {\r\n        return this.model.title;\r\n    }\r\n    ngAfterViewInit() {\r\n        // setTimeout(() => {\r\n        //   console.dir(this.actionElements);\r\n        //   console.dir(this.closeDialogDirectives);\r\n        //   console.dir(this.closeDialogElements);\r\n        //   console.dir(this.closeDialogElements[1]);\r\n        //   console.log(typeof this.closeDialogElements[1].nativeElement['click']);\r\n        //   this.closeDialogElements[1].nativeElement.click();\r\n        // }, 3000);\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    ngOnChanges(e) {\r\n    }\r\n    close(e) {\r\n        this.dialogRef.close(e);\r\n    }\r\n}\r\n/** @nocollapse */ DialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogComponent, deps: [{ token: i1$2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DialogComponent, selector: \"iu-dialog\", inputs: { model: \"model\", showActions: \"showActions\", showCloseAction: \"showCloseAction\", showCloseIcon: \"showCloseIcon\", defaultActionColor: \"defaultActionColor\" }, viewQueries: [{ propertyName: \"actionElements\", predicate: MatDialogClose, descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n  <span class=\\\"dialog-title\\\">\\r\\n    {{ title }}\\r\\n    <button *ngIf=\\\"showCloseIcon\\\" mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </span>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"scrollable\\\">\\r\\n  <ng-content></ng-content>\\r\\n</mat-dialog-content>\\r\\n<!-- <mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button\\r\\n    class=\\\"action\\\"\\r\\n    *ngFor=\\\"let action of actions; let first = first\\\"\\r\\n    mat-raised-button\\r\\n    [mat-dialog-close]=\\\"action.value\\\"\\r\\n    [style.width]=\\\"actionWidth\\\"\\r\\n    color=\\\"primary\\\"\\r\\n    [autofocus]=\\\"first\\\"\\r\\n  >\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions> -->\\r\\n<mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button class=\\\"action\\\" *ngFor=\\\"let action of actions; let first = first\\\" mat-raised-button\\r\\n    (click)=\\\"close(action.value)\\\" [style.width]=\\\"actionWidth\\\" color=\\\"primary\\\" [autofocus]=\\\"first\\\">\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n<mat-dialog-actions *ngIf=\\\"showCloseAction && actions.length === 0\\\">\\r\\n  <button mat-raised-button mat-dialog-close=\\\"close\\\" color=\\\"primary\\\" [style.width]=\\\"actionWidth\\\">\\r\\n    Close\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n\", styles: [\"iu-dialog .mat-toolbar{min-height:32px}iu-dialog .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}iu-dialog .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}iu-dialog .mat-toolbar .dialog-title button:hover{font-weight:700}iu-dialog .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}iu-dialog .mat-toolbar-row{height:48px}iu-dialog .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}iu-dialog .mat-dialog-actions button{padding:12px 0}iu-dialog .mat-dialog-actions button.action:focus,iu-dialog .mat-dialog-actions button.action:active{color:#000!important}iu-dialog .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1$2.MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$2.MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { type: i1$2.MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { type: i1$2.MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\" }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-dialog', encapsulation: ViewEncapsulation.None, template: \"<mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n  <span class=\\\"dialog-title\\\">\\r\\n    {{ title }}\\r\\n    <button *ngIf=\\\"showCloseIcon\\\" mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </span>\\r\\n</mat-toolbar>\\r\\n<mat-dialog-content class=\\\"scrollable\\\">\\r\\n  <ng-content></ng-content>\\r\\n</mat-dialog-content>\\r\\n<!-- <mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button\\r\\n    class=\\\"action\\\"\\r\\n    *ngFor=\\\"let action of actions; let first = first\\\"\\r\\n    mat-raised-button\\r\\n    [mat-dialog-close]=\\\"action.value\\\"\\r\\n    [style.width]=\\\"actionWidth\\\"\\r\\n    color=\\\"primary\\\"\\r\\n    [autofocus]=\\\"first\\\"\\r\\n  >\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions> -->\\r\\n<mat-dialog-actions *ngIf=\\\"showActions && actions.length > 0\\\">\\r\\n  <button class=\\\"action\\\" *ngFor=\\\"let action of actions; let first = first\\\" mat-raised-button\\r\\n    (click)=\\\"close(action.value)\\\" [style.width]=\\\"actionWidth\\\" color=\\\"primary\\\" [autofocus]=\\\"first\\\">\\r\\n    {{ action.label }}\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n<mat-dialog-actions *ngIf=\\\"showCloseAction && actions.length === 0\\\">\\r\\n  <button mat-raised-button mat-dialog-close=\\\"close\\\" color=\\\"primary\\\" [style.width]=\\\"actionWidth\\\">\\r\\n    Close\\r\\n  </button>\\r\\n</mat-dialog-actions>\\r\\n\", styles: [\"iu-dialog .mat-toolbar{min-height:32px}iu-dialog .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}iu-dialog .mat-toolbar .dialog-title button{cursor:pointer;position:absolute;right:0;top:-5px;border-radius:100%;height:42px;width:42px;min-width:36px}iu-dialog .mat-toolbar .dialog-title button:hover{font-weight:700}iu-dialog .mat-toolbar .dialog-title mat-icon{position:absolute;top:9px;right:8px;z-index:1}iu-dialog .mat-toolbar-row{height:48px}iu-dialog .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}iu-dialog .mat-dialog-actions button{padding:12px 0}iu-dialog .mat-dialog-actions button.action:focus,iu-dialog .mat-dialog-actions button.action:active{color:#000!important}iu-dialog .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef }]; }, propDecorators: { model: [{\r\n                type: Input\r\n            }], showActions: [{\r\n                type: Input\r\n            }], showCloseAction: [{\r\n                type: Input\r\n            }], showCloseIcon: [{\r\n                type: Input\r\n            }], defaultActionColor: [{\r\n                type: Input\r\n            }], actionElements: [{\r\n                type: ViewChildren,\r\n                args: [MatDialogClose]\r\n            }] } });\n\nclass ConfirmDeleteComponent {\r\n    constructor(dialogRef, data) {\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this.header = 'Delete Confirmation';\r\n        this.question = 'Are you sure you want to delete this record?';\r\n        this.dialog = new DialogModel();\r\n        this.dialog = build(DialogModel, {\r\n            title: this.headerText,\r\n            actions: data && data.actions ? toArray(data.actions) : [build(DialogAction, { label: `Yes`, value: true }), build(DialogAction, { label: `Cancel`, value: false })]\r\n        });\r\n    }\r\n    get headerText() {\r\n        return this.data && this.data.header ? this.data.header : this.header;\r\n    }\r\n    get questionText() {\r\n        return this.data && this.data.question ? this.data.question : this.question;\r\n    }\r\n}\r\n/** @nocollapse */ ConfirmDeleteComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ConfirmDeleteComponent, deps: [{ token: i1$2.MatDialogRef, optional: true }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ ConfirmDeleteComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: ConfirmDeleteComponent, selector: \"iu-confirm-delete\", inputs: { header: \"header\", question: \"question\" }, ngImport: i0, template: \"<iu-dialog id=\\\"confirm-delete\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>{{ questionText }}</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#confirm-delete{width:600px;height:600px}iu-dialog#confirm-delete .mat-toolbar{min-height:32px;height:48px;padding:12px 20px 0;color:#fff;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#confirm-delete mat-dialog-content{width:80%;margin:48px 10%;color:#999;font-size:20px;font-family:Roboto,Helvetica Neue,sans-serif}iu-dialog#confirm-delete .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#confirm-delete .mat-dialog-actions button{padding:20px 0;color:#fff;-webkit-appearance:none;cursor:pointer;font-size:20px;opacity:.9}iu-dialog#confirm-delete .mat-dialog-actions button:hover{font-weight:700;opacity:1}iu-dialog#confirm-delete .mat-raised-button{margin-left:0!important}iu-dialog#confirm-delete .dialog-title button{display:none}\\n\"], components: [{ type: DialogComponent, selector: \"iu-dialog\", inputs: [\"model\", \"showActions\", \"showCloseAction\", \"showCloseIcon\", \"defaultActionColor\"] }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ConfirmDeleteComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-confirm-delete', encapsulation: ViewEncapsulation.None, template: \"<iu-dialog id=\\\"confirm-delete\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>{{ questionText }}</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#confirm-delete{width:600px;height:600px}iu-dialog#confirm-delete .mat-toolbar{min-height:32px;height:48px;padding:12px 20px 0;color:#fff;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#confirm-delete mat-dialog-content{width:80%;margin:48px 10%;color:#999;font-size:20px;font-family:Roboto,Helvetica Neue,sans-serif}iu-dialog#confirm-delete .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#confirm-delete .mat-dialog-actions button{padding:20px 0;color:#fff;-webkit-appearance:none;cursor:pointer;font-size:20px;opacity:.9}iu-dialog#confirm-delete .mat-dialog-actions button:hover{font-weight:700;opacity:1}iu-dialog#confirm-delete .mat-raised-button{margin-left:0!important}iu-dialog#confirm-delete .dialog-title button{display:none}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$2.MatDialogRef, decorators: [{\r\n                        type: Optional\r\n                    }] }, { type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [MAT_DIALOG_DATA]\r\n                    }] }];\r\n    }, propDecorators: { header: [{\r\n                type: Input\r\n            }], question: [{\r\n                type: Input\r\n            }] } });\n\nclass AddressPipe {\r\n    transform(value, showName = false) {\r\n        const address = value\r\n            ? `\r\n      ${value.address1 || ''}\r\n      ${value.city || ''}${truthy(value.city) && truthy(value.stateCode)\r\n                ? ', ' + value.stateCode\r\n                : ''} ${value.zip || ''}\r\n    `\r\n            : '';\r\n        return showName\r\n            ? `${value.firstName || ''} ${value.lastName || ''} ${address}`\r\n            : address;\r\n    }\r\n}\r\n/** @nocollapse */ AddressPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ AddressPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressPipe, name: \"address\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'address'\r\n                }]\r\n        }] });\n\nclass InlineAddressComponent {\r\n    constructor() {\r\n        this.canActivate = false;\r\n        this.canDelete = false;\r\n        this.canEdit = false;\r\n        this.showName = false;\r\n        this.activate = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.edit = new EventEmitter();\r\n    }\r\n    get isPrimary() {\r\n        return this.address.isPrimaryAddress;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onActivate() {\r\n        this.activate.emit(this.address);\r\n    }\r\n    onDelete() {\r\n        this.delete.emit(this.address);\r\n    }\r\n    onEdit() {\r\n        this.edit.emit(this.address);\r\n    }\r\n}\r\n/** @nocollapse */ InlineAddressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: InlineAddressComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ InlineAddressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: InlineAddressComponent, selector: \"iu-inline-address\", inputs: { address: \"address\", canActivate: \"canActivate\", canDelete: \"canDelete\", canEdit: \"canEdit\", showName: \"showName\" }, outputs: { activate: \"activate\", delete: \"delete\", edit: \"edit\" }, ngImport: i0, template: \"<div class=\\\"row inline-address\\\">\\r\\n  <div class=\\\"col mailing-address\\\" [class.primary]=\\\"isPrimary\\\">\\r\\n    {{ address | address: showName }}\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canActivate\\\">\\r\\n    <button\\r\\n      color=\\\"primary\\\"\\r\\n      mat-button\\r\\n      class=\\\"edit-icon activate-text\\\"\\r\\n      (click)=\\\"onActivate()\\\"\\r\\n    >\\r\\n      Mark Active\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canEdit\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onEdit()\\\"\\r\\n      >edit</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canDelete\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onDelete()\\\"\\r\\n      >delete</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".row.inline-address{vertical-align:inherit;border-color:inherit;border-collapse:separate}.row.inline-address .col{display:inline-block;font-size:12px;color:#1b1b1b;margin:0 2%;vertical-align:inherit}.row.inline-address .col .mat-icon{cursor:pointer}.row.inline-address .col .mat-icon:hover{color:#1b1b1b}.row.inline-address .col.mailing-address{width:60%}.row.inline-address .col.mailing-address.primary{font-size:14px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"address\": AddressPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: InlineAddressComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-inline-address', template: \"<div class=\\\"row inline-address\\\">\\r\\n  <div class=\\\"col mailing-address\\\" [class.primary]=\\\"isPrimary\\\">\\r\\n    {{ address | address: showName }}\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canActivate\\\">\\r\\n    <button\\r\\n      color=\\\"primary\\\"\\r\\n      mat-button\\r\\n      class=\\\"edit-icon activate-text\\\"\\r\\n      (click)=\\\"onActivate()\\\"\\r\\n    >\\r\\n      Mark Active\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canEdit\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onEdit()\\\"\\r\\n      >edit</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n  <div class=\\\"col\\\" *ngIf=\\\"canDelete\\\">\\r\\n    <mat-icon color=\\\"primary\\\" class=\\\"edit-icon\\\" (click)=\\\"onDelete()\\\"\\r\\n      >delete</mat-icon\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".row.inline-address{vertical-align:inherit;border-color:inherit;border-collapse:separate}.row.inline-address .col{display:inline-block;font-size:12px;color:#1b1b1b;margin:0 2%;vertical-align:inherit}.row.inline-address .col .mat-icon{cursor:pointer}.row.inline-address .col .mat-icon:hover{color:#1b1b1b}.row.inline-address .col.mailing-address{width:60%}.row.inline-address .col.mailing-address.primary{font-size:14px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { address: [{\r\n                type: Input\r\n            }], canActivate: [{\r\n                type: Input\r\n            }], canDelete: [{\r\n                type: Input\r\n            }], canEdit: [{\r\n                type: Input\r\n            }], showName: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], edit: [{\r\n                type: Output\r\n            }] } });\n\nclass FormArray extends FormArray$1 {\r\n    constructor(fb, controls, validator, asyncValidator) {\r\n        super(controls, validator, asyncValidator);\r\n        this.fb = fb;\r\n    }\r\n    static Build(fb, controls, validator, asyncValidator) {\r\n        return new FormArray(fb, controls, validator, asyncValidator);\r\n    }\r\n    static BuildWithType(ctor, fb, controls = [], validator, asyncValidator) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        return fa;\r\n    }\r\n    static BuildWithTypeAndValue(ctor, value, fb, controls = [], validator, asyncValidator) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n    static BuildWithValue(value, fb, controls = [], validator, asyncValidator) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n    static GetValue(value, ctor) {\r\n        return toArray(value).map(x => getValue(build(ctor, x)));\r\n    }\r\n    get maxIndex() {\r\n        return this.length - 1;\r\n    }\r\n    get values() {\r\n        return [...this.value];\r\n    }\r\n    buildControls(n) {\r\n        return this.buildItems(n).map(x => buildAbstractControl(this.fb, x));\r\n    }\r\n    buildItems(n) {\r\n        return Array.from(Array(n).keys()).map(x => this.ctor ? getValue(new this.ctor()) : {});\r\n    }\r\n    getValue(value) {\r\n        return this.ctor ? toArray(value).map(x => getValue(build(this.ctor, x))) : value;\r\n    }\r\n    resetValue(value) {\r\n        this.removeAll();\r\n        this.addControls(value);\r\n        this.setValue(value);\r\n    }\r\n    setLength(value) {\r\n        if (this.length < value) {\r\n            this.add(value - this.length);\r\n        }\r\n        else if (this.length > value) {\r\n            this.remove(this.length - value);\r\n        }\r\n    }\r\n    setValue(value) {\r\n        this.setLength(value.length);\r\n        super.setValue(this.getValue(value));\r\n    }\r\n    findControlById(id) {\r\n        return this.controls.find(control => control.value && control.value['id'] && control.value['id'] === id);\r\n    }\r\n    removeAll() {\r\n        this.controls = [];\r\n    }\r\n    removeIndexes(indexes) {\r\n        indexes.forEach(index => {\r\n            this.removeAt(index);\r\n        });\r\n    }\r\n    add(n) {\r\n        this.buildControls(n).forEach(x => {\r\n            this.push(x);\r\n        });\r\n    }\r\n    remove(n) {\r\n        const k = Math.min(n, this.length);\r\n        Array.from(Array(k).keys()).forEach(x => {\r\n            this.removeAt(this.maxIndex);\r\n        });\r\n    }\r\n    addControls(value) {\r\n        const controls = value.map(x => this.fb.group(buildControlsConfig(x, this.fb)));\r\n        controls.forEach(control => {\r\n            this.push(control);\r\n        });\r\n    }\r\n    /**\r\n     * Set value of each control.\r\n     * @param ctor Class constructor\r\n     * @param props Values to assign to props of each control\r\n     */\r\n    setAll(ctor, props) {\r\n        this.controls.forEach(control => {\r\n            control.setValue(build(new ctor(), control.value, props));\r\n        });\r\n    }\r\n}\n\nfunction buildAbstractControl(fb, value) {\r\n    return isGroupValue(value) ? fb.group(buildControlsConfig(value, fb)) : fb.control(value);\r\n}\r\n/**\r\n * Construct form builder and initialize new form array\r\n */\r\nfunction buildArrayFromType(ctor, validator, asyncValidator) {\r\n    const fb = new FormBuilder();\r\n    return FormArray.BuildWithType(ctor, fb, [], validator, asyncValidator);\r\n}\r\nfunction buildControl(fb, model, key) {\r\n    return isFormGroup(model, key) ?\r\n        fb.group(buildControlsConfig(model[key], fb))\r\n        : (isFormArray(model, key) ? buildFormArray(fb, model, key)\r\n            : (hasValidators(model, key) ? [model[key], model['metadata'][key]['validators']]\r\n                : [model[key]]));\r\n}\r\n/**\r\n * Construct form builder and initialize new form group.\r\n */\r\nfunction buildControlFromModel(model) {\r\n    const fb = new FormBuilder();\r\n    const controlsConfig = buildControlsConfig(model, fb);\r\n    return hasGroupValidators(model) ? fb.group(controlsConfig, model['metadata']['validators']) : fb.group(controlsConfig);\r\n}\r\n/**\r\n * Function to recursively construct form control config object.\r\n */\r\nfunction buildControlsConfig(model, fb) {\r\n    const keys = getAllProps(model);\r\n    const config = {};\r\n    return keys.filter(key => key !== 'metadata' && !ignoreKey(model, key))\r\n        .reduce((acc, key) => Object.assign({}, acc, { [key]: buildControl(fb, model, key) }), {});\r\n}\r\n/**\r\n * Initialize new form array.\r\n */\r\nfunction buildFormArray(fb, model, key) {\r\n    const ctor = findFormArrayType(model, key);\r\n    const value = model[key];\r\n    const controls = buildFormArrayControls(fb, value, ctor);\r\n    return ctor ? FormArray.BuildWithType(ctor, fb, controls) : FormArray.Build(fb, []);\r\n}\r\nfunction buildFormArrayControls(fb, value, ctor) {\r\n    return ctor ? value.map(x => buildAbstractControl(fb, getValue(build(ctor, x))))\r\n        : value.map(x => buildAbstractControl(fb, x));\r\n}\r\nfunction findFormArrayType(model, key) {\r\n    return model['metadata'] && model['metadata'][key] ?\r\n        model['metadata'][key]['type'] : null;\r\n}\r\nfunction hasGroupValidators(model) {\r\n    return model['metadata'] && model['metadata']['validators'];\r\n}\r\nfunction hasValidators(model, key) {\r\n    return model['metadata'] && model['metadata'][key] && model['metadata'][key]['validators'];\r\n}\r\nfunction isArrayValue(value) {\r\n    return Array.isArray(value);\r\n}\r\nfunction isFormArray(model, key) {\r\n    return Array.isArray(model[key]) && model['metadata'] && model['metadata'][key] && model['metadata'][key]['isFormArray'];\r\n}\r\nfunction isFormControl(model, key) {\r\n    return model['metadata'] && model['metadata']['controls'] && inArray(model['metadata']['controls'], key);\r\n}\r\nfunction isFormGroup(model, key) {\r\n    return model[key]\r\n        && typeof model[key] === 'object'\r\n        && !Array.isArray(model[key])\r\n        && Object.keys(model[key]).length > 0\r\n        && !isFormControl(model, key)\r\n        && !isFormArray(model, key);\r\n}\r\nfunction isGroupValue(value) {\r\n    return typeof value === 'object' && Object.keys(value).length > 0 && !isArrayValue(value);\r\n}\n\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nfunction Control(ctor) {\r\n    const propertyDecorator = (target, propertySignature) => {\r\n        const decoratedProperty = buildControlFromModel(new ctor());\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\r\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nfunction ArrayControl(ctor, validator, asyncValidator) {\r\n    const propertyDecorator = (target, propertySignature) => {\r\n        const decoratedProperty = buildArrayFromType(ctor, validator, asyncValidator);\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\n\nconst LOOKUP_STATES = [\r\n    {\r\n        label: 'Alabama',\r\n        name: 'AL'\r\n    },\r\n    {\r\n        label: 'Alaska',\r\n        name: 'AK'\r\n    },\r\n    {\r\n        label: 'American Samoa',\r\n        name: 'AS'\r\n    },\r\n    {\r\n        label: 'Arizona',\r\n        name: 'AZ'\r\n    },\r\n    {\r\n        label: 'Arkansas',\r\n        name: 'AR'\r\n    },\r\n    {\r\n        label: 'California',\r\n        name: 'CA'\r\n    },\r\n    {\r\n        label: 'Colorado',\r\n        name: 'CO'\r\n    },\r\n    {\r\n        label: 'Connecticut',\r\n        name: 'CT'\r\n    },\r\n    {\r\n        label: 'Delaware',\r\n        name: 'DE'\r\n    },\r\n    {\r\n        label: 'District Of Columbia',\r\n        name: 'DC'\r\n    },\r\n    {\r\n        label: 'Federated States Of Micronesia',\r\n        name: 'FM'\r\n    },\r\n    {\r\n        label: 'Florida',\r\n        name: 'FL'\r\n    },\r\n    {\r\n        label: 'Georgia',\r\n        name: 'GA'\r\n    },\r\n    {\r\n        label: 'Guam',\r\n        name: 'GU'\r\n    },\r\n    {\r\n        label: 'Hawaii',\r\n        name: 'HI'\r\n    },\r\n    {\r\n        label: 'Idaho',\r\n        name: 'ID'\r\n    },\r\n    {\r\n        label: 'Illinois',\r\n        name: 'IL'\r\n    },\r\n    {\r\n        label: 'Indiana',\r\n        name: 'IN'\r\n    },\r\n    {\r\n        label: 'Iowa',\r\n        name: 'IA'\r\n    },\r\n    {\r\n        label: 'Kansas',\r\n        name: 'KS'\r\n    },\r\n    {\r\n        label: 'Kentucky',\r\n        name: 'KY'\r\n    },\r\n    {\r\n        label: 'Louisiana',\r\n        name: 'LA'\r\n    },\r\n    {\r\n        label: 'Maine',\r\n        name: 'ME'\r\n    },\r\n    {\r\n        label: 'Marshall Islands',\r\n        name: 'MH'\r\n    },\r\n    {\r\n        label: 'Maryland',\r\n        name: 'MD'\r\n    },\r\n    {\r\n        label: 'Massachusetts',\r\n        name: 'MA'\r\n    },\r\n    {\r\n        label: 'Michigan',\r\n        name: 'MI'\r\n    },\r\n    {\r\n        label: 'Minnesota',\r\n        name: 'MN'\r\n    },\r\n    {\r\n        label: 'Mississippi',\r\n        name: 'MS'\r\n    },\r\n    {\r\n        label: 'Missouri',\r\n        name: 'MO'\r\n    },\r\n    {\r\n        label: 'Montana',\r\n        name: 'MT'\r\n    },\r\n    {\r\n        label: 'Nebraska',\r\n        name: 'NE'\r\n    },\r\n    {\r\n        label: 'Nevada',\r\n        name: 'NV'\r\n    },\r\n    {\r\n        label: 'New Hampshire',\r\n        name: 'NH'\r\n    },\r\n    {\r\n        label: 'New Jersey',\r\n        name: 'NJ'\r\n    },\r\n    {\r\n        label: 'New Mexico',\r\n        name: 'NM'\r\n    },\r\n    {\r\n        label: 'New York',\r\n        name: 'NY'\r\n    },\r\n    {\r\n        label: 'North Carolina',\r\n        name: 'NC'\r\n    },\r\n    {\r\n        label: 'North Dakota',\r\n        name: 'ND'\r\n    },\r\n    {\r\n        label: 'Northern Mariana Islands',\r\n        name: 'MP'\r\n    },\r\n    {\r\n        label: 'Ohio',\r\n        name: 'OH'\r\n    },\r\n    {\r\n        label: 'Oklahoma',\r\n        name: 'OK'\r\n    },\r\n    {\r\n        label: 'Oregon',\r\n        name: 'OR'\r\n    },\r\n    {\r\n        label: 'Palau',\r\n        name: 'PW'\r\n    },\r\n    {\r\n        label: 'Pennsylvania',\r\n        name: 'PA'\r\n    },\r\n    {\r\n        label: 'Puerto Rico',\r\n        name: 'PR'\r\n    },\r\n    {\r\n        label: 'Rhode Island',\r\n        name: 'RI'\r\n    },\r\n    {\r\n        label: 'South Carolina',\r\n        name: 'SC'\r\n    },\r\n    {\r\n        label: 'South Dakota',\r\n        name: 'SD'\r\n    },\r\n    {\r\n        label: 'Tennessee',\r\n        name: 'TN'\r\n    },\r\n    {\r\n        label: 'Texas',\r\n        name: 'TX'\r\n    },\r\n    {\r\n        label: 'Utah',\r\n        name: 'UT'\r\n    },\r\n    {\r\n        label: 'Vermont',\r\n        name: 'VT'\r\n    },\r\n    {\r\n        label: 'Virgin Islands',\r\n        name: 'VI'\r\n    },\r\n    {\r\n        label: 'Virginia',\r\n        name: 'VA'\r\n    },\r\n    {\r\n        label: 'Washington',\r\n        name: 'WA'\r\n    },\r\n    {\r\n        label: 'West Virginia',\r\n        name: 'WV'\r\n    },\r\n    {\r\n        label: 'Wisconsin',\r\n        name: 'WI'\r\n    },\r\n    {\r\n        label: 'Wyoming',\r\n        name: 'WY'\r\n    }\r\n];\r\nconst COLORS = [\r\n    {\r\n        name: 'blue',\r\n        hex: '#OOOOFF'\r\n    },\r\n    {\r\n        name: 'blueviolet',\r\n        hex: '#8A2BE2'\r\n    },\r\n    {\r\n        name: 'cadetblue',\r\n        hex: '#5F9EA0'\r\n    },\r\n    {\r\n        name: 'crimson',\r\n        hex: '#DC143C'\r\n    },\r\n    // {\r\n    //   name: 'darkblue',\r\n    //   hex: '#00008B'\r\n    // },\r\n    {\r\n        name: 'darkcyan',\r\n        hex: '#008B8B'\r\n    },\r\n    {\r\n        name: 'darkgreen',\r\n        hex: '#006400'\r\n    },\r\n    {\r\n        name: 'darkmagenta',\r\n        hex: '#8B008B'\r\n    },\r\n    {\r\n        name: 'darkolivegreen',\r\n        hex: '#556B2F'\r\n    },\r\n    {\r\n        name: 'darkorange',\r\n        hex: '#FF8C00'\r\n    },\r\n    {\r\n        name: 'darkorchid',\r\n        hex: '#9932CC'\r\n    },\r\n    {\r\n        name: 'darkred',\r\n        hex: '#8B0000'\r\n    },\r\n    {\r\n        name: 'darkslateblue',\r\n        hex: '#483D8B'\r\n    },\r\n    {\r\n        name: 'darkslategray',\r\n        hex: '#2F4F4F'\r\n    },\r\n    {\r\n        name: 'darkturquoise',\r\n        hex: '#00CED1'\r\n    },\r\n    {\r\n        name: 'darkviolet',\r\n        hex: '#9400D3'\r\n    },\r\n    {\r\n        name: 'deeppink',\r\n        hex: '#FF1493'\r\n    },\r\n    {\r\n        name: 'deepskyblue',\r\n        hex: '#00BFFF'\r\n    },\r\n    {\r\n        name: 'dodgerblue',\r\n        hex: '#1E90FF'\r\n    },\r\n    {\r\n        name: 'firebrick',\r\n        hex: '#B22222'\r\n    },\r\n    {\r\n        name: 'forestgreen',\r\n        hex: '#228B22'\r\n    },\r\n    {\r\n        name: 'fuchsia',\r\n        hex: '\t#FF00FF'\r\n    },\r\n    {\r\n        name: 'gold',\r\n        hex: '#FFD700'\r\n    },\r\n    {\r\n        name: 'goldenrod',\r\n        hex: '#DAA520'\r\n    },\r\n    {\r\n        name: 'green',\r\n        hex: '#008000'\r\n    },\r\n    {\r\n        name: 'grey',\r\n        hex: '#808080'\r\n    },\r\n    {\r\n        name: 'hotpink',\r\n        hex: '#FF69B4'\r\n    },\r\n    {\r\n        name: 'indianred',\r\n        hex: '\t#CD5C5C'\r\n    },\r\n    {\r\n        name: 'indigo',\r\n        hex: '#4B0082'\r\n    },\r\n    {\r\n        name: 'lawngreen',\r\n        hex: '#7CFC00'\r\n    },\r\n    {\r\n        name: 'lightcoral',\r\n        hex: '#F08080'\r\n    },\r\n    {\r\n        name: 'lightsalmon',\r\n        hex: '\t#FFA07A'\r\n    },\r\n    {\r\n        name: 'lightseagreen',\r\n        hex: '#20B2AA'\r\n    },\r\n    {\r\n        name: 'lightslategrey',\r\n        hex: '#778899'\r\n    },\r\n    {\r\n        name: 'lightsteelblue',\r\n        hex: '#B0C4DE'\r\n    },\r\n    {\r\n        name: 'lime',\r\n        hex: '#00FF00'\r\n    },\r\n    {\r\n        name: 'limegreen',\r\n        hex: '#32CD32'\r\n    },\r\n    {\r\n        name: 'magenta',\r\n        hex: '#FF00FF'\r\n    },\r\n    {\r\n        name: 'mediumaquamarine',\r\n        hex: '#66CDAA'\r\n    },\r\n    {\r\n        name: 'mediumorchid',\r\n        hex: '#BA55D3'\r\n    },\r\n    {\r\n        name: 'mediumpurple',\r\n        hex: '#9370DB'\r\n    },\r\n    {\r\n        name: 'mediumseagreen',\r\n        hex: '#3CB371'\r\n    },\r\n    {\r\n        name: 'mediumspringgreen',\r\n        hex: '#00FA9A'\r\n    },\r\n    {\r\n        name: 'olive',\r\n        hex: '#808000'\r\n    },\r\n    {\r\n        name: 'olivedrab',\r\n        hex: '#6B8E23'\r\n    },\r\n    {\r\n        name: 'orange',\r\n        hex: '#FFA500'\r\n    },\r\n    {\r\n        name: 'orangered',\r\n        hex: '#FF4500'\r\n    },\r\n    {\r\n        name: 'orchid',\r\n        hex: '#DA70D6'\r\n    },\r\n    {\r\n        name: 'palevioletred',\r\n        hex: '#DB7093'\r\n    },\r\n    {\r\n        name: 'red',\r\n        hex: '#FFOOOO'\r\n    },\r\n    {\r\n        name: 'royalblue',\r\n        hex: '#4169E1'\r\n    },\r\n    {\r\n        name: 'salmon',\r\n        hex: '#FA8072'\r\n    },\r\n    {\r\n        name: 'sandybrown',\r\n        hex: '#F4A460'\r\n    },\r\n    {\r\n        name: 'seagreen',\r\n        hex: '#2E8B57'\r\n    },\r\n    {\r\n        name: 'silver',\r\n        hex: '#C0C0C0'\r\n    },\r\n    {\r\n        name: 'skyblue',\r\n        hex: '#87CEEB'\r\n    },\r\n    {\r\n        name: 'slateblue',\r\n        hex: '#6A5ACD'\r\n    },\r\n    {\r\n        name: 'springgreen',\r\n        hex: '#00FF7F'\r\n    },\r\n    {\r\n        name: 'steelblue',\r\n        hex: '#4682B4'\r\n    },\r\n    {\r\n        name: 'tan',\r\n        hex: '#D2B48C'\r\n    },\r\n    {\r\n        name: 'teal',\r\n        hex: '#008080'\r\n    },\r\n    {\r\n        name: 'thistle',\r\n        hex: '#D8BFD8'\r\n    },\r\n    {\r\n        name: 'tomato',\r\n        hex: '#FF6347'\r\n    },\r\n    {\r\n        name: 'turquoise',\r\n        hex: '#40E0D0'\r\n    },\r\n    {\r\n        name: 'violet',\r\n        hex: '#EE82EE'\r\n    },\r\n    {\r\n        name: 'yellow',\r\n        hex: '#FFFF00'\r\n    },\r\n    {\r\n        name: 'yellowgreen',\r\n        hex: '#9ACD32'\r\n    }\r\n];\n\nconst STATE_PICKER_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => StatePickerComponent),\r\n    multi: true\r\n};\r\nclass StatePickerComponent {\r\n    constructor() {\r\n        this.states = LOOKUP_STATES;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.onModelChange(value);\r\n    }\r\n}\r\n/** @nocollapse */ StatePickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StatePickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ StatePickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: StatePickerComponent, selector: \"iu-state-picker\", providers: [STATE_PICKER_ACCESSOR], ngImport: i0, template: \"<mat-form-field>\\r\\n  <mat-select placeholder=\\\"State\\\" [value]=\\\"value\\\" (selectionChange)=\\\"onChange($event.value)\\\">\\r\\n    <mat-option *ngFor=\\\"let state of states\\\" [value]=\\\"state.name\\\">\\r\\n      {{ state.label }} ({{ state.name }})\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field>\\r\\n\", styles: [\"\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StatePickerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-state-picker', providers: [STATE_PICKER_ACCESSOR], template: \"<mat-form-field>\\r\\n  <mat-select placeholder=\\\"State\\\" [value]=\\\"value\\\" (selectionChange)=\\\"onChange($event.value)\\\">\\r\\n    <mat-option *ngFor=\\\"let state of states\\\" [value]=\\\"state.name\\\">\\r\\n      {{ state.label }} ({{ state.name }})\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nconst ADDRESS_FORM_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => AddressFormComponent),\r\n    multi: true\r\n};\r\nclass AddressFormComponent extends DumbComponent {\r\n    constructor() {\r\n        super();\r\n        this.address = new Address();\r\n        this.canDelete = false;\r\n        this.debug = false;\r\n        this.hasPrimaryAddress = true;\r\n        this.manager = false;\r\n        this.requireEffectiveDate = false;\r\n        this.showName = false;\r\n        this.zipPlus4 = true;\r\n        this.changes = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.save = new EventEmitter();\r\n    }\r\n    get canSave() {\r\n        return this.manager && this.form.valid && this.form.dirty;\r\n    }\r\n    get isPrimaryAddress() {\r\n        return this.isPrimaryAddressControl.value;\r\n    }\r\n    set isPrimaryAddress(value) {\r\n        this.isPrimaryAddressControl.setValue(value);\r\n    }\r\n    get isPrimaryAddressControl() {\r\n        return this.form.controls['isPrimaryAddress'];\r\n    }\r\n    get showMakePrimaryButton() {\r\n        return this.canSave && !this.isPrimaryAddress && this.hasPrimaryAddress;\r\n    }\r\n    get valueOut() {\r\n        return build(Address, this.form.value, {\r\n            id: this.address.id,\r\n            isPrimaryAddress: this.isPrimaryAddress\r\n        });\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (!equals(changes['address'], this.address)) {\r\n            if (this.debug) {\r\n                console.log('\\nCHANGE Address VALUE');\r\n                console.dir(getValue(this.address));\r\n            }\r\n            this.setValue(this.address);\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.form.valueChanges.subscribe(x => {\r\n            this.onChange();\r\n        });\r\n    }\r\n    onActivate() {\r\n        this.isPrimaryAddress = true;\r\n        this.onSubmit();\r\n        this.isPrimaryAddress = false;\r\n    }\r\n    onChange() {\r\n        this.value = this.form.value;\r\n        this.changes.emit(this.valueOut);\r\n    }\r\n    onDelete() {\r\n        this.delete.emit(this.address);\r\n    }\r\n    onSubmit() {\r\n        this.save.emit(this.valueOut);\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    setDisabledState(isDisabled) { }\r\n    writeValue(value) {\r\n        if (this.debug) {\r\n            console.log('\\nCHANGE Address VALUE');\r\n            console.dir(getValue(build(Address, value)));\r\n        }\r\n        this.value = value;\r\n        this.setValue(build(Address, value));\r\n    }\r\n}\r\n/** @nocollapse */ AddressFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressFormComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AddressFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AddressFormComponent, selector: \"iu-address-form\", inputs: { address: \"address\", canDelete: \"canDelete\", debug: \"debug\", hasPrimaryAddress: \"hasPrimaryAddress\", manager: \"manager\", requireEffectiveDate: \"requireEffectiveDate\", showName: \"showName\", zipPlus4: \"zipPlus4\" }, outputs: { changes: \"changes\", delete: \"delete\", save: \"save\" }, providers: [ADDRESS_FORM_ACCESSOR], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<form class=\\\"address-form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n  <mat-form-field class=\\\"control first-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"First Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"firstName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control last-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Last Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"lastName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address1\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 1\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address1\\\"\\r\\n      #address1\\r\\n    />\\r\\n    <mat-error>Street address is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address1.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address1.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address2\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 2\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address2\\\"\\r\\n      #address2\\r\\n    />\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address2.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address2.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control city\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"City\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"city\\\"\\r\\n      #city\\r\\n    />\\r\\n    <mat-error>City is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"city.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"city.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <iu-state-picker\\r\\n    class=\\\"control state\\\"\\r\\n    formControlName=\\\"stateCode\\\"\\r\\n  ></iu-state-picker>\\r\\n\\r\\n  <!--Zip Code Control-->\\r\\n  <mat-form-field class=\\\"control zip\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip Code\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zip\\\"\\r\\n      #zip\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zip']?.hasError('zipCode') &&\\r\\n        form.controls['zip'].touched\\r\\n      \\\"\\r\\n      >Please enter a valid 5-digit zip code.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Code Control-->\\r\\n\\r\\n  <!--Zip Plus 4 Control-->\\r\\n  <mat-form-field class=\\\"control zip-4\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip + 4\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zipPlus4\\\"\\r\\n      #zip4\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zipPlus4']?.hasError('zipPlus4') &&\\r\\n        form.controls['zipPlus4'].touched\\r\\n      \\\"\\r\\n      >Please enter 4 numeric digits.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip4.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip4.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Plus 4 Control-->\\r\\n\\r\\n  <mat-form-field class=\\\"control active-date\\\" *ngIf=\\\"requireEffectiveDate\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      [matDatepicker]=\\\"picker2\\\"\\r\\n      placeholder=\\\"Effective Date\\\"\\r\\n      formControlName=\\\"effectiveDate\\\"\\r\\n    />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker2></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"address.id && canDelete\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-delete\\\"\\r\\n    (click)=\\\"onDelete()\\\"\\r\\n    [style.right.px]=\\\"showMakePrimaryButton ? 282 : canSave ? 92 : 20\\\"\\r\\n  >\\r\\n    Delete\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"showMakePrimaryButton\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"btn-save btn-activate\\\"\\r\\n    (click)=\\\"onActivate()\\\"\\r\\n  >\\r\\n    Save and Mark Active\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"canSave\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-save\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n  >\\r\\n    Save\\r\\n  </button>\\r\\n</form>\\r\\n\", styles: [\"form{color:#1b1b1b;min-width:300px;max-width:800px;margin:10px}form .mat-form-field{padding-bottom:10px}form .control{margin-right:2%}form .control.first-name,form .control.last-name,form .control.address1,form .control.address2,form .control.city{width:48%;min-width:280px}form .control.state{width:48%;min-width:280px;display:inline-grid}form .control.zip{width:40%;min-width:260px}form .control.zip-4{width:30%;min-width:220px}form .control.last{margin-bottom:14px}form .btn-save{position:absolute;bottom:10px;right:20px;color:#fff}form .btn-save.btn-activate{right:92px}form .btn-delete{position:absolute;bottom:10px;color:#fff;background:red}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: StatePickerComponent, selector: \"iu-state-picker\" }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$3.MatError, selector: \"mat-error\", inputs: [\"id\"] }, { type: i1$3.MatSuffix, selector: \"[matSuffix]\" }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }] });\r\n__decorate([\r\n    Control(Address),\r\n    __metadata(\"design:type\", FormGroup)\r\n], AddressFormComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressFormComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-address-form', providers: [ADDRESS_FORM_ACCESSOR], template: \"<form class=\\\"address-form\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n  <mat-form-field class=\\\"control first-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"First Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"firstName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control last-name\\\" *ngIf=\\\"showName\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Last Name\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"lastName\\\"\\r\\n    />\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address1\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 1\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address1\\\"\\r\\n      #address1\\r\\n    />\\r\\n    <mat-error>Street address is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address1.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address1.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control address2\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Address 2\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"address2\\\"\\r\\n      #address2\\r\\n    />\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"address2.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"address2.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"control city\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"City\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"city\\\"\\r\\n      #city\\r\\n    />\\r\\n    <mat-error>City is required.</mat-error>\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"city.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"city.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <iu-state-picker\\r\\n    class=\\\"control state\\\"\\r\\n    formControlName=\\\"stateCode\\\"\\r\\n  ></iu-state-picker>\\r\\n\\r\\n  <!--Zip Code Control-->\\r\\n  <mat-form-field class=\\\"control zip\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip Code\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zip\\\"\\r\\n      #zip\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zip']?.hasError('zipCode') &&\\r\\n        form.controls['zip'].touched\\r\\n      \\\"\\r\\n      >Please enter a valid 5-digit zip code.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Code Control-->\\r\\n\\r\\n  <!--Zip Plus 4 Control-->\\r\\n  <mat-form-field class=\\\"control zip-4\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      placeholder=\\\"Zip + 4\\\"\\r\\n      type=\\\"text\\\"\\r\\n      formControlName=\\\"zipPlus4\\\"\\r\\n      #zip4\\r\\n    />\\r\\n    <mat-error\\r\\n      *ngIf=\\\"\\r\\n        form?.controls['zipPlus4']?.hasError('zipPlus4') &&\\r\\n        form.controls['zipPlus4'].touched\\r\\n      \\\"\\r\\n      >Please enter 4 numeric digits.</mat-error\\r\\n    >\\r\\n    <button\\r\\n      mat-button\\r\\n      *ngIf=\\\"zip4.value\\\"\\r\\n      matSuffix\\r\\n      mat-icon-button\\r\\n      aria-label=\\\"Clear\\\"\\r\\n      (click)=\\\"zip4.value = ''\\\"\\r\\n    >\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-form-field>\\r\\n  <!--End Zip Plus 4 Control-->\\r\\n\\r\\n  <mat-form-field class=\\\"control active-date\\\" *ngIf=\\\"requireEffectiveDate\\\">\\r\\n    <input\\r\\n      matInput\\r\\n      [matDatepicker]=\\\"picker2\\\"\\r\\n      placeholder=\\\"Effective Date\\\"\\r\\n      formControlName=\\\"effectiveDate\\\"\\r\\n    />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker2\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker2></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <button\\r\\n    *ngIf=\\\"address.id && canDelete\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-delete\\\"\\r\\n    (click)=\\\"onDelete()\\\"\\r\\n    [style.right.px]=\\\"showMakePrimaryButton ? 282 : canSave ? 92 : 20\\\"\\r\\n  >\\r\\n    Delete\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"showMakePrimaryButton\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"btn-save btn-activate\\\"\\r\\n    (click)=\\\"onActivate()\\\"\\r\\n  >\\r\\n    Save and Mark Active\\r\\n  </button>\\r\\n  <button\\r\\n    *ngIf=\\\"canSave\\\"\\r\\n    mat-raised-button\\r\\n    color=\\\"accent\\\"\\r\\n    class=\\\"btn-save\\\"\\r\\n    (click)=\\\"onSubmit()\\\"\\r\\n  >\\r\\n    Save\\r\\n  </button>\\r\\n</form>\\r\\n\", styles: [\"form{color:#1b1b1b;min-width:300px;max-width:800px;margin:10px}form .mat-form-field{padding-bottom:10px}form .control{margin-right:2%}form .control.first-name,form .control.last-name,form .control.address1,form .control.address2,form .control.city{width:48%;min-width:280px}form .control.state{width:48%;min-width:280px;display:inline-grid}form .control.zip{width:40%;min-width:260px}form .control.zip-4{width:30%;min-width:220px}form .control.last{margin-bottom:14px}form .btn-save{position:absolute;bottom:10px;right:20px;color:#fff}form .btn-save.btn-activate{right:92px}form .btn-delete{position:absolute;bottom:10px;color:#fff;background:red}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { form: [], address: [{\r\n                type: Input\r\n            }], canDelete: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], hasPrimaryAddress: [{\r\n                type: Input\r\n            }], manager: [{\r\n                type: Input\r\n            }], requireEffectiveDate: [{\r\n                type: Input\r\n            }], showName: [{\r\n                type: Input\r\n            }], zipPlus4: [{\r\n                type: Input\r\n            }], changes: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], save: [{\r\n                type: Output\r\n            }] } });\n\nconst ADDRESS_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => AddressComponent),\r\n    multi: true\r\n};\r\nclass AddressComponent extends DumbComponent {\r\n    constructor(dialog) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this._addresses = [];\r\n        this.debug = false;\r\n        this.editing = false;\r\n        this.hasPrimaryAddress = true;\r\n        this.requireEffectiveDate = false;\r\n        this.showName = true;\r\n        this.zipPlus4 = true;\r\n        this.activate = new EventEmitter();\r\n        this.add = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.update = new EventEmitter();\r\n        this.errorMessage = '';\r\n    }\r\n    set addresses(value) {\r\n        this._addresses = value;\r\n        this.changeValue(this._addresses);\r\n    }\r\n    get addresses() {\r\n        return this._addresses.findIndex(x => x.isPrimaryAddress) === -1\r\n            ? this._addresses.map((x, index) => index === 0 ? build(Address, x, { isPrimaryAddress: true }) : x)\r\n            : this._addresses;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n    get choices() {\r\n        return this.addresses.filter((x, i) => !x.isPrimaryAddress);\r\n    }\r\n    get primaryAddress() {\r\n        return this.addresses.length === 0\r\n            ? null\r\n            : this.addresses.find(x => x.isPrimaryAddress) ||\r\n                build(Address, this.addresses[0]);\r\n    }\r\n    set primaryAddress(value) {\r\n        this.addresses = [\r\n            build(Address, value, { isPrimaryAddress: true }),\r\n            ...this.removeAddress(value).map(x => build(Address, x, { isPrimaryAddress: false }))\r\n        ];\r\n    }\r\n    get showChoices() {\r\n        return this.totalChoices > 0;\r\n    }\r\n    get totalChoices() {\r\n        return this.addresses.length;\r\n    }\r\n    ngOnInit() { }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    setDisabledState(isDisabled) { }\r\n    writeValue(value) {\r\n        if (this.debug) {\r\n            console.log('\\nWRITE Address Manager VALUE');\r\n            console.dir(value);\r\n        }\r\n        this.value = value;\r\n    }\r\n    changeValue(value) {\r\n        if (this.debug) {\r\n            console.log('\\nCHANGE Address Manager VALUE');\r\n            console.dir(value);\r\n        }\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    makePrimary(e) {\r\n        this.primaryAddress = e;\r\n        this.activate.emit(e);\r\n    }\r\n    addNew() {\r\n        this.current = new Address();\r\n        this.editing = true;\r\n    }\r\n    addressExists(e) {\r\n        return (this.addresses.findIndex(x => x.address1 === e.address1 && x.cityStateZip === e.cityStateZip) !== -1);\r\n    }\r\n    flashAddressExistsMessage() {\r\n        this.errorMessage = 'Cannot enter duplicate address!';\r\n        setTimeout(() => {\r\n            this.errorMessage = '';\r\n        }, 4000);\r\n    }\r\n    back() {\r\n        if (this.current.id === 0) {\r\n            this.addresses = this.removeAddress(this.current);\r\n        }\r\n        this.editing = false;\r\n    }\r\n    closeDialog(e) {\r\n        if (e) {\r\n            this.addresses = this.removeAddress(this.toBeDeleted);\r\n            this.delete.emit(this.toBeDeleted);\r\n            this.toBeDeleted = undefined;\r\n            this.editing = false;\r\n        }\r\n    }\r\n    remove(e) {\r\n        this.toBeDeleted = e;\r\n        this.openDialog(ConfirmDeleteComponent);\r\n    }\r\n    edit(e) {\r\n        this.current = e;\r\n        this.editing = true;\r\n    }\r\n    save(e) {\r\n        if (!this.addressExists(e)) {\r\n            this.addresses = this.setActiveDates(this.addAddress(e));\r\n            if (e.id) {\r\n                this.add.emit(e);\r\n            }\r\n            else {\r\n                this.update.emit(e);\r\n            }\r\n            this.editing = false;\r\n        }\r\n        else if (!this.toBeDeleted) {\r\n            this.flashAddressExistsMessage();\r\n        }\r\n    }\r\n    addAddress(address) {\r\n        return this.reorder([\r\n            address,\r\n            ...this.addresses\r\n                .filter(x => x.id === 0 || x.id !== address.id)\r\n                .map(x => address.isPrimaryAddress && x.isPrimaryAddress && x.id !== address.id\r\n                ? build(Address, x, { isPrimaryAddress: false })\r\n                : build(Address, x))\r\n        ]);\r\n    }\r\n    removeAddress(address) {\r\n        return this.addresses.filter(x => x !== address);\r\n    }\r\n    reorder(addresses) {\r\n        return addresses.reduce((acc, x) => (x.isPrimaryAddress ? [x, ...acc] : [...acc, x]), []);\r\n    }\r\n    setActiveDates(addresses) {\r\n        const ordered = addresses\r\n            .sort((a, b) => compareDates(a.effectiveDate, b.effectiveDate))\r\n            .reverse();\r\n        const now = new Date();\r\n        return ordered.map((x, i) => {\r\n            const startDate = x.effectiveDate;\r\n            const endDate = ordered[i + 1] &&\r\n                ordered[i + 1].effectiveDate &&\r\n                ordered[i + 1].effectiveDate > x.effectiveDate\r\n                ? ordered[i + 1].effectiveDate\r\n                : null;\r\n            const isPrimaryAddress = x.isPrimaryAddress || (startDate < now && endDate > now ? true : false);\r\n            return build(Address, x, { startDate, endDate, isPrimaryAddress });\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ AddressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressComponent, deps: [{ token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AddressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AddressComponent, selector: \"iu-address\", inputs: { debug: \"debug\", editing: \"editing\", hasPrimaryAddress: \"hasPrimaryAddress\", requireEffectiveDate: \"requireEffectiveDate\", showName: \"showName\", zipPlus4: \"zipPlus4\", addresses: \"addresses\" }, outputs: { activate: \"activate\", add: \"add\", delete: \"delete\", update: \"update\" }, providers: [ADDRESS_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"card address scrollable\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <h4 class=\\\"card-title\\\">Address Information</h4>\\r\\n  </div>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"!editing\\\"\\r\\n    (click)=\\\"addNew()\\\"\\r\\n  >\\r\\n    <mat-icon>add</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    (click)=\\\"back()\\\"\\r\\n  >\\r\\n    <mat-icon>arrow_back</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <div *ngIf=\\\"!editing\\\" class=\\\"card-body\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Current Address</h4>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"primaryAddress\\\" class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <iu-inline-address\\r\\n              [address]=\\\"primaryAddress\\\"\\r\\n              [canActivate]=\\\"false\\\"\\r\\n              [canDelete]=\\\"true\\\"\\r\\n              [canEdit]=\\\"true\\\"\\r\\n              [showName]=\\\"showName\\\"\\r\\n              (delete)=\\\"remove($event)\\\"\\r\\n              (edit)=\\\"edit($event)\\\"\\r\\n            ></iu-inline-address>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Other Addresses</h4>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content choose-address\\\">\\r\\n        <iu-inline-address\\r\\n          *ngFor=\\\"let choice of choices\\\"\\r\\n          [canActivate]=\\\"hasPrimaryAddress\\\"\\r\\n          [canDelete]=\\\"true\\\"\\r\\n          [canEdit]=\\\"true\\\"\\r\\n          [showName]=\\\"showName\\\"\\r\\n          [address]=\\\"choice\\\"\\r\\n          (activate)=\\\"makePrimary($event)\\\"\\r\\n          (delete)=\\\"remove($event)\\\"\\r\\n          (edit)=\\\"edit($event)\\\"\\r\\n        ></iu-inline-address>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <iu-address-form\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    [address]=\\\"current\\\"\\r\\n    [canDelete]=\\\"true\\\"\\r\\n    [hasPrimaryAddress]=\\\"hasPrimaryAddress\\\"\\r\\n    [showName]=\\\"showName\\\"\\r\\n    [manager]=\\\"true\\\"\\r\\n    [requireEffectiveDate]=\\\"requireEffectiveDate\\\"\\r\\n    [zipPlus4]=\\\"zipPlus4\\\"\\r\\n    [debug]=\\\"debug\\\"\\r\\n    (save)=\\\"save($event)\\\"\\r\\n    (delete)=\\\"remove($event)\\\"\\r\\n  ></iu-address-form>\\r\\n  <span id=\\\"error-message\\\">{{ errorMessage }}</span>\\r\\n</div>\\r\\n\", styles: [\".address{position:relative;border-radius:4px;background-color:#fff;margin-bottom:10px;width:100%;word-wrap:break-word;background-clip:border-box;border:1px solid rgba(0,0,0,.125);padding-bottom:25px;overflow:auto}.address .card-header{padding:15px 15px 0;margin-bottom:0;background-color:#fff;border-bottom:none!important}.address .card-header .card-title{padding-left:5px;margin:0;color:#333;font-weight:300;font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;border-color:#0000000f;text-align:-webkit-match-parent}.address .card-body{padding:15px 15px 10px;min-width:300px}.address .item{color:#1b1b1b;font-size:14px}.address .edit-icon{font-size:10pt;color:#1b1b1b}.address .activate-text{color:#6d6d6d}.address .edit-icon:hover{color:#aebfbe}.address h2{font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;color:#6d6d6d;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;margin:0 0 0 5px;border-color:#0000000f;text-align:-webkit-match-parent}.address p{font-size:14px;color:#1b1b1b;margin:5px 5px 0 20px}.address mat-card-header{background-color:#aebfbe}.address mat-card-header .example-form-field{width:200px;float:right}.address mat-list-item{width:100%}.address td{font-size:10pt;color:#1b1b1b;margin:5px 5px 0 20px}.address button.action-icon{border-radius:50%;width:50px;height:50px;position:absolute;top:14px;right:28px}.address button.action-icon .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.address button.action-icon mat-icon{color:#fff}.address #error-message{color:red;position:absolute;bottom:10px;left:50px;font-size:18px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: InlineAddressComponent, selector: \"iu-inline-address\", inputs: [\"address\", \"canActivate\", \"canDelete\", \"canEdit\", \"showName\"], outputs: [\"activate\", \"delete\", \"edit\"] }, { type: AddressFormComponent, selector: \"iu-address-form\", inputs: [\"address\", \"canDelete\", \"debug\", \"hasPrimaryAddress\", \"manager\", \"requireEffectiveDate\", \"showName\", \"zipPlus4\"], outputs: [\"changes\", \"delete\", \"save\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-address', providers: [ADDRESS_ACCESSOR], template: \"<div class=\\\"card address scrollable\\\">\\r\\n  <div class=\\\"card-header\\\">\\r\\n    <h4 class=\\\"card-title\\\">Address Information</h4>\\r\\n  </div>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"!editing\\\"\\r\\n    (click)=\\\"addNew()\\\"\\r\\n  >\\r\\n    <mat-icon>add</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <button\\r\\n    mat-mini-fab\\r\\n    color=\\\"primary\\\"\\r\\n    class=\\\"action-icon\\\"\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    (click)=\\\"back()\\\"\\r\\n  >\\r\\n    <mat-icon>arrow_back</mat-icon>\\r\\n  </button>\\r\\n\\r\\n  <div *ngIf=\\\"!editing\\\" class=\\\"card-body\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Current Address</h4>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"primaryAddress\\\" class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col\\\">\\r\\n            <iu-inline-address\\r\\n              [address]=\\\"primaryAddress\\\"\\r\\n              [canActivate]=\\\"false\\\"\\r\\n              [canDelete]=\\\"true\\\"\\r\\n              [canEdit]=\\\"true\\\"\\r\\n              [showName]=\\\"showName\\\"\\r\\n              (delete)=\\\"remove($event)\\\"\\r\\n              (edit)=\\\"edit($event)\\\"\\r\\n            ></iu-inline-address>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-header\\\">\\r\\n      <h4 class=\\\"card-title\\\">Other Addresses</h4>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"body-content choose-address\\\">\\r\\n        <iu-inline-address\\r\\n          *ngFor=\\\"let choice of choices\\\"\\r\\n          [canActivate]=\\\"hasPrimaryAddress\\\"\\r\\n          [canDelete]=\\\"true\\\"\\r\\n          [canEdit]=\\\"true\\\"\\r\\n          [showName]=\\\"showName\\\"\\r\\n          [address]=\\\"choice\\\"\\r\\n          (activate)=\\\"makePrimary($event)\\\"\\r\\n          (delete)=\\\"remove($event)\\\"\\r\\n          (edit)=\\\"edit($event)\\\"\\r\\n        ></iu-inline-address>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <iu-address-form\\r\\n    *ngIf=\\\"editing\\\"\\r\\n    [address]=\\\"current\\\"\\r\\n    [canDelete]=\\\"true\\\"\\r\\n    [hasPrimaryAddress]=\\\"hasPrimaryAddress\\\"\\r\\n    [showName]=\\\"showName\\\"\\r\\n    [manager]=\\\"true\\\"\\r\\n    [requireEffectiveDate]=\\\"requireEffectiveDate\\\"\\r\\n    [zipPlus4]=\\\"zipPlus4\\\"\\r\\n    [debug]=\\\"debug\\\"\\r\\n    (save)=\\\"save($event)\\\"\\r\\n    (delete)=\\\"remove($event)\\\"\\r\\n  ></iu-address-form>\\r\\n  <span id=\\\"error-message\\\">{{ errorMessage }}</span>\\r\\n</div>\\r\\n\", styles: [\".address{position:relative;border-radius:4px;background-color:#fff;margin-bottom:10px;width:100%;word-wrap:break-word;background-clip:border-box;border:1px solid rgba(0,0,0,.125);padding-bottom:25px;overflow:auto}.address .card-header{padding:15px 15px 0;margin-bottom:0;background-color:#fff;border-bottom:none!important}.address .card-header .card-title{padding-left:5px;margin:0;color:#333;font-weight:300;font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;border-color:#0000000f;text-align:-webkit-match-parent}.address .card-body{padding:15px 15px 10px;min-width:300px}.address .item{color:#1b1b1b;font-size:14px}.address .edit-icon{font-size:10pt;color:#1b1b1b}.address .activate-text{color:#6d6d6d}.address .edit-icon:hover{color:#aebfbe}.address h2{font-size:14px;letter-spacing:1px;line-height:24px;text-decoration:none;color:#6d6d6d;background-color:#f5f5f6;border-bottom-width:1px;border-bottom-style:solid;margin:0 0 0 5px;border-color:#0000000f;text-align:-webkit-match-parent}.address p{font-size:14px;color:#1b1b1b;margin:5px 5px 0 20px}.address mat-card-header{background-color:#aebfbe}.address mat-card-header .example-form-field{width:200px;float:right}.address mat-list-item{width:100%}.address td{font-size:10pt;color:#1b1b1b;margin:5px 5px 0 20px}.address button.action-icon{border-radius:50%;width:50px;height:50px;position:absolute;top:14px;right:28px}.address button.action-icon .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.address button.action-icon mat-icon{color:#fff}.address #error-message{color:red;position:absolute;bottom:10px;left:50px;font-size:18px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }]; }, propDecorators: { debug: [{\r\n                type: Input\r\n            }], editing: [{\r\n                type: Input\r\n            }], hasPrimaryAddress: [{\r\n                type: Input\r\n            }], requireEffectiveDate: [{\r\n                type: Input\r\n            }], showName: [{\r\n                type: Input\r\n            }], zipPlus4: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], add: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], update: [{\r\n                type: Output\r\n            }], addresses: [{\r\n                type: Input\r\n            }] } });\n\nclass AutoLogoutComponent {\r\n    constructor(dialogRef) {\r\n        this.dialogRef = dialogRef;\r\n        this.seconds = 30;\r\n    }\r\n    ngOnInit() {\r\n        setInterval(() => {\r\n            if (this.seconds > 0) {\r\n                this.seconds--;\r\n            }\r\n            else {\r\n                this.logout();\r\n            }\r\n        }, 1000);\r\n    }\r\n    close() {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close();\r\n        }\r\n    }\r\n    logout() {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close(true);\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ AutoLogoutComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AutoLogoutComponent, deps: [{ token: i1$2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AutoLogoutComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AutoLogoutComponent, selector: \"iu-auto-logout\", ngImport: i0, template: \"<div id=\\\"auto-logout\\\">\\r\\n  <mat-toolbar mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      User Session Timed Out Due To Inactivity\\r\\n    </span>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"scrollable\\\">\\r\\n    <div class=\\\"content-wrapper\\\">\\r\\n      <h4>The system will automatically log you out in</h4>\\r\\n      <span class=\\\"countdown\\\">{{ seconds }}</span>\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      Keep me logged in\\r\\n    </button>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"logout()\\\">\\r\\n      Log Out\\r\\n    </button>\\r\\n  </mat-dialog-actions>\\r\\n</div>\\r\\n\", styles: [\":host{overflow:hidden}#auto-logout{width:600px}.mat-toolbar{margin:-24px;width:600px;min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}.mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}.mat-dialog-content{width:560px;margin:64px 20px 64px 56px;color:#999}.mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff;height:60px;width:600px;padding:0}.mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0;width:300px}.mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0}.mat-dialog-actions button.mat-button.cdk-focused{background:inherit}.mat-raised-button{margin-left:0!important}.dialog-title{color:#fff}.content-wrapper{display:flex;flex-wrap:nowrap;align-items:center;flex-direction:column;width:380px}.content-wrapper .countdown{margin:0 auto;color:#e57373;font-size:22px}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }], directives: [{ type: i1$2.MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { type: i1$2.MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { type: i1$2.MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\" }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AutoLogoutComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-auto-logout', template: \"<div id=\\\"auto-logout\\\">\\r\\n  <mat-toolbar mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      User Session Timed Out Due To Inactivity\\r\\n    </span>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content class=\\\"scrollable\\\">\\r\\n    <div class=\\\"content-wrapper\\\">\\r\\n      <h4>The system will automatically log you out in</h4>\\r\\n      <span class=\\\"countdown\\\">{{ seconds }}</span>\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"close()\\\">\\r\\n      Keep me logged in\\r\\n    </button>\\r\\n    <button class=\\\"action\\\" mat-raised-button (click)=\\\"logout()\\\">\\r\\n      Log Out\\r\\n    </button>\\r\\n  </mat-dialog-actions>\\r\\n</div>\\r\\n\", styles: [\":host{overflow:hidden}#auto-logout{width:600px}.mat-toolbar{margin:-24px;width:600px;min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}.mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}.mat-dialog-content{width:560px;margin:64px 20px 64px 56px;color:#999}.mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff;height:60px;width:600px;padding:0}.mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0;width:300px}.mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0}.mat-dialog-actions button.mat-button.cdk-focused{background:inherit}.mat-raised-button{margin-left:0!important}.dialog-title{color:#fff}.content-wrapper{display:flex;flex-wrap:nowrap;align-items:center;flex-direction:column;width:380px}.content-wrapper .countdown{margin:0 auto;color:#e57373;font-size:22px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialogRef }]; } });\n\nclass UnsavedChangesComponent {\r\n    constructor() { }\r\n    get dialog() {\r\n        return build(DialogModel, {\r\n            title: 'You Have Unsaved Changes!',\r\n            actions: [\r\n                build(DialogAction, { label: `Yes, Discard Changes`, value: true }),\r\n                build(DialogAction, { label: `No, Stay Here`, value: false })\r\n            ]\r\n        });\r\n    }\r\n    ngOnInit() { }\r\n}\r\n/** @nocollapse */ UnsavedChangesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UnsavedChangesComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UnsavedChangesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UnsavedChangesComponent, selector: \"iu-unsaved-changes\", ngImport: i0, template: \"<iu-dialog id=\\\"unsaved-changes\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>Would you like to discard unsaved changes?</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#unsaved-changes{width:600px;height:600px}iu-dialog#unsaved-changes .mat-dialog-actions button{color:#fff!important}iu-dialog#unsaved-changes .mat-toolbar{margin:-24px;width:calc(100% + 48px);min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}iu-dialog#unsaved-changes .mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#unsaved-changes mat-dialog-content{width:80%;margin:48px 10%;color:#999}iu-dialog#unsaved-changes .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#unsaved-changes .mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0}iu-dialog#unsaved-changes .mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0;opacity:.9}iu-dialog#unsaved-changes .mat-raised-button{margin-left:0!important}iu-dialog#unsaved-changes .dialog-title button{display:none}\\n\"], components: [{ type: DialogComponent, selector: \"iu-dialog\", inputs: [\"model\", \"showActions\", \"showCloseAction\", \"showCloseIcon\", \"defaultActionColor\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UnsavedChangesComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-unsaved-changes', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.OnPush, template: \"<iu-dialog id=\\\"unsaved-changes\\\" [model]=\\\"dialog\\\">\\r\\n  <div class=\\\"content-wrapper\\\">\\r\\n    <h4>Would you like to discard unsaved changes?</h4>\\r\\n  </div>\\r\\n</iu-dialog>\\r\\n\", styles: [\"iu-dialog#unsaved-changes{width:600px;height:600px}iu-dialog#unsaved-changes .mat-dialog-actions button{color:#fff!important}iu-dialog#unsaved-changes .mat-toolbar{margin:-24px;width:calc(100% + 48px);min-height:32px;background-color:#aebfbe;padding:10px 20px;height:48px}iu-dialog#unsaved-changes .mat-toolbar-row{margin-left:-24px;margin-right:-24px;height:48px;padding-top:5px;padding-bottom:5px;padding-left:20px;color:#656565;font-size:20px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400}iu-dialog#unsaved-changes mat-dialog-content{width:80%;margin:48px 10%;color:#999}iu-dialog#unsaved-changes .mat-dialog-actions{margin-left:-24px;margin-right:-24px;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;font-weight:500;color:#fff}iu-dialog#unsaved-changes .mat-dialog-actions button{padding:12px 0;color:#999!important;margin-top:-2px;-webkit-appearance:none;cursor:pointer;background:0 0;border:0}iu-dialog#unsaved-changes .mat-dialog-actions button:hover{color:#999;cursor:pointer;background:0 0;opacity:.9}iu-dialog#unsaved-changes .mat-raised-button{margin-left:0!important}iu-dialog#unsaved-changes .dialog-title button{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass DialogModule {\r\n}\r\n/** @nocollapse */ DialogModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ DialogModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, declarations: [DialogComponent,\r\n        AutoLogoutComponent,\r\n        ConfirmDeleteComponent,\r\n        UnsavedChangesComponent], imports: [SharedModule, MatDialogModule, MatIconModule, MatToolbarModule], exports: [MatDialogModule,\r\n        DialogComponent,\r\n        AutoLogoutComponent,\r\n        ConfirmDeleteComponent,\r\n        UnsavedChangesComponent] });\r\n/** @nocollapse */ DialogModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, imports: [[SharedModule, MatDialogModule, MatIconModule, MatToolbarModule], MatDialogModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DialogModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [SharedModule, MatDialogModule, MatIconModule, MatToolbarModule],\r\n                    declarations: [\r\n                        DialogComponent,\r\n                        AutoLogoutComponent,\r\n                        ConfirmDeleteComponent,\r\n                        UnsavedChangesComponent\r\n                    ],\r\n                    exports: [\r\n                        MatDialogModule,\r\n                        DialogComponent,\r\n                        AutoLogoutComponent,\r\n                        ConfirmDeleteComponent,\r\n                        UnsavedChangesComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass FormsModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: FormsModule,\r\n            providers: []\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ FormsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ FormsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, imports: [FormsModule$1,\r\n        ReactiveFormsModule], exports: [FormsModule$1,\r\n        ReactiveFormsModule] });\r\n/** @nocollapse */ FormsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, imports: [[\r\n            FormsModule$1,\r\n            ReactiveFormsModule,\r\n        ], FormsModule$1,\r\n        ReactiveFormsModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        FormsModule$1,\r\n                        ReactiveFormsModule,\r\n                    ],\r\n                    exports: [\r\n                        FormsModule$1,\r\n                        ReactiveFormsModule,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AddressModule {\r\n}\r\n/** @nocollapse */ AddressModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AddressModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, declarations: [AddressComponent,\r\n        AddressFormComponent,\r\n        InlineAddressComponent,\r\n        AddressPipe,\r\n        StatePickerComponent], imports: [SharedModule,\r\n        DialogModule,\r\n        FormsModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatDatepickerModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatNativeDateModule,\r\n        MatSelectModule], exports: [AddressComponent,\r\n        AddressFormComponent,\r\n        InlineAddressComponent,\r\n        StatePickerComponent,\r\n        AddressPipe] });\r\n/** @nocollapse */ AddressModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, imports: [[\r\n            SharedModule,\r\n            DialogModule,\r\n            FormsModule,\r\n            MatButtonModule,\r\n            MatCardModule,\r\n            MatDatepickerModule,\r\n            MatIconModule,\r\n            MatInputModule,\r\n            MatNativeDateModule,\r\n            MatSelectModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AddressModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        DialogModule,\r\n                        FormsModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatDatepickerModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatNativeDateModule,\r\n                        MatSelectModule,\r\n                    ],\r\n                    declarations: [\r\n                        AddressComponent,\r\n                        AddressFormComponent,\r\n                        InlineAddressComponent,\r\n                        AddressPipe,\r\n                        StatePickerComponent,\r\n                    ],\r\n                    exports: [\r\n                        AddressComponent,\r\n                        AddressFormComponent,\r\n                        InlineAddressComponent,\r\n                        StatePickerComponent,\r\n                        AddressPipe,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AuditFieldsComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ AuditFieldsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditFieldsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AuditFieldsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AuditFieldsComponent, selector: \"iu-audit-fields\", ngImport: i0, template: \"<p>\\r\\n  audit-fields works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditFieldsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-audit-fields', template: \"<p>\\r\\n  audit-fields works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass Audited {\r\n    constructor() {\r\n        this.startDate = new Date();\r\n        this.endDate = null;\r\n    }\r\n}\r\nclass AuditHistory {\r\n}\n\nclass AuditHistoryComponent extends SmartComponent {\r\n    constructor(store, dialogRef, data) {\r\n        super(store);\r\n        this.store = store;\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this.columns = [];\r\n        this.dataSource = [];\r\n    }\r\n    ngOnInit() {\r\n        this.sync(['dataSource', 'columns']);\r\n    }\r\n    get activeRow() {\r\n        return this.dataSource.length > 0\r\n            ? this.dataSource.find(x => x.endDate === null) || this.dataSource[0]\r\n            : null;\r\n    }\r\n    get columns$() {\r\n        return this.data.columns;\r\n    }\r\n    get dataSource$() {\r\n        return this.data.dataSource;\r\n    }\r\n    get displayedColumns() {\r\n        return ['startDate', 'endDate', ...this.columns.map(x => x.name)];\r\n    }\r\n    getDate(date) {\r\n        return date === null ? null : new Date(date);\r\n    }\r\n    getList(list) {\r\n        return toArray(list).map(x => x.toString());\r\n    }\r\n}\r\n/** @nocollapse */ AuditHistoryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryComponent, deps: [{ token: i1$1.Store }, { token: i1$2.MatDialogRef }, { token: MAT_DIALOG_DATA }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AuditHistoryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AuditHistoryComponent, selector: \"iu-audit-history\", usesInheritance: true, ngImport: i0, template: \"<div id=\\\"audit-history\\\" class=\\\"scrollable\\\">\\r\\n  <mat-table class=\\\"audit-history-table\\\" [dataSource]=\\\"dataSource\\\">\\r\\n    <!-- Start Date Column -->\\r\\n    <ng-container matColumnDef=\\\"startDate\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.startDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        {{ activeRow?.startDate | date: 'shortDate' }}\\r\\n      </mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- End Date Column -->\\r\\n    <ng-container matColumnDef=\\\"endDate\\\" sticky>\\r\\n      <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.endDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell class=\\\"active\\\" *matFooterCellDef>ACTIVE</mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Custom Columns -->\\r\\n    <ng-container *ngFor=\\\"let column of columns\\\" [matColumnDef]=\\\"column.name\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>{{ column.label }}</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ element[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(element[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(element[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-cell>\\r\\n      <!--Active Row-->\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ activeRow[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(activeRow[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(activeRow[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-footer-cell>\\r\\n      <!--End Active Row-->\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Star Column -->\\r\\n    <!-- <ng-container matColumnDef=\\\"star\\\" stickyEnd>\\r\\n      <th mat-header-cell *matHeaderCellDef></th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <mat-icon>more_vert</mat-icon>\\r\\n      </td>\\r\\n    </ng-container> -->\\r\\n\\r\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns; sticky: true\\\"></mat-header-row>\\r\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n    <mat-footer-row class=\\\"bold\\\" *matFooterRowDef=\\\"displayedColumns; sticky: true\\\"></mat-footer-row>\\r\\n  </mat-table>\\r\\n</div>\", styles: [\"#audit-history{min-width:1300px;max-height:500px}#audit-history .audit-history-table{min-width:1300px;max-height:500px;margin:10px;border:4px solid #9ea1a378;border-radius:10px;overflow-y:auto}#audit-history .audit-history-table .mat-header-row{border:none;background-color:#e1e2e1}#audit-history .audit-history-table .mat-cell,#audit-history .audit-history-table .mat-footer-cell,#audit-history .audit-history-table .mat-header-cell{justify-content:center;text-align:center}#audit-history .bold{font-weight:700}#audit-history .active{color:green}\\n\"], components: [{ type: i3$2.MatTable, selector: \"mat-table, table[mat-table]\", exportAs: [\"matTable\"] }, { type: i3$2.MatHeaderRow, selector: \"mat-header-row, tr[mat-header-row]\", exportAs: [\"matHeaderRow\"] }, { type: i3$2.MatRow, selector: \"mat-row, tr[mat-row]\", exportAs: [\"matRow\"] }, { type: i3$2.MatFooterRow, selector: \"mat-footer-row, tr[mat-footer-row]\", exportAs: [\"matFooterRow\"] }], directives: [{ type: i3$2.MatColumnDef, selector: \"[matColumnDef]\", inputs: [\"sticky\", \"matColumnDef\"] }, { type: i3$2.MatHeaderCellDef, selector: \"[matHeaderCellDef]\" }, { type: i3$2.MatHeaderCell, selector: \"mat-header-cell, th[mat-header-cell]\" }, { type: i3$2.MatCellDef, selector: \"[matCellDef]\" }, { type: i3$2.MatCell, selector: \"mat-cell, td[mat-cell]\" }, { type: i3$2.MatFooterCellDef, selector: \"[matFooterCellDef]\" }, { type: i3$2.MatFooterCell, selector: \"mat-footer-cell, td[mat-footer-cell]\" }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3$2.MatHeaderRowDef, selector: \"[matHeaderRowDef]\", inputs: [\"matHeaderRowDef\", \"matHeaderRowDefSticky\"] }, { type: i3$2.MatRowDef, selector: \"[matRowDef]\", inputs: [\"matRowDefColumns\", \"matRowDefWhen\"] }, { type: i3$2.MatFooterRowDef, selector: \"[matFooterRowDef]\", inputs: [\"matFooterRowDef\", \"matFooterRowDefSticky\"] }], pipes: { \"date\": i2$1.DatePipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-audit-history', template: \"<div id=\\\"audit-history\\\" class=\\\"scrollable\\\">\\r\\n  <mat-table class=\\\"audit-history-table\\\" [dataSource]=\\\"dataSource\\\">\\r\\n    <!-- Start Date Column -->\\r\\n    <ng-container matColumnDef=\\\"startDate\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.startDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        {{ activeRow?.startDate | date: 'shortDate' }}\\r\\n      </mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- End Date Column -->\\r\\n    <ng-container matColumnDef=\\\"endDate\\\" sticky>\\r\\n      <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        {{ element.endDate | date: 'shortDate' }}\\r\\n      </mat-cell>\\r\\n      <mat-footer-cell class=\\\"active\\\" *matFooterCellDef>ACTIVE</mat-footer-cell>\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Custom Columns -->\\r\\n    <ng-container *ngFor=\\\"let column of columns\\\" [matColumnDef]=\\\"column.name\\\">\\r\\n      <mat-header-cell *matHeaderCellDef>{{ column.label }}</mat-header-cell>\\r\\n      <mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ element[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(element[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(element[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-cell>\\r\\n      <!--Active Row-->\\r\\n      <mat-footer-cell *matFooterCellDef>\\r\\n        <span *ngIf=\\\"!column.type && column.name !== 'lastModifiedDate'\\\">\\r\\n          {{ activeRow[column.name] }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'DATE' || column.name === 'lastModifiedDate'\\\">\\r\\n          {{ getDate(activeRow[column.name]) | date: 'shortDate' }}\\r\\n        </span>\\r\\n        <span *ngIf=\\\"column.type === 'LIST'\\\">\\r\\n          <div *ngFor=\\\"let item of getList(activeRow[column.name])\\\">\\r\\n            {{ item }}\\r\\n          </div>\\r\\n        </span>\\r\\n      </mat-footer-cell>\\r\\n      <!--End Active Row-->\\r\\n    </ng-container>\\r\\n\\r\\n    <!-- Star Column -->\\r\\n    <!-- <ng-container matColumnDef=\\\"star\\\" stickyEnd>\\r\\n      <th mat-header-cell *matHeaderCellDef></th>\\r\\n      <td mat-cell *matCellDef=\\\"let element\\\">\\r\\n        <mat-icon>more_vert</mat-icon>\\r\\n      </td>\\r\\n    </ng-container> -->\\r\\n\\r\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns; sticky: true\\\"></mat-header-row>\\r\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns\\\"></mat-row>\\r\\n    <mat-footer-row class=\\\"bold\\\" *matFooterRowDef=\\\"displayedColumns; sticky: true\\\"></mat-footer-row>\\r\\n  </mat-table>\\r\\n</div>\", styles: [\"#audit-history{min-width:1300px;max-height:500px}#audit-history .audit-history-table{min-width:1300px;max-height:500px;margin:10px;border:4px solid #9ea1a378;border-radius:10px;overflow-y:auto}#audit-history .audit-history-table .mat-header-row{border:none;background-color:#e1e2e1}#audit-history .audit-history-table .mat-cell,#audit-history .audit-history-table .mat-footer-cell,#audit-history .audit-history-table .mat-header-cell{justify-content:center;text-align:center}#audit-history .bold{font-weight:700}#audit-history .active{color:green}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$1.Store }, { type: i1$2.MatDialogRef }, { type: AuditHistory, decorators: [{\r\n                        type: Inject,\r\n                        args: [MAT_DIALOG_DATA]\r\n                    }] }];\r\n    } });\n\nclass HttpService {\r\n    constructor(http, baseUrl$, authToken$) {\r\n        this.http = http;\r\n        this.baseUrl$ = baseUrl$;\r\n        this.authToken$ = authToken$;\r\n        this._authToken = \"\";\r\n        this._baseUrl = \"\";\r\n        this.headers = {};\r\n        this.logEvents = false;\r\n        this.useDefaultHeaders = true;\r\n        this.authTokenChanges = this.authToken$.subscribe(x => {\r\n            this.authToken = x;\r\n        });\r\n        this.baseUrlChanges = this.baseUrl$.subscribe(x => {\r\n            this.baseUrl = x;\r\n        });\r\n    }\r\n    get authToken() {\r\n        return this._authToken;\r\n    }\r\n    set authToken(value) {\r\n        this._authToken = value;\r\n    }\r\n    get baseUrl() {\r\n        return this._baseUrl;\r\n    }\r\n    set baseUrl(value) {\r\n        this._baseUrl = value;\r\n    }\r\n    get defaultHeaders() {\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append(\"Content-type\", \"application/json\");\r\n        if (this.authToken) {\r\n            headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n        }\r\n        return headers;\r\n    }\r\n    get requestHeaders() {\r\n        let headers = this.useDefaultHeaders\r\n            ? this.defaultHeaders\r\n            : new HttpHeaders();\r\n        Object.keys(this.headers).forEach(key => {\r\n            headers = headers.append(key, this.headers[key]);\r\n        });\r\n        return headers;\r\n    }\r\n    appendHeaders(headers = {}) {\r\n        let requestHeaders = this.requestHeaders;\r\n        Object.keys(headers).forEach(key => {\r\n            requestHeaders = requestHeaders.append(key, this.headers[key]);\r\n        });\r\n        return requestHeaders;\r\n    }\r\n    /**\r\n     * Make a DELETE request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    delete(relativePath, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.delete(url, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), catchError(err => this.onError(err.error)), finalize(() => {\r\n            this.onComplete(\"DELETE\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a GET request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    get(relativePath, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.get(url, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => {\r\n            return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n                ? res[\"json\"]()\r\n                : res;\r\n        }), catchError(err => this.onError(err ? err.error : err)), finalize(() => {\r\n            this.onComplete(\"GET\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a GET request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    getValue(relativePath) {\r\n        const url = this.formatUrl(relativePath);\r\n        let headers = new HttpHeaders();\r\n        headers = headers.append(\"Content-type\", \"text/plain\");\r\n        if (this.authToken) {\r\n            headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n        }\r\n        const obs = this.http.get(url, {\r\n            headers\r\n        });\r\n        return obs;\r\n    }\r\n    /**\r\n     * Make a GET request.\r\n     * @param fullPath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    getFullPath(fullPath, headers = {}, options = new HttpOptions()) {\r\n        return this.get(fullPath, headers, Object.assign({}, options, { prependBaseUrl: false }));\r\n    }\r\n    /**\r\n     * Make an autocomplete GET request.\r\n     * @param relativePath\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    autocomplete(relativePath, query, headers = {}, options = new HttpOptions()) {\r\n        if (!query.term || query.term.length < 1) {\r\n            return of([]);\r\n        }\r\n        const path = `${relativePath}/${QueryModel.BuildQueryString(query)}`;\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.get(url, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), debounceTime(500), distinctUntilChanged(), map(json => HttpActions.matchPath(path, json)), catchError(err => this.onError(err ? err.error : err)), finalize(() => {\r\n            this.onComplete(\"GET\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a POST request.\r\n     * @param relativePath\r\n     * @param body\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    post(relativePath, body, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.post(url, serialize(body), {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), catchError(err => {\r\n            return this.onError(err ? err.error : err);\r\n        }), finalize(() => {\r\n            this.onComplete(\"POST\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a POST request with form url-encoded content type.\r\n     * @param relativePath\r\n     * @param body\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    postFormUrlEncoded(relativePath, body, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = new HttpHeaders({\r\n            \"content-type\": \"application/x-www-form-urlencoded\"\r\n        });\r\n        const obs = this.http.post(url, body, {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n            ? res[\"json\"]()\r\n            : res), catchError(err => {\r\n            return this.onError(err ? err.error : err);\r\n        }), finalize(() => {\r\n            this.onComplete(\"POST FORM URL-ENCODED\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * Make a PUT request.\r\n     * @param relativePath\r\n     * @param body\r\n     * @param headers\r\n     * @param options\r\n     */\r\n    put(relativePath, body, headers = {}, options = new HttpOptions()) {\r\n        const url = options.prependBaseUrl\r\n            ? this.formatUrl(relativePath)\r\n            : relativePath;\r\n        const httpHeaders = this.appendHeaders(headers);\r\n        const obs = this.http.put(url, serialize(body), {\r\n            headers: httpHeaders\r\n        });\r\n        return obs.pipe(map(res => {\r\n            return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n                ? res[\"json\"]()\r\n                : res;\r\n        }), catchError(err => {\r\n            return this.onError(err ? err.error : err);\r\n        }), finalize(() => {\r\n            this.onComplete(\"PUT\", url);\r\n        }));\r\n    }\r\n    /**\r\n     * This method will be used to format URLs for all cross-origin requests.\r\n     */\r\n    formatUrl(path) {\r\n        return `${this.baseUrl}/${path}`;\r\n    }\r\n    /**\r\n     * Use this method when a promise is preferred over an observable.\r\n     */\r\n    getPromise(url) {\r\n        return this.get(url)\r\n            .toPromise()\r\n            .then(res => res.json());\r\n    }\r\n    onError(error) {\r\n        console.log(error);\r\n        // let errorBody: any;\r\n        // try {\r\n        //   errorBody = error._body\r\n        //     ? JSON.parse(error._body)\r\n        //     : { message: 'Internal server error', statusCode: error.status };\r\n        // } catch (e) {\r\n        //   if (error.status <= 0) {\r\n        //     errorBody = { message: 'Internal server error.', statusCode: 500 };\r\n        //   }\r\n        // }\r\n        // if (errorBody.message) {\r\n        //   errorBody.message = errorBody.message.replace(\r\n        //     'An error has occured in the api.System.Exception: ',\r\n        //     ''\r\n        //   );\r\n        //   errorBody.message = errorBody.message.substring(\r\n        //     0,\r\n        //     errorBody.message.indexOf(' at')\r\n        //   );\r\n        // }\r\n        return throwError({\r\n            message: error && error.Message\r\n                ? error.Message\r\n                : \"An error occurred in the API.\",\r\n            statusCode: error && error.Code ? error.Code : null\r\n        });\r\n    }\r\n    onComplete(method, url) {\r\n        if (this.logEvents) {\r\n            console.log(`Completed ${method} request to ${url}`);\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ HttpService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpService, deps: [{ token: i1$4.HttpClient }, { token: i2$5.Observable }, { token: i2$5.Observable }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HttpService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpService, providedIn: \"root\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: \"root\"\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$4.HttpClient }, { type: i2$5.Observable }, { type: i2$5.Observable }]; } });\n\nclass AuditHistoryLinkComponent extends DumbComponent {\r\n    constructor(dialog, http) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.http = http;\r\n        this.preloadData = false;\r\n        this.requestUrl = '';\r\n        this.dataLoaded = new EventEmitter();\r\n        this.columnsSubject = new BehaviorSubject([]);\r\n        this.dataSourceSubject = new BehaviorSubject([]);\r\n        this.requestUrlClicksSubject = new BehaviorSubject(null);\r\n        this._columns = [];\r\n        this._data = [];\r\n        this._placeholderText = '';\r\n        this.requestUrl$ = this.requestUrlClicksSubject.asObservable().pipe(filter(x => truthy(x)), distinctUntilChanged());\r\n        this.dataSource$ = this.dataSourceSubject\r\n            .asObservable()\r\n            .pipe(map(x => toArray(x)));\r\n        this.columnMetadata$ = combineLatest(this.dataSource$, this.columnsSubject.asObservable(), (dataSource, columns) => {\r\n            return Array.isArray(columns) && columns.length > 1\r\n                ? columns\r\n                : buildColumnsFromMetadata(dataSource, 'history').filter(x => x.name !== 'startDate' && x.name !== 'endDate');\r\n        });\r\n    }\r\n    set columns(value) {\r\n        this._columns = value;\r\n        this.columnsSubject.next(value);\r\n    }\r\n    get columns() {\r\n        return this._columns;\r\n    }\r\n    set data(value) {\r\n        this._data = value;\r\n        this.dataSourceSubject.next(value);\r\n    }\r\n    get data() {\r\n        return this._data;\r\n    }\r\n    set placeholderText(value) {\r\n        this._placeholderText = value;\r\n    }\r\n    get placeholderText() {\r\n        return this._placeholderText || 'View Audit History';\r\n    }\r\n    set requestData(value) {\r\n        this._requestData = value;\r\n        this.dataSourceSubject.next(value);\r\n        this.dataLoaded.emit(value);\r\n    }\r\n    get requestData() {\r\n        return this._requestData;\r\n    }\r\n    get requestData$() {\r\n        return this.requestUrl$.pipe(switchMap(url => this.http.get(url)), map(x => toArray(x).map(y => this.mapper && typeof this.mapper === 'function'\r\n            ? this.mapper(y)\r\n            : build(Audited, y))));\r\n    }\r\n    ngOnInit() {\r\n        this.sync(['requestData']);\r\n        if (this.preloadData) {\r\n            this.refreshData();\r\n        }\r\n    }\r\n    refreshData() {\r\n        this.requestUrlClicksSubject.next(this.requestUrl);\r\n    }\r\n    viewHistory() {\r\n        if (!this.preloadData) {\r\n            this.refreshData();\r\n        }\r\n        this.openDialog(AuditHistoryComponent, {\r\n            data: build(AuditHistory, {\r\n                dataSource: this.dataSource$,\r\n                columns: this.columnMetadata$\r\n            })\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ AuditHistoryLinkComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryLinkComponent, deps: [{ token: i1$2.MatDialog }, { token: HttpService }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ AuditHistoryLinkComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: AuditHistoryLinkComponent, selector: \"iu-audit-history-link\", inputs: { mapper: \"mapper\", preloadData: \"preloadData\", requestUrl: \"requestUrl\", columns: \"columns\", data: \"data\", placeholderText: \"placeholderText\" }, outputs: { dataLoaded: \"dataLoaded\" }, usesInheritance: true, ngImport: i0, template: \"<button mat-button color=\\\"primary\\\" (click)=\\\"viewHistory()\\\">\\r\\n  {{ placeholderText }}\\r\\n</button>\\r\\n\", styles: [\"\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditHistoryLinkComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-audit-history-link', template: \"<button mat-button color=\\\"primary\\\" (click)=\\\"viewHistory()\\\">\\r\\n  {{ placeholderText }}\\r\\n</button>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }, { type: HttpService }]; }, propDecorators: { mapper: [{\r\n                type: Input\r\n            }], preloadData: [{\r\n                type: Input\r\n            }], requestUrl: [{\r\n                type: Input\r\n            }], dataLoaded: [{\r\n                type: Output\r\n            }], columns: [{\r\n                type: Input\r\n            }], data: [{\r\n                type: Input\r\n            }], placeholderText: [{\r\n                type: Input\r\n            }] } });\n\nclass AuditModule {\r\n}\r\n/** @nocollapse */ AuditModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AuditModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, declarations: [AuditFieldsComponent,\r\n        AuditHistoryComponent,\r\n        AuditHistoryLinkComponent], imports: [SharedModule, MatButtonModule, MatTableModule, MatIconModule], exports: [AuditFieldsComponent,\r\n        AuditHistoryComponent,\r\n        AuditHistoryLinkComponent] });\r\n/** @nocollapse */ AuditModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, imports: [[SharedModule, MatButtonModule, MatTableModule, MatIconModule]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuditModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        AuditFieldsComponent,\r\n                        AuditHistoryComponent,\r\n                        AuditHistoryLinkComponent\r\n                    ],\r\n                    exports: [\r\n                        AuditFieldsComponent,\r\n                        AuditHistoryComponent,\r\n                        AuditHistoryLinkComponent\r\n                    ],\r\n                    imports: [SharedModule, MatButtonModule, MatTableModule, MatIconModule]\r\n                }]\r\n        }] });\n\nclass Tile {\r\n    constructor() {\r\n        this.cellHeight = 0;\r\n        this.cellWidth = 0;\r\n        this.color = '#fff';\r\n        this.index = 0;\r\n        this.name = '';\r\n        this.src = '';\r\n        this.text = '';\r\n        this._coordinates = new Coordinates();\r\n        this._dimensions = new Dimensions();\r\n        this._image = new Image();\r\n    }\r\n    get id() {\r\n        return this.index + this.imageId * .0001;\r\n    }\r\n    get approxRatio() {\r\n        return this.rows * this.cellHeight / this.columns * this.cellWidth;\r\n    }\r\n    get columns() {\r\n        return this.dimensions.columns;\r\n    }\r\n    get coordinates() {\r\n        return this._coordinates || new Coordinates();\r\n    }\r\n    set coordinates(value) {\r\n        this._coordinates = value;\r\n    }\r\n    get dimensions() {\r\n        return this._dimensions || new Dimensions();\r\n    }\r\n    set dimensions(value) {\r\n        this._dimensions = value;\r\n    }\r\n    get height() {\r\n        return this.rows * this.cellHeight;\r\n    }\r\n    get heightScale() {\r\n        return (this.rows * this.cellHeight) / this.image.height;\r\n    }\r\n    get image() {\r\n        return this._image || new Image();\r\n    }\r\n    set image(value) {\r\n        this._image = value;\r\n    }\r\n    get imageHeight() {\r\n        return this.image.height * this.scale;\r\n    }\r\n    get imageId() {\r\n        return this.image.id;\r\n    }\r\n    get imageSrc() {\r\n        return this.image.src;\r\n    }\r\n    get imageWidth() {\r\n        return this.image.width * this.scale;\r\n    }\r\n    get positionLeft() {\r\n        return this.startColumn * this.cellWidth;\r\n    }\r\n    get positionTop() {\r\n        return this.startRow * this.cellHeight;\r\n    }\r\n    get ratio() {\r\n        return this.dimensions.ratio;\r\n    }\r\n    get rows() {\r\n        return this.dimensions.rows;\r\n    }\r\n    get scale() {\r\n        return this.heightScale >= this.widthScale ? this.heightScale : this.widthScale;\r\n    }\r\n    get startColumn() {\r\n        return this.coordinates.column;\r\n    }\r\n    get startRow() {\r\n        return this.coordinates.row;\r\n    }\r\n    get width() {\r\n        return this.columns * this.cellWidth;\r\n    }\r\n    get widthScale() {\r\n        return (this.columns * this.cellWidth) / this.image.width;\r\n    }\r\n}\n\nclass Collage {\r\n    constructor() {\r\n        this.canvasHeight = 0;\r\n        this.canvasWidth = 0;\r\n        this.cellHeight = 0;\r\n        this.cellWidth = 0;\r\n        this.maxColumns = 4;\r\n        this.maxRows = 4;\r\n        this.tileDimensions = [];\r\n        this.totalColumns = 0;\r\n        this.totalRows = 0;\r\n        this._images = [];\r\n        this._tiles = [];\r\n    }\r\n    /**\r\n     * Build new collage instance with given parameters.\r\n     * @param images\r\n     * @param canvasHeight\r\n     * @param canvasWidth\r\n     * @param totalRows\r\n     * @param totalColumns\r\n     * @param maxRows\r\n     * @param maxColumns\r\n     */\r\n    static Build(images, canvasHeight, canvasWidth, totalRows = 0, totalColumns = 0, maxRows = 0, maxColumns = 0) {\r\n        const cellHeight = canvasHeight / totalRows;\r\n        const cellWidth = canvasWidth / totalColumns;\r\n        const tileDimensions = Collage.GetTileDimensions(cellHeight, cellWidth, maxRows, maxColumns);\r\n        const collage = Object.assign(new Collage(), {\r\n            canvasHeight,\r\n            canvasWidth,\r\n            totalRows,\r\n            totalColumns,\r\n            maxRows,\r\n            maxColumns,\r\n            cellHeight,\r\n            cellWidth,\r\n            tileDimensions,\r\n        });\r\n        collage.images = images;\r\n        return collage;\r\n    }\r\n    /**\r\n     * Build array of all possible dimensions for a single tile in the collage.\r\n     * @param cellHeight\r\n     * @param cellWidth\r\n     * @param maxRows\r\n     * @param maxColumns\r\n     */\r\n    static GetTileDimensions(cellHeight, cellWidth, maxRows, maxColumns) {\r\n        return positiveIntegerArray(maxRows).reduce((acc, x) => {\r\n            const dimensions = positiveIntegerArray(maxColumns)\r\n                .map(y => build(Dimensions, {\r\n                rows: x,\r\n                columns: y,\r\n                height: x * cellHeight,\r\n                width: y * cellWidth\r\n            }));\r\n            return [...acc, ...dimensions];\r\n        }, []);\r\n    }\r\n    get cells() {\r\n        return this._cells || this.emptyCells;\r\n    }\r\n    set cells(value) {\r\n        this._cells = value;\r\n    }\r\n    get emptyCells() {\r\n        return integerArray(this.totalRows).map(x => integerArray(this.totalColumns).map(y => 0));\r\n    }\r\n    get images() {\r\n        return this._images;\r\n    }\r\n    set images(value) {\r\n        this._images = value.map((img, index) => Image.BuildForTile(img, this.tileDimensions, index + 1));\r\n        // console.dir(this.images);\r\n        // console.dir(this.tiles);\r\n        // console.dir(this);\r\n    }\r\n    get tiles() {\r\n        this.cells = this.emptyCells;\r\n        return integerArray(this.totalCells)\r\n            .reduce((acc, i) => {\r\n            // console.dir(acc);\r\n            return this.isCellFilled(i) ? acc : [...acc, this.fillCell(i)];\r\n        }, []);\r\n    }\r\n    get totalCells() {\r\n        return this.totalRows * this.totalColumns;\r\n    }\r\n    buildTile(image, dimensions, coordinates, index) {\r\n        const t = build(Tile, {\r\n            image,\r\n            dimensions,\r\n            coordinates,\r\n            index,\r\n            cellHeight: this.cellHeight,\r\n            cellWidth: this.cellWidth,\r\n        });\r\n        // console.log(\r\n        //     '\\nTILE ASSIGNED TO INDEX', index,\r\n        //     '\\nStart Row:\\t', t.startRow,\r\n        //     '\\nStartColumn:\\t', t.startColumn,\r\n        //     '\\nRows:\\t', t.rows,\r\n        //     '\\nColumns:\\t', t.columns,\r\n        // );\r\n        // console.dir(t);\r\n        return t;\r\n    }\r\n    fillCell(index) {\r\n        // console.log('\\n\\n\\n\\nFILLING CELL AT INDEX', index);\r\n        const coordinates = this.findCoordinates(index);\r\n        // console.log(\r\n        //     '\\nStart Row:\\t', coordinates.row,\r\n        //     '\\nStart Column:\\t', coordinates.column,\r\n        // );\r\n        const dim = this.findAvailableDimensions(coordinates.row, coordinates.column);\r\n        // console.log('Available Dimensions...');\r\n        dim.forEach(x => {\r\n            // console.log(\r\n            //     '\\nRows:\\t', x.rows,\r\n            //     '\\nColumns:\\t', x.columns,\r\n            // );\r\n        });\r\n        return this.images.reduce((acc, image, i) => {\r\n            if (acc) {\r\n                return acc;\r\n            }\r\n            const dimensions = this.findImageDimensions(image, dim);\r\n            if (dimensions) {\r\n                this.reorderImages(i);\r\n                const tile = this.buildTile(image, dimensions, coordinates, index);\r\n                this.markCellsFilled(tile);\r\n                // console.dir(this);\r\n                // console.dir(this.cells);\r\n                // console.log('_____________________________________________________________\\n\\n\\n\\n');\r\n                return tile;\r\n            }\r\n            return null;\r\n        }, null);\r\n    }\r\n    findAvailableColumns(startRow, startColumn) {\r\n        return Math.max(...positiveIntegerArray(this.maxColumns)\r\n            .map(k => k <= this.maxColumns && startColumn + k <= this.totalColumns && this.cells[startRow] && this.cells[startRow][startColumn + k] === 0 ? k : 1));\r\n    }\r\n    findAvailableRows(startRow, startColumn) {\r\n        return Math.max(...positiveIntegerArray(this.maxRows)\r\n            .map(k => k <= this.maxRows && startRow + k <= this.totalRows && this.cells[startRow + k] && this.cells[startRow + k][startColumn] === 0 ? k : 1));\r\n    }\r\n    findAvailableDimensions(startRow, startColumn) {\r\n        const availableRows = this.findAvailableRows(startRow, startColumn);\r\n        const availableColumns = this.findAvailableColumns(startRow, startColumn);\r\n        return this.tileDimensions.filter(x => x.rows <= availableRows && x.columns <= availableColumns);\r\n    }\r\n    findCoordinates(index) {\r\n        const remainder = (index + this.totalColumns) % this.totalColumns;\r\n        return {\r\n            row: (index - remainder) / this.totalColumns,\r\n            column: remainder\r\n        };\r\n    }\r\n    findImageDimensions(image, dim) {\r\n        return image.dimensions.find(x => inArray(dim, x));\r\n    }\r\n    isCellFilled(index) {\r\n        const coordinates = this.findCoordinates(index);\r\n        return this.cells[coordinates.row][coordinates.column] !== 0;\r\n    }\r\n    markCellsFilled(tile) {\r\n        let cells = this.cells;\r\n        const coordinates = this.findCoordinates(tile.index);\r\n        for (let i = 0; i < tile.rows; i++) {\r\n            for (let j = 0; j < tile.columns; j++) {\r\n                cells[coordinates.row + i][coordinates.column + j] = tile.id;\r\n            }\r\n        }\r\n        this.cells = cells;\r\n    }\r\n    reorderImages(index) {\r\n        this._images = [...this._images.filter((img, i) => i !== index), this._images[index]];\r\n    }\r\n}\n\nclass TileComponent {\r\n    constructor() {\r\n        this._tile = new Tile();\r\n        this.imageOpacity = 1;\r\n    }\r\n    set tile(value) {\r\n        this._tile = value;\r\n    }\r\n    get tile() {\r\n        return build(Tile, this._tile);\r\n    }\r\n    get backgroundColor() {\r\n        return '';\r\n    }\r\n    get height() {\r\n        return this.tile.height;\r\n    }\r\n    get imageHeight() {\r\n        return this.tile.imageHeight;\r\n    }\r\n    get imageSrc() {\r\n        return this.tile.image.src;\r\n    }\r\n    get imageWidth() {\r\n        return this.tile.imageWidth;\r\n    }\r\n    get position() {\r\n        return 'absolute';\r\n    }\r\n    get positionLeft() {\r\n        return this.tile.positionLeft;\r\n    }\r\n    get positionTop() {\r\n        return this.tile.positionTop;\r\n    }\r\n    get width() {\r\n        return this.tile.width;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ TileComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ TileComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TileComponent, selector: \"iu-tile\", inputs: { imageOpacity: \"imageOpacity\", tile: \"tile\" }, ngImport: i0, template: \"<div fxLayout fxLayoutAlign=\\\"center center\\\" class=\\\"tile\\\" [style.position]=\\\"position\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\" [style.background-color]=\\\"backgroundColor\\\" [style.height.px]=\\\"height\\\" [style.width.px]=\\\"width\\\">\\r\\n  <img [src]=\\\"imageSrc\\\" [style.height.px]=\\\"imageHeight\\\" [style.width.px]=\\\"imageWidth\\\" [style.opacity]=\\\"imageOpacity\\\">\\r\\n  <!-- <h4>{{tile.id}}</h4> -->\\r\\n</div>\\r\\n\", styles: [\".tile{overflow:hidden}.tile h4{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;position:absolute;top:0;left:10px}\\n\"], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-tile', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div fxLayout fxLayoutAlign=\\\"center center\\\" class=\\\"tile\\\" [style.position]=\\\"position\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\" [style.background-color]=\\\"backgroundColor\\\" [style.height.px]=\\\"height\\\" [style.width.px]=\\\"width\\\">\\r\\n  <img [src]=\\\"imageSrc\\\" [style.height.px]=\\\"imageHeight\\\" [style.width.px]=\\\"imageWidth\\\" [style.opacity]=\\\"imageOpacity\\\">\\r\\n  <!-- <h4>{{tile.id}}</h4> -->\\r\\n</div>\\r\\n\", styles: [\".tile{overflow:hidden}.tile h4{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;position:absolute;top:0;left:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { imageOpacity: [{\r\n                type: Input\r\n            }], tile: [{\r\n                type: Input\r\n            }] } });\n\nclass CollageComponent {\r\n    constructor() {\r\n        this.imageOpacity = 1;\r\n        this.canvasHeight = 0;\r\n        this.canvasWidth = 0;\r\n        this.totalRows = 0;\r\n        this.totalColumns = 0;\r\n        this.maxRows = 0;\r\n        this.maxColumns = 0;\r\n        this.shuffle = false;\r\n        this._images = [];\r\n    }\r\n    set images(value) {\r\n        this._images = value;\r\n    }\r\n    get images() {\r\n        return this.shuffle ? shuffle(this._images) : this._images;\r\n    }\r\n    get collage() {\r\n        return this.canvasHeight > 0 && this.canvasWidth > 0 ?\r\n            Collage.Build(this.images, this.canvasHeight, this.canvasWidth, this.totalRows, this.totalColumns, this.maxRows, this.maxColumns)\r\n            : new Collage();\r\n    }\r\n    get tiles() {\r\n        return this.collage.tiles;\r\n    }\r\n}\r\n/** @nocollapse */ CollageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CollageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CollageComponent, selector: \"iu-collage\", inputs: { imageOpacity: \"imageOpacity\", canvasHeight: \"canvasHeight\", canvasWidth: \"canvasWidth\", totalRows: \"totalRows\", totalColumns: \"totalColumns\", maxRows: \"maxRows\", maxColumns: \"maxColumns\", shuffle: \"shuffle\", _images: \"_images\", images: \"images\" }, ngImport: i0, template: \"<div class=\\\"collage\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\">\\r\\n    <iu-tile *ngFor=\\\"let tile of tiles\\\" [tile]=\\\"tile\\\" [imageOpacity]=\\\"imageOpacity\\\"></iu-tile>\\r\\n</div>\", styles: [\".collage{position:relative;overflow:hidden;z-index:-1}\\n\"], components: [{ type: TileComponent, selector: \"iu-tile\", inputs: [\"imageOpacity\", \"tile\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-collage', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"collage\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\">\\r\\n    <iu-tile *ngFor=\\\"let tile of tiles\\\" [tile]=\\\"tile\\\" [imageOpacity]=\\\"imageOpacity\\\"></iu-tile>\\r\\n</div>\", styles: [\".collage{position:relative;overflow:hidden;z-index:-1}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { imageOpacity: [{\r\n                type: Input\r\n            }], canvasHeight: [{\r\n                type: Input\r\n            }], canvasWidth: [{\r\n                type: Input\r\n            }], totalRows: [{\r\n                type: Input\r\n            }], totalColumns: [{\r\n                type: Input\r\n            }], maxRows: [{\r\n                type: Input\r\n            }], maxColumns: [{\r\n                type: Input\r\n            }], shuffle: [{\r\n                type: Input\r\n            }], _images: [{\r\n                type: Input\r\n            }], images: [{\r\n                type: Input\r\n            }] } });\n\nclass TileModule {\r\n}\r\n/** @nocollapse */ TileModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ TileModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, declarations: [TileComponent], imports: [SharedModule], exports: [TileComponent] });\r\n/** @nocollapse */ TileModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TileModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        TileComponent,\r\n                    ],\r\n                    exports: [\r\n                        TileComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass CollageModule {\r\n}\r\n/** @nocollapse */ CollageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ CollageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, declarations: [CollageComponent], imports: [SharedModule,\r\n        TileModule], exports: [CollageComponent] });\r\n/** @nocollapse */ CollageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, imports: [[\r\n            SharedModule,\r\n            TileModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CollageModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        TileModule,\r\n                    ],\r\n                    declarations: [\r\n                        CollageComponent,\r\n                    ],\r\n                    exports: [\r\n                        CollageComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass ContainerComponent extends SmartComponent {\r\n    constructor(store, dialog) {\r\n        super(store);\r\n        this.store = store;\r\n        this.dialog = dialog;\r\n        this.showHelp = true;\r\n        this._hasWallpaper = true;\r\n        this._images = [];\r\n    }\r\n    set hasWallpaper(value) {\r\n        this._hasWallpaper = value;\r\n    }\r\n    get hasWallpaper() {\r\n        return this._hasWallpaper;\r\n    }\r\n    get hasBackgroundImage() {\r\n        return truthy(this.backgroundImage) && !this.hasWallpaper;\r\n    }\r\n    set images(value) {\r\n        this._images = value;\r\n    }\r\n    get images() {\r\n        return this.mobile ? this._images.filter((x, i) => i < 20) : this._images;\r\n    }\r\n    get contentWidth() {\r\n        return this.windowWidth - this.offsetLeft;\r\n    }\r\n    get mobile() {\r\n        return this.windowWidth < 1000;\r\n    }\r\n    get offsetLeft() {\r\n        return 0;\r\n    }\r\n    get offsetTop() {\r\n        return this.navbar ? 130 : 64;\r\n    }\r\n    get menuWidth() {\r\n        return this.windowWidth;\r\n    }\r\n    get windowHeight() {\r\n        return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10) - 64;\r\n    }\r\n    set windowHeight(value) {\r\n        localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n    }\r\n    get windowWidth() {\r\n        return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n    }\r\n    set windowWidth(value) {\r\n        localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n    }\r\n    ngOnInit() {\r\n        this.windowHeight = parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n        this.windowWidth = parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n    }\r\n    onLoad(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        // console.log('\\n\\nwindow:load', this.windowWidth, this.windowHeight);\r\n    }\r\n    onResize(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        // console.log('\\n\\nwindow:resize', this.windowWidth, this.windowHeight);\r\n    }\r\n}\r\n/** @nocollapse */ ContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerComponent, deps: [{ token: i1$1.Store }, { token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ ContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: ContainerComponent, selector: \"iu-container\", inputs: { backgroundImage: \"backgroundImage\", showHelp: \"showHelp\", navbar: \"navbar\", hasWallpaper: \"hasWallpaper\" }, host: { listeners: { \"window:load\": \"onLoad($event)\", \"window:resize\": \"onResize($event)\" } }, usesInheritance: true, ngImport: i0, template: \"<!-- <iu-header [windowWidth]=\\\"contentWidth\\\" [offsetLeft]=\\\"offsetLeft\\\" [mobile]=\\\"mobile\\\"></iu-header>\\r\\n<iu-navbar *ngIf=\\\"navbar\\\">\\r\\n  <iu-breadcrumbs *ngIf=\\\"breadcrumbs\\\"></iu-breadcrumbs>\\r\\n</iu-navbar>\\r\\n<iu-sidenav *ngIf=\\\"!mobile\\\" [style.height.px]=\\\"sidenavHeight\\\"></iu-sidenav>\\r\\n\\r\\n<div id=\\\"content\\\" class=\\\"scrollable\\\" [style.height.px]=\\\"windowHeight\\\" [style.width.px]=\\\"contentWidth\\\" [style.left.px]=\\\"offsetLeft\\\"\\r\\n  [style.background-image]=\\\"hasBackgroundImage ? 'url(' + backgroundImage + ')' : 'none'\\\">\\r\\n  <ng-content></ng-content>\\r\\n  <iu-wallpaper *ngIf=\\\"hasWallpaper\\\" [images]=\\\"images\\\" [imageOpacity]=\\\"0.6\\\" [shuffle]=\\\"true\\\" [offsetLeft]=\\\"offsetLeft\\\"\\r\\n    [offsetTop]=\\\"offsetTop\\\"></iu-wallpaper>\\r\\n</div> -->\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-container', template: \"<!-- <iu-header [windowWidth]=\\\"contentWidth\\\" [offsetLeft]=\\\"offsetLeft\\\" [mobile]=\\\"mobile\\\"></iu-header>\\r\\n<iu-navbar *ngIf=\\\"navbar\\\">\\r\\n  <iu-breadcrumbs *ngIf=\\\"breadcrumbs\\\"></iu-breadcrumbs>\\r\\n</iu-navbar>\\r\\n<iu-sidenav *ngIf=\\\"!mobile\\\" [style.height.px]=\\\"sidenavHeight\\\"></iu-sidenav>\\r\\n\\r\\n<div id=\\\"content\\\" class=\\\"scrollable\\\" [style.height.px]=\\\"windowHeight\\\" [style.width.px]=\\\"contentWidth\\\" [style.left.px]=\\\"offsetLeft\\\"\\r\\n  [style.background-image]=\\\"hasBackgroundImage ? 'url(' + backgroundImage + ')' : 'none'\\\">\\r\\n  <ng-content></ng-content>\\r\\n  <iu-wallpaper *ngIf=\\\"hasWallpaper\\\" [images]=\\\"images\\\" [imageOpacity]=\\\"0.6\\\" [shuffle]=\\\"true\\\" [offsetLeft]=\\\"offsetLeft\\\"\\r\\n    [offsetTop]=\\\"offsetTop\\\"></iu-wallpaper>\\r\\n</div> -->\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i1$2.MatDialog }]; }, propDecorators: { backgroundImage: [{\r\n                type: Input\r\n            }], showHelp: [{\r\n                type: Input\r\n            }], navbar: [{\r\n                type: Input\r\n            }], hasWallpaper: [{\r\n                type: Input\r\n            }], onLoad: [{\r\n                type: HostListener,\r\n                args: ['window:load', ['$event']]\r\n            }], onResize: [{\r\n                type: HostListener,\r\n                args: ['window:resize', ['$event']]\r\n            }] } });\n\nclass BreadcrumbsComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ BreadcrumbsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ BreadcrumbsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: BreadcrumbsComponent, selector: \"iu-breadcrumbs\", ngImport: i0, template: \"<p>\\r\\n  breadcrumbs works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-breadcrumbs', template: \"<p>\\r\\n  breadcrumbs works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass BreadcrumbsModule {\r\n}\r\n/** @nocollapse */ BreadcrumbsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ BreadcrumbsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, declarations: [BreadcrumbsComponent], imports: [SharedModule], exports: [BreadcrumbsComponent] });\r\n/** @nocollapse */ BreadcrumbsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: BreadcrumbsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        BreadcrumbsComponent,\r\n                    ],\r\n                    exports: [\r\n                        BreadcrumbsComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass HeaderComponent {\r\n    constructor() {\r\n        this.mobile = false;\r\n        this.offsetLeft = 0;\r\n        this.windowWidth = 0;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ HeaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ HeaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: HeaderComponent, selector: \"iu-header\", inputs: { mobile: \"mobile\", offsetLeft: \"offsetLeft\", windowWidth: \"windowWidth\" }, ngImport: i0, template: \"<mat-toolbar id=\\\"header\\\" color=\\\"primary\\\" class=\\\"mat-elevation-z6\\\" [style.width.px]=\\\"windowWidth\\\" [style.left.px]=\\\"offsetLeft\\\">\\r\\n  <a class=\\\"banner\\\" routerLink=\\\"/\\\" [class.mobile]=\\\"mobile\\\">\\r\\n    <img src=\\\"assets/banner.jpg\\\">\\r\\n  </a>\\r\\n  <div id=\\\"header-links\\\">\\r\\n    <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n      <mat-icon>home</mat-icon>\\r\\n    </a>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n\", styles: [\"#header{min-height:64px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;position:fixed;top:0;z-index:2;position:absolute;left:120px}#header .banner{margin-left:120px}#header .banner img{height:48px;margin:8px 20px}#header .banner.mobile{margin-left:0}#header .navbar-brand{color:#7cfc00;text-decoration:none;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;float:left;font-size:24px;margin-right:20px}#header .navbar-brand img{height:48px;margin:8px 20px}#header .slp-lbl{font-family:Roboto,sans-serif;color:#fff;float:left;font-size:16px;margin:16px 0 20px}#header .intro-lead-in{font-family:\\\"Droid Serif\\\",Helvetica Neue,Helvetica,Arial,sans-serif;font-style:italic;line-height:40px;margin-left:20px;float:right;font-size:15px;color:silver;position:absolute;right:280px}#header #logo{height:48px;cursor:pointer}#header #banner{padding:0 30px;color:#7cfc00;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;font-size:22px;text-decoration:none}#header rowdy-social-icons{height:100%;position:absolute;right:10px;cursor:pointer}#header #header-links .link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;top:2px;height:36px;text-decoration:none;width:44px;padding:12px 10px}#header #header-links .link mat-icon{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#8e8e8e;color:#000;color:#fff;font-size:32px;height:32px;width:32px;position:absolute;top:16px;left:16px}#header #header-links .link:nth-child(5){right:0}#header #header-links .link:nth-child(4){right:64px}#header #header-links .link:nth-child(3){right:128px}#header #header-links .link:nth-child(2){right:192px}#header #header-links .link:nth-child(1){right:256px}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1$5.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }, { type: i1$5.RouterLinkActive, selector: \"[routerLinkActive]\", inputs: [\"routerLinkActiveOptions\", \"routerLinkActive\"], outputs: [\"isActiveChange\"], exportAs: [\"routerLinkActive\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-header', template: \"<mat-toolbar id=\\\"header\\\" color=\\\"primary\\\" class=\\\"mat-elevation-z6\\\" [style.width.px]=\\\"windowWidth\\\" [style.left.px]=\\\"offsetLeft\\\">\\r\\n  <a class=\\\"banner\\\" routerLink=\\\"/\\\" [class.mobile]=\\\"mobile\\\">\\r\\n    <img src=\\\"assets/banner.jpg\\\">\\r\\n  </a>\\r\\n  <div id=\\\"header-links\\\">\\r\\n    <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n      <mat-icon>home</mat-icon>\\r\\n    </a>\\r\\n  </div>\\r\\n</mat-toolbar>\\r\\n\", styles: [\"#header{min-height:64px;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;position:fixed;top:0;z-index:2;position:absolute;left:120px}#header .banner{margin-left:120px}#header .banner img{height:48px;margin:8px 20px}#header .banner.mobile{margin-left:0}#header .navbar-brand{color:#7cfc00;text-decoration:none;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;float:left;font-size:24px;margin-right:20px}#header .navbar-brand img{height:48px;margin:8px 20px}#header .slp-lbl{font-family:Roboto,sans-serif;color:#fff;float:left;font-size:16px;margin:16px 0 20px}#header .intro-lead-in{font-family:\\\"Droid Serif\\\",Helvetica Neue,Helvetica,Arial,sans-serif;font-style:italic;line-height:40px;margin-left:20px;float:right;font-size:15px;color:silver;position:absolute;right:280px}#header #logo{height:48px;cursor:pointer}#header #banner{padding:0 30px;color:#7cfc00;font-family:Poiret One,Helvetica Neue,Helvetica,Arial,cursive;font-size:22px;text-decoration:none}#header rowdy-social-icons{height:100%;position:absolute;right:10px;cursor:pointer}#header #header-links .link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;top:2px;height:36px;text-decoration:none;width:44px;padding:12px 10px}#header #header-links .link mat-icon{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#8e8e8e;color:#000;color:#fff;font-size:32px;height:32px;width:32px;position:absolute;top:16px;left:16px}#header #header-links .link:nth-child(5){right:0}#header #header-links .link:nth-child(4){right:64px}#header #header-links .link:nth-child(3){right:128px}#header #header-links .link:nth-child(2){right:192px}#header #header-links .link:nth-child(1){right:256px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { mobile: [{\r\n                type: Input\r\n            }], offsetLeft: [{\r\n                type: Input\r\n            }], windowWidth: [{\r\n                type: Input\r\n            }] } });\n\nclass HeaderModule {\r\n}\r\n/** @nocollapse */ HeaderModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ HeaderModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, declarations: [HeaderComponent], imports: [SharedModule,\r\n        MatIconModule,\r\n        MatToolbarModule], exports: [HeaderComponent] });\r\n/** @nocollapse */ HeaderModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, imports: [[\r\n            SharedModule,\r\n            MatIconModule,\r\n            MatToolbarModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HeaderModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatIconModule,\r\n                        MatToolbarModule,\r\n                    ],\r\n                    declarations: [\r\n                        HeaderComponent,\r\n                    ],\r\n                    exports: [\r\n                        HeaderComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass NavbarComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ NavbarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ NavbarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: NavbarComponent, selector: \"iu-navbar\", ngImport: i0, template: \"<div id=\\\"navbar\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/about\\\">About Us</a>\\r\\n</div>\\r\\n\", styles: [\"#navbar{display:flex;align-items:center;position:relative;margin-top:60px;height:70px;padding:0 0 0 160px;z-index:2}#navbar .summer-league-logo{position:absolute;height:100%;top:0;left:120px;cursor:pointer}#navbar a.link{width:auto;margin:0;cursor:pointer;padding:14px 28px;position:relative;text-decoration:none;text-shadow:0px 1px 0px rgba(255,255,255,.3);text-shadow:0px 1px 1px #4d4d4d;color:#222;font:20px LeagueGothicRegular}#navbar a.link:hover{color:#8e8e8e;font-weight:700}\\n\"], directives: [{ type: i1$5.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-navbar', template: \"<div id=\\\"navbar\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/about\\\">About Us</a>\\r\\n</div>\\r\\n\", styles: [\"#navbar{display:flex;align-items:center;position:relative;margin-top:60px;height:70px;padding:0 0 0 160px;z-index:2}#navbar .summer-league-logo{position:absolute;height:100%;top:0;left:120px;cursor:pointer}#navbar a.link{width:auto;margin:0;cursor:pointer;padding:14px 28px;position:relative;text-decoration:none;text-shadow:0px 1px 0px rgba(255,255,255,.3);text-shadow:0px 1px 1px #4d4d4d;color:#222;font:20px LeagueGothicRegular}#navbar a.link:hover{color:#8e8e8e;font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass NavbarModule {\r\n}\r\n/** @nocollapse */ NavbarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ NavbarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, declarations: [NavbarComponent], imports: [SharedModule], exports: [NavbarComponent] });\r\n/** @nocollapse */ NavbarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, imports: [[\r\n            SharedModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NavbarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule\r\n                    ],\r\n                    declarations: [\r\n                        NavbarComponent,\r\n                    ],\r\n                    exports: [\r\n                        NavbarComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass SocialIconsComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ SocialIconsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ SocialIconsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: SocialIconsComponent, selector: \"iu-social-icons\", ngImport: i0, template: \"<div class=\\\"social-icons\\\">\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.facebook.com/grow.and.tellSLP/?pnref=lhc\\\"><img src=\\\"assets/facebook.png\\\"></a>\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.linkedin.com/in/jessica-over-9a697011b?trk=nav_responsive_tab_profile\\\"><img src=\\\"assets/linkedin.png\\\"></a>\\r\\n</div>\\r\\n\", styles: [\".social-icons{height:64px;overflow:hidden;max-width:160px}.social-icons a{max-height:90%;width:30%;cursor:pointer;position:relative;margin:0 6px}.social-icons a img{width:40px;margin-top:10px}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-social-icons', template: \"<div class=\\\"social-icons\\\">\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.facebook.com/grow.and.tellSLP/?pnref=lhc\\\"><img src=\\\"assets/facebook.png\\\"></a>\\r\\n  <a target=\\\"_blank\\\" href=\\\"https://www.linkedin.com/in/jessica-over-9a697011b?trk=nav_responsive_tab_profile\\\"><img src=\\\"assets/linkedin.png\\\"></a>\\r\\n</div>\\r\\n\", styles: [\".social-icons{height:64px;overflow:hidden;max-width:160px}.social-icons a{max-height:90%;width:30%;cursor:pointer;position:relative;margin:0 6px}.social-icons a img{width:40px;margin-top:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass SidenavComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ SidenavComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ SidenavComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: SidenavComponent, selector: \"iu-sidenav\", ngImport: i0, template: \"<nav class=\\\"sidenav\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <img class=\\\"logo\\\" src=\\\"assets/logo.png\\\">\\r\\n  </a>\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/rankings\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <mat-icon>format_list_numbered</mat-icon>\\r\\n    <span class=\\\"label\\\">Rankings</span>\\r\\n  </a>\\r\\n  <iu-social-icons></iu-social-icons>\\r\\n</nav>\\r\\n\", styles: [\".sidenav{background:#111;box-shadow:5px 0 5px -2px #888;-webkit-box-shadow:5px 0 5px -2px #888;flex:0 0 100px;-ms-grid-column:1;-ms-grid-column-span:1;text-align:center;position:relative;z-index:9999;padding:1rem 10px 0;-webkit-backface-visibility:hidden;backface-visibility:hidden;width:100px;height:100%;font-family:Montserrat,Helvetica Neue,Helvetica,Arial,sans-serif;text-transform:uppercase;font-weight:400;letter-spacing:1px}.sidenav a.link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;left:0;text-decoration:none;width:100px;padding:12px 10px}.sidenav a.link mat-icon{color:#8e8e8e;font-size:48px;height:48px;width:48px}.sidenav a.link .label{clear:both;color:#fff;width:100px;font-size:14px;padding:12px 0;display:block}.sidenav a.link:hover{background:#fff}.sidenav a.link:hover mat-icon{color:#006400;color:#000}.sidenav a.link:hover .label{color:#111}.sidenav a.link:nth-child(1){top:60px;height:106px}.sidenav a.link:nth-child(2){top:220px}.sidenav a.link:nth-child(3){top:360px}.sidenav a.link:nth-child(4){top:500px}.sidenav a.link:nth-child(5){top:640px}.sidenav img.logo{position:absolute;top:25px;left:0;width:120px;cursor:pointer}.sidenav rowdy-social-icons{position:absolute;bottom:0;left:0;width:100%}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: SocialIconsComponent, selector: \"iu-social-icons\" }], directives: [{ type: i1$5.RouterLinkWithHref, selector: \"a[routerLink],area[routerLink]\", inputs: [\"target\", \"queryParams\", \"fragment\", \"queryParamsHandling\", \"preserveFragment\", \"skipLocationChange\", \"replaceUrl\", \"state\", \"relativeTo\", \"routerLink\"] }, { type: i1$5.RouterLinkActive, selector: \"[routerLinkActive]\", inputs: [\"routerLinkActiveOptions\", \"routerLinkActive\"], outputs: [\"isActiveChange\"], exportAs: [\"routerLinkActive\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-sidenav', template: \"<nav class=\\\"sidenav\\\">\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/home\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <img class=\\\"logo\\\" src=\\\"assets/logo.png\\\">\\r\\n  </a>\\r\\n  <a class=\\\"link\\\" routerLink=\\\"/rankings\\\" routerLinkActive=\\\"active-link\\\">\\r\\n    <mat-icon>format_list_numbered</mat-icon>\\r\\n    <span class=\\\"label\\\">Rankings</span>\\r\\n  </a>\\r\\n  <iu-social-icons></iu-social-icons>\\r\\n</nav>\\r\\n\", styles: [\".sidenav{background:#111;box-shadow:5px 0 5px -2px #888;-webkit-box-shadow:5px 0 5px -2px #888;flex:0 0 100px;-ms-grid-column:1;-ms-grid-column-span:1;text-align:center;position:relative;z-index:9999;padding:1rem 10px 0;-webkit-backface-visibility:hidden;backface-visibility:hidden;width:100px;height:100%;font-family:Montserrat,Helvetica Neue,Helvetica,Arial,sans-serif;text-transform:uppercase;font-weight:400;letter-spacing:1px}.sidenav a.link{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;position:absolute;left:0;text-decoration:none;width:100px;padding:12px 10px}.sidenav a.link mat-icon{color:#8e8e8e;font-size:48px;height:48px;width:48px}.sidenav a.link .label{clear:both;color:#fff;width:100px;font-size:14px;padding:12px 0;display:block}.sidenav a.link:hover{background:#fff}.sidenav a.link:hover mat-icon{color:#006400;color:#000}.sidenav a.link:hover .label{color:#111}.sidenav a.link:nth-child(1){top:60px;height:106px}.sidenav a.link:nth-child(2){top:220px}.sidenav a.link:nth-child(3){top:360px}.sidenav a.link:nth-child(4){top:500px}.sidenav a.link:nth-child(5){top:640px}.sidenav img.logo{position:absolute;top:25px;left:0;width:120px;cursor:pointer}.sidenav rowdy-social-icons{position:absolute;bottom:0;left:0;width:100%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass SocialIconsModule {\r\n}\r\n/** @nocollapse */ SocialIconsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ SocialIconsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, declarations: [SocialIconsComponent], imports: [SharedModule], exports: [SocialIconsComponent] });\r\n/** @nocollapse */ SocialIconsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SocialIconsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [\r\n                        SocialIconsComponent,\r\n                    ],\r\n                    exports: [\r\n                        SocialIconsComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass SidenavModule {\r\n}\r\n/** @nocollapse */ SidenavModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ SidenavModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, declarations: [SidenavComponent], imports: [SharedModule,\r\n        MatIconModule,\r\n        SocialIconsModule], exports: [SidenavComponent] });\r\n/** @nocollapse */ SidenavModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, imports: [[\r\n            SharedModule,\r\n            MatIconModule,\r\n            SocialIconsModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SidenavModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatIconModule,\r\n                        SocialIconsModule,\r\n                    ],\r\n                    declarations: [\r\n                        SidenavComponent,\r\n                    ],\r\n                    exports: [\r\n                        SidenavComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass WallpaperComponent {\r\n    constructor(elementRef) {\r\n        this.elementRef = elementRef;\r\n        this.debug = false;\r\n        this.images = [];\r\n        this.imageOpacity = .4;\r\n        this.bodyMargin = 0;\r\n        this.offsetTop = 0;\r\n        this.offsetLeft = 0;\r\n        // @Input() positionTop = 0;\r\n        // @Input() positionLeft = 0;\r\n        this.minCellWidth = 40;\r\n        this.minCellHeight = 40;\r\n        this.maxTileWidth = 240;\r\n        this.maxTileHeight = 400;\r\n        this.shuffle = false;\r\n        this.clientHeight = 0;\r\n        this.clientWidth = 0;\r\n    }\r\n    get maxColumns() {\r\n        return Math.floor(this.maxTileWidth / this.minCellWidth);\r\n    }\r\n    get maxRows() {\r\n        return Math.floor(this.maxTileHeight / this.minCellHeight);\r\n    }\r\n    get positionLeft() {\r\n        return this.offsetLeft === 0 ? -this.bodyMargin : this.offsetLeft - this.bodyMargin;\r\n    }\r\n    get positionTop() {\r\n        return this.offsetTop === 0 ? -this.bodyMargin : this.offsetTop - this.bodyMargin;\r\n    }\r\n    get totalColumns() {\r\n        return Math.floor(this.canvasWidth / this.minCellWidth);\r\n    }\r\n    get totalRows() {\r\n        return Math.floor(this.canvasHeight / this.minCellHeight);\r\n    }\r\n    get canvasHeight() {\r\n        return this.windowHeight ? this.windowHeight - this.offsetTop - this.bodyMargin : this.clientHeight;\r\n    }\r\n    get canvasWidth() {\r\n        return this.windowWidth ? this.windowWidth - this.offsetLeft - this.bodyMargin : this.clientWidth;\r\n    }\r\n    get windowHeight() {\r\n        return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n    }\r\n    set windowHeight(value) {\r\n        // console.log('\\n\\nWindow Height:\\t', value);\r\n        localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n    }\r\n    get windowWidth() {\r\n        return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n    }\r\n    set windowWidth(value) {\r\n        // console.log('Window Width:\\t', value);\r\n        localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n    }\r\n    onLoad(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        this.resetDimensions();\r\n    }\r\n    onResize(e) {\r\n        this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n        this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n        this.resetDimensions();\r\n    }\r\n    ngOnInit() {\r\n        this.resetDimensions();\r\n    }\r\n    resetDimensions() {\r\n        this.clientHeight = this.elementRef.nativeElement.clientHeight;\r\n        this.clientWidth = this.elementRef.nativeElement.clientWidth;\r\n        if (this.debug) {\r\n            this.logDimensions();\r\n        }\r\n    }\r\n    logDimensions() {\r\n        console.log('\\n\\nWindow Height:\\t', this.windowHeight);\r\n        console.log('Window Width:\\t', this.windowWidth);\r\n        console.log('Canvas Height:\\t', this.canvasHeight);\r\n        console.log('Canvas Width:\\t', this.canvasWidth);\r\n        console.log('Client Height:\\t', this.clientHeight);\r\n        console.log('Client Width:\\t', this.clientWidth);\r\n    }\r\n}\r\n/** @nocollapse */ WallpaperComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ WallpaperComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: WallpaperComponent, selector: \"iu-wallpaper\", inputs: { debug: \"debug\", images: \"images\", imageOpacity: \"imageOpacity\", bodyMargin: \"bodyMargin\", offsetTop: \"offsetTop\", offsetLeft: \"offsetLeft\", minCellWidth: \"minCellWidth\", minCellHeight: \"minCellHeight\", maxTileWidth: \"maxTileWidth\", maxTileHeight: \"maxTileHeight\", shuffle: \"shuffle\" }, host: { listeners: { \"window:load\": \"onLoad($event)\", \"window:resize\": \"onResize($event)\" } }, ngImport: i0, template: \"<div class=\\\"wallpaper\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\">\\r\\n  <iu-collage [images]=\\\"images\\\" [canvasHeight]=\\\"canvasHeight\\\" [canvasWidth]=\\\"canvasWidth\\\" [totalRows]=\\\"totalRows\\\"\\r\\n    [totalColumns]=\\\"totalColumns\\\" [maxRows]=\\\"maxRows\\\" [maxColumns]=\\\"maxColumns\\\" [imageOpacity]=\\\"imageOpacity\\\"\\r\\n    [shuffle]=\\\"shuffle\\\"></iu-collage>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.wallpaper{height:100%;width:100%;overflow:hidden;position:fixed}\\n\"], components: [{ type: CollageComponent, selector: \"iu-collage\", inputs: [\"imageOpacity\", \"canvasHeight\", \"canvasWidth\", \"totalRows\", \"totalColumns\", \"maxRows\", \"maxColumns\", \"shuffle\", \"_images\", \"images\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-wallpaper', template: \"<div class=\\\"wallpaper\\\" [style.height.px]=\\\"canvasHeight\\\" [style.width.px]=\\\"canvasWidth\\\" [style.top.px]=\\\"positionTop\\\"\\r\\n  [style.left.px]=\\\"positionLeft\\\">\\r\\n  <iu-collage [images]=\\\"images\\\" [canvasHeight]=\\\"canvasHeight\\\" [canvasWidth]=\\\"canvasWidth\\\" [totalRows]=\\\"totalRows\\\"\\r\\n    [totalColumns]=\\\"totalColumns\\\" [maxRows]=\\\"maxRows\\\" [maxColumns]=\\\"maxColumns\\\" [imageOpacity]=\\\"imageOpacity\\\"\\r\\n    [shuffle]=\\\"shuffle\\\"></iu-collage>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.wallpaper{height:100%;width:100%;overflow:hidden;position:fixed}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { debug: [{\r\n                type: Input\r\n            }], images: [{\r\n                type: Input\r\n            }], imageOpacity: [{\r\n                type: Input\r\n            }], bodyMargin: [{\r\n                type: Input\r\n            }], offsetTop: [{\r\n                type: Input\r\n            }], offsetLeft: [{\r\n                type: Input\r\n            }], minCellWidth: [{\r\n                type: Input\r\n            }], minCellHeight: [{\r\n                type: Input\r\n            }], maxTileWidth: [{\r\n                type: Input\r\n            }], maxTileHeight: [{\r\n                type: Input\r\n            }], shuffle: [{\r\n                type: Input\r\n            }], onLoad: [{\r\n                type: HostListener,\r\n                args: ['window:load', ['$event']]\r\n            }], onResize: [{\r\n                type: HostListener,\r\n                args: ['window:resize', ['$event']]\r\n            }] } });\n\nclass WallpaperModule {\r\n}\r\n/** @nocollapse */ WallpaperModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ WallpaperModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, declarations: [WallpaperComponent], imports: [SharedModule,\r\n        CollageModule], exports: [WallpaperComponent] });\r\n/** @nocollapse */ WallpaperModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, imports: [[\r\n            SharedModule,\r\n            CollageModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WallpaperModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        CollageModule,\r\n                    ],\r\n                    declarations: [\r\n                        WallpaperComponent,\r\n                    ],\r\n                    exports: [\r\n                        WallpaperComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass ContainerModule {\r\n}\r\n/** @nocollapse */ ContainerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ ContainerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, declarations: [ContainerComponent], imports: [SharedModule,\r\n        BreadcrumbsModule,\r\n        HeaderModule,\r\n        NavbarModule,\r\n        SidenavModule,\r\n        SocialIconsModule,\r\n        WallpaperModule], exports: [ContainerComponent,\r\n        BreadcrumbsModule,\r\n        HeaderModule,\r\n        NavbarModule,\r\n        SidenavModule,\r\n        SocialIconsModule,\r\n        WallpaperModule] });\r\n/** @nocollapse */ ContainerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, imports: [[\r\n            SharedModule,\r\n            BreadcrumbsModule,\r\n            HeaderModule,\r\n            NavbarModule,\r\n            SidenavModule,\r\n            SocialIconsModule,\r\n            WallpaperModule,\r\n        ], BreadcrumbsModule,\r\n        HeaderModule,\r\n        NavbarModule,\r\n        SidenavModule,\r\n        SocialIconsModule,\r\n        WallpaperModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ContainerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        BreadcrumbsModule,\r\n                        HeaderModule,\r\n                        NavbarModule,\r\n                        SidenavModule,\r\n                        SocialIconsModule,\r\n                        WallpaperModule,\r\n                    ],\r\n                    declarations: [\r\n                        ContainerComponent,\r\n                    ],\r\n                    exports: [\r\n                        ContainerComponent,\r\n                        BreadcrumbsModule,\r\n                        HeaderModule,\r\n                        NavbarModule,\r\n                        SidenavModule,\r\n                        SocialIconsModule,\r\n                        WallpaperModule,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass DateRange {\r\n    constructor() {\r\n        this.startDate = null;\r\n        this.endDate = null;\r\n    }\r\n}\r\nclass Month {\r\n    constructor() {\r\n        this.index = 0;\r\n        this.name = \"\";\r\n        this.abbreviation = \"\";\r\n        this.initial = \"\";\r\n    }\r\n}\r\nclass Weekday {\r\n    constructor() {\r\n        this.index = 0;\r\n        this.name = \"\";\r\n        this.abbreviation = \"\";\r\n        this.initial = \"\";\r\n    }\r\n}\r\nclass DateHelper {\r\n    static BuildStartTime(startDate, startHours, startMinutes, startMeridian) {\r\n        const startTime = new Date(startDate);\r\n        const hours = startMeridian === \"AM\" ? startHours : startHours + 12;\r\n        startTime.setHours(hours);\r\n        startTime.setMinutes(startMinutes);\r\n        return startTime;\r\n    }\r\n    static BuildEndTime(startTime, dHours, dMinutes) {\r\n        const endTime = new Date(startTime);\r\n        endTime.setHours(endTime.getHours() + dHours);\r\n        endTime.setMinutes(endTime.getMinutes() + dMinutes);\r\n        return endTime;\r\n    }\r\n    static CalendarDaySpan(startDate, endDate) {\r\n        const daysBetween = Math.ceil(DateHelper.DaysBetween(startDate, endDate) + 1);\r\n        return daysBetween && daysBetween > 0\r\n            ? integerArray(daysBetween).map((i) => {\r\n                const d = new Date(startDate);\r\n                d.setDate(new Date(startDate).getDate() + i);\r\n                return d;\r\n            })\r\n            : [new Date(startDate)];\r\n    }\r\n    static CalendarDayStringSpan(startDate, endDate) {\r\n        return DateHelper.CalendarDaySpan(startDate, endDate).map((d) => DateHelper.ToDayString(d));\r\n    }\r\n    static CountDaysInMonth(date) {\r\n        return DateHelper.DaysInMonth(date).length;\r\n    }\r\n    static DaysBetween(startDate, endDate) {\r\n        const millisecondsPerDay = 24 * 60 * 60 * 1000;\r\n        return ((DateHelper.TreatAsUTC(new Date(endDate)).getTime() -\r\n            DateHelper.TreatAsUTC(new Date(startDate)).getTime()) /\r\n            millisecondsPerDay);\r\n    }\r\n    static DaysInMonth(date) {\r\n        const d = new Date(date.getFullYear(), date.getMonth(), 1);\r\n        const days = [];\r\n        const month = d.getMonth();\r\n        while (d.getMonth() === month) {\r\n            days.push(new Date(d));\r\n            d.setDate(d.getDate() + 1);\r\n        }\r\n        return days;\r\n    }\r\n    static FormatDate(date) {\r\n        const d = new Date(date);\r\n        const month = \"\" + (d.getMonth() + 1);\r\n        const day = \"\" + d.getDate();\r\n        const year = d.getFullYear();\r\n        return month && day && year ? [month, day, year].join(\"/\") : null;\r\n    }\r\n    static FormatDateDashes(date) {\r\n        const d = new Date(date);\r\n        let month = \"\" + (d.getMonth() + 1);\r\n        let day = \"\" + d.getDate();\r\n        const year = d.getFullYear();\r\n        if (month.length < 2) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (day.length < 2) {\r\n            day = \"0\" + day;\r\n        }\r\n        return [year, month, day].join(\"-\");\r\n    }\r\n    static FormatDateSlashes(date) {\r\n        const d = new Date(date);\r\n        let month = \"\" + (d.getMonth() + 1);\r\n        let day = \"\" + d.getDate();\r\n        const year = d.getFullYear();\r\n        if (month.length < 2) {\r\n            month = \"0\" + month;\r\n        }\r\n        if (day.length < 2) {\r\n            day = \"0\" + day;\r\n        }\r\n        return [month, day, year].join(\"/\");\r\n    }\r\n    static FromMonthYear(monthYear) {\r\n        const year = DateHelper.ToYearNumberFromMonthYear(monthYear);\r\n        const month = DateHelper.ToMonthNumberFromMonthYear(monthYear);\r\n        return year && month ? new Date(year, month) : new Date();\r\n    }\r\n    static GetFirstDayOfLastMonth(date) {\r\n        const d = new Date(date);\r\n        return new Date(d.getFullYear(), d.getMonth() - 1, 1);\r\n    }\r\n    static GetFirstDayOfMonth(date) {\r\n        const d = new Date(date);\r\n        return new Date(d.getFullYear(), d.getMonth(), 1);\r\n    }\r\n    static GetFirstDayOfNextMonth(date) {\r\n        const d = new Date(date);\r\n        return new Date(d.getFullYear(), d.getMonth() + 1, 1);\r\n    }\r\n    static GetLastDayOfMonth(date) {\r\n        const days = DateHelper.DaysInMonth(date);\r\n        return days[days.length - 1];\r\n    }\r\n    static GetHour(date) {\r\n        const d = new Date(date);\r\n        return d.getHours();\r\n    }\r\n    static GetMeridian(date) {\r\n        const hour = DateHelper.GetHour(date);\r\n        return hour >= 12 ? \"PM\" : \"AM\";\r\n    }\r\n    static GetMinute(date) {\r\n        const d = new Date(date);\r\n        return d.getMinutes();\r\n    }\r\n    static GetMonthIndex(date) {\r\n        const d = new Date(date);\r\n        return d.getMonth();\r\n    }\r\n    static GetMonthName(date) {\r\n        const d = new Date(date);\r\n        return build(Month, DateHelper.Months.find((x) => x.index === d.getMonth())).name;\r\n    }\r\n    static GetShortMonthName(date) {\r\n        const d = new Date(date);\r\n        return build(Month, DateHelper.Months.find((x) => x.index === d.getMonth())).abbreviation;\r\n    }\r\n    static GetWeekdayIndex(date) {\r\n        const d = new Date(date);\r\n        return d.getDay();\r\n    }\r\n    static GetYear(date) {\r\n        const d = new Date(date);\r\n        return d.getFullYear();\r\n    }\r\n    static HoursBetween(d1, d2) {\r\n        return DateHelper.MillisecondsBetween(d1, d2) / 3600000;\r\n    }\r\n    static HoursFromBeginningOfDay(d) {\r\n        const date = new Date(d);\r\n        return date.getHours() + date.getMinutes() / 60;\r\n    }\r\n    static IsBetween(d, startDate, endDate) {\r\n        const date = new Date(d);\r\n        const calculatedEndDate = endDate || startDate;\r\n        return (startDate &&\r\n            date > new Date(startDate) &&\r\n            date < new Date(calculatedEndDate));\r\n    }\r\n    static IsDate(date) {\r\n        return Object.prototype.toString.call(date) === \"[object Date]\";\r\n    }\r\n    static IsValidDate(date) {\r\n        const dateWrapper = new Date(date);\r\n        return !isNaN(dateWrapper.getDate());\r\n    }\r\n    static IsWeekday(d) {\r\n        const day = new Date(d).getDay();\r\n        return day === 1 || day === 2 || day === 3 || day === 4 || day === 5;\r\n    }\r\n    static IsWeekend(d) {\r\n        const day = new Date(d).getDay();\r\n        return day === 0 || day === 6;\r\n    }\r\n    static IsSameMonth(d1, d2) {\r\n        return new Date(d1).getMonth() === new Date(d2).getMonth();\r\n    }\r\n    static MillisecondsBetween(d1, d2) {\r\n        return Math.abs(new Date(d1).getTime() - new Date(d2).getTime());\r\n    }\r\n    static NextDay(fromDate) {\r\n        const today = new Date(fromDate);\r\n        const tomorrow = new Date();\r\n        tomorrow.setDate(today.getDate() + 1);\r\n        return tomorrow;\r\n    }\r\n    static ParseDateDashes(date) {\r\n        const arr = date.split(\"-\");\r\n        return new Date(toInt(arr[0]), toInt(arr[1]) - 1, toInt(arr[2]));\r\n    }\r\n    static TimeAgo(date) {\r\n        if (!date) {\r\n            return '';\r\n        }\r\n        const seconds = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);\r\n        let interval = Math.floor(seconds / 31536000);\r\n        if (interval > 1) {\r\n            return `${interval} years ago`;\r\n        }\r\n        interval = Math.floor(seconds / 2592000);\r\n        if (interval > 1) {\r\n            return `${interval} months ago`;\r\n        }\r\n        interval = Math.floor(seconds / 86400);\r\n        if (interval > 1) {\r\n            return `${interval} days ago`;\r\n        }\r\n        interval = Math.floor(seconds / 3600);\r\n        if (interval > 1) {\r\n            return `${interval} hours ago`;\r\n        }\r\n        interval = Math.floor(seconds / 60);\r\n        if (interval > 1) {\r\n            return `${interval} minutes ago`;\r\n        }\r\n        return 'Just Now';\r\n        // return Math.floor(seconds) + \" seconds`\"\r\n    }\r\n    static TimeBetween(startDate, endDate) {\r\n        return new Date(endDate).getTime() - new Date(startDate).getTime();\r\n    }\r\n    static ToDayString(d) {\r\n        const date = new Date(d);\r\n        return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n    }\r\n    static ToMonthName(d) {\r\n        const date = new Date(d);\r\n        return DateHelper.MonthNames[date.getMonth()];\r\n    }\r\n    static ToMonthNumber(d) {\r\n        const date = new Date(d);\r\n        return date.getMonth() + 1;\r\n    }\r\n    static ToMonthNumberFromMonthYear(monthYear) {\r\n        const month = monthYear.substr(monthYear.length - 2);\r\n        return toInt(month) - 1;\r\n    }\r\n    static ToMonthNumberFromMonthYearName(monthYear) {\r\n        const parts = monthYear.split(/\\s*,\\s*/);\r\n        const month = DateHelper.MonthNumbers[parts[0]];\r\n        return month;\r\n    }\r\n    static ToMonthYear(d) {\r\n        const date = new Date(d);\r\n        const monthNumber = DateHelper.ToMonthNumber(date);\r\n        const month = monthNumber < 10 ? `0${monthNumber}` : monthNumber;\r\n        return `${date.getFullYear()}-${month}`;\r\n    }\r\n    static ToMonthYearName(d) {\r\n        const date = new Date(d);\r\n        const month = DateHelper.ToMonthName(date);\r\n        const year = date.getFullYear();\r\n        return month && year ? `${month} ${year}` : \"\";\r\n    }\r\n    static ToYearNumberFromMonthYear(monthYear) {\r\n        const year = monthYear.substring(0, 4);\r\n        return toInt(year);\r\n    }\r\n    static TreatAsUTC(date) {\r\n        const result = new Date(date);\r\n        result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\r\n        return result;\r\n    }\r\n    static get Today() {\r\n        return new Date();\r\n    }\r\n    static get Month() {\r\n        return DateHelper.Today.getMonth();\r\n    }\r\n    static get MonthNumbers() {\r\n        return DateHelper.MonthNames.reduce((acc, x, i) => Object.assign({}, acc, { [x]: i }));\r\n    }\r\n    static get Year() {\r\n        return DateHelper.Today.getFullYear();\r\n    }\r\n    static get NextSchoolYear() {\r\n        return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n    }\r\n    static get NextSchoolYearStartDate() {\r\n        return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));\r\n    }\r\n    static get PreviousSchoolYear() {\r\n        return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n    }\r\n    static get PreviousSchoolYearEndDate() {\r\n        return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));\r\n    }\r\n    static get FutureDate() {\r\n        const date = DateHelper.Today;\r\n        return DateHelper.AddDays(date, 100000);\r\n    }\r\n    static get PastDate() {\r\n        const date = DateHelper.Today;\r\n        return DateHelper.SubtractDays(date, 100000);\r\n    }\r\n    static AddDays(d, days) {\r\n        const date = new Date(d);\r\n        date.setDate(date.getDate() + days);\r\n        return date;\r\n    }\r\n    static SubtractDays(d, days) {\r\n        const date = new Date(d);\r\n        date.setDate(date.getDate() - days);\r\n        return date;\r\n    }\r\n    static BuildDate(year, month, day) {\r\n        const date = new Date();\r\n        date.setFullYear(year);\r\n        date.setMonth(month);\r\n        date.setDate(day);\r\n        return date;\r\n    }\r\n    static DateChanged(d1, d2) {\r\n        const date1 = new Date(d1);\r\n        const date2 = new Date(d2);\r\n        return (date1.getDate() !== date2.getDate() ||\r\n            date1.getMonth() !== date2.getMonth() ||\r\n            date1.getFullYear() !== date2.getFullYear());\r\n    }\r\n    static IsSameDay(d1, d2) {\r\n        const date1 = new Date(d1);\r\n        const date2 = new Date(d2);\r\n        return (date1.getDate() === date2.getDate() &&\r\n            date1.getMonth() === date2.getMonth() &&\r\n            date1.getFullYear() === date2.getFullYear());\r\n    }\r\n    static get YearStartDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year, 6, 1);\r\n        }\r\n    }\r\n    static get PreviousYearStartDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n        }\r\n    }\r\n    static SchoolYearStart(year) {\r\n        return DateHelper.BuildDate(year, 6, 1);\r\n    }\r\n    static get YearEndDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);\r\n        }\r\n    }\r\n    static get PreviousYearEndDate() {\r\n        if (DateHelper.Month < 6) {\r\n            return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);\r\n        }\r\n        else {\r\n            return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n        }\r\n    }\r\n    static SchoolYearEnd(year) {\r\n        return DateHelper.BuildDate(year - 1, 5, 30);\r\n    }\r\n    static BuildDateRange(dateRangeId) {\r\n        let startDate;\r\n        let endDate;\r\n        switch (dateRangeId) {\r\n            case 0:\r\n                break;\r\n            case 1:\r\n                break;\r\n            case 2: // Today\r\n                startDate = DateHelper.Today;\r\n                endDate = startDate;\r\n                break;\r\n            case 3: // Next 15\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.AddDays(startDate, 15);\r\n                break;\r\n            case 4: // Next 30\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.AddDays(startDate, 30);\r\n                break;\r\n            case 5: // Next 60\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.AddDays(startDate, 60);\r\n                break;\r\n            case 6: // Previous 15\r\n                endDate = DateHelper.Today;\r\n                startDate = DateHelper.SubtractDays(endDate, 15);\r\n                break;\r\n            case 7: // Previous 30\r\n                endDate = DateHelper.Today;\r\n                startDate = DateHelper.SubtractDays(endDate, 30);\r\n                break;\r\n            case 8: // Previous 60\r\n                endDate = DateHelper.Today;\r\n                startDate = DateHelper.SubtractDays(endDate, 60);\r\n                break;\r\n            case 9: // School Year - Runs from July 1st Thru June 30th\r\n                startDate = DateHelper.YearStartDate;\r\n                endDate = DateHelper.YearEndDate;\r\n                break;\r\n            case 10: // Number of meetings = 10\r\n                startDate = DateHelper.Today;\r\n                endDate = DateHelper.FutureDate;\r\n                break;\r\n            case 11: // Previous School Year\r\n                startDate = DateHelper.PreviousYearStartDate;\r\n                endDate = DateHelper.PreviousYearEndDate;\r\n                break;\r\n        }\r\n        return build(DateRange, { startDate, endDate });\r\n    }\r\n    static get Months() {\r\n        return [\r\n            build(Month, { name: \"January\", abbreviation: \"Jan\", index: 0 }),\r\n            build(Month, { name: \"February\", abbreviation: \"Feb\", index: 1 }),\r\n            build(Month, { name: \"March\", abbreviation: \"Mar\", index: 2 }),\r\n            build(Month, { name: \"April\", abbreviation: \"Apr\", index: 3 }),\r\n            build(Month, { name: \"May\", abbreviation: \"May\", index: 4 }),\r\n            build(Month, { name: \"June\", abbreviation: \"June\", index: 5 }),\r\n            build(Month, { name: \"July\", abbreviation: \"July\", index: 6 }),\r\n            build(Month, { name: \"August\", abbreviation: \"Aug\", index: 7 }),\r\n            build(Month, { name: \"September\", abbreviation: \"Sept\", index: 8 }),\r\n            build(Month, { name: \"October\", abbreviation: \"Oct\", index: 9 }),\r\n            build(Month, { name: \"November\", abbreviation: \"Nov\", index: 10 }),\r\n            build(Month, { name: \"December\", abbreviation: \"Dec\", index: 11 }),\r\n        ];\r\n    }\r\n    static get Weekdays() {\r\n        return [\r\n            build(Weekday, {\r\n                name: \"Sunday\",\r\n                abbreviation: \"Sun\",\r\n                initial: \"Su\",\r\n                index: 0,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Monday\",\r\n                abbreviation: \"Mon\",\r\n                initial: \"M\",\r\n                index: 1,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Tuesday\",\r\n                abbreviation: \"Tues\",\r\n                initial: \"T\",\r\n                index: 2,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Wednesday\",\r\n                abbreviation: \"Wed\",\r\n                initial: \"W\",\r\n                index: 3,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Thursday\",\r\n                abbreviation: \"Thurs\",\r\n                initial: \"Th\",\r\n                index: 4,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Friday\",\r\n                abbreviation: \"Fri\",\r\n                initial: \"F\",\r\n                index: 5,\r\n            }),\r\n            build(Weekday, {\r\n                name: \"Saturday\",\r\n                abbreviation: \"Sat\",\r\n                initial: \"S\",\r\n                index: 6,\r\n            }),\r\n        ];\r\n    }\r\n}\r\nDateHelper.MonthNames = [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n];\r\nfunction noWeekendDaysValidator() {\r\n    return (control) => {\r\n        if (control.value && Date.parse(control.value.toString())) {\r\n            const dateValue = new Date(control.value.toString());\r\n            const IsWeekend = DateHelper.IsWeekend(dateValue);\r\n            const formattedDate = DateHelper.FormatDate(dateValue);\r\n            const weekendDay = DateHelper.Weekdays[new Date(dateValue).getDay()].name;\r\n            return !IsWeekend ? null : { weekend: `${formattedDate} is a ${weekendDay}. Weekend Days are not allowed.` };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n}\r\nfunction dateFormatValidator() {\r\n    return (control) => {\r\n        const dt = new Date(control.value);\r\n        const month = dt.getMonth() + 1;\r\n        const day = dt.getDate();\r\n        const year = dt.getFullYear();\r\n        if (!correctMonthFormat(month) || !correctDayFormat(day) || !correctYearFormat(year)) {\r\n            return { format: 'Date is not in a valid format.' };\r\n        }\r\n        return null;\r\n    };\r\n}\r\nfunction correctMonthFormat(month) {\r\n    return month > 0 && month < 13;\r\n}\r\n// could improve to be a specific day based on the month.\r\nfunction correctDayFormat(day) {\r\n    return day > 0 && day < 32;\r\n}\r\nfunction correctYearFormat(year) {\r\n    return year > 999 && year < 10000;\r\n}\n\nconst DATEPICKER_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DatepickerComponent),\r\n    multi: true\r\n};\r\nclass DatepickerComponent {\r\n    constructor() {\r\n        this.placeholder = 'Choose a date';\r\n        this.required = false;\r\n        this.startView = 'month';\r\n        this.selectedChanged = new EventEmitter();\r\n        this.dateInput = new FormControl('');\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(val) {\r\n        this._value = val;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value.value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value.value);\r\n        }\r\n    }\r\n    get id() {\r\n        return this.datepicker.id;\r\n    }\r\n    get opened() {\r\n        return this.datepicker.opened;\r\n    }\r\n    ngOnInit() {\r\n        this.startAt = this.value;\r\n        if (this.filter != null) {\r\n            this.dateFilter = this.filter;\r\n        }\r\n        else {\r\n            this.dateFilter = null;\r\n        }\r\n        this.dateInput.setValidators([\r\n            dateFormatValidator(),\r\n            noWeekendDaysValidator()\r\n        ]);\r\n        this.dateInput.setValue(this.value);\r\n    }\r\n    changeSelected(date) {\r\n        this.onChange(date);\r\n        this.selectedChanged.emit(date.value);\r\n    }\r\n    close() {\r\n        this.datepicker.close();\r\n    }\r\n    open() {\r\n        this.datepicker.open();\r\n    }\r\n}\r\n/** @nocollapse */ DatepickerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DatepickerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DatepickerComponent, selector: \"iu-datepicker\", inputs: { filter: \"filter\", min: \"min\", max: \"max\", placeholder: \"placeholder\", required: \"required\", startAt: \"startAt\", startView: \"startView\", touchUi: \"touchUi\", value: \"value\" }, outputs: { selectedChanged: \"selectedChanged\" }, providers: [DATEPICKER_ACCESSOR], viewQueries: [{ propertyName: \"datepicker\", first: true, predicate: [\"picker\"], descendants: true, static: true }], ngImport: i0, template: \"<mat-form-field>\\r\\n   <input matInput dateMask [required]=\\\"required\\\" [placeholder]=\\\"placeholder\\\" \\r\\n   [matDatepicker]=\\\"picker\\\" [matDatepickerFilter]=\\\"dateFilter\\\" \\r\\n   (dateChange)=\\\"changeSelected($event)\\\" [min]=\\\"min\\\" [max]=\\\"max\\\" [value]=\\\"value\\\" \\r\\n   [formControl]=\\\"dateInput\\\" />\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('required')\\\">\\r\\n      This date is required.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('format')\\\">\\r\\n      Please enter a valid date using <strong>mm/dd/yyyy</strong> format.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('weekend')\\\">\\r\\n      {{ dateInput.errors['weekend'] }}\\r\\n   </mat-error>\\r\\n   <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n   <mat-datepicker #picker [startAt]=\\\"startAt\\\" [startView]=\\\"startView\\\" [touchUi]=\\\"touchUi\\\"></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\".mat-input-container{float:left}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }], directives: [{ type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: DateMaskDirective, selector: \"[dateMask]\" }, { type: i5.RequiredValidator, selector: \":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]\", inputs: [\"required\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$3.MatError, selector: \"mat-error\", inputs: [\"id\"] }, { type: i1$3.MatSuffix, selector: \"[matSuffix]\" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-datepicker', changeDetection: ChangeDetectionStrategy.OnPush, providers: [DATEPICKER_ACCESSOR], template: \"<mat-form-field>\\r\\n   <input matInput dateMask [required]=\\\"required\\\" [placeholder]=\\\"placeholder\\\" \\r\\n   [matDatepicker]=\\\"picker\\\" [matDatepickerFilter]=\\\"dateFilter\\\" \\r\\n   (dateChange)=\\\"changeSelected($event)\\\" [min]=\\\"min\\\" [max]=\\\"max\\\" [value]=\\\"value\\\" \\r\\n   [formControl]=\\\"dateInput\\\" />\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('required')\\\">\\r\\n      This date is required.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('format')\\\">\\r\\n      Please enter a valid date using <strong>mm/dd/yyyy</strong> format.\\r\\n   </mat-error>\\r\\n   <mat-error *ngIf=\\\"dateInput.hasError('weekend')\\\">\\r\\n      {{ dateInput.errors['weekend'] }}\\r\\n   </mat-error>\\r\\n   <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n   <mat-datepicker #picker [startAt]=\\\"startAt\\\" [startView]=\\\"startView\\\" [touchUi]=\\\"touchUi\\\"></mat-datepicker>\\r\\n</mat-form-field>\", styles: [\".mat-input-container{float:left}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { filter: [{\r\n                type: Input\r\n            }], min: [{\r\n                type: Input\r\n            }], max: [{\r\n                type: Input\r\n            }], placeholder: [{\r\n                type: Input\r\n            }], required: [{\r\n                type: Input\r\n            }], startAt: [{\r\n                type: Input\r\n            }], startView: [{\r\n                type: Input\r\n            }], touchUi: [{\r\n                type: Input\r\n            }], selectedChanged: [{\r\n                type: Output\r\n            }], datepicker: [{\r\n                type: ViewChild,\r\n                args: ['picker', { static: true }]\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nconst DATERANGE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DaterangeComponent),\r\n    multi: true\r\n};\r\nclass DaterangeComponent {\r\n    constructor(changeDetectorRef) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.debug = false;\r\n        this.inline = false;\r\n        this.required = false;\r\n        this.startLabel = 'Start Date';\r\n        this.endLabel = 'End Date';\r\n        this.startDateChanged = new EventEmitter();\r\n        this.endDateChanged = new EventEmitter();\r\n        this._value = new DateRange();\r\n        this.focused = new DateRange();\r\n        this.now = new Date();\r\n    }\r\n    ngOnInit() { }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(val) {\r\n        this._value = val;\r\n        if (this.startDatepicker) {\r\n            this.startDatepicker.value = val === null || val === void 0 ? void 0 : val.startDate;\r\n        }\r\n        if (this.endDatepicker) {\r\n            this.endDatepicker.value = val === null || val === void 0 ? void 0 : val.endDate;\r\n        }\r\n        if (this &&\r\n            this.changeDetectorRef &&\r\n            !this.changeDetectorRef['destroyed']) {\r\n            this.changeDetectorRef.detectChanges();\r\n        }\r\n    }\r\n    get startDateId() {\r\n        return this.startDatepicker.id;\r\n    }\r\n    get startDateOpened() {\r\n        return this.startDatepicker.opened;\r\n    }\r\n    get endDateId() {\r\n        return this.endDatepicker.id;\r\n    }\r\n    get endDateOpened() {\r\n        return this.endDatepicker.opened;\r\n    }\r\n    get startDateValue() {\r\n        return this.value.startDate ? new Date(this.value.startDate) : null;\r\n    }\r\n    set startDateValue(value) {\r\n        this.changeStartDate(value);\r\n    }\r\n    get endDateValue() {\r\n        return this.value.endDate ? new Date(this.value.endDate) : null;\r\n    }\r\n    set endDateValue(value) {\r\n        this.changeEndDate(value);\r\n    }\r\n    get startDateLastDay() {\r\n        return new Date(this.startDateValue.getFullYear(), this.startDateValue.getMonth() + 1, 0);\r\n    }\r\n    filter(d) {\r\n        return this.ifMonthSame(d) || this.ifMonthDifferent(d);\r\n    }\r\n    ;\r\n    changeStartDate(date) {\r\n        this.onChange(build(DateRange, {\r\n            endDate: this.value.endDate,\r\n            startDate: date\r\n        }));\r\n        this.startDateChanged.emit(date);\r\n    }\r\n    ifMonthSame(d) {\r\n        return (d.getMonth() === this.startDateValue.getMonth() &&\r\n            d.getDate() >= this.startDateValue.getDate() &&\r\n            d.getFullYear() === this.startDateValue.getFullYear());\r\n    }\r\n    ifMonthDifferent(d) {\r\n        return ((d.getMonth() > this.startDateValue.getMonth() &&\r\n            d.getFullYear() >= this.startDateValue.getFullYear() &&\r\n            (1 < d.getDate() ||\r\n                this.startDateValue.getDate() <= this.startDateLastDay.getDate())) ||\r\n            d.getFullYear() > this.startDateValue.getFullYear());\r\n    }\r\n    closeStartDate() {\r\n        this.startDatepicker.close();\r\n    }\r\n    openStateDate() {\r\n        this.startDatepicker.open();\r\n    }\r\n    changeEndDate(date) {\r\n        this.onChange(build(DateRange, {\r\n            endDate: date,\r\n            startDate: this.value.startDate\r\n        }));\r\n        this.endDateChanged.emit(date);\r\n        if (this.debug) {\r\n            console.dir('changeEndDate ran');\r\n            console.dir('Start Date: ' + this.startDateValue);\r\n            console.dir('End Date:' + date);\r\n        }\r\n    }\r\n    closeEndDate() {\r\n        this.endDatepicker.close();\r\n    }\r\n    openEndDate() {\r\n        this.endDatepicker.open();\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onFocus(value) {\r\n        this.focused = value;\r\n        if (this.onTouch) {\r\n            this.onTouch();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ DaterangeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DaterangeComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DaterangeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DaterangeComponent, selector: \"iu-daterange\", inputs: { debug: \"debug\", inline: \"inline\", min: \"min\", max: \"max\", required: \"required\", startAt: \"startAt\", startLabel: \"startLabel\", endLabel: \"endLabel\", startView: \"startView\", touchUi: \"touchUi\", value: \"value\" }, outputs: { startDateChanged: \"startDateChanged\", endDateChanged: \"endDateChanged\" }, providers: [DATERANGE_ACCESSOR], viewQueries: [{ propertyName: \"startDatepicker\", first: true, predicate: [\"startDate\"], descendants: true, static: true }, { propertyName: \"endDatepicker\", first: true, predicate: [\"endDate\"], descendants: true, static: true }], ngImport: i0, template: \"<div class=\\\"daterange\\\">\\r\\n   <div class=\\\"start-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ startLabel }}:</label>\\r\\n      <iu-datepicker #startDate (selectedChanged)=\\\"changeStartDate($event)\\\" [startAt]=\\\"now\\\"\\r\\n      [required]=\\\"required\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n   <div class=\\\"end-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ endLabel }}:</label>\\r\\n      <iu-datepicker #endDate (selectedChanged)=\\\"changeEndDate($event)\\\" [startAt]=\\\"now\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n</div>\", styles: [\".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{min-width:76px;display:inline-block;font-size:14px;padding-top:22px;margin-right:10px}\\n\"], components: [{ type: DatepickerComponent, selector: \"iu-datepicker\", inputs: [\"filter\", \"min\", \"max\", \"placeholder\", \"required\", \"startAt\", \"startView\", \"touchUi\", \"value\"], outputs: [\"selectedChanged\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DaterangeComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-daterange', changeDetection: ChangeDetectionStrategy.OnPush, providers: [DATERANGE_ACCESSOR], template: \"<div class=\\\"daterange\\\">\\r\\n   <div class=\\\"start-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ startLabel }}:</label>\\r\\n      <iu-datepicker #startDate (selectedChanged)=\\\"changeStartDate($event)\\\" [startAt]=\\\"now\\\"\\r\\n      [required]=\\\"required\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n   <div class=\\\"end-date\\\" [class.date]=\\\"!inline\\\" [class.inline-date]=\\\"inline\\\">\\r\\n      <label class=\\\"lbl-date iu-primary\\\">{{ endLabel }}:</label>\\r\\n      <iu-datepicker #endDate (selectedChanged)=\\\"changeEndDate($event)\\\" [startAt]=\\\"now\\\">\\r\\n      </iu-datepicker>\\r\\n   </div>\\r\\n</div>\", styles: [\".daterange{display:inline-block;line-height:18px;padding:0 10px;border-radius:3px}.daterange .date{display:flex;padding:6px}.daterange .inline-date{display:inline-flex;padding:0}.daterange .inline-date.end-date{margin-left:32px}.daterange .lbl-date{min-width:76px;display:inline-block;font-size:14px;padding-top:22px;margin-right:10px}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { debug: [{\r\n                type: Input\r\n            }], inline: [{\r\n                type: Input\r\n            }], min: [{\r\n                type: Input\r\n            }], max: [{\r\n                type: Input\r\n            }], required: [{\r\n                type: Input\r\n            }], startAt: [{\r\n                type: Input\r\n            }], startLabel: [{\r\n                type: Input\r\n            }], endLabel: [{\r\n                type: Input\r\n            }], startView: [{\r\n                type: Input\r\n            }], touchUi: [{\r\n                type: Input\r\n            }], startDateChanged: [{\r\n                type: Output\r\n            }], endDateChanged: [{\r\n                type: Output\r\n            }], startDatepicker: [{\r\n                type: ViewChild,\r\n                args: ['startDate', { static: true }]\r\n            }], endDatepicker: [{\r\n                type: ViewChild,\r\n                args: ['endDate', { static: true }]\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nclass DatepickerModule {\r\n}\r\n/** @nocollapse */ DatepickerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ DatepickerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, declarations: [DatepickerComponent,\r\n        DaterangeComponent], imports: [SharedModule,\r\n        MatDatepickerModule,\r\n        MatNativeDateModule,\r\n        MatInputModule,\r\n        ReactiveFormsModule], exports: [DatepickerComponent,\r\n        DaterangeComponent] });\r\n/** @nocollapse */ DatepickerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, imports: [[\r\n            SharedModule,\r\n            MatDatepickerModule,\r\n            MatNativeDateModule,\r\n            MatInputModule,\r\n            ReactiveFormsModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DatepickerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatDatepickerModule,\r\n                        MatNativeDateModule,\r\n                        MatInputModule,\r\n                        ReactiveFormsModule,\r\n                    ],\r\n                    declarations: [\r\n                        DatepickerComponent,\r\n                        DaterangeComponent,\r\n                    ],\r\n                    exports: [\r\n                        DatepickerComponent,\r\n                        DaterangeComponent,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass FileUpload {\r\n    constructor() {\r\n        this.isPrivate = false;\r\n        this.lastModified = 0;\r\n        this.lastModifiedDate = new Date();\r\n        this.name = '';\r\n        this.size = 0;\r\n        this.type = '';\r\n        this.webkitRelativePath = '';\r\n        this.order = 0;\r\n        this.readyState = 'EMPTY';\r\n        this.src = '';\r\n    }\r\n    static BuildFromFile(file) {\r\n        return build(FileUpload, {\r\n            name: file.fileName,\r\n            size: file.fileSize,\r\n            type: file.mimeType,\r\n            src: file.src,\r\n            order: file.order\r\n        });\r\n    }\r\n    static GetReadyState(reader) {\r\n        switch (reader.readyState) {\r\n            case 0:\r\n                return 'EMPTY';\r\n            case 1:\r\n                return 'LOADING';\r\n            case 2:\r\n                return 'DONE';\r\n            default:\r\n                return 'EMPTY';\r\n        }\r\n    }\r\n    set extension(value) {\r\n    }\r\n    get extension() {\r\n        return this.name.split('.').pop();\r\n    }\r\n    set isImage(value) {\r\n    }\r\n    get isImage() {\r\n        return this.type ? this.type.split('/')[0] === 'image' : false;\r\n    }\r\n    set loading(value) {\r\n    }\r\n    get loading() {\r\n        return this.readyState === 'LOADING';\r\n    }\r\n    set file(value) {\r\n    }\r\n    get file() {\r\n        return File.BuildFromFileUpload(this);\r\n    }\r\n}\r\nfunction getReadyState(reader) {\r\n    switch (reader.readyState) {\r\n        case 0:\r\n            return 'EMPTY';\r\n        case 1:\r\n            return 'LOADING';\r\n        case 2:\r\n            return 'DONE';\r\n        default:\r\n            return 'EMPTY';\r\n    }\r\n}\r\nclass File {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.fileBinary = [];\r\n        this.fileExtension = '';\r\n        this.fileName = '';\r\n        this.fileSize = 0;\r\n        this.mimeType = '';\r\n        this.order = 0;\r\n    }\r\n    static BuildFromFileUpload(upload) {\r\n        return build(File, {\r\n            fileBinary: upload.src.replace(File.GetSrcPrefix(upload.type), ''),\r\n            fileExtension: upload.extension,\r\n            fileName: upload.name,\r\n            fileSize: upload.size,\r\n            mimeType: upload.type,\r\n            order: upload.order\r\n        });\r\n    }\r\n    static GetImageBinarySrc(img, defaultSrc = null) {\r\n        if (Array.isArray(img) && img.length > 0) {\r\n            return File.GetImageBinarySrc(img[0]);\r\n        }\r\n        else {\r\n            return img && truthy(img.mimeType) && truthy(img.fileBinary) ?\r\n                `data:${img.mimeType};base64,${img.fileBinary}`\r\n                : defaultSrc;\r\n        }\r\n    }\r\n    static GetSrcPrefix(mimeType) {\r\n        return `data:${mimeType};base64,`;\r\n    }\r\n    // get fileUpload(): FileUpload {\r\n    //     return FileUpload.BuildFromFile(this);\r\n    // }\r\n    get src() {\r\n        return File.GetImageBinarySrc(this);\r\n    }\r\n}\n\nclass Permutation {\r\n    constructor(order) {\r\n        this.order = order;\r\n        this._timestamp = new Date();\r\n    }\r\n    get ranks() {\r\n        return this.order.sort((a, b) => a.order - b.order)\r\n            .map((x, index) => Object.assign({}, x, { rank: index + 1 }));\r\n    }\r\n    get timestamp() {\r\n        return this._timestamp;\r\n    }\r\n}\r\nclass OrderedItem {\r\n    constructor(item) {\r\n        this.item = item;\r\n    }\r\n}\r\nclass Ordering {\r\n    constructor(_items, ctor, orderKey, idKey = 'id') {\r\n        this._items = _items;\r\n        this.ctor = ctor;\r\n        this.orderKey = orderKey;\r\n        this.idKey = idKey;\r\n        this._history = [];\r\n    }\r\n    get count() {\r\n        return this.items.length;\r\n    }\r\n    get history() {\r\n        return this._history;\r\n    }\r\n    get instance() {\r\n        return new this.ctor();\r\n    }\r\n    get items() {\r\n        return this._items.sort((a, b) => this.getItemOrder(a) - this.getItemOrder(b));\r\n    }\r\n    get maxIndex() {\r\n        return this.count === 0 ? 0 : Math.max(...this.order.map(x => x.order));\r\n    }\r\n    get order() {\r\n        return this.permutation.ranks;\r\n    }\r\n    get permutation() {\r\n        return new Permutation(this.items.map(item => ({\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        })));\r\n    }\r\n    get nextPosition() {\r\n        return this.maxIndex + 1;\r\n    }\r\n    addItem(item) {\r\n        return this.addItemAtPosition(item, this.nextPosition);\r\n    }\r\n    addItemAtPosition(item, pos) {\r\n        const newItemId = this.getItemId(item);\r\n        return [...this.items, build(this.ctor, item, { order: pos })]\r\n            .map(x => {\r\n            const order = this.getItemOrder(x);\r\n            const id = this.getItemId(x);\r\n            return (order <= pos || id === newItemId) ? x : build(this.ctor, x, { order: order + 1 });\r\n        });\r\n    }\r\n    archive(items) {\r\n        const permutation = items ? this.getPermutation(items) : this.permutation;\r\n        this._history = [...this._history, permutation];\r\n    }\r\n    getItemId(item) {\r\n        return item[this.idKey];\r\n    }\r\n    getItemOrder(item) {\r\n        return item[this.orderKey];\r\n    }\r\n    getPermutation(items) {\r\n        return new Permutation(items.map(item => ({\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        })));\r\n    }\r\n    move(item, to) {\r\n        const from = this.getItemOrder(item);\r\n        const itemId = this.getItemId(item);\r\n        if (to === from) {\r\n            return [...this.items];\r\n        }\r\n        else if (to < from) {\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < to || order > from) ? x : build(this.ctor, x, { order: order + 1 });\r\n            });\r\n        }\r\n        else { // to > from\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < from || order > to) ? x : build(this.ctor, x, { order: order - 1 });\r\n            });\r\n        }\r\n    }\r\n    moveDown(item) {\r\n        return this.move(item, this.getItemOrder(item) + 1);\r\n    }\r\n    moveUp(item) {\r\n        return this.move(item, this.getItemOrder(item) - 1);\r\n    }\r\n    removeItem(item) {\r\n        return this.removeItemAtPosition(this.getItemOrder(item));\r\n    }\r\n    removeItemAtPosition(pos) {\r\n        return this.items.filter(item => this.getItemOrder(item) !== pos)\r\n            .map(x => {\r\n            const order = this.getItemOrder(x);\r\n            return order < pos ? x : build(this.ctor, x, { order: order - 1 });\r\n        });\r\n    }\r\n    updateItems(items) {\r\n        this.archive();\r\n        this._items = items;\r\n    }\r\n}\n\nclass FilePreviewComponent {\r\n    constructor() {\r\n        this.ordered = true;\r\n        this.first = false;\r\n        this.last = false;\r\n        this.isPrivateMessage = '';\r\n        this.changePrivacyStatus = new EventEmitter();\r\n        this.moveUp = new EventEmitter();\r\n        this.moveDown = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this._file = new FileUpload();\r\n    }\r\n    set file(value) {\r\n        this._file = value;\r\n    }\r\n    get file() {\r\n        return build(FileUpload, this._file);\r\n    }\r\n    get cursorStyle() {\r\n        return this.ordered ? 'move' : 'default';\r\n    }\r\n    get graphic() {\r\n        if (!this.file) {\r\n            return null;\r\n        }\r\n        if (this.file.loading) {\r\n            return 'cloud_upload';\r\n        }\r\n        else if (this.file.isImage) {\r\n            return 'image';\r\n        }\r\n        else {\r\n            switch (this.file.extension) {\r\n                case 'pdf':\r\n                    return 'picture_as_pdf';\r\n                default:\r\n                    return 'cloud_done';\r\n            }\r\n        }\r\n    }\r\n    set isPrivate(value) {\r\n        this.changePrivacyStatus.emit(build(FileUpload, this.file, {\r\n            isPrivate: value\r\n        }));\r\n    }\r\n    get isPrivate() {\r\n        return this._file.isPrivate;\r\n    }\r\n    get showImage() {\r\n        return this.file.isImage && truthy(this.file.src);\r\n    }\r\n    get showUpArrow() {\r\n        return this.ordered && !this.first;\r\n    }\r\n    get showDownArrow() {\r\n        return this.ordered && !this.last;\r\n    }\r\n    onMoveUp() {\r\n        this.moveUp.emit(this.file);\r\n    }\r\n    onMoveDown() {\r\n        this.moveDown.emit(this.file);\r\n    }\r\n    onRemove() {\r\n        this.remove.emit(this.file);\r\n    }\r\n}\r\n/** @nocollapse */ FilePreviewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FilePreviewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ FilePreviewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FilePreviewComponent, selector: \"iu-file-preview\", inputs: { height: \"height\", width: \"width\", ordered: \"ordered\", first: \"first\", last: \"last\", isPrivateMessage: \"isPrivateMessage\", file: \"file\" }, outputs: { changePrivacyStatus: \"changePrivacyStatus\", moveUp: \"moveUp\", moveDown: \"moveDown\", remove: \"remove\" }, ngImport: i0, template: \"<mat-card class=\\\"file-preview\\\" [style.cursor]=\\\"cursorStyle\\\">\\r\\n  <div class=\\\"graphic\\\">\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"file.src\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\">{{ graphic }}</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-bar mode=\\\"indeterminate\\\" *ngIf=\\\"file.loading\\\"></mat-progress-bar>\\r\\n  <div class=\\\"file-info\\\" [class.has-security]=\\\"isPrivateMessage\\\">\\r\\n    <span class=\\\"file-name\\\">{{ file.name }}</span>\\r\\n  </div>\\r\\n  <mat-checkbox *ngIf=\\\"isPrivateMessage\\\" [(ngModel)]=\\\"isPrivate\\\">{{ isPrivateMessage }}</mat-checkbox>\\r\\n  <mat-icon *ngIf=\\\"showUpArrow\\\" class=\\\"up-arrow\\\" (click)=\\\"onMoveUp()\\\">keyboard_arrow_up</mat-icon>\\r\\n  <mat-icon *ngIf=\\\"showDownArrow\\\" class=\\\"down-arrow\\\" (click)=\\\"onMoveDown()\\\">keyboard_arrow_down</mat-icon>\\r\\n  <mat-icon class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n</mat-card>\\r\\n\", styles: [\".file-preview{height:80px;margin:2px 0;position:relative}.file-preview mat-checkbox{position:absolute;bottom:5px;right:50px;font-size:12px}.mat-card{padding:0}.file-preview img{max-height:72px}.graphic{position:absolute;left:50px;height:72px;max-width:200px;text-align:center;padding-left:20px;overflow:hidden}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{position:absolute;left:250px;height:72px;max-width:300px;text-align:center}.filo-info.has-security{left:200px!important}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:16px;height:36px;font-weight:700;color:#000}.arrow,.down-arrow,.up-arrow{cursor:pointer}.up-arrow{position:absolute;left:6px;top:0;font-size:36px;height:36px;width:36px;font-weight:700}.down-arrow{position:absolute;left:6px;top:36px;font-size:36px;height:36px;width:36px;font-weight:700}.remove-upload{cursor:pointer;position:absolute;right:10px;top:20px;font-size:40px;height:40px;width:40px}.up-arrow:hover,.down-arrow:hover{color:#fff}\\n\"], components: [{ type: i1$6.MatCard, selector: \"mat-card\", exportAs: [\"matCard\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i3$3.MatProgressBar, selector: \"mat-progress-bar\", inputs: [\"color\", \"value\", \"bufferValue\", \"mode\"], outputs: [\"animationEnd\"], exportAs: [\"matProgressBar\"] }, { type: i4.MatCheckbox, selector: \"mat-checkbox\", inputs: [\"disableRipple\", \"color\", \"tabIndex\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"id\", \"required\", \"labelPosition\", \"name\", \"value\", \"checked\", \"disabled\", \"indeterminate\"], outputs: [\"change\", \"indeterminateChange\"], exportAs: [\"matCheckbox\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FilePreviewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-file-preview', template: \"<mat-card class=\\\"file-preview\\\" [style.cursor]=\\\"cursorStyle\\\">\\r\\n  <div class=\\\"graphic\\\">\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"file.src\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\">{{ graphic }}</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-bar mode=\\\"indeterminate\\\" *ngIf=\\\"file.loading\\\"></mat-progress-bar>\\r\\n  <div class=\\\"file-info\\\" [class.has-security]=\\\"isPrivateMessage\\\">\\r\\n    <span class=\\\"file-name\\\">{{ file.name }}</span>\\r\\n  </div>\\r\\n  <mat-checkbox *ngIf=\\\"isPrivateMessage\\\" [(ngModel)]=\\\"isPrivate\\\">{{ isPrivateMessage }}</mat-checkbox>\\r\\n  <mat-icon *ngIf=\\\"showUpArrow\\\" class=\\\"up-arrow\\\" (click)=\\\"onMoveUp()\\\">keyboard_arrow_up</mat-icon>\\r\\n  <mat-icon *ngIf=\\\"showDownArrow\\\" class=\\\"down-arrow\\\" (click)=\\\"onMoveDown()\\\">keyboard_arrow_down</mat-icon>\\r\\n  <mat-icon class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n</mat-card>\\r\\n\", styles: [\".file-preview{height:80px;margin:2px 0;position:relative}.file-preview mat-checkbox{position:absolute;bottom:5px;right:50px;font-size:12px}.mat-card{padding:0}.file-preview img{max-height:72px}.graphic{position:absolute;left:50px;height:72px;max-width:200px;text-align:center;padding-left:20px;overflow:hidden}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{position:absolute;left:250px;height:72px;max-width:300px;text-align:center}.filo-info.has-security{left:200px!important}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:16px;height:36px;font-weight:700;color:#000}.arrow,.down-arrow,.up-arrow{cursor:pointer}.up-arrow{position:absolute;left:6px;top:0;font-size:36px;height:36px;width:36px;font-weight:700}.down-arrow{position:absolute;left:6px;top:36px;font-size:36px;height:36px;width:36px;font-weight:700}.remove-upload{cursor:pointer;position:absolute;right:10px;top:20px;font-size:40px;height:40px;width:40px}.up-arrow:hover,.down-arrow:hover{color:#fff}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { height: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], first: [{\r\n                type: Input\r\n            }], last: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], changePrivacyStatus: [{\r\n                type: Output\r\n            }], moveUp: [{\r\n                type: Output\r\n            }], moveDown: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], file: [{\r\n                type: Input\r\n            }] } });\n\nclass UploadsComponent {\r\n    constructor() {\r\n        this.ordered = true;\r\n        this.isPrivateMessage = '';\r\n        this.changePrivacyStatus = new EventEmitter();\r\n        this.moveUp = new EventEmitter();\r\n        this.moveDown = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this.reorder = new EventEmitter();\r\n        this._uploads = [];\r\n    }\r\n    set uploads(value) {\r\n        this._uploads = value;\r\n    }\r\n    get uploads() {\r\n        return this._uploads;\r\n    }\r\n    onChangePrivacyStatus(f) {\r\n        this.changePrivacyStatus.emit(f);\r\n    }\r\n    onDrop(e) {\r\n        this.moveItemInArray(e.previousIndex, e.currentIndex);\r\n    }\r\n    onMoveUp(f) {\r\n        this.moveUp.emit(f);\r\n    }\r\n    onMoveDown(f) {\r\n        this.moveDown.emit(f);\r\n    }\r\n    onRemove(f) {\r\n        this.remove.emit(f);\r\n    }\r\n    /**\r\n     * Moves an item one index in an array to another.\r\n     * @param fromIndex Starting index of the item.\r\n     * @param toIndex Index to which the item should be moved.\r\n     */\r\n    moveItemInArray(fromIndex, toIndex) {\r\n        const uploads = [...this.uploads];\r\n        const from = clamp(fromIndex, uploads.length - 1);\r\n        const to = clamp(toIndex, uploads.length - 1);\r\n        if (from === to) {\r\n            return;\r\n        }\r\n        const target = uploads[from];\r\n        const delta = to < from ? -1 : 1;\r\n        for (let i = from; i !== to; i += delta) {\r\n            uploads[i] = uploads[i + delta];\r\n        }\r\n        uploads[to] = target;\r\n        this.reorder.emit(uploads.map((x, i) => build(FileUpload, x, { order: i + 1 })));\r\n    }\r\n}\r\n/** @nocollapse */ UploadsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UploadsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UploadsComponent, selector: \"iu-uploads\", inputs: { height: \"height\", width: \"width\", ordered: \"ordered\", isPrivateMessage: \"isPrivateMessage\", uploads: \"uploads\" }, outputs: { changePrivacyStatus: \"changePrivacyStatus\", moveUp: \"moveUp\", moveDown: \"moveDown\", remove: \"remove\", reorder: \"reorder\" }, ngImport: i0, template: \"<div cdkDropList class=\\\"uploads\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\" (cdkDropListDropped)=\\\"onDrop($event)\\\">\\r\\n  <iu-file-preview *ngFor=\\\"let upload of uploads; let first = first; let last = last\\\" [file]=\\\"upload\\\" [first]=\\\"first\\\"\\r\\n    [last]=\\\"last\\\" [ordered]=\\\"ordered\\\" [isPrivateMessage]=\\\"isPrivateMessage\\\" (moveUp)=\\\"onMoveUp($event)\\\"\\r\\n    (moveDown)=\\\"onMoveDown($event)\\\" (remove)=\\\"onRemove($event)\\\" (changePrivacyStatus)=\\\"onChangePrivacyStatus($event)\\\"\\r\\n    cdkDrag></iu-file-preview>\\r\\n</div>\\r\\n\", styles: [\".uploads{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads::-webkit-scrollbar{width:12px;background-color:#424242}.uploads::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads .dragging{background-color:#424242}\\n\"], components: [{ type: FilePreviewComponent, selector: \"iu-file-preview\", inputs: [\"height\", \"width\", \"ordered\", \"first\", \"last\", \"isPrivateMessage\", \"file\"], outputs: [\"changePrivacyStatus\", \"moveUp\", \"moveDown\", \"remove\"] }], directives: [{ type: i2$6.CdkDropList, selector: \"[cdkDropList], cdk-drop-list\", inputs: [\"cdkDropListConnectedTo\", \"cdkDropListData\", \"cdkDropListOrientation\", \"id\", \"cdkDropListLockAxis\", \"cdkDropListDisabled\", \"cdkDropListSortingDisabled\", \"cdkDropListEnterPredicate\", \"cdkDropListSortPredicate\", \"cdkDropListAutoScrollDisabled\", \"cdkDropListAutoScrollStep\"], outputs: [\"cdkDropListDropped\", \"cdkDropListEntered\", \"cdkDropListExited\", \"cdkDropListSorted\"], exportAs: [\"cdkDropList\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$6.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-uploads', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div cdkDropList class=\\\"uploads\\\" [style.height]=\\\"height\\\" [style.width]=\\\"width\\\" (cdkDropListDropped)=\\\"onDrop($event)\\\">\\r\\n  <iu-file-preview *ngFor=\\\"let upload of uploads; let first = first; let last = last\\\" [file]=\\\"upload\\\" [first]=\\\"first\\\"\\r\\n    [last]=\\\"last\\\" [ordered]=\\\"ordered\\\" [isPrivateMessage]=\\\"isPrivateMessage\\\" (moveUp)=\\\"onMoveUp($event)\\\"\\r\\n    (moveDown)=\\\"onMoveDown($event)\\\" (remove)=\\\"onRemove($event)\\\" (changePrivacyStatus)=\\\"onChangePrivacyStatus($event)\\\"\\r\\n    cdkDrag></iu-file-preview>\\r\\n</div>\\r\\n\", styles: [\".uploads{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads::-webkit-scrollbar{width:12px;background-color:#424242}.uploads::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads .dragging{background-color:#424242}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { height: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], changePrivacyStatus: [{\r\n                type: Output\r\n            }], moveUp: [{\r\n                type: Output\r\n            }], moveDown: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], reorder: [{\r\n                type: Output\r\n            }], uploads: [{\r\n                type: Input\r\n            }] } });\n\nclass UploadComponent {\r\n    constructor() {\r\n        this.upload = new FileUpload();\r\n        this.height = 200;\r\n        this.width = 600;\r\n        this.remove = new EventEmitter();\r\n    }\r\n    get graphic() {\r\n        if (!this.upload) {\r\n            return null;\r\n        }\r\n        if (this.upload.loading) {\r\n            return 'cloud_upload';\r\n        }\r\n        else if (this.upload.isImage) {\r\n            return 'image';\r\n        }\r\n        else {\r\n            switch (this.upload.extension) {\r\n                case 'pdf':\r\n                    return 'picture_as_pdf';\r\n                default:\r\n                    return 'cloud_done';\r\n            }\r\n        }\r\n    }\r\n    get showImage() {\r\n        return this.graphic === 'image';\r\n    }\r\n    onRemove() {\r\n        this.remove.emit(this.upload);\r\n    }\r\n}\r\n/** @nocollapse */ UploadComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UploadComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UploadComponent, selector: \"iu-upload\", inputs: { upload: \"upload\", height: \"height\", width: \"width\" }, outputs: { remove: \"remove\" }, ngImport: i0, template: \"<div class=\\\"upload\\\" [style.height]=\\\"img?.style?.height\\\">\\r\\n  <div class=\\\"graphic\\\" #img>\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"upload.src\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n      {{ graphic }}</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!upload.loading\\\" class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-spinner mode=\\\"indeterminate\\\" *ngIf=\\\"upload.loading\\\"></mat-progress-spinner>\\r\\n  <div class=\\\"file-info\\\" *ngIf=\\\"!upload.loading\\\">\\r\\n    <span class=\\\"file-name\\\">{{ upload.name }}</span>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".upload{max-height:420px;max-width:600px;margin:10px 20px;position:relative;display:flex}.upload img{max-height:400px}.graphic{padding:0!important;float:left;margin:10px;position:relative}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{float:right}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:20px;height:36px;font-weight:700;color:#000}.remove-upload{color:red;cursor:pointer;position:absolute;right:-20px;top:-20px;font-size:40px;height:40px;width:40px}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2$7.MatProgressSpinner, selector: \"mat-progress-spinner, mat-spinner\", inputs: [\"color\", \"diameter\", \"strokeWidth\", \"mode\", \"value\"], exportAs: [\"matProgressSpinner\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploadComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-upload', template: \"<div class=\\\"upload\\\" [style.height]=\\\"img?.style?.height\\\">\\r\\n  <div class=\\\"graphic\\\" #img>\\r\\n    <img *ngIf=\\\"showImage\\\" [src]=\\\"upload.src\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n    <mat-icon *ngIf=\\\"!showImage\\\" class=\\\"icon-graphic\\\" [style.max-height.px]=\\\"height\\\" [style.max-width.px]=\\\"width\\\">\\r\\n      {{ graphic }}</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!upload.loading\\\" class=\\\"remove-upload\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n  <mat-progress-spinner mode=\\\"indeterminate\\\" *ngIf=\\\"upload.loading\\\"></mat-progress-spinner>\\r\\n  <div class=\\\"file-info\\\" *ngIf=\\\"!upload.loading\\\">\\r\\n    <span class=\\\"file-name\\\">{{ upload.name }}</span>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".upload{max-height:420px;max-width:600px;margin:10px 20px;position:relative;display:flex}.upload img{max-height:400px}.graphic{padding:0!important;float:left;margin:10px;position:relative}.icon-graphic{font-size:72px;height:72px;width:72px}.mat-progress-bar{position:absolute;left:0;top:73px}.file-info{float:right}.file-name{margin:18px 6px;display:inline-block;line-height:36px;font-size:20px;height:36px;font-weight:700;color:#000}.remove-upload{color:red;cursor:pointer;position:absolute;right:-20px;top:-20px;font-size:40px;height:40px;width:40px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { upload: [{\r\n                type: Input\r\n            }], height: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], remove: [{\r\n                type: Output\r\n            }] } });\n\nconst FILE_UPLOAD_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => FileUploadComponent),\r\n    multi: true\r\n};\r\nclass FileUploadComponent {\r\n    constructor(changeDetectorRef) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.id = `files-${guid()}`;\r\n        this.debug = false;\r\n        this.maxFileSize = 97000000;\r\n        this.multiple = false;\r\n        this.ordered = true;\r\n        this.preview = true;\r\n        this.prompt = '';\r\n        this.isPrivateMessage = '';\r\n        this.upload = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n        this.reorderUploads = new EventEmitter();\r\n        this.changes$ = new BehaviorSubject(new FileUpload());\r\n        this.inDropZone = false;\r\n        this.ordering = new Ordering([], FileUpload, 'order', 'name');\r\n        this.showMaxUploadError = false;\r\n        this.showMultiple = false;\r\n    }\r\n    get activeFile() {\r\n        return this.hasUploads ? this.uploads[0] : new FileUpload();\r\n    }\r\n    get hasUploads() {\r\n        return this.uploads.length > 0;\r\n    }\r\n    // get showMultiple(): boolean {\r\n    //   return this.preview && this.multiple;\r\n    // }\r\n    set value(value) {\r\n        if (this.debug) {\r\n            console.log('set value');\r\n            console.dir(value);\r\n        }\r\n        this._value = toArray(value);\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    get uploads() {\r\n        return this.ordering.items.filter(upload => upload.name !== '');\r\n    }\r\n    set uploads(value) {\r\n        this.ordering.updateItems(value.filter(upload => upload.name !== ''));\r\n        if (this.debug) {\r\n            console.log('setting uploads');\r\n            console.dir(value);\r\n            console.dir(this.uploads);\r\n        }\r\n        this.onChange(this.uploads);\r\n    }\r\n    get orderedUploads() {\r\n        return this.uploads;\r\n    }\r\n    get validFileSize() {\r\n        return this.value.reduce((acc, x) => acc + x.file.fileSize, 0) < this.maxFileSize;\r\n    }\r\n    ngOnInit() {\r\n        this.changes$.subscribe(upload => {\r\n            this.onUpload(upload);\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this.writeValue([]);\r\n    }\r\n    ngOnChanges(e) {\r\n        this.showMultiple = this.preview && this.multiple;\r\n    }\r\n    add(f) {\r\n        if (!this.multiple && this.hasUploads) {\r\n            this.remove();\r\n        }\r\n        this.uploads = this.ordering.addItem(f);\r\n    }\r\n    changePrivacyStatus(f) {\r\n        this.uploads = this.uploads.map(x => x.name === f.name ? f : x);\r\n    }\r\n    clear() {\r\n        this.uploads = [];\r\n    }\r\n    emit() {\r\n        if (this.value.length > 0) {\r\n            if (this.multiple) {\r\n                this.upload.emit(this.value);\r\n            }\r\n            else {\r\n                this.upload.emit(this.value[0]);\r\n            }\r\n        }\r\n    }\r\n    moveUp(f) {\r\n        this.uploads = this.ordering.moveUp(f);\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    moveDown(f) {\r\n        this.uploads = this.ordering.moveDown(f);\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    remove(f) {\r\n        const removeFile = f || this.activeFile;\r\n        this.delete.emit(removeFile);\r\n        this.uploads = this.ordering.removeItem(removeFile);\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    reorder(e) {\r\n        this.uploads = e;\r\n        this.reorderUploads.emit(this.uploads);\r\n    }\r\n    update(f) {\r\n        const index = this.uploads.findIndex(item => item['name'] === f.name);\r\n        if (index === -1) {\r\n            this.add(f);\r\n        }\r\n        else {\r\n            setTimeout(() => {\r\n                this.uploads = this.uploads.map((x, i) => (i === index ? build(FileUpload, f, { order: x.order }) : x));\r\n                // this.changeDetectorRef.detectChanges();\r\n            }, 0);\r\n        }\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        if (this.debug) {\r\n            console.log('write value');\r\n            console.dir(value);\r\n        }\r\n        this.uploads = [];\r\n        this.value = value;\r\n        this.uploadAll(value);\r\n    }\r\n    onChange(value) {\r\n        if (!equals(this.value, value)) {\r\n            if (this.debug) {\r\n                console.log('on change');\r\n                console.dir(value);\r\n            }\r\n            this.value = value;\r\n            if (value.every(x => x.readyState === 'DONE')) {\r\n                this.emit();\r\n            }\r\n        }\r\n        if (this.onModelChange) {\r\n            if (this.debug) {\r\n                console.log('on model change');\r\n                console.dir(value);\r\n            }\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onInputChange(e) {\r\n        const input = e.target;\r\n        const files = toArray(Array.from(input['files']));\r\n        if (this.debug) {\r\n            console.dir(files);\r\n            console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n        }\r\n        if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n            this.showMaxUploadError = true;\r\n            setTimeout(() => {\r\n                this.showMaxUploadError = false;\r\n            }, 8000);\r\n        }\r\n        else if (files && files.length > 0) {\r\n            for (let i = 0; i < files.length; i++) {\r\n                this.setupReader(files[i]);\r\n            }\r\n        }\r\n    }\r\n    onBlur(value) {\r\n        this.focused = [];\r\n    }\r\n    onDragEnter(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = true;\r\n    }\r\n    onDragLeave(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = false;\r\n    }\r\n    onDragOver(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = true;\r\n    }\r\n    onDrop(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.inDropZone = false;\r\n        const dt = e.dataTransfer;\r\n        const files = toArray(Array.from(dt.files));\r\n        if (this.debug) {\r\n            console.dir(files);\r\n            console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n        }\r\n        if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n            this.showMaxUploadError = true;\r\n            setTimeout(() => {\r\n                this.showMaxUploadError = false;\r\n            }, 8000);\r\n        }\r\n        else {\r\n            files.forEach((file) => {\r\n                this.setupReader(file);\r\n            });\r\n        }\r\n    }\r\n    onFocus(value) {\r\n        this.focused = value;\r\n        this.onTouch();\r\n    }\r\n    onUpload(upload) {\r\n        const f = build(FileUpload, upload);\r\n        this.update(f);\r\n    }\r\n    setupReader(file) {\r\n        const reader = new FileReader();\r\n        const changes$ = this.changes$;\r\n        const upload = build(FileUpload, {\r\n            lastModified: file['lastModified'],\r\n            lastModifiedDate: file['lastModifiedDate'],\r\n            name: file['name'],\r\n            size: file['size'],\r\n            type: file['type'],\r\n            webkitRelativePath: file['webkitRelativePath']\r\n        });\r\n        reader.onload = function (e) {\r\n            const src = reader.result;\r\n            const readyState = FileUpload.GetReadyState(reader);\r\n            changes$.next(Object.assign(upload, { src, readyState }));\r\n        };\r\n        reader.readAsDataURL(file);\r\n        this.onUpload(build(FileUpload, upload, {\r\n            readyState: FileUpload.GetReadyState(reader)\r\n        }));\r\n    }\r\n    uploadAll(uploads) {\r\n        toArray(uploads).forEach(upload => {\r\n            this.onUpload(upload);\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ FileUploadComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ FileUploadComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FileUploadComponent, selector: \"iu-file-upload\", inputs: { id: \"id\", debug: \"debug\", maxFileSize: \"maxFileSize\", multiple: \"multiple\", ordered: \"ordered\", preview: \"preview\", prompt: \"prompt\", isPrivateMessage: \"isPrivateMessage\" }, outputs: { upload: \"upload\", delete: \"delete\", reorderUploads: \"reorderUploads\" }, providers: [FILE_UPLOAD_ACCESSOR], usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"file-upload\\\">\\r\\n  <span *ngIf=\\\"!validFileSize || showMaxUploadError\\\" class=\\\"error\\\"\\r\\n    >Files exceed max upload size!</span\\r\\n  >\\r\\n  <div\\r\\n    class=\\\"box\\\"\\r\\n    [class.hovering]=\\\"inDropZone\\\"\\r\\n    fxLayout=\\\"row\\\"\\r\\n    fxLayoutAlign=\\\"center end\\\"\\r\\n    (dragenter)=\\\"onDragEnter($event)\\\"\\r\\n    (dragleave)=\\\"onDragLeave($event)\\\"\\r\\n    (dragover)=\\\"onDragOver($event)\\\"\\r\\n    (drop)=\\\"onDrop($event)\\\"\\r\\n  >\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"showMultiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose files</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag them here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"showMultiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n      multiple\\r\\n    />\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"!multiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose a file</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag it here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"!multiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n    />\\r\\n    <label [for]=\\\"id\\\" class=\\\"custom-file-upload\\\">\\r\\n      <figure>\\r\\n        <mat-icon>cloud_upload</mat-icon>\\r\\n      </figure>\\r\\n    </label>\\r\\n  </div>\\r\\n  <iu-uploads\\r\\n    *ngIf=\\\"multiple\\\"\\r\\n    [uploads]=\\\"uploads\\\"\\r\\n    [ordered]=\\\"ordered\\\"\\r\\n    [isPrivateMessage]=\\\"isPrivateMessage\\\"\\r\\n    (moveUp)=\\\"moveUp($event)\\\"\\r\\n    (moveDown)=\\\"moveDown($event)\\\"\\r\\n    (remove)=\\\"remove($event)\\\"\\r\\n    (reorder)=\\\"reorder($event)\\\"\\r\\n    (changePrivacyStatus)=\\\"changePrivacyStatus($event)\\\"\\r\\n  >\\r\\n  </iu-uploads>\\r\\n  <iu-upload\\r\\n    *ngIf=\\\"preview && !multiple && hasUploads\\\"\\r\\n    [upload]=\\\"activeFile\\\"\\r\\n    [height]=\\\"200\\\"\\r\\n    (remove)=\\\"remove()\\\"\\r\\n  >\\r\\n  </iu-upload>\\r\\n</div>\\r\\n\", styles: [\".file-upload{margin:10px;padding:10px}.file-upload .error{color:red}.file-upload input[type=file]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-upload .box{padding:100px 20px;margin:10px;display:flex;outline:-webkit-focus-ring-color auto 5px;outline-offset:-10px;position:relative}.file-upload .box #dragdrop-message{position:absolute;top:60px;max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;font-size:24px}.file-upload .box #dragdrop-message span{display:inline}.file-upload .box.hovering{background:#000;outline:-webkit-focus-ring-color auto 10px}.file-upload .box.hovering #dragdrop-message{color:#fff}.file-upload .box.hovering .custom-file-upload{background:#fff}.file-upload .custom-file-upload{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;max-width:80%;font-size:20px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;padding:10px 20px;margin-top:50px}.file-upload .custom-file-upload figure{width:50px;height:70px;display:flex;position:relative;padding:30px;margin:0 auto 10px}.file-upload .custom-file-upload figure mat-icon{font-size:50px;height:50px;width:50px}.file-upload .custom-file-upload figure:before,.file-upload .custom-file-upload figure:after{width:0;height:0;content:\\\"\\\";position:absolute;top:0;right:0}.file-upload .custom-file-upload figure:before{border-left:20px solid transparent}.file-upload .custom-file-upload figure:after{border-right:20px solid transparent}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: UploadsComponent, selector: \"iu-uploads\", inputs: [\"height\", \"width\", \"ordered\", \"isPrivateMessage\", \"uploads\"], outputs: [\"changePrivacyStatus\", \"moveUp\", \"moveDown\", \"remove\", \"reorder\"] }, { type: UploadComponent, selector: \"iu-upload\", inputs: [\"upload\", \"height\", \"width\"], outputs: [\"remove\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-file-upload', providers: [FILE_UPLOAD_ACCESSOR], encapsulation: ViewEncapsulation.None, template: \"<div class=\\\"file-upload\\\">\\r\\n  <span *ngIf=\\\"!validFileSize || showMaxUploadError\\\" class=\\\"error\\\"\\r\\n    >Files exceed max upload size!</span\\r\\n  >\\r\\n  <div\\r\\n    class=\\\"box\\\"\\r\\n    [class.hovering]=\\\"inDropZone\\\"\\r\\n    fxLayout=\\\"row\\\"\\r\\n    fxLayoutAlign=\\\"center end\\\"\\r\\n    (dragenter)=\\\"onDragEnter($event)\\\"\\r\\n    (dragleave)=\\\"onDragLeave($event)\\\"\\r\\n    (dragover)=\\\"onDragOver($event)\\\"\\r\\n    (drop)=\\\"onDrop($event)\\\"\\r\\n  >\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"showMultiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose files</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag them here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"showMultiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n      multiple\\r\\n    />\\r\\n    <p id=\\\"dragdrop-message\\\" *ngIf=\\\"!multiple\\\">\\r\\n      <span *ngIf=\\\"!prompt\\\">\\r\\n        <strong>Choose a file</strong>\\r\\n        <span class=\\\"dragndrop\\\"> or drag it here</span>.\\r\\n      </span>\\r\\n      <strong *ngIf=\\\"prompt\\\">\\r\\n        {{ prompt }}\\r\\n      </strong>\\r\\n    </p>\\r\\n    <input\\r\\n      *ngIf=\\\"!multiple\\\"\\r\\n      type=\\\"file\\\"\\r\\n      (change)=\\\"onInputChange($event)\\\"\\r\\n      [id]=\\\"id\\\"\\r\\n    />\\r\\n    <label [for]=\\\"id\\\" class=\\\"custom-file-upload\\\">\\r\\n      <figure>\\r\\n        <mat-icon>cloud_upload</mat-icon>\\r\\n      </figure>\\r\\n    </label>\\r\\n  </div>\\r\\n  <iu-uploads\\r\\n    *ngIf=\\\"multiple\\\"\\r\\n    [uploads]=\\\"uploads\\\"\\r\\n    [ordered]=\\\"ordered\\\"\\r\\n    [isPrivateMessage]=\\\"isPrivateMessage\\\"\\r\\n    (moveUp)=\\\"moveUp($event)\\\"\\r\\n    (moveDown)=\\\"moveDown($event)\\\"\\r\\n    (remove)=\\\"remove($event)\\\"\\r\\n    (reorder)=\\\"reorder($event)\\\"\\r\\n    (changePrivacyStatus)=\\\"changePrivacyStatus($event)\\\"\\r\\n  >\\r\\n  </iu-uploads>\\r\\n  <iu-upload\\r\\n    *ngIf=\\\"preview && !multiple && hasUploads\\\"\\r\\n    [upload]=\\\"activeFile\\\"\\r\\n    [height]=\\\"200\\\"\\r\\n    (remove)=\\\"remove()\\\"\\r\\n  >\\r\\n  </iu-upload>\\r\\n</div>\\r\\n\", styles: [\".file-upload{margin:10px;padding:10px}.file-upload .error{color:red}.file-upload input[type=file]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-upload .box{padding:100px 20px;margin:10px;display:flex;outline:-webkit-focus-ring-color auto 5px;outline-offset:-10px;position:relative}.file-upload .box #dragdrop-message{position:absolute;top:60px;max-width:80%;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;font-size:24px}.file-upload .box #dragdrop-message span{display:inline}.file-upload .box.hovering{background:#000;outline:-webkit-focus-ring-color auto 10px}.file-upload .box.hovering #dragdrop-message{color:#fff}.file-upload .box.hovering .custom-file-upload{background:#fff}.file-upload .custom-file-upload{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;max-width:80%;font-size:20px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;display:inline-block;overflow:hidden;padding:10px 20px;margin-top:50px}.file-upload .custom-file-upload figure{width:50px;height:70px;display:flex;position:relative;padding:30px;margin:0 auto 10px}.file-upload .custom-file-upload figure mat-icon{font-size:50px;height:50px;width:50px}.file-upload .custom-file-upload figure:before,.file-upload .custom-file-upload figure:after{width:0;height:0;content:\\\"\\\";position:absolute;top:0;right:0}.file-upload .custom-file-upload figure:before{border-left:20px solid transparent}.file-upload .custom-file-upload figure:after{border-right:20px solid transparent}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { id: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], maxFileSize: [{\r\n                type: Input\r\n            }], multiple: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], preview: [{\r\n                type: Input\r\n            }], prompt: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], upload: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }], reorderUploads: [{\r\n                type: Output\r\n            }] } });\n\nclass FileControlComponent {\r\n    constructor() {\r\n        this.id = `files-${guid()}`;\r\n        this.debug = false;\r\n        this.maxFileSize = 97000000;\r\n        this.multiple = false;\r\n        this.ordered = true;\r\n        this.preview = true;\r\n        this.isPrivateMessage = '';\r\n        this.upload = new EventEmitter();\r\n        this.delete = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ FileControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileControlComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ FileControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FileControlComponent, selector: \"iu-file-control\", inputs: { id: \"id\", debug: \"debug\", maxFileSize: \"maxFileSize\", multiple: \"multiple\", ordered: \"ordered\", preview: \"preview\", isPrivateMessage: \"isPrivateMessage\" }, outputs: { upload: \"upload\", delete: \"delete\" }, ngImport: i0, template: \"<iu-file-upload [id]=\\\"id\\\" [maxFileSize]=\\\"maxFileSize\\\">\\r\\n\\r\\n</iu-file-upload>\\r\\n\", styles: [\"\"], components: [{ type: FileUploadComponent, selector: \"iu-file-upload\", inputs: [\"id\", \"debug\", \"maxFileSize\", \"multiple\", \"ordered\", \"preview\", \"prompt\", \"isPrivateMessage\"], outputs: [\"upload\", \"delete\", \"reorderUploads\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileControlComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-file-control', template: \"<iu-file-upload [id]=\\\"id\\\" [maxFileSize]=\\\"maxFileSize\\\">\\r\\n\\r\\n</iu-file-upload>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { id: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], maxFileSize: [{\r\n                type: Input\r\n            }], multiple: [{\r\n                type: Input\r\n            }], ordered: [{\r\n                type: Input\r\n            }], preview: [{\r\n                type: Input\r\n            }], isPrivateMessage: [{\r\n                type: Input\r\n            }], upload: [{\r\n                type: Output\r\n            }], delete: [{\r\n                type: Output\r\n            }] } });\n\nconst FILE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => UploaderComponent),\r\n    multi: true\r\n};\r\nclass FileUploads {\r\n    constructor() {\r\n        this.uploads = [];\r\n    }\r\n}\r\nfunction buildFromFile(file) {\r\n    return build(FileUpload, {\r\n        name: file.fileName,\r\n        size: file.fileSize,\r\n        type: file.mimeType,\r\n        src: getSrcFromFileName(file.fileName),\r\n        order: file.order\r\n    });\r\n}\r\nfunction getSrcFromFileName(fileName) {\r\n    return fileName.includes('gun.png') ? fileName : `${''}/files/${fileName}`;\r\n}\r\nfunction mapToUrl(path) {\r\n    console.log(path);\r\n    const s = Array.isArray(path) ? path.map(x => mapToUrl(x))\r\n        : inArray(['assets/gun.png', 'assets/ar.png', 'assets/shotgun.png'], path) ?\r\n            `${''}/${path}`\r\n            : `${''}/files/${path}`;\r\n    console.log(s);\r\n    return s;\r\n}\r\nclass UploaderComponent extends SmartComponent {\r\n    constructor(store, sanitizer) {\r\n        super(store);\r\n        this.store = store;\r\n        this.sanitizer = sanitizer;\r\n        this.apiBaseUrl = '';\r\n        this.authToken = '';\r\n        this._uploads = [];\r\n        this.fg = buildControlFromModel(new FileUploads());\r\n        // this.addSubscription(authTokenSelector(store).subscribe(x => {\r\n        //   this.authToken = x;\r\n        // }));\r\n    }\r\n    set uploads(value) {\r\n        if (!equals(value.map(x => x.src), this._uploads.map(x => x.src))) {\r\n            this._uploads = value;\r\n            this.fg.setValue(getValue(build(FileUploads, {\r\n                uploads: value\r\n            })));\r\n            this.onChange(toArray(value).sort((a, b) => compareNumbers(a.order, b.order)).map(x => x.name));\r\n            console.dir(this.value);\r\n        }\r\n    }\r\n    get uploads() {\r\n        return this._uploads;\r\n    }\r\n    set value(value) {\r\n        if (truthy(value) && !equals(value, this._value)) {\r\n            // fetch file from server\r\n            if (typeof (value) === 'string') {\r\n                this.getFile(mapToUrl(value));\r\n            }\r\n            else if (Array.isArray(value) && value.length > 0) {\r\n                this.getFiles(mapToUrl(value));\r\n            }\r\n        }\r\n        this._value = value;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this._value = value;\r\n        if (typeof (this.onModelChange) === 'function') {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onReorderUploads(e) {\r\n        this.uploads = e;\r\n    }\r\n    onUpload(e) {\r\n        console.dir(e);\r\n    }\r\n    ngOnInit() {\r\n        this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n            if (!equals(this.uploads.map(y => y.src), x.uploads.map(y => y.src))) {\r\n                if (x.uploads.filter(y => y.loading).length === 0) {\r\n                    const uploads = x.uploads.filter(y => !inArray(this.uploads.map(z => z.name), y.name) && !y.loading && !y.name.includes('gun.png'));\r\n                    console.log('\\n\\n', 'FORM CHANGE');\r\n                    console.dir(x.uploads);\r\n                    if (uploads.length > 0) {\r\n                        console.dir(uploads);\r\n                        uploads.forEach(upload => {\r\n                            console.log(upload.name);\r\n                            if (upload.src) {\r\n                                this.saveFile(upload);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        const reordering = x.uploads.length > 1 ? x.uploads.filter(y => !y.name.includes('gun.png')) : x.uploads;\r\n                        console.log('NO NEW UPLOADS!');\r\n                        // console.dir(reordering);\r\n                        // this.uploads = reordering;\r\n                        if (x.uploads.length > 1) {\r\n                            // this.uploads = x.uploads;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    getFile(url) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            console.log(url);\r\n            return fetch(url)\r\n                .then(response => response.blob())\r\n                .then(blob => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onloadend = () => {\r\n                    // const src = this.sanitizer.bypassSecurityTrustUrl(`data:image/png;base64,${reader.result}`);\r\n                    // const src = `data:image/png;base64,${reader.result}`;\r\n                    const src = `${reader.result}`;\r\n                    this.uploads = [...this.uploads, build(FileUpload, {\r\n                            src,\r\n                            size: blob.size,\r\n                            type: blob.type,\r\n                            name: url.split('/').pop()\r\n                        })];\r\n                };\r\n            })\r\n                .catch(function (error) {\r\n                return error;\r\n            });\r\n        });\r\n    }\r\n    getFiles(urls) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            urls.forEach(url => {\r\n                this.getFile(url);\r\n            });\r\n        });\r\n    }\r\n    saveFile(upload) {\r\n        (() => __awaiter(this, void 0, void 0, function* () {\r\n            const body = JSON.stringify(upload.file);\r\n            const headers = {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            };\r\n            if (this.authToken) {\r\n                headers['Authorization'] = `Bearer ${this.authToken}`;\r\n            }\r\n            const response = fetch(`${this.apiBaseUrl}/files`, {\r\n                method: 'POST',\r\n                headers,\r\n                body\r\n            });\r\n            yield (yield response).json()\r\n                .then((data) => {\r\n                console.dir(data);\r\n                const upload = buildFromFile(data);\r\n                console.dir(upload);\r\n                this.uploads = [...this.uploads.filter(x => !x.name.includes('gun.png')), upload];\r\n                console.dir(this.uploads);\r\n                console.log(this.value);\r\n                return upload;\r\n            })\r\n                .catch((error) => {\r\n                console.error(error);\r\n            });\r\n        }))();\r\n    }\r\n}\r\n/** @nocollapse */ UploaderComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploaderComponent, deps: [{ token: i1$1.Store }, { token: i2$8.DomSanitizer }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ UploaderComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: UploaderComponent, selector: \"iu-uploader\", inputs: { apiBaseUrl: \"apiBaseUrl\" }, providers: [FILE_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<!-- <p>uploader works!</p>\\r\\n<form [formGroup]=\\\"fg\\\">\\r\\n  <iu-file-upload formControlName=\\\"uploads\\\" [multiple]=\\\"true\\\" (upload)=\\\"onUpload($event)\\\"\\r\\n    (reorderUploads)=\\\"onReorderUploads($event)\\\">\\r\\n\\r\\n  </iu-file-upload>\\r\\n</form> -->\\r\\n\", styles: [\"form{width:100%}form iu-file-control{width:100%;background:#fff}\\n\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: UploaderComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-uploader', providers: [FILE_ACCESSOR], template: \"<!-- <p>uploader works!</p>\\r\\n<form [formGroup]=\\\"fg\\\">\\r\\n  <iu-file-upload formControlName=\\\"uploads\\\" [multiple]=\\\"true\\\" (upload)=\\\"onUpload($event)\\\"\\r\\n    (reorderUploads)=\\\"onReorderUploads($event)\\\">\\r\\n\\r\\n  </iu-file-upload>\\r\\n</form> -->\\r\\n\", styles: [\"form{width:100%}form iu-file-control{width:100%;background:#fff}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i2$8.DomSanitizer }]; }, propDecorators: { apiBaseUrl: [{\r\n                type: Input\r\n            }] } });\n\nclass FileUploadModule {\r\n}\r\n/** @nocollapse */ FileUploadModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ FileUploadModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, declarations: [FileControlComponent,\r\n        FileUploadComponent,\r\n        FilePreviewComponent,\r\n        UploadComponent,\r\n        UploadsComponent,\r\n        UploaderComponent], imports: [SharedModule,\r\n        DragDropModule,\r\n        FormsModule$1,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule], exports: [FileControlComponent,\r\n        FileUploadComponent,\r\n        FilePreviewComponent,\r\n        UploadComponent,\r\n        UploadsComponent] });\r\n/** @nocollapse */ FileUploadModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, imports: [[\r\n            SharedModule,\r\n            DragDropModule,\r\n            FormsModule$1,\r\n            MatCardModule,\r\n            MatCheckboxModule,\r\n            MatIconModule,\r\n            MatProgressBarModule,\r\n            MatProgressSpinnerModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FileUploadModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        DragDropModule,\r\n                        FormsModule$1,\r\n                        MatCardModule,\r\n                        MatCheckboxModule,\r\n                        MatIconModule,\r\n                        MatProgressBarModule,\r\n                        MatProgressSpinnerModule\r\n                    ],\r\n                    declarations: [\r\n                        FileControlComponent,\r\n                        FileUploadComponent,\r\n                        FilePreviewComponent,\r\n                        UploadComponent,\r\n                        UploadsComponent,\r\n                        UploaderComponent\r\n                    ],\r\n                    exports: [\r\n                        FileControlComponent,\r\n                        FileUploadComponent,\r\n                        FilePreviewComponent,\r\n                        UploadComponent,\r\n                        UploadsComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass NotFoundComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ NotFoundComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ NotFoundComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: NotFoundComponent, selector: \"iu-not-found\", ngImport: i0, template: \"<p>\\r\\n  not-found works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-not-found', template: \"<p>\\r\\n  not-found works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass NotFoundModule {\r\n}\r\n/** @nocollapse */ NotFoundModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ NotFoundModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, declarations: [NotFoundComponent], imports: [SharedModule], exports: [NotFoundComponent] });\r\n/** @nocollapse */ NotFoundModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, imports: [[\r\n            SharedModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: NotFoundModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                    ],\r\n                    declarations: [NotFoundComponent],\r\n                    exports: [NotFoundComponent]\r\n                }]\r\n        }] });\n\nclass MilitaryDateTime {\r\n    constructor() {\r\n        this.date = new Date();\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['datetime']\r\n        });\r\n    }\r\n    set datetime(value) {\r\n        const d = new Date(value);\r\n        this.date = d;\r\n        this.hour = d.getHours();\r\n        this.minutes = d.getMinutes();\r\n    }\r\n    get datetime() {\r\n        const d = new Date(this.date);\r\n        d.setHours(this.hour);\r\n        d.setMinutes(this.minutes);\r\n        return d;\r\n    }\r\n}\r\nclass DateTime {\r\n    constructor() {\r\n        this.date = new Date();\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n        this.meridian = 'AM';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['datetime']\r\n        });\r\n    }\r\n    set datetime(value) {\r\n        const d = new Date(value);\r\n        const hours = d.getHours();\r\n        this.date = d;\r\n        this.hour = hours === 12 ? 12 : hours % 12;\r\n        this.minutes = d.getMinutes();\r\n        this.meridian = hours >= 12 ? 'PM' : 'AM';\r\n    }\r\n    get datetime() {\r\n        return build(MilitaryDateTime, this, {\r\n            hour: this.meridian === 'AM' ? this.hour : this.hour + 12\r\n        }).datetime;\r\n    }\r\n}\r\nclass MilitaryTime {\r\n    constructor() {\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: []\r\n        });\r\n    }\r\n}\r\nclass Time {\r\n    constructor() {\r\n        this.hour = 0;\r\n        this.minutes = 0;\r\n        this.meridian = 'AM';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: []\r\n        });\r\n    }\r\n}\n\nconst DATETIME_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => DateTimeControlComponent),\r\n    multi: true\r\n};\r\nclass DateTimeControlComponent extends FormComponent {\r\n    constructor() {\r\n        super();\r\n        this.form = new FormGroup({\r\n            date: new FormControl(),\r\n            hour: new FormControl(),\r\n            minutes: new FormControl(),\r\n            meridian: new FormControl()\r\n        });\r\n        this.label = 'Time';\r\n        this.hideDate = false;\r\n        this._time = new DateTime();\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n        const time = build(DateTime, {\r\n            datetime: value\r\n        });\r\n        if (time.datetime.getTime() !== this.time.datetime.getTime()) {\r\n            this.time = time;\r\n        }\r\n    }\r\n    set time(value) {\r\n        this.setValue(value);\r\n    }\r\n    get time() {\r\n        return build(DateTime, this.form.value);\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onBlur(e) {\r\n        console.dir(e);\r\n    }\r\n    get hours() {\r\n        return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n    }\r\n    get minutes() {\r\n        return integerArray(60).filter(x => x > 9);\r\n    }\r\n    ngOnInit() {\r\n        this.form.valueChanges.subscribe(x => {\r\n            this.onChange(build(DateTime, x).datetime);\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ DateTimeControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateTimeControlComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ DateTimeControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: DateTimeControlComponent, selector: \"iu-datetime-control\", inputs: { label: \"label\", hideDate: \"hideDate\", value: \"value\" }, providers: [DATETIME_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<form [formGroup]=\\\"form\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n  <mat-form-field *ngIf=\\\"!hideDate\\\" class=\\\"date\\\">\\r\\n    <input matInput [matDatepicker]=\\\"picker\\\" formControlName=\\\"date\\\" placeholder=\\\"Choose a date\\\" />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.date{width:120px;margin-right:15px}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$4.MatDatepickerToggle, selector: \"mat-datepicker-toggle\", inputs: [\"for\", \"tabIndex\", \"aria-label\", \"disabled\", \"disableRipple\"], exportAs: [\"matDatepickerToggle\"] }, { type: i2$4.MatDatepicker, selector: \"mat-datepicker\", exportAs: [\"matDatepicker\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i2$4.MatDatepickerInput, selector: \"input[matDatepicker]\", inputs: [\"matDatepicker\", \"min\", \"max\", \"matDatepickerFilter\"], exportAs: [\"matDatepickerInput\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$3.MatSuffix, selector: \"[matSuffix]\" }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: DateTimeControlComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-datetime-control', providers: [DATETIME_ACCESSOR], template: \"<form [formGroup]=\\\"form\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n  <mat-form-field *ngIf=\\\"!hideDate\\\" class=\\\"date\\\">\\r\\n    <input matInput [matDatepicker]=\\\"picker\\\" formControlName=\\\"date\\\" placeholder=\\\"Choose a date\\\" />\\r\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\r\\n    <mat-datepicker #picker></mat-datepicker>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.date{width:120px;margin-right:15px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { label: [{\r\n                type: Input\r\n            }], hideDate: [{\r\n                type: Input\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nconst TIME_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => TimeControlComponent),\r\n    multi: true\r\n};\r\nclass TimeControlComponent extends FormComponent {\r\n    constructor() {\r\n        super();\r\n        this.timeForm = new FormGroup({\r\n            hour: new FormControl(),\r\n            minutes: new FormControl(),\r\n            meridian: new FormControl()\r\n        });\r\n        this.label = 'Time';\r\n        this._isDisabled = false;\r\n        this._time = new Time();\r\n    }\r\n    set isDisabled(value) {\r\n        this._isDisabled = value;\r\n        if (value) {\r\n            this.timeForm.disable();\r\n        }\r\n        else {\r\n            this.timeForm.enable();\r\n        }\r\n    }\r\n    get isDisabled() {\r\n        return this._isDisabled;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n    set time(value) {\r\n        this.setValue(value);\r\n    }\r\n    get time() {\r\n        return build(Time, this.timeForm.value);\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (this.onModelChange) {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    onBlur(e) {\r\n        console.dir(e);\r\n    }\r\n    get hours() {\r\n        return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n    }\r\n    get minutes() {\r\n        return integerArray(60).filter(x => x > 9);\r\n    }\r\n    ngOnInit() { }\r\n    setValue(value) {\r\n        this.timeForm.setValue(getValue(value));\r\n    }\r\n}\r\n/** @nocollapse */ TimeControlComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeControlComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ TimeControlComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TimeControlComponent, selector: \"iu-time-control\", inputs: { label: \"label\", isDisabled: \"isDisabled\", value: \"value\" }, providers: [TIME_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<form [formGroup]=\\\"timeForm\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"minutes-control\\\">\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"meridian-control\\\">\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.minutes-control,.time-control .mat-form-field.meridian-control{width:120px}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeControlComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-time-control', providers: [TIME_ACCESSOR], template: \"<form [formGroup]=\\\"timeForm\\\" class=\\\"time-control\\\">\\r\\n  <h3 class=\\\"time-text\\\">{{ label }}</h3>\\r\\n\\r\\n  <mat-form-field>\\r\\n    <mat-select formControlName=\\\"hour\\\" placeholder=\\\"Hour\\\">\\r\\n      <mat-option *ngFor=\\\"let hour of hours\\\" [value]=\\\"hour\\\">\\r\\n        {{ hour }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"minutes-control\\\">\\r\\n    <mat-select formControlName=\\\"minutes\\\" placeholder=\\\"Minute\\\">\\r\\n      <mat-option [value]=\\\"0\\\">00</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">01</mat-option>\\r\\n      <mat-option [value]=\\\"2\\\">02</mat-option>\\r\\n      <mat-option [value]=\\\"3\\\">03</mat-option>\\r\\n      <mat-option [value]=\\\"4\\\">04</mat-option>\\r\\n      <mat-option [value]=\\\"5\\\">05</mat-option>\\r\\n      <mat-option [value]=\\\"6\\\">06</mat-option>\\r\\n      <mat-option [value]=\\\"7\\\">07</mat-option>\\r\\n      <mat-option [value]=\\\"8\\\">08</mat-option>\\r\\n      <mat-option [value]=\\\"9\\\">09</mat-option>\\r\\n      <mat-option *ngFor=\\\"let minute of minutes\\\" [value]=\\\"minute\\\">\\r\\n        {{ minute }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n\\r\\n  <mat-form-field class=\\\"meridian-control\\\">\\r\\n    <mat-select formControlName=\\\"meridian\\\" placeholder=\\\"AM/PM\\\">\\r\\n      <mat-option value=\\\"AM\\\">AM</mat-option>\\r\\n      <mat-option value=\\\"PM\\\">PM</mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\".time-control h3{margin:5px}.time-control .mat-form-field{width:60px;margin:0 5px}.time-control .mat-form-field.minutes-control,.time-control .mat-form-field.meridian-control{width:120px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { label: [{\r\n                type: Input\r\n            }], isDisabled: [{\r\n                type: Input\r\n            }], value: [{\r\n                type: Input\r\n            }] } });\n\nclass TimeModule {\r\n}\r\n/** @nocollapse */ TimeModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ TimeModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, declarations: [DateTimeControlComponent, TimeControlComponent], imports: [SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule], exports: [DateTimeControlComponent, TimeControlComponent] });\r\n/** @nocollapse */ TimeModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, imports: [[SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [DateTimeControlComponent, TimeControlComponent],\r\n                    imports: [SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule],\r\n                    exports: [DateTimeControlComponent, TimeControlComponent]\r\n                }]\r\n        }] });\n\nclass Timer {\r\n    constructor() {\r\n        this.hours = 0;\r\n        this.minutes = 0;\r\n        this.seconds = 0;\r\n        this.milliseconds = 0;\r\n    }\r\n    static Equals(p, q) {\r\n        return p.hours === q.hours && p.minutes === q.minutes && p.seconds === q.seconds && p.milliseconds === q.milliseconds;\r\n    }\r\n    get zero() {\r\n        return this.hours === 0 && this.minutes === 0 && this.seconds === 0 && this.milliseconds === 0;\r\n    }\r\n    decrementMillisecond() {\r\n        const milliseconds = this.milliseconds === 0 ? (this.seconds > 0 ? 999 : 0) : this.milliseconds - 1;\r\n        const seconds = milliseconds === 59 ? (this.seconds > 0 ? this.seconds - 1 : 0) : this.seconds;\r\n        const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n        const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    decrementSecond() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds === 0 ? (this.minutes > 0 ? 59 : 0) : this.seconds - 1;\r\n        const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n        const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    decrementMinute() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds;\r\n        const minutes = this.minutes === 0 ? (this.hours > 0 ? 59 : 0) : this.minutes - 1;\r\n        const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    incrementMillisecond() {\r\n        const milliseconds = this.milliseconds === 999 ? 0 : this.milliseconds + 1;\r\n        const seconds = this.milliseconds === 999 ? (this.seconds === 59 ? 0 : this.seconds + 1) : this.seconds;\r\n        const minutes = this.milliseconds === 999 && this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n        const hours = this.milliseconds === 999 && this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    incrementSecond() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds === 59 ? 0 : this.seconds + 1;\r\n        const minutes = this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n        const hours = this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n    incrementMinute() {\r\n        const milliseconds = this.milliseconds;\r\n        const seconds = this.seconds;\r\n        const minutes = this.minutes === 59 ? 0 : this.minutes + 1;\r\n        const hours = this.minutes === 59 ? this.hours + 1 : this.hours;\r\n        return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n    }\r\n}\n\nclass TimerPipe {\r\n    transform(value, showHours = false, showMilliseconds = false) {\r\n        const hours = showHours ? `${value.hours}:` : '';\r\n        const minutes = value.minutes.toString().padStart(2, '0');\r\n        const seconds = value.seconds.toString().padStart(2, '0');\r\n        const milliseconds = showMilliseconds\r\n            ? `:${Math.round(value.milliseconds / 10)\r\n                .toString()\r\n                .padStart(2, '0')}`\r\n            : '';\r\n        return `${hours}${minutes}:${seconds}${milliseconds}`;\r\n    }\r\n}\r\n/** @nocollapse */ TimerPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ TimerPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerPipe, name: \"timer\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'timer'\r\n                }]\r\n        }] });\n\nclass TimerComponent extends DumbComponent {\r\n    constructor() {\r\n        super();\r\n        this.countUp = false;\r\n        this.millisecondsAlways = false;\r\n        this.millisecondsUnderMinute = false;\r\n        this.showHours = false;\r\n        this.timesUp = new EventEmitter();\r\n        this.stopped = false;\r\n        this.timeElapsed = new Timer();\r\n        this.timeElapsedSubject = new BehaviorSubject(new Timer());\r\n        this.timeRemaining = new Timer();\r\n        this.timeRemainingSubject = new BehaviorSubject(new Timer());\r\n        this._countDown = false;\r\n        this._countdownFrom = new Timer();\r\n        this.timeElapsed$ = this.timeElapsedSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n        this.timeRemaining$ = this.timeRemainingSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n    }\r\n    set countdownFrom(value) {\r\n        this._countdownFrom = build(Timer, value);\r\n        this.timeRemainingSubject.next(this._countdownFrom);\r\n    }\r\n    get countdownFrom() {\r\n        return this._countdownFrom;\r\n    }\r\n    set countDown(value) {\r\n        this._countDown = value;\r\n    }\r\n    get countDown() {\r\n        return this._countDown || !this.countdownFrom.zero;\r\n    }\r\n    get millisecondsEver() {\r\n        return this.millisecondsAlways || this.millisecondsUnderMinute;\r\n    }\r\n    get showElapsedMilliseconds() {\r\n        return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeElapsed.minutes < 1;\r\n    }\r\n    get showRemainingMilliseconds() {\r\n        return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeRemaining.minutes < 1;\r\n    }\r\n    get timeElapsedChanges() {\r\n        return this.timeElapsed$.subscribe(x => {\r\n            this.timeElapsed = x;\r\n        });\r\n    }\r\n    get timeRemainingChanges() {\r\n        return this.timeRemaining$.subscribe(x => {\r\n            this.timeRemaining = x;\r\n            if (this.timeRemaining.zero) {\r\n                this.timesUp.emit();\r\n            }\r\n        });\r\n    }\r\n    get zero() {\r\n        return this.timeRemaining.zero;\r\n    }\r\n    ngOnInit() {\r\n        this.subscribe([this.timeElapsedChanges, this.timeRemainingChanges]);\r\n    }\r\n    setTimeElapsed(time) {\r\n        this.stopped = true;\r\n        this.timeElapsedSubject.next(build(Timer, time));\r\n    }\r\n    setTimeRemaining(time) {\r\n        // this.stopped = true;\r\n        this.timeRemainingSubject.next(build(Timer, time));\r\n    }\r\n    start(e) {\r\n        if (e && typeof e.preventDefault === 'function') {\r\n            e.preventDefault();\r\n        }\r\n        this.stopped = false;\r\n        if (this.millisecondsEver) {\r\n            this.timeoutMilliseconds();\r\n        }\r\n        else {\r\n            this.timeoutSeconds();\r\n        }\r\n    }\r\n    startAt(time) {\r\n        this.setTimeRemaining(time);\r\n        // this.start();\r\n    }\r\n    stop(e) {\r\n        if (e && typeof e.preventDefault === 'function') {\r\n            e.preventDefault();\r\n        }\r\n        this.stopped = true;\r\n    }\r\n    timeoutMilliseconds() {\r\n        if (!this.stopped && !this.zero) {\r\n            setTimeout(() => {\r\n                this.nextMillisecond();\r\n                this.timeoutMilliseconds();\r\n            }, 1);\r\n        }\r\n    }\r\n    timeoutSeconds() {\r\n        if (!this.stopped && !this.zero) {\r\n            setTimeout(() => {\r\n                if (!this.stopped) {\r\n                    this.nextSecond();\r\n                    if (!this.zero) {\r\n                        this.timeoutSeconds();\r\n                    }\r\n                }\r\n            }, 1000);\r\n        }\r\n    }\r\n    nextMillisecond() {\r\n        if (this.countDown) {\r\n            this.timeRemainingSubject.next(this.timeRemaining.decrementMillisecond());\r\n        }\r\n        if (this.countUp) {\r\n            this.timeElapsedSubject.next(this.timeElapsed.incrementMillisecond());\r\n        }\r\n    }\r\n    nextSecond() {\r\n        if (this.countDown) {\r\n            this.timeRemainingSubject.next(this.timeRemaining.decrementSecond());\r\n        }\r\n        if (this.countUp) {\r\n            this.timeElapsedSubject.next(this.timeElapsed.incrementSecond());\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ TimerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ TimerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TimerComponent, selector: \"iu-timer\", inputs: { countUp: \"countUp\", millisecondsAlways: \"millisecondsAlways\", millisecondsUnderMinute: \"millisecondsUnderMinute\", showHours: \"showHours\", countdownFrom: \"countdownFrom\", countDown: \"countDown\" }, outputs: { timesUp: \"timesUp\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"timer\\\">\\r\\n  <div *ngIf=\\\"countDown\\\" class=\\\"time-remaining\\\">\\r\\n    {{ timeRemaining | timer : showHours : showRemainingMilliseconds }}\\r\\n  </div>\\r\\n  <div *ngIf=\\\"countUp\\\" class=\\\"time-elapsed\\\">\\r\\n    {{ timeElapsed | timer : showHours : showElapsedMilliseconds }}\\r\\n  </div>\\r\\n  <button mat-raised-button (click)=\\\"start($event)\\\">Start</button>\\r\\n  <button mat-raised-button (click)=\\\"stop($event)\\\">Stop</button>\\r\\n</div>\\r\\n\", styles: [\".timer .time-remaining,.timer .time-elapsed{font-size:48px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"timer\": TimerPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-timer', template: \"<div class=\\\"timer\\\">\\r\\n  <div *ngIf=\\\"countDown\\\" class=\\\"time-remaining\\\">\\r\\n    {{ timeRemaining | timer : showHours : showRemainingMilliseconds }}\\r\\n  </div>\\r\\n  <div *ngIf=\\\"countUp\\\" class=\\\"time-elapsed\\\">\\r\\n    {{ timeElapsed | timer : showHours : showElapsedMilliseconds }}\\r\\n  </div>\\r\\n  <button mat-raised-button (click)=\\\"start($event)\\\">Start</button>\\r\\n  <button mat-raised-button (click)=\\\"stop($event)\\\">Stop</button>\\r\\n</div>\\r\\n\", styles: [\".timer .time-remaining,.timer .time-elapsed{font-size:48px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { countUp: [{\r\n                type: Input\r\n            }], millisecondsAlways: [{\r\n                type: Input\r\n            }], millisecondsUnderMinute: [{\r\n                type: Input\r\n            }], showHours: [{\r\n                type: Input\r\n            }], timesUp: [{\r\n                type: Output\r\n            }], countdownFrom: [{\r\n                type: Input\r\n            }], countDown: [{\r\n                type: Input\r\n            }] } });\n\nclass TimerModule {\r\n}\r\n/** @nocollapse */ TimerModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ TimerModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, declarations: [TimerComponent,\r\n        TimerPipe], imports: [SharedModule,\r\n        MatButtonModule], exports: [TimerComponent,\r\n        TimerPipe] });\r\n/** @nocollapse */ TimerModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, imports: [[\r\n            SharedModule,\r\n            MatButtonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimerModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        MatButtonModule\r\n                    ],\r\n                    declarations: [\r\n                        TimerComponent,\r\n                        TimerPipe,\r\n                    ],\r\n                    exports: [\r\n                        TimerComponent,\r\n                        TimerPipe,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass ListPipe {\r\n    transform(value, key) {\r\n        return Array.isArray(value) ?\r\n            value.reduce((acc, x) => key ?\r\n                acc ? `${acc}, ${x[key]}` : x[key]\r\n                : acc ? `${acc}, ${x}`\r\n                    : x, '')\r\n            : '';\r\n    }\r\n}\r\n/** @nocollapse */ ListPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ListPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ ListPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ListPipe, name: \"list\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ListPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'list'\r\n                }]\r\n        }] });\n\nclass PadLeftPipe {\r\n    transform(value, targetLength, padString = '0') {\r\n        return value.toString().padStart(targetLength, padString);\r\n    }\r\n}\r\n/** @nocollapse */ PadLeftPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PadLeftPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ PadLeftPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PadLeftPipe, name: \"padLeft\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PadLeftPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'padLeft'\r\n                }]\r\n        }] });\n\nclass PhoneNumberPipe {\r\n    transform(value, args) {\r\n        return value ? value.length !== 10 ? value\r\n            : `(${value[0]}${value[1]}${value[2]}) ${value[3]}${value[4]}${value[5]}-${value[6]}${value[7]}${value[8]}${value[9]}`\r\n            : '';\r\n    }\r\n}\r\n/** @nocollapse */ PhoneNumberPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ PhoneNumberPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberPipe, name: \"phone\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'phone'\r\n                }]\r\n        }] });\n\nclass SafeHtmlPipe {\r\n    constructor(sanitized) {\r\n        this.sanitized = sanitized;\r\n    }\r\n    transform(value, args) {\r\n        return this.sanitized.bypassSecurityTrustHtml(value);\r\n    }\r\n}\r\n/** @nocollapse */ SafeHtmlPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SafeHtmlPipe, deps: [{ token: i2$8.DomSanitizer }], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ SafeHtmlPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SafeHtmlPipe, name: \"safeHtml\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: SafeHtmlPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'safeHtml'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i2$8.DomSanitizer }]; } });\n\nclass TimeAgoPipe {\r\n    transform(value, args) {\r\n        return DateHelper.TimeAgo(value);\r\n    }\r\n}\r\n/** @nocollapse */ TimeAgoPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeAgoPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ TimeAgoPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeAgoPipe, name: \"timeago\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TimeAgoPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'timeago'\r\n                }]\r\n        }] });\n\nclass YesNoPipe {\r\n    transform(value, args) {\r\n        return value ? 'Yes' : 'No';\r\n    }\r\n}\r\n/** @nocollapse */ YesNoPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: YesNoPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });\r\n/** @nocollapse */ YesNoPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: YesNoPipe, name: \"yesno\" });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: YesNoPipe, decorators: [{\r\n            type: Pipe,\r\n            args: [{\r\n                    name: 'yesno'\r\n                }]\r\n        }] });\n\nclass PipesModule {\r\n}\r\n/** @nocollapse */ PipesModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ PipesModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, declarations: [ListPipe,\r\n        PadLeftPipe,\r\n        PhoneNumberPipe,\r\n        SafeHtmlPipe,\r\n        TimeAgoPipe,\r\n        YesNoPipe], imports: [CommonModule], exports: [ListPipe,\r\n        PadLeftPipe,\r\n        PhoneNumberPipe,\r\n        SafeHtmlPipe,\r\n        TimeAgoPipe,\r\n        YesNoPipe] });\r\n/** @nocollapse */ PipesModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, imports: [[CommonModule]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PipesModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [CommonModule],\r\n                    declarations: [\r\n                        ListPipe,\r\n                        PadLeftPipe,\r\n                        PhoneNumberPipe,\r\n                        SafeHtmlPipe,\r\n                        TimeAgoPipe,\r\n                        YesNoPipe\r\n                    ],\r\n                    exports: [\r\n                        ListPipe,\r\n                        PadLeftPipe,\r\n                        PhoneNumberPipe,\r\n                        SafeHtmlPipe,\r\n                        TimeAgoPipe,\r\n                        YesNoPipe\r\n                    ]\r\n                }]\r\n        }] });\n\nclass LibraryModule {\r\n}\r\n/** @nocollapse */ LibraryModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ LibraryModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, declarations: [LibraryComponent], imports: [SharedModule,\r\n        AccordionModule,\r\n        AddressModule,\r\n        AuditModule,\r\n        ContainerModule,\r\n        DatepickerModule,\r\n        DialogModule,\r\n        FileUploadModule,\r\n        NotFoundModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatTableModule,\r\n        MatToolbarModule,\r\n        PipesModule,\r\n        TimeModule,\r\n        TimerModule], exports: [LibraryComponent,\r\n        SharedModule,\r\n        AccordionModule,\r\n        AddressModule,\r\n        AuditModule,\r\n        CollageModule,\r\n        ContainerModule,\r\n        DatepickerModule,\r\n        DialogModule,\r\n        FileUploadModule,\r\n        TileModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        PipesModule,\r\n        TimeModule,\r\n        TimerModule] });\r\n/** @nocollapse */ LibraryModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, imports: [[\r\n            SharedModule,\r\n            AccordionModule,\r\n            AddressModule,\r\n            AuditModule,\r\n            ContainerModule,\r\n            DatepickerModule,\r\n            DialogModule,\r\n            FileUploadModule,\r\n            NotFoundModule,\r\n            MatButtonModule,\r\n            MatCardModule,\r\n            MatCheckboxModule,\r\n            MatIconModule,\r\n            MatInputModule,\r\n            MatProgressBarModule,\r\n            MatProgressSpinnerModule,\r\n            MatRadioModule,\r\n            MatSelectModule,\r\n            MatTabsModule,\r\n            MatTableModule,\r\n            MatToolbarModule,\r\n            PipesModule,\r\n            TimeModule,\r\n            TimerModule\r\n        ], SharedModule,\r\n        AccordionModule,\r\n        AddressModule,\r\n        AuditModule,\r\n        CollageModule,\r\n        ContainerModule,\r\n        DatepickerModule,\r\n        DialogModule,\r\n        FileUploadModule,\r\n        TileModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatCheckboxModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatProgressBarModule,\r\n        MatProgressSpinnerModule,\r\n        MatRadioModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        PipesModule,\r\n        TimeModule,\r\n        TimerModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LibraryModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        AccordionModule,\r\n                        AddressModule,\r\n                        AuditModule,\r\n                        ContainerModule,\r\n                        DatepickerModule,\r\n                        DialogModule,\r\n                        FileUploadModule,\r\n                        NotFoundModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatCheckboxModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatProgressBarModule,\r\n                        MatProgressSpinnerModule,\r\n                        MatRadioModule,\r\n                        MatSelectModule,\r\n                        MatTabsModule,\r\n                        MatTableModule,\r\n                        MatToolbarModule,\r\n                        PipesModule,\r\n                        TimeModule,\r\n                        TimerModule\r\n                    ],\r\n                    declarations: [LibraryComponent],\r\n                    exports: [\r\n                        LibraryComponent,\r\n                        SharedModule,\r\n                        AccordionModule,\r\n                        AddressModule,\r\n                        AuditModule,\r\n                        CollageModule,\r\n                        ContainerModule,\r\n                        DatepickerModule,\r\n                        DialogModule,\r\n                        FileUploadModule,\r\n                        TileModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatCheckboxModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatProgressBarModule,\r\n                        MatProgressSpinnerModule,\r\n                        MatRadioModule,\r\n                        MatSelectModule,\r\n                        MatTabsModule,\r\n                        MatToolbarModule,\r\n                        PipesModule,\r\n                        TimeModule,\r\n                        TimerModule\r\n                    ]\r\n                }]\r\n        }] });\n\nclass AnimationsModule {\r\n}\r\n/** @nocollapse */ AnimationsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ AnimationsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, imports: [CommonModule] });\r\n/** @nocollapse */ AnimationsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, imports: [[\r\n            CommonModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AnimationsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nclass Lookup {\r\n    constructor() {\r\n        this.typeName = '';\r\n        this.values = [];\r\n        this._key = '';\r\n    }\r\n    get key() {\r\n        return this._key || this.typeName;\r\n    }\r\n    set key(value) {\r\n        this._key = value;\r\n    }\r\n    get name() {\r\n        return this.key;\r\n    }\r\n    set name(value) {\r\n        this.key = value;\r\n    }\r\n    get names() {\r\n        return this.values.map(x => x.name);\r\n    }\r\n}\r\nclass LookupValue {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.active = true;\r\n        this.description = '';\r\n        this.name = '';\r\n        this.sort = 0;\r\n        this.tooltip = ''; // use this for accessibility and/or help tooltip messages\r\n        this._label = '';\r\n    }\r\n    get value() {\r\n        return this._value || this.id;\r\n    }\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n    get label() {\r\n        return this._label || this.description;\r\n    }\r\n    set label(value) {\r\n        this._label = value;\r\n    }\r\n}\r\nclass Lookups {\r\n    static AddLookups(state, lookups) {\r\n        return lookups.reduce((acc, lookup) => build(Lookups, acc, { [lookup.key]: build(Lookup, lookup) }), state);\r\n    }\r\n    static AddLookup(state, lookup) {\r\n        return build(Lookups, state, {\r\n            [lookup.key]: build(Lookup, lookup)\r\n        });\r\n    }\r\n    static BuildLookupValues(values, names) {\r\n        return names.reduce((acc, name) => {\r\n            const value = values.find(x => x.name === name);\r\n            return value ? [...acc, value] : [...acc];\r\n        }, []);\r\n    }\r\n    static FindLookupIdByName(values, name) {\r\n        const lkp = build(LookupValue, values.find(x => x.name === name));\r\n        return lkp.id;\r\n    }\r\n    static FindLookupNameById(values, id) {\r\n        const lkp = build(LookupValue, values.find(x => x.id === id));\r\n        return lkp.name;\r\n    }\r\n    static RemoveLookup(state, removeKey) {\r\n        const newState = new Lookups();\r\n        const keys = Object.keys(state).filter(key => key !== removeKey);\r\n        keys.forEach(key => {\r\n            newState[key] = Object.assign({}, state[key]);\r\n        });\r\n        return newState;\r\n    }\r\n    static RemoveLookupValue(state, lookupKey, lookupValueId) {\r\n        const values = toArray(build(Lookup, state[lookupKey]).values).filter(x => x.id !== lookupValueId);\r\n        const lookup = build(Lookup, state[lookupKey], { values });\r\n        return build(Lookups, state, { [lookupKey]: lookup });\r\n    }\r\n    static UpdateLookupValue(state, lookupKey, lookupValue) {\r\n        const values = [\r\n            ...toArray(build(Lookup, state[lookupKey]).values).filter(x => x.id !== lookupValue.id),\r\n            lookupValue\r\n        ];\r\n        const lookup = build(Lookup, state[lookupKey], { values });\r\n        return build(Lookups, state, { [lookupKey]: lookup });\r\n    }\r\n}\r\nclass AddLookupPayload {\r\n    constructor() {\r\n        this.key = '';\r\n    }\r\n}\n\nclass Calendar {\r\n    constructor() {\r\n        this.calendarName = '';\r\n        this.description = '';\r\n        this.isAllDayDefault = false;\r\n        this.isAllDayEnforced = false;\r\n        this.isMaster = false;\r\n        this.events = [];\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['firstDay', 'lastDay']\r\n        });\r\n    }\r\n    get firstDay() {\r\n        return;\r\n    }\r\n    get lastDay() {\r\n        return;\r\n    }\r\n}\r\nclass CalendarEventType extends LookupValue {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.allDay = false;\r\n        this.color = '';\r\n    }\r\n}\r\nclass CalendarEvent {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.description = '';\r\n        this.eventId = '';\r\n        this.name = '';\r\n        this.eventType = new CalendarEventType();\r\n        this.eventTypeId = 0;\r\n        this.calendarId = 0;\r\n        this.startTime = new Date();\r\n        this.endTime = null;\r\n        this._allDay = false;\r\n        this._color = '';\r\n    }\r\n    get metadata() {\r\n        return {\r\n            name: {\r\n                validators: [Validators$1.required]\r\n            },\r\n            ignore: [\r\n                '_allDay',\r\n                '_color',\r\n                'color',\r\n                'dayOf',\r\n                'description',\r\n                'startHour',\r\n                'startMinute',\r\n                'startTimePeriod',\r\n                'monthOf',\r\n                'endHour',\r\n                'endMinute',\r\n                'endTimePeriod',\r\n                'eventType',\r\n                'yearOf'\r\n            ]\r\n        };\r\n    }\r\n    set allDay(value) {\r\n        this._allDay = value;\r\n    }\r\n    get allDay() {\r\n        return this._allDay || this.eventType.allDay;\r\n    }\r\n    set color(value) {\r\n        this._color = value;\r\n    }\r\n    get color() {\r\n        return this._color || this.eventType.color;\r\n    }\r\n    get endHour() {\r\n        return DateHelper.GetHour(this.endTime);\r\n    }\r\n    get endMinute() {\r\n        return DateHelper.GetMinute(this.endTime);\r\n    }\r\n    get endTimePeriod() {\r\n        return DateHelper.GetMeridian(this.endTime);\r\n    }\r\n    get startHour() {\r\n        return DateHelper.GetHour(this.startTime);\r\n    }\r\n    get startMinute() {\r\n        return DateHelper.GetMinute(this.startTime);\r\n    }\r\n    get startTimePeriod() {\r\n        return DateHelper.GetMeridian(this.startTime);\r\n    }\r\n}\r\nclass CalendarDay {\r\n    constructor() {\r\n        this.date = new Date();\r\n        this.dayType = new CalendarEventType();\r\n        this.events = [];\r\n        this.isActive = false;\r\n        this.color = '';\r\n    }\r\n}\n\nclass CalendarDayEventsComponent {\r\n    constructor(el) {\r\n        this.el = el;\r\n        this.styles = {};\r\n        this._calendarEvents = [];\r\n        this.totalHeight = 100;\r\n    }\r\n    set calendarEvents(value) {\r\n        this._calendarEvents = value;\r\n        this.styles = value.reduce((acc, e, i) => {\r\n            const width = DateHelper.HoursBetween(e.startTime, e.endTime) * this.hourWidth;\r\n            return Object.assign({}, acc, {\r\n                [i]: {\r\n                    top: 5,\r\n                    left: DateHelper.HoursFromBeginningOfDay(e.startTime) * this.hourWidth,\r\n                    width,\r\n                    height: width < 200 ? this.rowHeight * 2 : this.rowHeight\r\n                }\r\n            });\r\n        }, {});\r\n    }\r\n    get calendarEvents() {\r\n        return this._calendarEvents;\r\n    }\r\n    get elementWidth() {\r\n        return Math.max(this.el.nativeElement.offsetWidth, 800);\r\n    }\r\n    get hours() {\r\n        return integerArray(24).map(i => `${(i + 1) % 12 === 0 ? 12 : (i + 1) % 12}`);\r\n    }\r\n    get hourWidth() {\r\n        return this.elementWidth / 24;\r\n    }\r\n    get rowHeight() {\r\n        return this.totalHeight / 5;\r\n    }\r\n    ngOnInit() { }\r\n}\r\n/** @nocollapse */ CalendarDayEventsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEventsComponent, deps: [{ token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayEventsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayEventsComponent, selector: \"iu-calendar-day-events\", inputs: { dayTypeColor: \"dayTypeColor\", calendarEvents: \"calendarEvents\" }, ngImport: i0, template: \"<div class=\\\"calendar-day-events scrollable\\\">\\r\\n  <div\\r\\n    class=\\\"hours\\\"\\r\\n    [style.width.px]=\\\"elementWidth\\\"\\r\\n    [style.background-color]=\\\"dayTypeColor\\\"\\r\\n  >\\r\\n    <h4 *ngFor=\\\"let hour of hours\\\" [style.width.px]=\\\"hourWidth\\\">{{ hour }}</h4>\\r\\n  </div>\\r\\n  <div class=\\\"events-list\\\">\\r\\n    <span\\r\\n      class=\\\"inline-event\\\"\\r\\n      *ngFor=\\\"let event of calendarEvents; let i = index\\\"\\r\\n      [style.background]=\\\"event.color\\\"\\r\\n      [style.top.px]=\\\"styles[i].top\\\"\\r\\n      [style.left.px]=\\\"styles[i].left\\\"\\r\\n      [style.height.px]=\\\"styles[i].height\\\"\\r\\n      [style.width.px]=\\\"styles[i].width\\\"\\r\\n      >{{ event.name }}</span\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-events{min-width:800px}.calendar-day-events .hours h4{text-align:center;display:inline-block;margin:5px 0}.calendar-day-events .events-list{min-height:80px;position:relative}.calendar-day-events .events-list .inline-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;padding:5px 0;font-size:12px;color:#fff;position:absolute;text-align:center}\\n\"], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEventsComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day-events', template: \"<div class=\\\"calendar-day-events scrollable\\\">\\r\\n  <div\\r\\n    class=\\\"hours\\\"\\r\\n    [style.width.px]=\\\"elementWidth\\\"\\r\\n    [style.background-color]=\\\"dayTypeColor\\\"\\r\\n  >\\r\\n    <h4 *ngFor=\\\"let hour of hours\\\" [style.width.px]=\\\"hourWidth\\\">{{ hour }}</h4>\\r\\n  </div>\\r\\n  <div class=\\\"events-list\\\">\\r\\n    <span\\r\\n      class=\\\"inline-event\\\"\\r\\n      *ngFor=\\\"let event of calendarEvents; let i = index\\\"\\r\\n      [style.background]=\\\"event.color\\\"\\r\\n      [style.top.px]=\\\"styles[i].top\\\"\\r\\n      [style.left.px]=\\\"styles[i].left\\\"\\r\\n      [style.height.px]=\\\"styles[i].height\\\"\\r\\n      [style.width.px]=\\\"styles[i].width\\\"\\r\\n      >{{ event.name }}</span\\r\\n    >\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-events{min-width:800px}.calendar-day-events .hours h4{text-align:center;display:inline-block;margin:5px 0}.calendar-day-events .events-list{min-height:80px;position:relative}.calendar-day-events .events-list .inline-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;padding:5px 0;font-size:12px;color:#fff;position:absolute;text-align:center}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; }, propDecorators: { dayTypeColor: [{\r\n                type: Input\r\n            }], calendarEvents: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarDayEditComponent {\r\n    constructor(el, data) {\r\n        this.el = el;\r\n        this.data = data;\r\n        this.saveEvent = new EventEmitter();\r\n        this.changeDayType = new EventEmitter();\r\n        this._calendarDay = new CalendarDay();\r\n        this._calendarDayTypes = [];\r\n        this._calendarEventTypes = [];\r\n        this.calendarDayTypeId = 0;\r\n    }\r\n    set calendarDay(value) {\r\n        this._calendarDay = value;\r\n    }\r\n    get calendarDay() {\r\n        return this.data && this.data['calendarDay'] ? this.data['calendarDay'] : this._calendarDay;\r\n    }\r\n    set calendarDayEditTemplate(value) {\r\n        this._calendarDayEditTemplate = value;\r\n    }\r\n    get calendarDayEditTemplate() {\r\n        return this.data && this.data['calendarDayEditTemplate'] ? this.data['calendarDayEditTemplate'] : this._calendarDayEditTemplate;\r\n    }\r\n    set calendarEventFormTemplate(value) {\r\n        this._calendarEventFormTemplate = value;\r\n    }\r\n    get calendarEventFormTemplate() {\r\n        return this.data && this.data['calendarEventFormTemplate'] ? this.data['calendarEventFormTemplate'] : this._calendarEventFormTemplate;\r\n    }\r\n    set calendarEventViewTemplate(value) {\r\n        this._calendarEventViewTemplate = value;\r\n    }\r\n    get calendarEventViewTemplate() {\r\n        return this.data && this.data['calendarEventViewTemplate'] ? this.data['calendarEventViewTemplate'] : this._calendarEventViewTemplate;\r\n    }\r\n    set calendarDayTypes(value) {\r\n        this._calendarDayTypes = value;\r\n    }\r\n    get calendarDayTypes() {\r\n        return this.data && this.data['calendarDayTypes'] ? toArray(this.data['calendarDayTypes']) : toArray(this._calendarDayTypes);\r\n    }\r\n    set calendarEventTypes(value) {\r\n        this._calendarEventTypes = value;\r\n    }\r\n    get calendarEventTypes() {\r\n        return this.data && this.data['calendarEventTypes'] ? toArray(this.data['calendarEventTypes']) : toArray(this._calendarEventTypes);\r\n    }\r\n    get contentWidth() {\r\n        return this.wrapperWidth - 320;\r\n    }\r\n    get elementWidth() {\r\n        return this.el.nativeElement.offsetWidth;\r\n    }\r\n    get eventsWidth() {\r\n        return this.elementWidth - 320;\r\n    }\r\n    get valueOut() {\r\n        return build(CalendarDay, this.calendarDay, {\r\n            dayTypeId: this.calendarDayTypeId\r\n        });\r\n    }\r\n    get wrapperWidth() {\r\n        return this.wrapper && this.wrapper.nativeElement ? this.wrapper.nativeElement.offsetWidth : 0;\r\n    }\r\n    ngOnInit() { }\r\n    ngAfterViewInit() {\r\n        this.setDayType(this.calendarDay.dayType);\r\n    }\r\n    onChangeDayType(e) {\r\n        const id = toInt(e);\r\n        this.calendarDayTypeId = id;\r\n        this.changeDayType.emit(build(CalendarEventType, this.calendarDayTypes.find(x => x.id === id)));\r\n    }\r\n    setDayType(e) {\r\n        this.calendarDayTypeId = e.id;\r\n        if (this.dayTypeInput && this.dayTypeInput.nativeElement) {\r\n            this.dayTypeInput.nativeElement.value = e.id;\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDayEditComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEditComponent, deps: [{ token: i0.ElementRef }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayEditComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayEditComponent, selector: \"iu-calendar-day-edit\", inputs: { calendarDay: \"calendarDay\", calendarDayEditTemplate: \"calendarDayEditTemplate\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventViewTemplate: \"calendarEventViewTemplate\", calendarDayTypes: \"calendarDayTypes\", calendarEventTypes: \"calendarEventTypes\" }, outputs: { saveEvent: \"saveEvent\", changeDayType: \"changeDayType\" }, viewQueries: [{ propertyName: \"dayTypeInput\", first: true, predicate: [\"dayTypeInput\"], descendants: true }, { propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true }], ngImport: i0, template: \"<div class=\\\"calendar-day-edit\\\" #wrapper>\\r\\n  <div class=\\\"calendar-day-content\\\">\\r\\n    <div class=\\\"calendar-date accordion-trigger\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\">\\r\\n      <h3 class=\\\"date-weekday font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'EEEE' }}\\r\\n      </h3>\\r\\n      <h2 class=\\\"date-month font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'MMMM' }}\\r\\n      </h2>\\r\\n      <h1 class=\\\"date-day font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'dd' }}\\r\\n      </h1>\\r\\n    </div>\\r\\n\\r\\n    <span class=\\\"day-type-label font-effect-outline\\\" [style.color]=\\\"calendarDay.dayType.color\\\">Day Type</span>\\r\\n\\r\\n    <div class=\\\"all-day-events\\\">\\r\\n      <select class=\\\"mat-select select-day-type\\\" #dayTypeInput (change)=\\\"onChangeDayType(dayTypeInput.value)\\\">\\r\\n        <option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </option>\\r\\n      </select>\\r\\n\\r\\n      <!-- <mat-select class=\\\"mat-select select-day-type\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </mat-option>\\r\\n      </mat-select> -->\\r\\n\\r\\n      <!-- <div class=\\\"calendar-events-list\\\">\\r\\n        <div\\r\\n          class=\\\"calendar-event accordion-content\\\"\\r\\n          *ngFor=\\\"let event of calendarDay?.events; index as i\\\"\\r\\n        >\\r\\n          <iu-calendar-event-view\\r\\n            (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n            [calendarEvent]=\\\"event\\\"\\r\\n            [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n            [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n            [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n          ></iu-calendar-event-view>\\r\\n        </div>\\r\\n      </div> -->\\r\\n    </div>\\r\\n    <iu-calendar-day-events\\r\\n      *ngIf=\\\"!calendarDayEditTemplate\\\"\\r\\n      [style.width.px]=\\\"eventsWidth\\\"\\r\\n      [calendarEvents]=\\\"calendarDay.events\\\"\\r\\n      [dayTypeColor]=\\\"calendarDay.dayType.color\\\"\\r\\n      class=\\\"scrollable\\\"\\r\\n    ></iu-calendar-day-events>\\r\\n    <div class=\\\"custom-template\\\" [style.width.px]=\\\"contentWidth\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\" *ngIf=\\\"calendarDayEditTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayEditTemplate;\\r\\n          context: {\\r\\n            day: calendarDay,\\r\\n            color: calendarDay.dayType.color\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-content{display:flex;flex-direction:row;align-items:flex-start;align-content:center;margin-top:40px;border-radius:10px;position:relative}.calendar-day-content .calendar-date{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;color:#fff;min-width:120px;text-align:center;padding:10px 0;align-self:center;border-radius:10px 0 0 10px}.calendar-day-content .calendar-date .date-weekday,.calendar-day-content .calendar-date .date-month,.calendar-day-content .calendar-date .date-day{width:100%;margin:0;padding:0}.calendar-day-content .all-day-events{min-width:200px;position:absolute;top:-25px;left:120px}.calendar-day-content .day-type-label{width:80px;position:absolute;top:-23px;left:40px;text-align:center}.calendar-day-content .select-day-type{display:block;font-size:16px;font-family:sans-serif;font-weight:700;color:#444;width:100%;max-width:100%;box-sizing:border-box;border:1px solid #aaa;box-shadow:0 1px 0 1px #0000000a;border-radius:.5em;-webkit-appearance:none;appearance:none;background-color:#fff;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E),linear-gradient(to bottom,#ffffff 0%,#e5e5e5 100%);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%;margin:auto 0;padding:0 10px;line-height:1.5;cursor:pointer}.calendar-day-content .select-css::-ms-expand{display:none}.calendar-day-content .select-css:hover{border-color:#888}.calendar-day-content .select-css:focus{border-color:#aaa;box-shadow:0 0 1px 3px #3b99fcb3;box-shadow:0 0 0 3px -moz-mac-focusring;color:#222;outline:none}.calendar-day-content .select-css option{font-weight:400}.calendar-day-content iu-calendar-day-events{overflow:auto}.calendar-day-content .custom-template{overflow:auto;border-top-right-radius:10px;border-bottom-right-radius:10px;margin:2px 0 0;min-width:500px;min-height:89px}@media print{.day-type-label,.all-day-events{display:none}}\\n\"], components: [{ type: CalendarDayEventsComponent, selector: \"iu-calendar-day-events\", inputs: [\"dayTypeColor\", \"calendarEvents\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i5.NgSelectOption, selector: \"option\", inputs: [\"ngValue\", \"value\"] }, { type: i5.ɵNgSelectMultipleOption, selector: \"option\", inputs: [\"ngValue\", \"value\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], pipes: { \"date\": i2$1.DatePipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayEditComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day-edit', template: \"<div class=\\\"calendar-day-edit\\\" #wrapper>\\r\\n  <div class=\\\"calendar-day-content\\\">\\r\\n    <div class=\\\"calendar-date accordion-trigger\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\">\\r\\n      <h3 class=\\\"date-weekday font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'EEEE' }}\\r\\n      </h3>\\r\\n      <h2 class=\\\"date-month font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'MMMM' }}\\r\\n      </h2>\\r\\n      <h1 class=\\\"date-day font-effect-3d-float\\\">\\r\\n        {{ calendarDay.date | date: 'dd' }}\\r\\n      </h1>\\r\\n    </div>\\r\\n\\r\\n    <span class=\\\"day-type-label font-effect-outline\\\" [style.color]=\\\"calendarDay.dayType.color\\\">Day Type</span>\\r\\n\\r\\n    <div class=\\\"all-day-events\\\">\\r\\n      <select class=\\\"mat-select select-day-type\\\" #dayTypeInput (change)=\\\"onChangeDayType(dayTypeInput.value)\\\">\\r\\n        <option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </option>\\r\\n      </select>\\r\\n\\r\\n      <!-- <mat-select class=\\\"mat-select select-day-type\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarDayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n          {{ lkp.name }}\\r\\n        </mat-option>\\r\\n      </mat-select> -->\\r\\n\\r\\n      <!-- <div class=\\\"calendar-events-list\\\">\\r\\n        <div\\r\\n          class=\\\"calendar-event accordion-content\\\"\\r\\n          *ngFor=\\\"let event of calendarDay?.events; index as i\\\"\\r\\n        >\\r\\n          <iu-calendar-event-view\\r\\n            (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n            [calendarEvent]=\\\"event\\\"\\r\\n            [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n            [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n            [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n          ></iu-calendar-event-view>\\r\\n        </div>\\r\\n      </div> -->\\r\\n    </div>\\r\\n    <iu-calendar-day-events\\r\\n      *ngIf=\\\"!calendarDayEditTemplate\\\"\\r\\n      [style.width.px]=\\\"eventsWidth\\\"\\r\\n      [calendarEvents]=\\\"calendarDay.events\\\"\\r\\n      [dayTypeColor]=\\\"calendarDay.dayType.color\\\"\\r\\n      class=\\\"scrollable\\\"\\r\\n    ></iu-calendar-day-events>\\r\\n    <div class=\\\"custom-template\\\" [style.width.px]=\\\"contentWidth\\\" [style.background-color]=\\\"calendarDay.dayType.color\\\" *ngIf=\\\"calendarDayEditTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayEditTemplate;\\r\\n          context: {\\r\\n            day: calendarDay,\\r\\n            color: calendarDay.dayType.color\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{width:100%}.calendar-day-content{display:flex;flex-direction:row;align-items:flex-start;align-content:center;margin-top:40px;border-radius:10px;position:relative}.calendar-day-content .calendar-date{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;color:#fff;min-width:120px;text-align:center;padding:10px 0;align-self:center;border-radius:10px 0 0 10px}.calendar-day-content .calendar-date .date-weekday,.calendar-day-content .calendar-date .date-month,.calendar-day-content .calendar-date .date-day{width:100%;margin:0;padding:0}.calendar-day-content .all-day-events{min-width:200px;position:absolute;top:-25px;left:120px}.calendar-day-content .day-type-label{width:80px;position:absolute;top:-23px;left:40px;text-align:center}.calendar-day-content .select-day-type{display:block;font-size:16px;font-family:sans-serif;font-weight:700;color:#444;width:100%;max-width:100%;box-sizing:border-box;border:1px solid #aaa;box-shadow:0 1px 0 1px #0000000a;border-radius:.5em;-webkit-appearance:none;appearance:none;background-color:#fff;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E),linear-gradient(to bottom,#ffffff 0%,#e5e5e5 100%);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%;margin:auto 0;padding:0 10px;line-height:1.5;cursor:pointer}.calendar-day-content .select-css::-ms-expand{display:none}.calendar-day-content .select-css:hover{border-color:#888}.calendar-day-content .select-css:focus{border-color:#aaa;box-shadow:0 0 1px 3px #3b99fcb3;box-shadow:0 0 0 3px -moz-mac-focusring;color:#222;outline:none}.calendar-day-content .select-css option{font-weight:400}.calendar-day-content iu-calendar-day-events{overflow:auto}.calendar-day-content .custom-template{overflow:auto;border-top-right-radius:10px;border-bottom-right-radius:10px;margin:2px 0 0;min-width:500px;min-height:89px}@media print{.day-type-label,.all-day-events{display:none}}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i0.ElementRef }, { type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [MAT_DIALOG_DATA]\r\n                    }] }];\r\n    }, propDecorators: { saveEvent: [{\r\n                type: Output\r\n            }], changeDayType: [{\r\n                type: Output\r\n            }], dayTypeInput: [{\r\n                type: ViewChild,\r\n                args: ['dayTypeInput', { static: false }]\r\n            }], wrapper: [{\r\n                type: ViewChild,\r\n                args: ['wrapper', { static: false }]\r\n            }], calendarDay: [{\r\n                type: Input\r\n            }], calendarDayEditTemplate: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventViewTemplate: [{\r\n                type: Input\r\n            }], calendarDayTypes: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarDaysComponent {\r\n    constructor() {\r\n        this.activeDate = new Date();\r\n        this.calendarDayTypes = [];\r\n        this.calendarDays = [];\r\n        this.calendarEvents = [];\r\n        this.calendarEventTypes = [];\r\n        this.changeDayType = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    onChangeDayType(date, e) {\r\n        this.changeDayType.emit({ date, dayTypeId: e.id });\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDaysComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDaysComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDaysComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDaysComponent, selector: \"iu-calendar-days\", inputs: { activeDate: \"activeDate\", calendarDayEditTemplate: \"calendarDayEditTemplate\", calendarDayListItemTemplate: \"calendarDayListItemTemplate\", calendarDayTypes: \"calendarDayTypes\", calendarDays: \"calendarDays\", calendarEvents: \"calendarEvents\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventTypes: \"calendarEventTypes\", calendarEventViewTemplate: \"calendarEventViewTemplate\" }, outputs: { changeDayType: \"changeDayType\", saveEvent: \"saveEvent\" }, ngImport: i0, template: \"<div class=\\\"calendar-days\\\">\\r\\n  <div class=\\\"calendar-days-list-item\\\" *ngFor=\\\"let day of calendarDays; let odd = odd\\\">\\r\\n    <iu-calendar-day-edit\\r\\n      *ngIf=\\\"!calendarDayListItemTemplate\\\"\\r\\n      [calendarDay]=\\\"day\\\"\\r\\n      [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n      [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n      [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n      [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n      [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n      (changeDayType)=\\\"onChangeDayType(day.date, $event)\\\"\\r\\n      (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      [class.right]=\\\"odd\\\"\\r\\n    ></iu-calendar-day-edit>\\r\\n\\r\\n    <div *ngIf=\\\"calendarDayListItemTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayListItemTemplate;\\r\\n          context: {\\r\\n            day: day\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"\"], components: [{ type: CalendarDayEditComponent, selector: \"iu-calendar-day-edit\", inputs: [\"calendarDay\", \"calendarDayEditTemplate\", \"calendarEventFormTemplate\", \"calendarEventViewTemplate\", \"calendarDayTypes\", \"calendarEventTypes\"], outputs: [\"saveEvent\", \"changeDayType\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\n__decorate([\r\n    Control(Calendar),\r\n    __metadata(\"design:type\", FormGroup)\r\n], CalendarDaysComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDaysComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-days', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar-days\\\">\\r\\n  <div class=\\\"calendar-days-list-item\\\" *ngFor=\\\"let day of calendarDays; let odd = odd\\\">\\r\\n    <iu-calendar-day-edit\\r\\n      *ngIf=\\\"!calendarDayListItemTemplate\\\"\\r\\n      [calendarDay]=\\\"day\\\"\\r\\n      [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n      [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n      [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n      [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n      [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n      (changeDayType)=\\\"onChangeDayType(day.date, $event)\\\"\\r\\n      (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      [class.right]=\\\"odd\\\"\\r\\n    ></iu-calendar-day-edit>\\r\\n\\r\\n    <div *ngIf=\\\"calendarDayListItemTemplate\\\">\\r\\n      <ng-container\\r\\n        *ngTemplateOutlet=\\\"\\r\\n          calendarDayListItemTemplate;\\r\\n          context: {\\r\\n            day: day\\r\\n          }\\r\\n        \\\"\\r\\n      ></ng-container>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { activeDate: [{\r\n                type: Input\r\n            }], calendarDayEditTemplate: [{\r\n                type: Input\r\n            }], calendarDayListItemTemplate: [{\r\n                type: Input\r\n            }], calendarDayTypes: [{\r\n                type: Input\r\n            }], calendarDays: [{\r\n                type: Input\r\n            }], calendarEvents: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], calendarEventViewTemplate: [{\r\n                type: Input\r\n            }], form: [], changeDayType: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarDayComponent {\r\n    constructor() {\r\n        this.day = new CalendarDay();\r\n        this.calendarEventTypes = [];\r\n        this.activate = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    onSave(e) {\r\n        this.saveEvent.emit(e);\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDayComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayComponent, selector: \"iu-calendar-day\", inputs: { day: \"day\", calendarDayTemplate: \"calendarDayTemplate\", calendarEventTypes: \"calendarEventTypes\" }, outputs: { activate: \"activate\", saveEvent: \"saveEvent\" }, ngImport: i0, template: \"<div class=\\\"calendar-day\\\" (click)=\\\"activate.emit(day)\\\">\\r\\n  <p [class.active-day]=\\\"day.isActive\\\" [style.background-color]=\\\"day.color\\\">{{ day.date.getDate() }}</p>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"!calendarDayTemplate\\\">\\r\\n    <div class=\\\"calendar-event\\\" *ngFor=\\\"let event of day.events; index as i\\\">\\r\\n      <!-- <iu-calendar-event\\r\\n        *ngIf=\\\"i < 3\\\"\\r\\n        [calendarEvent]=\\\"event\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [plusMore]=\\\"day.events.length > 3 && i === 2 ? day.events.length - 2 : 0\\\"\\r\\n        (goToDay)=\\\"activate.emit(day)\\\"\\r\\n        (saveEvent)=\\\"onSave($event)\\\"\\r\\n      ></iu-calendar-event> -->\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"calendarDayTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarDayTemplate;\\r\\n        context: {\\r\\n          day: day\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".calendar-day{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:relative;height:100%;width:100%;overflow:hidden}.calendar-day p{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:absolute;padding:0 5px;top:2px;left:2px;line-height:32px;height:32px;width:calc(100% - 14px);text-align:left;color:#000;font-weight:700;margin:0;opacity:.8}.calendar-day p.active-day{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;border-radius:100%;width:30px;height:30px;line-height:30px;padding:0;text-align:center;font-size:20px;top:2px;left:2px}.calendar-day .calendar-day-content{height:calc(100% - 40px);width:100%;position:absolute;top:40px;left:0}\\n\"], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar-day\\\" (click)=\\\"activate.emit(day)\\\">\\r\\n  <p [class.active-day]=\\\"day.isActive\\\" [style.background-color]=\\\"day.color\\\">{{ day.date.getDate() }}</p>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"!calendarDayTemplate\\\">\\r\\n    <div class=\\\"calendar-event\\\" *ngFor=\\\"let event of day.events; index as i\\\">\\r\\n      <!-- <iu-calendar-event\\r\\n        *ngIf=\\\"i < 3\\\"\\r\\n        [calendarEvent]=\\\"event\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [plusMore]=\\\"day.events.length > 3 && i === 2 ? day.events.length - 2 : 0\\\"\\r\\n        (goToDay)=\\\"activate.emit(day)\\\"\\r\\n        (saveEvent)=\\\"onSave($event)\\\"\\r\\n      ></iu-calendar-event> -->\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"calendar-day-content\\\" *ngIf=\\\"calendarDayTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarDayTemplate;\\r\\n        context: {\\r\\n          day: day\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".calendar-day{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:relative;height:100%;width:100%;overflow:hidden}.calendar-day p{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;position:absolute;padding:0 5px;top:2px;left:2px;line-height:32px;height:32px;width:calc(100% - 14px);text-align:left;color:#000;font-weight:700;margin:0;opacity:.8}.calendar-day p.active-day{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;color:#fff;border-radius:100%;width:30px;height:30px;line-height:30px;padding:0;text-align:center;font-size:20px;top:2px;left:2px}.calendar-day .calendar-day-content{height:calc(100% - 40px);width:100%;position:absolute;top:40px;left:0}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { day: [{\r\n                type: Input\r\n            }], calendarDayTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarViewComponent extends DumbComponent {\r\n    constructor(dialog, el) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.el = el;\r\n        this.activeDate = new Date();\r\n        this.calendarDays = [];\r\n        this.calendarEvents = [];\r\n        this.calendarEventTypes = [];\r\n        this.activate = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n        this.weekdays = DateHelper.Weekdays;\r\n    }\r\n    get calendarWidth() {\r\n        return this.el.nativeElement.offsetWidth;\r\n    }\r\n    get dayWidth() {\r\n        return this.calendarWidth / 7 - 0.1;\r\n    }\r\n    get firstDayIndex() {\r\n        return DateHelper.GetFirstDayOfMonth(this.activeDate).getDay();\r\n    }\r\n    get lastDayIndex() {\r\n        return DateHelper.GetLastDayOfMonth(this.activeDate).getDay();\r\n    }\r\n    ngOnInit() { }\r\n    isActive(day) {\r\n        return DateHelper.IsSameDay(day, this.activeDate);\r\n    }\r\n}\r\n/** @nocollapse */ CalendarViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarViewComponent, deps: [{ token: i1$2.MatDialog }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarViewComponent, selector: \"iu-calendar-view\", inputs: { activeDate: \"activeDate\", calendarDayTemplate: \"calendarDayTemplate\", calendarDayEditTemplate: \"calendarDayEditTemplate\", calendarDays: \"calendarDays\", calendarEvents: \"calendarEvents\", calendarEventTypes: \"calendarEventTypes\" }, outputs: { activate: \"activate\", saveEvent: \"saveEvent\" }, viewQueries: [{ propertyName: \"wrapper\", first: true, predicate: [\"wrapper\"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: \"<div class=\\\"calendar\\\" id=\\\"calendar-view\\\" #wrapper>\\r\\n  <div class=\\\"cal-head\\\">\\r\\n    <div class=\\\"cal-day\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let weekday of weekdays\\\">\\r\\n      <p>{{ weekday.name }}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"cal-body\\\">\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"beginningSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index < firstDayIndex\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let day of calendarDays\\\">\\r\\n      <iu-calendar-day\\r\\n        [day]=\\\"day\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"activate.emit($event)\\\"\\r\\n        (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      ></iu-calendar-day>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"endSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index > lastDayIndex\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block;width:100%}.calendar{min-width:760px;background-color:#fff}.calendar .cal-head,.calendar .cal-head-mini{background:#d1d1d1;flex-wrap:nowrap;flex-direction:row;justify-content:space-evenly}.calendar .cal-head .cal-day,.calendar .cal-head-mini .cal-day{text-align:center}.calendar .cal-body{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start}.calendar .cal-body .day{box-shadow:inset #0000003b 0 0 2px;transition:all .1s;flex-shrink:1;order:2}.calendar .cal-body .day:hover{box-shadow:inset #0000003b 0 0 10px;cursor:pointer}.calendar .cal-body .beginningSpacer .day,.calendar .cal-body .endSpacer .day{flex-grow:1;flex-shrink:1}.calendar .cal-body .beginningSpacer{order:1}.calendar .cal-body .endSpacer{order:3}.calendar .cal-day.micro{display:none}.calendar .cal-head{display:flex}.calendar .cal-head-mini{display:none}\\n\"], components: [{ type: CalendarDayComponent, selector: \"iu-calendar-day\", inputs: [\"day\", \"calendarDayTemplate\", \"calendarEventTypes\"], outputs: [\"activate\", \"saveEvent\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarViewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-view', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar\\\" id=\\\"calendar-view\\\" #wrapper>\\r\\n  <div class=\\\"cal-head\\\">\\r\\n    <div class=\\\"cal-day\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let weekday of weekdays\\\">\\r\\n      <p>{{ weekday.name }}</p>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"cal-body\\\">\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"beginningSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index < firstDayIndex\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngFor=\\\"let day of calendarDays\\\">\\r\\n      <iu-calendar-day\\r\\n        [day]=\\\"day\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"activate.emit($event)\\\"\\r\\n        (saveEvent)=\\\"saveEvent.emit($event)\\\"\\r\\n      ></iu-calendar-day>\\r\\n    </div>\\r\\n    <div *ngFor=\\\"let weekday of weekdays\\\" class=\\\"endSpacer\\\">\\r\\n      <div class=\\\"day\\\" [style.height.px]=\\\"dayWidth\\\" [style.width.px]=\\\"dayWidth\\\" *ngIf=\\\"weekday.index > lastDayIndex\\\"></div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\":host{display:block;width:100%}.calendar{min-width:760px;background-color:#fff}.calendar .cal-head,.calendar .cal-head-mini{background:#d1d1d1;flex-wrap:nowrap;flex-direction:row;justify-content:space-evenly}.calendar .cal-head .cal-day,.calendar .cal-head-mini .cal-day{text-align:center}.calendar .cal-body{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start}.calendar .cal-body .day{box-shadow:inset #0000003b 0 0 2px;transition:all .1s;flex-shrink:1;order:2}.calendar .cal-body .day:hover{box-shadow:inset #0000003b 0 0 10px;cursor:pointer}.calendar .cal-body .beginningSpacer .day,.calendar .cal-body .endSpacer .day{flex-grow:1;flex-shrink:1}.calendar .cal-body .beginningSpacer{order:1}.calendar .cal-body .endSpacer{order:3}.calendar .cal-day.micro{display:none}.calendar .cal-head{display:flex}.calendar .cal-head-mini{display:none}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }, { type: i0.ElementRef }]; }, propDecorators: { wrapper: [{\r\n                type: ViewChild,\r\n                args: ['wrapper', { static: true }]\r\n            }], activeDate: [{\r\n                type: Input\r\n            }], calendarDayTemplate: [{\r\n                type: Input\r\n            }], calendarDayEditTemplate: [{\r\n                type: Input\r\n            }], calendarDays: [{\r\n                type: Input\r\n            }], calendarEvents: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], activate: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarFormComponent {\r\n    constructor(dialogRef, data) {\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this._calendar = new Calendar();\r\n    }\r\n    set calendar(value) {\r\n        this._calendar = value;\r\n    }\r\n    get calendar() {\r\n        return this.data['calendar'] || this.calendar;\r\n    }\r\n    set calendarFormTemplate(value) {\r\n        this._calendarFormTemplate = value;\r\n    }\r\n    get calendarFormTemplate() {\r\n        return this.data['calendarFormTemplate'] || this._calendarFormTemplate;\r\n    }\r\n    ngOnInit() { }\r\n    submit() {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarFormComponent, deps: [{ token: i1$2.MatDialogRef, optional: true }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarFormComponent, selector: \"iu-calendar-form\", inputs: { calendar: \"calendar\", calendarFormTemplate: \"calendarFormTemplate\" }, ngImport: i0, template: \"<div class=\\\"calendar-form\\\">\\r\\n  <div class=\\\"calendar-form\\\" *ngIf=\\\"calendarFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarFormTemplate;\\r\\n        context: {\\r\\n          calendar: calendar,\\r\\n          form: form,\\r\\n          submit: submit,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarFormTemplate\\\">\\r\\n    <h1>Create Calendar</h1>\\r\\n    <mat-form-field>\\r\\n      <input\\r\\n        type=\\\"text\\\"\\r\\n        formControlName=\\\"calendarName\\\"\\r\\n        matInput\\r\\n        placeholder=\\\"Calendar Name\\\"\\r\\n      />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field>\\r\\n      <textarea\\r\\n        matInput\\r\\n        formControlName=\\\"description\\\"\\r\\n        placeholder=\\\"Calendar Description\\\"\\r\\n      ></textarea>\\r\\n    </mat-form-field>\\r\\n    <button mat-button (click)=\\\"submit()\\\">Submit</button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\"\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }] });\r\n__decorate([\r\n    Control(Calendar),\r\n    __metadata(\"design:type\", FormGroup)\r\n], CalendarFormComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarFormComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-form', template: \"<div class=\\\"calendar-form\\\">\\r\\n  <div class=\\\"calendar-form\\\" *ngIf=\\\"calendarFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarFormTemplate;\\r\\n        context: {\\r\\n          calendar: calendar,\\r\\n          form: form,\\r\\n          submit: submit,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    ></ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarFormTemplate\\\">\\r\\n    <h1>Create Calendar</h1>\\r\\n    <mat-form-field>\\r\\n      <input\\r\\n        type=\\\"text\\\"\\r\\n        formControlName=\\\"calendarName\\\"\\r\\n        matInput\\r\\n        placeholder=\\\"Calendar Name\\\"\\r\\n      />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field>\\r\\n      <textarea\\r\\n        matInput\\r\\n        formControlName=\\\"description\\\"\\r\\n        placeholder=\\\"Calendar Description\\\"\\r\\n      ></textarea>\\r\\n    </mat-form-field>\\r\\n    <button mat-button (click)=\\\"submit()\\\">Submit</button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$2.MatDialogRef, decorators: [{\r\n                        type: Optional\r\n                    }] }, { type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [MAT_DIALOG_DATA]\r\n                    }] }];\r\n    }, propDecorators: { form: [], calendar: [{\r\n                type: Input\r\n            }], calendarFormTemplate: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarKeyComponent {\r\n    constructor() {\r\n        this.calendarEventTypes = [];\r\n        this.heading = '';\r\n    }\r\n    ngOnInit() { }\r\n}\r\n/** @nocollapse */ CalendarKeyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarKeyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarKeyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarKeyComponent, selector: \"iu-calendar-key\", inputs: { calendarEventTypes: \"calendarEventTypes\", heading: \"heading\" }, ngImport: i0, template: \"<div class=\\\"calendar-key\\\">\\r\\n  <h2>{{ heading }}</h2>\\r\\n  <h3 *ngFor=\\\"let type of calendarEventTypes\\\" [style.background-color]=\\\"type.color\\\">\\r\\n    {{ type.name }}\\r\\n  </h3>\\r\\n</div>\\r\\n\", styles: [\".calendar-key{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;background-color:#fff;width:90%;padding:0 1% 10px;flex-direction:row;justify-content:space-evenly;text-align:center;max-height:600px}.calendar-key h3{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#fff;width:94%;margin:0 3% 10px;opacity:.8}.calendar-key h3:last-of-type{margin-bottom:20px}\\n\"], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarKeyComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-key', changeDetection: ChangeDetectionStrategy.OnPush, template: \"<div class=\\\"calendar-key\\\">\\r\\n  <h2>{{ heading }}</h2>\\r\\n  <h3 *ngFor=\\\"let type of calendarEventTypes\\\" [style.background-color]=\\\"type.color\\\">\\r\\n    {{ type.name }}\\r\\n  </h3>\\r\\n</div>\\r\\n\", styles: [\".calendar-key{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;background-color:#fff;width:90%;padding:0 1% 10px;flex-direction:row;justify-content:space-evenly;text-align:center;max-height:600px}.calendar-key h3{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;color:#fff;width:94%;margin:0 3% 10px;opacity:.8}.calendar-key h3:last-of-type{margin-bottom:20px}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { calendarEventTypes: [{\r\n                type: Input\r\n            }], heading: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarComponent extends DumbComponent {\r\n    // dayTypes = [{ id: 1, name: '1' }, { id: 2, name: '2' }];\r\n    constructor(dialog) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.allDayDefault = false;\r\n        this.calendar = new Calendar();\r\n        this.defaultInactiveTypeId = 0;\r\n        this.defaultWeekdayTypeId = 0;\r\n        this.defaultWeekendTypeId = 0;\r\n        this.keyHeading = 'Calendar Event Types';\r\n        this.showActions = false;\r\n        this.showKey = true;\r\n        this.addEvent = new EventEmitter();\r\n        this.changeActiveDate = new EventEmitter();\r\n        this.changeDayType = new EventEmitter();\r\n        this.deleteEvent = new EventEmitter();\r\n        this.updateCalendar = new EventEmitter();\r\n        this.updateEvent = new EventEmitter();\r\n        this.fileUrl = '';\r\n        this.now = new Date();\r\n        this._activeDate = new Date();\r\n        this._calendarDayTypes = [];\r\n        this._calendarEventTypes = [];\r\n    }\r\n    set activeDate(value) {\r\n        this._activeDate = value;\r\n        this.changeActiveDate.emit(value);\r\n    }\r\n    get activeDate() {\r\n        return this._activeDate;\r\n    }\r\n    set calendarEventTypes(value) {\r\n        const colors = [];\r\n        this._calendarEventTypes = toArray(value).map(x => {\r\n            let color = x.color;\r\n            while (!color) {\r\n                const randomColor = COLORS[Math.floor(Math.random() * COLORS.length)].name;\r\n                color = inArray(colors, randomColor) ? null : randomColor;\r\n            }\r\n            colors.push(color);\r\n            return build(CalendarEventType, x, {\r\n                color\r\n            });\r\n        });\r\n    }\r\n    get calendarEventTypes() {\r\n        return this._calendarEventTypes;\r\n    }\r\n    set calendarDayTypes(value) {\r\n        this._calendarDayTypes = value;\r\n    }\r\n    get calendarDayTypes() {\r\n        const types = Array.isArray(this._calendarDayTypes) && this._calendarDayTypes.length > 0 ? this._calendarDayTypes : this.calendarEventTypes.filter(x => x.allDay);\r\n        return [build(LookupValue, { id: 0, name: '' }), ...types];\r\n    }\r\n    set calendarDays(value) {\r\n        this._calendarDays = value;\r\n    }\r\n    get calendarDays() {\r\n        const d = this._calendarDays && Array.isArray(this._calendarDays)\r\n            ? DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n                const day = build(this.ctor, this._calendarDays.find(x => DateHelper.IsSameDay(date, x.date)));\r\n                const dayType = build(CalendarEventType, this.calendarEventTypes.find(x => x.id ===\r\n                    (day && day.dayType\r\n                        ? day.dayType.id\r\n                        : DateHelper.IsBetween(date, this.startDate, this.endDate)\r\n                            ? DateHelper.IsWeekend(date)\r\n                                ? this.defaultWeekendTypeId\r\n                                : this.defaultWeekdayTypeId\r\n                            : this.defaultInactiveTypeId)));\r\n                return build(this.ctor, day, {\r\n                    date,\r\n                    dayType,\r\n                    isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n                    color: day.dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n                });\r\n            })\r\n            : DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n                const events = this.calendarEvents\r\n                    .filter(event => DateHelper.IsBetween(date, event.startTime, event.endTime) || DateHelper.IsSameDay(date, event.startTime))\r\n                    .map(event => build(CalendarEvent, event, {}));\r\n                const eventTypeId = build(CalendarEvent, events.find(y => y.eventType.allDay)).eventTypeId || (DateHelper.IsWeekend(date) ? this.defaultWeekendTypeId : this.defaultWeekdayTypeId);\r\n                const dayType = build(CalendarEventType, this.calendarEventTypes.find(x => x.id === eventTypeId));\r\n                return build(this.ctor, {\r\n                    date,\r\n                    events,\r\n                    dayType,\r\n                    isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n                    color: dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n                });\r\n            });\r\n        // console.dir(d);\r\n        return d;\r\n    }\r\n    get calendarEvents() {\r\n        return this.calendar.events.map((x, i) => build(CalendarEvent, x, {\r\n            // color: COLORS[i % COLORS.length].name,\r\n            eventType: build(CalendarEventType, this.calendarEventTypes.find(y => y.id === x.eventTypeId))\r\n        }));\r\n    }\r\n    get ctor() {\r\n        return this.dayCtor ? this.dayCtor : CalendarDay;\r\n    }\r\n    get currentYear() {\r\n        return DateHelper.GetYear(this.activeDate);\r\n    }\r\n    get minWidth() {\r\n        return this.showKey ? 960 : 720;\r\n    }\r\n    get monthName() {\r\n        return DateHelper.GetMonthName(this.activeDate);\r\n    }\r\n    get selectedIndex() {\r\n        switch (this.calendarView) {\r\n            case 'DAYS':\r\n                return 1;\r\n            default:\r\n                return 0;\r\n        }\r\n    }\r\n    get shortMonthName() {\r\n        return DateHelper.GetShortMonthName(this.activeDate);\r\n    }\r\n    ngOnInit() { }\r\n    ngOnChanges(changes) {\r\n        // console.dir(changes);\r\n    }\r\n    changeTab(e) {\r\n        switch (e) {\r\n            case 1:\r\n                this.calendarView = 'DAYS';\r\n                break;\r\n            default:\r\n                this.calendarView = null;\r\n        }\r\n    }\r\n    closeOverview() {\r\n        this.activeDay = null;\r\n    }\r\n    editCalendar() {\r\n        this.openDialog(CalendarFormComponent, {\r\n            width: '600px',\r\n            data: {\r\n                calendar: this.calendar,\r\n                calendarFormTemplate: this.calendarFormTemplate\r\n            }\r\n        });\r\n    }\r\n    onDeleteEvent(e) {\r\n        this.deleteEvent.emit(e);\r\n    }\r\n    onSaveEvent(e) {\r\n        if (e.id === 0) {\r\n            this.addEvent.emit(e);\r\n        }\r\n        else {\r\n            this.updateEvent.emit(e);\r\n        }\r\n    }\r\n    toDay(calendarDay) {\r\n        this.activeDate = new Date(calendarDay.date);\r\n        this.activeDay = calendarDay;\r\n        // this.openDialog(CalendarDayEditComponent, {\r\n        //   width: '600px',\r\n        //   data: {\r\n        //     calendarDay,\r\n        //     calendarDayEditTemplate: this.calendarDayEditTemplate,\r\n        //     calendarDayTypes: this.calendarDayTypes,\r\n        //     calendarEventTypes: this.calendarEventTypes\r\n        //   }\r\n        // });\r\n    }\r\n    toLastMonth() {\r\n        this.activeDate = DateHelper.GetFirstDayOfLastMonth(this.activeDate);\r\n    }\r\n    toNextMonth() {\r\n        this.activeDate = DateHelper.GetFirstDayOfNextMonth(this.activeDate);\r\n    }\r\n}\r\n/** @nocollapse */ CalendarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarComponent, deps: [{ token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarComponent, selector: \"iu-calendar\", inputs: { allDayDefault: \"allDayDefault\", calendar: \"calendar\", calendarView: \"calendarView\", dayCtor: \"dayCtor\", defaultInactiveTypeId: \"defaultInactiveTypeId\", defaultWeekdayTypeId: \"defaultWeekdayTypeId\", defaultWeekendTypeId: \"defaultWeekendTypeId\", keyHeading: \"keyHeading\", showActions: \"showActions\", showKey: \"showKey\", startDate: \"startDate\", endDate: \"endDate\", activeDate: \"activeDate\", calendarEventTypes: \"calendarEventTypes\", calendarDayTypes: \"calendarDayTypes\", calendarDays: \"calendarDays\" }, outputs: { addEvent: \"addEvent\", changeActiveDate: \"changeActiveDate\", changeDayType: \"changeDayType\", deleteEvent: \"deleteEvent\", updateCalendar: \"updateCalendar\", updateEvent: \"updateEvent\" }, queries: [{ propertyName: \"actionsTemplate\", first: true, predicate: [\"actionsTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayTemplate\", first: true, predicate: [\"calendarDayTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayEditTemplate\", first: true, predicate: [\"calendarDayEditTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayListItemTemplate\", first: true, predicate: [\"calendarDayListItemTemplate\"], descendants: true, static: true }, { propertyName: \"calendarDayViewTemplate\", first: true, predicate: [\"calendarDayViewTemplate\"], descendants: true, static: true }, { propertyName: \"calendarFormTemplate\", first: true, predicate: [\"calendarFormTemplate\"], descendants: true, static: true }, { propertyName: \"calendarEventFormTemplate\", first: true, predicate: [\"calendarEventFormTemplate\"], descendants: true, static: true }, { propertyName: \"calendarEventViewTemplate\", first: true, predicate: [\"calendarEventViewTemplate\"], descendants: true, static: true }], viewQueries: [{ propertyName: \"calendarViewComponent\", first: true, predicate: CalendarViewComponent, descendants: true, static: true }, { propertyName: \"calendarListComponent\", first: true, predicate: CalendarDaysComponent, descendants: true, static: true }, { propertyName: \"pdfLink\", first: true, predicate: [\"pdfLink\"], descendants: true, static: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div id=\\\"calendar-wrapper\\\" class=\\\"calendar-wrapper\\\" [style.min-width.px]=\\\"minWidth\\\">\\r\\n  <div *ngIf=\\\"showActions\\\" class=\\\"calendar-actions\\\">\\r\\n    <button class=\\\"btn-edit\\\" mat-button color=\\\"primary\\\" (click)=\\\"editCalendar()\\\">\\r\\n      Edit Calendar\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"date-heading-container\\\">\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toLastMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_left</i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div>\\r\\n      <h1 class=\\\"date-heading\\\">{{ monthName }} {{ currentYear }}</h1>\\r\\n    </div>\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toNextMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_right</i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <mat-tab-group (selectedTabChange)=\\\"changeTab($event.index)\\\" [selectedIndex]=\\\"selectedIndex\\\">\\r\\n    <mat-tab label=\\\"Calendar View\\\" id=\\\"calendar-view\\\">\\r\\n      <iu-calendar-view\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"toDay($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-view>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"List View\\\" id=\\\"list-view\\\">\\r\\n      <iu-calendar-days\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayListItemTemplate]=\\\"calendarDayListItemTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n        [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n        (changeDayType)=\\\"changeDayType.emit($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-days>\\r\\n    </mat-tab>\\r\\n  </mat-tab-group>\\r\\n  <a id=\\\"open-pdf\\\" [href]=\\\"fileUrl\\\" target=\\\"_blank\\\" #pdfLink></a>\\r\\n  <iu-calendar-key [calendarEventTypes]=\\\"calendarEventTypes\\\" *ngIf=\\\"showKey\\\" [heading]=\\\"keyHeading\\\"></iu-calendar-key>\\r\\n</div>\\r\\n<div id=\\\"overview\\\" [@overviewState]=\\\"activeDay ? 'open' : 'closed'\\\">\\r\\n  <iu-calendar-day-edit\\r\\n    *ngIf=\\\"activeDay\\\"\\r\\n    [calendarDay]=\\\"activeDay\\\"\\r\\n    [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n    [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n    [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n    [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n    [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n    (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n  >\\r\\n  </iu-calendar-day-edit>\\r\\n  <mat-icon class=\\\"btn-close\\\" *ngIf=\\\"activeDay\\\" (click)=\\\"closeOverview()\\\">close</mat-icon>\\r\\n</div>\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option *ngFor=\\\"let lkp of dayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n      {{ lkp.name }}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option [value]=\\\"1\\\">\\r\\n      1\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"2\\\">\\r\\n      2\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"3\\\">\\r\\n      3\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\", styles: [\".calendar-wrapper{width:98%;margin:0;position:relative;padding:1%}.calendar-wrapper iu-calendar-key{position:absolute;right:0;top:180px;width:20%}.calendar-wrapper .btn-edit{position:absolute;right:50px;top:15px;z-index:2}.calendar-wrapper .date-heading-container{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly}.calendar-wrapper .date-heading-container button{margin:21px 0;color:#fff}.calendar-wrapper .mat-tab-group,.calendar-wrapper .date-heading-container{width:78%;min-width:760px}#overview{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background-color:#fff;height:50%;position:fixed;top:20%;z-index:1000;padding:60px 20px}#overview .mat-icon.btn-close{cursor:pointer;position:absolute;top:16px;right:64px;font-size:64px}@media print{.date-heading-arrow,.mat-tab-label-container{display:none!important}}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3$4.MatTabGroup, selector: \"mat-tab-group\", inputs: [\"color\", \"disableRipple\"], exportAs: [\"matTabGroup\"] }, { type: i3$4.MatTab, selector: \"mat-tab\", inputs: [\"disabled\", \"label\", \"aria-label\", \"aria-labelledby\", \"labelClass\", \"bodyClass\"], exportAs: [\"matTab\"] }, { type: CalendarViewComponent, selector: \"iu-calendar-view\", inputs: [\"activeDate\", \"calendarDayTemplate\", \"calendarDayEditTemplate\", \"calendarDays\", \"calendarEvents\", \"calendarEventTypes\"], outputs: [\"activate\", \"saveEvent\"] }, { type: CalendarDaysComponent, selector: \"iu-calendar-days\", inputs: [\"activeDate\", \"calendarDayEditTemplate\", \"calendarDayListItemTemplate\", \"calendarDayTypes\", \"calendarDays\", \"calendarEvents\", \"calendarEventFormTemplate\", \"calendarEventTypes\", \"calendarEventViewTemplate\"], outputs: [\"changeDayType\", \"saveEvent\"] }, { type: CalendarKeyComponent, selector: \"iu-calendar-key\", inputs: [\"calendarEventTypes\", \"heading\"] }, { type: CalendarDayEditComponent, selector: \"iu-calendar-day-edit\", inputs: [\"calendarDay\", \"calendarDayEditTemplate\", \"calendarEventFormTemplate\", \"calendarEventViewTemplate\", \"calendarDayTypes\", \"calendarEventTypes\"], outputs: [\"saveEvent\", \"changeDayType\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], animations: [\r\n        trigger('overviewState', [\r\n            state('closed', style({\r\n                width: '0px',\r\n                right: '0',\r\n                padding: '0',\r\n                background: 'rgba(0,0,0,0.9)'\r\n            })),\r\n            state('open', style({\r\n                width: '50%',\r\n                right: '25%',\r\n                padding: '75px 30px 60px 30px',\r\n                background: '#fff'\r\n            })),\r\n            transition('closed => open', animate('1000ms ease-in')),\r\n            transition('open => closed', animate('1000ms ease-out'))\r\n        ])\r\n    ], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar', changeDetection: ChangeDetectionStrategy.OnPush, animations: [\r\n                        trigger('overviewState', [\r\n                            state('closed', style({\r\n                                width: '0px',\r\n                                right: '0',\r\n                                padding: '0',\r\n                                background: 'rgba(0,0,0,0.9)'\r\n                            })),\r\n                            state('open', style({\r\n                                width: '50%',\r\n                                right: '25%',\r\n                                padding: '75px 30px 60px 30px',\r\n                                background: '#fff'\r\n                            })),\r\n                            transition('closed => open', animate('1000ms ease-in')),\r\n                            transition('open => closed', animate('1000ms ease-out'))\r\n                        ])\r\n                    ], template: \"<div id=\\\"calendar-wrapper\\\" class=\\\"calendar-wrapper\\\" [style.min-width.px]=\\\"minWidth\\\">\\r\\n  <div *ngIf=\\\"showActions\\\" class=\\\"calendar-actions\\\">\\r\\n    <button class=\\\"btn-edit\\\" mat-button color=\\\"primary\\\" (click)=\\\"editCalendar()\\\">\\r\\n      Edit Calendar\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"date-heading-container\\\">\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toLastMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_left</i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div>\\r\\n      <h1 class=\\\"date-heading\\\">{{ monthName }} {{ currentYear }}</h1>\\r\\n    </div>\\r\\n    <div>\\r\\n      <button class=\\\"date-heading-arrow\\\" mat-mini-fab (click)=\\\"toNextMonth()\\\">\\r\\n        <i class=\\\"material-icons\\\">keyboard_arrow_right</i>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n  <mat-tab-group (selectedTabChange)=\\\"changeTab($event.index)\\\" [selectedIndex]=\\\"selectedIndex\\\">\\r\\n    <mat-tab label=\\\"Calendar View\\\" id=\\\"calendar-view\\\">\\r\\n      <iu-calendar-view\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayTemplate]=\\\"calendarDayTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        (activate)=\\\"toDay($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-view>\\r\\n    </mat-tab>\\r\\n    <mat-tab label=\\\"List View\\\" id=\\\"list-view\\\">\\r\\n      <iu-calendar-days\\r\\n        [activeDate]=\\\"activeDate\\\"\\r\\n        [calendarDays]=\\\"calendarDays\\\"\\r\\n        [calendarEvents]=\\\"calendarEvents\\\"\\r\\n        [calendarDayListItemTemplate]=\\\"calendarDayListItemTemplate\\\"\\r\\n        [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n        [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n        [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n        [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n        [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n        (changeDayType)=\\\"changeDayType.emit($event)\\\"\\r\\n        (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n      ></iu-calendar-days>\\r\\n    </mat-tab>\\r\\n  </mat-tab-group>\\r\\n  <a id=\\\"open-pdf\\\" [href]=\\\"fileUrl\\\" target=\\\"_blank\\\" #pdfLink></a>\\r\\n  <iu-calendar-key [calendarEventTypes]=\\\"calendarEventTypes\\\" *ngIf=\\\"showKey\\\" [heading]=\\\"keyHeading\\\"></iu-calendar-key>\\r\\n</div>\\r\\n<div id=\\\"overview\\\" [@overviewState]=\\\"activeDay ? 'open' : 'closed'\\\">\\r\\n  <iu-calendar-day-edit\\r\\n    *ngIf=\\\"activeDay\\\"\\r\\n    [calendarDay]=\\\"activeDay\\\"\\r\\n    [calendarDayEditTemplate]=\\\"calendarDayEditTemplate\\\"\\r\\n    [calendarDayTypes]=\\\"calendarDayTypes\\\"\\r\\n    [calendarEventFormTemplate]=\\\"calendarEventFormTemplate\\\"\\r\\n    [calendarEventViewTemplate]=\\\"calendarEventViewTemplate\\\"\\r\\n    [calendarEventTypes]=\\\"calendarEventTypes\\\"\\r\\n    (saveEvent)=\\\"onSaveEvent($event)\\\"\\r\\n  >\\r\\n  </iu-calendar-day-edit>\\r\\n  <mat-icon class=\\\"btn-close\\\" *ngIf=\\\"activeDay\\\" (click)=\\\"closeOverview()\\\">close</mat-icon>\\r\\n</div>\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option *ngFor=\\\"let lkp of dayTypes\\\" [value]=\\\"lkp.id\\\">\\r\\n      {{ lkp.name }}\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\\r\\n<!-- <mat-form-field>\\r\\n  <mat-select placeholder=\\\"Calendar Day Type\\\">\\r\\n    <mat-option [value]=\\\"1\\\">\\r\\n      1\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"2\\\">\\r\\n      2\\r\\n    </mat-option>\\r\\n    <mat-option [value]=\\\"3\\\">\\r\\n      3\\r\\n    </mat-option>\\r\\n  </mat-select>\\r\\n</mat-form-field> -->\\r\\n\", styles: [\".calendar-wrapper{width:98%;margin:0;position:relative;padding:1%}.calendar-wrapper iu-calendar-key{position:absolute;right:0;top:180px;width:20%}.calendar-wrapper .btn-edit{position:absolute;right:50px;top:15px;z-index:2}.calendar-wrapper .date-heading-container{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly}.calendar-wrapper .date-heading-container button{margin:21px 0;color:#fff}.calendar-wrapper .mat-tab-group,.calendar-wrapper .date-heading-container{width:78%;min-width:760px}#overview{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background-color:#fff;height:50%;position:fixed;top:20%;z-index:1000;padding:60px 20px}#overview .mat-icon.btn-close{cursor:pointer;position:absolute;top:16px;right:64px;font-size:64px}@media print{.date-heading-arrow,.mat-tab-label-container{display:none!important}}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$2.MatDialog }]; }, propDecorators: { allDayDefault: [{\r\n                type: Input\r\n            }], calendar: [{\r\n                type: Input\r\n            }], calendarView: [{\r\n                type: Input\r\n            }], dayCtor: [{\r\n                type: Input\r\n            }], defaultInactiveTypeId: [{\r\n                type: Input\r\n            }], defaultWeekdayTypeId: [{\r\n                type: Input\r\n            }], defaultWeekendTypeId: [{\r\n                type: Input\r\n            }], keyHeading: [{\r\n                type: Input\r\n            }], showActions: [{\r\n                type: Input\r\n            }], showKey: [{\r\n                type: Input\r\n            }], startDate: [{\r\n                type: Input\r\n            }], endDate: [{\r\n                type: Input\r\n            }], addEvent: [{\r\n                type: Output\r\n            }], changeActiveDate: [{\r\n                type: Output\r\n            }], changeDayType: [{\r\n                type: Output\r\n            }], deleteEvent: [{\r\n                type: Output\r\n            }], updateCalendar: [{\r\n                type: Output\r\n            }], updateEvent: [{\r\n                type: Output\r\n            }], calendarViewComponent: [{\r\n                type: ViewChild,\r\n                args: [CalendarViewComponent, { static: true }]\r\n            }], calendarListComponent: [{\r\n                type: ViewChild,\r\n                args: [CalendarDaysComponent, { static: true }]\r\n            }], actionsTemplate: [{\r\n                type: ContentChild,\r\n                args: ['actionsTemplate', { static: true }]\r\n            }], calendarDayTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayTemplate', { static: true }]\r\n            }], calendarDayEditTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayEditTemplate', { static: true }]\r\n            }], calendarDayListItemTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayListItemTemplate', { static: true }]\r\n            }], calendarDayViewTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarDayViewTemplate', { static: true }]\r\n            }], calendarFormTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarFormTemplate', { static: true }]\r\n            }], calendarEventFormTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarEventFormTemplate', { static: true }]\r\n            }], calendarEventViewTemplate: [{\r\n                type: ContentChild,\r\n                args: ['calendarEventViewTemplate', { static: true }]\r\n            }], pdfLink: [{\r\n                type: ViewChild,\r\n                args: ['pdfLink', { static: true }]\r\n            }], activeDate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], calendarDayTypes: [{\r\n                type: Input\r\n            }], calendarDays: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarEventFormComponent extends FormComponent {\r\n    constructor(dialogRef, data) {\r\n        super();\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        this._allDayDefault = false;\r\n        this._calendarEvent = new CalendarEvent();\r\n        this._calendarEventTypes = [];\r\n    }\r\n    get allDay() {\r\n        const event = this.calendarEvent;\r\n        return event.id === 0 ? this.allDayDefault : event.allDay;\r\n    }\r\n    set allDayDefault(value) {\r\n        this._allDayDefault = value;\r\n    }\r\n    get allDayDefault() {\r\n        return this.data['allDayDefault'] || this._allDayDefault;\r\n    }\r\n    set calendarEvent(value) {\r\n        this._calendarEvent = value;\r\n    }\r\n    get calendarEvent() {\r\n        return this.data['calendarEvent'] || this._calendarEvent;\r\n    }\r\n    set calendarEventFormTemplate(value) {\r\n        this._calendarEventFormTemplate = value;\r\n    }\r\n    get calendarEventFormTemplate() {\r\n        return this.data['calendarEventFormTemplate'] || this._calendarEventFormTemplate;\r\n    }\r\n    get editing() {\r\n        return this.calendarEvent.id !== 0;\r\n    }\r\n    set calendarEventTypes(value) {\r\n        this._calendarEventTypes = value;\r\n    }\r\n    get calendarEventTypes() {\r\n        return this.data && this.data['calendarEventTypes'] ? this.data['calendarEventTypes'] : this._calendarEventTypes;\r\n    }\r\n    get showTime() {\r\n        return !this.form.controls['allDay'].value;\r\n    }\r\n    get valueOut() {\r\n        return build(CalendarEvent, this.form.value, {\r\n            description: this.form.value.eventName,\r\n            eventName: this.form.value.eventTypeId ? build(LookupValue, this.calendarEventTypes.find(x => x.id === this.form.value.eventTypeId)).name : this.form.value.eventName,\r\n            calendarId: this.data.calendarId\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.setValue(build(CalendarEvent, this.calendarEvent, {\r\n            allDay: this.allDay\r\n        }));\r\n    }\r\n    close(calendarEvent, action) {\r\n        if (this.dialogRef && this.dialogRef.close) {\r\n            this.dialogRef.close({ calendarEvent, action });\r\n        }\r\n    }\r\n    delete() {\r\n        if (this.form.valid) {\r\n            this.close(this.valueOut, 'DELETE');\r\n        }\r\n    }\r\n    save() {\r\n        if (this.form.valid) {\r\n            this.close(this.valueOut, 'SAVE');\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarEventFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventFormComponent, deps: [{ token: i1$2.MatDialogRef, optional: true }, { token: MAT_DIALOG_DATA, optional: true }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarEventFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarEventFormComponent, selector: \"iu-calendar-event-form\", inputs: { allDayDefault: \"allDayDefault\", calendarEvent: \"calendarEvent\", calendarEventFormTemplate: \"calendarEventFormTemplate\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"calendar-form scrollable\\\">\\r\\n  <h1 *ngIf=\\\"!editing\\\">New Event</h1>\\r\\n  <h1 *ngIf=\\\"editing\\\">Edit Event</h1>\\r\\n  <!-- <mat-form-field *ngIf=\\\"data.editing != false && hideSelect === false\\\">\\r\\n    <mat-select\\r\\n      placeholder=\\\"Event to Edit\\\"\\r\\n      (selectionChange)=\\\"eventSelected($event)\\\"\\r\\n    >\\r\\n      <mat-option *ngFor=\\\"let event of eventsToday\\\" [value]=\\\"event\\\">\\r\\n        {{ event.eventName }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n  <button\\r\\n    mat-fab\\r\\n    color=\\\"warn\\\"\\r\\n    style=\\\"float: right;\\\"\\r\\n    (click)=\\\"deleteEvent(eventChosen)\\\"\\r\\n    *ngIf=\\\"\\r\\n      eventChosen.length > 0 && data.editing != false && noEvents === false\\r\\n    \\\"\\r\\n  >\\r\\n    <i class=\\\"material-icons\\\">delete </i>\\r\\n  </button>\\r\\n  <h1 *ngIf=\\\"noEvents === true\\\">No Events To Edit</h1> -->\\r\\n  <div *ngIf=\\\"calendarEventFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarEventFormTemplate;\\r\\n        context: {\\r\\n          calendarEvent: calendarEvent,\\r\\n          form: form,\\r\\n          save: save,\\r\\n          delete: delete,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    >\\r\\n    </ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarEventFormTemplate\\\">\\r\\n    <mat-form-field class=\\\"event-name\\\">\\r\\n      <input type=\\\"text\\\" formControlName=\\\"name\\\" matInput placeholder=\\\"Event Name\\\" />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"event-type\\\" *ngIf=\\\"calendarEventTypes\\\">\\r\\n      <mat-select placeholder=\\\"Event Type\\\" formControlName=\\\"eventTypeId\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarEventTypes\\\" [value]=\\\"lkp.id\\\"> {{ lkp.name }}</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n    <mat-checkbox class=\\\"all-day\\\" formControlName=\\\"allDay\\\">All Day Event</mat-checkbox>\\r\\n\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"startTime\\\" label=\\\"Start Time\\\"></iu-time-control>\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"endTime\\\" label=\\\"End Time\\\"></iu-time-control>\\r\\n    <button *ngIf=\\\"editing\\\" mat-raised-button class=\\\"btn-delete\\\" (click)=\\\"delete()\\\">\\r\\n      Delete\\r\\n    </button>\\r\\n    <button mat-raised-button color=\\\"accent\\\" class=\\\"btn-save\\\" (click)=\\\"save()\\\">\\r\\n      Save\\r\\n    </button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\".calendar-form{position:relative;overflow:auto}.calendar-form h1{margin-top:0}.calendar-form .event-name{margin-right:4%}.calendar-form .event-name,.calendar-form .event-type{width:344px;width:48%}.calendar-form .all-day{position:absolute;top:174px;right:30px}.calendar-form .mat-raised-button{font-size:16px;position:absolute;bottom:10px}.calendar-form .mat-raised-button.btn-delete{color:#fff;background-color:red;right:85px}.calendar-form .mat-raised-button.btn-save{color:#fff;background-color:green;right:10px}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { type: i2$3.MatSelect, selector: \"mat-select\", inputs: [\"disabled\", \"disableRipple\", \"tabIndex\"], exportAs: [\"matSelect\"] }, { type: i3$1.MatOption, selector: \"mat-option\", exportAs: [\"matOption\"] }, { type: i4.MatCheckbox, selector: \"mat-checkbox\", inputs: [\"disableRipple\", \"color\", \"tabIndex\", \"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"id\", \"required\", \"labelPosition\", \"name\", \"value\", \"checked\", \"disabled\", \"indeterminate\"], outputs: [\"change\", \"indeterminateChange\"], exportAs: [\"matCheckbox\"] }, { type: TimeControlComponent, selector: \"iu-time-control\", inputs: [\"label\", \"isDisabled\", \"value\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }] });\r\n__decorate([\r\n    Control(CalendarEvent),\r\n    __metadata(\"design:type\", FormGroup)\r\n], CalendarEventFormComponent.prototype, \"form\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventFormComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-event-form', template: \"<div class=\\\"calendar-form scrollable\\\">\\r\\n  <h1 *ngIf=\\\"!editing\\\">New Event</h1>\\r\\n  <h1 *ngIf=\\\"editing\\\">Edit Event</h1>\\r\\n  <!-- <mat-form-field *ngIf=\\\"data.editing != false && hideSelect === false\\\">\\r\\n    <mat-select\\r\\n      placeholder=\\\"Event to Edit\\\"\\r\\n      (selectionChange)=\\\"eventSelected($event)\\\"\\r\\n    >\\r\\n      <mat-option *ngFor=\\\"let event of eventsToday\\\" [value]=\\\"event\\\">\\r\\n        {{ event.eventName }}\\r\\n      </mat-option>\\r\\n    </mat-select>\\r\\n  </mat-form-field>\\r\\n  <button\\r\\n    mat-fab\\r\\n    color=\\\"warn\\\"\\r\\n    style=\\\"float: right;\\\"\\r\\n    (click)=\\\"deleteEvent(eventChosen)\\\"\\r\\n    *ngIf=\\\"\\r\\n      eventChosen.length > 0 && data.editing != false && noEvents === false\\r\\n    \\\"\\r\\n  >\\r\\n    <i class=\\\"material-icons\\\">delete </i>\\r\\n  </button>\\r\\n  <h1 *ngIf=\\\"noEvents === true\\\">No Events To Edit</h1> -->\\r\\n  <div *ngIf=\\\"calendarEventFormTemplate\\\">\\r\\n    <ng-container\\r\\n      *ngTemplateOutlet=\\\"\\r\\n        calendarEventFormTemplate;\\r\\n        context: {\\r\\n          calendarEvent: calendarEvent,\\r\\n          form: form,\\r\\n          save: save,\\r\\n          delete: delete,\\r\\n          dialogRef: dialogRef\\r\\n        }\\r\\n      \\\"\\r\\n    >\\r\\n    </ng-container>\\r\\n  </div>\\r\\n\\r\\n  <form [formGroup]=\\\"form\\\" *ngIf=\\\"!calendarEventFormTemplate\\\">\\r\\n    <mat-form-field class=\\\"event-name\\\">\\r\\n      <input type=\\\"text\\\" formControlName=\\\"name\\\" matInput placeholder=\\\"Event Name\\\" />\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"event-type\\\" *ngIf=\\\"calendarEventTypes\\\">\\r\\n      <mat-select placeholder=\\\"Event Type\\\" formControlName=\\\"eventTypeId\\\">\\r\\n        <mat-option *ngFor=\\\"let lkp of calendarEventTypes\\\" [value]=\\\"lkp.id\\\"> {{ lkp.name }}</mat-option>\\r\\n      </mat-select>\\r\\n    </mat-form-field>\\r\\n    <mat-checkbox class=\\\"all-day\\\" formControlName=\\\"allDay\\\">All Day Event</mat-checkbox>\\r\\n\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"startTime\\\" label=\\\"Start Time\\\"></iu-time-control>\\r\\n    <iu-time-control *ngIf=\\\"showTime\\\" formControlName=\\\"endTime\\\" label=\\\"End Time\\\"></iu-time-control>\\r\\n    <button *ngIf=\\\"editing\\\" mat-raised-button class=\\\"btn-delete\\\" (click)=\\\"delete()\\\">\\r\\n      Delete\\r\\n    </button>\\r\\n    <button mat-raised-button color=\\\"accent\\\" class=\\\"btn-save\\\" (click)=\\\"save()\\\">\\r\\n      Save\\r\\n    </button>\\r\\n  </form>\\r\\n</div>\\r\\n\", styles: [\".calendar-form{position:relative;overflow:auto}.calendar-form h1{margin-top:0}.calendar-form .event-name{margin-right:4%}.calendar-form .event-name,.calendar-form .event-type{width:344px;width:48%}.calendar-form .all-day{position:absolute;top:174px;right:30px}.calendar-form .mat-raised-button{font-size:16px;position:absolute;bottom:10px}.calendar-form .mat-raised-button.btn-delete{color:#fff;background-color:red;right:85px}.calendar-form .mat-raised-button.btn-save{color:#fff;background-color:green;right:10px}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$2.MatDialogRef, decorators: [{\r\n                        type: Optional\r\n                    }] }, { type: undefined, decorators: [{\r\n                        type: Optional\r\n                    }, {\r\n                        type: Inject,\r\n                        args: [MAT_DIALOG_DATA]\r\n                    }] }];\r\n    }, propDecorators: { form: [], allDayDefault: [{\r\n                type: Input\r\n            }], calendarEvent: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }] } });\n\nclass CalendarEventComponent extends DumbComponent {\r\n    constructor(dialog, calendarComponent) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.calendarComponent = calendarComponent;\r\n        this.calendarEvent = new CalendarEvent();\r\n        this.calendarEventTypes = [];\r\n        this.plusMore = 0;\r\n        this.goToDay = new EventEmitter();\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    closeDialog(e) {\r\n        if (e) {\r\n            switch (e.action) {\r\n                case 'DELETE':\r\n                    this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n                    break;\r\n                case 'SAVE':\r\n                    this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n                    break;\r\n            }\r\n        }\r\n        super.closeDialog(e);\r\n    }\r\n    editEvent() {\r\n        if (!this.plusMore) {\r\n            this.openDialog(CalendarEventFormComponent, {\r\n                width: '600px',\r\n                data: {\r\n                    allDayDefault: this.calendarComponent.allDayDefault,\r\n                    calendarEvent: this.calendarEvent,\r\n                    calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n                    calendarEventTypes: this.calendarEventTypes\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ CalendarEventComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventComponent, deps: [{ token: i1$2.MatDialog }, { token: CalendarComponent }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarEventComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarEventComponent, selector: \"iu-calendar-event\", inputs: { calendarEvent: \"calendarEvent\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventTypes: \"calendarEventTypes\", plusMore: \"plusMore\" }, outputs: { goToDay: \"goToDay\", saveEvent: \"saveEvent\" }, usesInheritance: true, ngImport: i0, template: \"<div *ngIf=\\\"!plusMore\\\" class=\\\"calendar-event\\\" (click)=\\\"editEvent()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\" [style.background]=\\\"calendarEvent.color\\\">\\r\\n    {{ calendarEvent.name }}\\r\\n  </p>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"plusMore\\\" class=\\\"calendar-event plus-more\\\" (click)=\\\"goToDay.emit()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\">+ {{ plusMore }} events</p>\\r\\n</div>\\r\\n\\r\\n<!-- <span *ngIf=\\\"calendarEvent.allDay != true\\\">\\r\\n    {{ calendarEvent.startHour }}:<span *ngIf=\\\"calendarEvent.startMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.startMinute }} {{ calendarEvent.startTimePeriod }}\\r\\n    -\\r\\n    {{ calendarEvent.endHour }}:<span *ngIf=\\\"calendarEvent.endMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.endMinute }} {{ calendarEvent.endTimePeriod }}\\r\\n  </span>\\r\\n  <span *ngIf=\\\"calendarEvent.allDay != false\\\">All Day</span> -->\\r\\n\", styles: [\".calendar-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;cursor:pointer;width:90%;margin:0 5%}.calendar-event .calendar-event-name{line-height:20px;font-size:15px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .25s;margin:5px 0;height:20px}.calendar-event.plus-more{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event.plus-more .calendar-event-name{font-size:17px}.calendar-event.plus-more:hover{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event:hover{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:700}\\n\"], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-event', template: \"<div *ngIf=\\\"!plusMore\\\" class=\\\"calendar-event\\\" (click)=\\\"editEvent()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\" [style.background]=\\\"calendarEvent.color\\\">\\r\\n    {{ calendarEvent.name }}\\r\\n  </p>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"plusMore\\\" class=\\\"calendar-event plus-more\\\" (click)=\\\"goToDay.emit()\\\">\\r\\n  <p class=\\\"calendar-event-name\\\">+ {{ plusMore }} events</p>\\r\\n</div>\\r\\n\\r\\n<!-- <span *ngIf=\\\"calendarEvent.allDay != true\\\">\\r\\n    {{ calendarEvent.startHour }}:<span *ngIf=\\\"calendarEvent.startMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.startMinute }} {{ calendarEvent.startTimePeriod }}\\r\\n    -\\r\\n    {{ calendarEvent.endHour }}:<span *ngIf=\\\"calendarEvent.endMinute < 10\\\"\\r\\n      >0</span\\r\\n    >{{ calendarEvent.endMinute }} {{ calendarEvent.endTimePeriod }}\\r\\n  </span>\\r\\n  <span *ngIf=\\\"calendarEvent.allDay != false\\\">All Day</span> -->\\r\\n\", styles: [\".calendar-event{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;cursor:pointer;width:90%;margin:0 5%}.calendar-event .calendar-event-name{line-height:20px;font-size:15px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .25s;margin:5px 0;height:20px}.calendar-event.plus-more{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event.plus-more .calendar-event-name{font-size:17px}.calendar-event.plus-more:hover{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.calendar-event:hover{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$2.MatDialog }, { type: CalendarComponent, decorators: [{\r\n                        type: Inject,\r\n                        args: [CalendarComponent]\r\n                    }] }];\r\n    }, propDecorators: { calendarEvent: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], plusMore: [{\r\n                type: Input\r\n            }], goToDay: [{\r\n                type: Output\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarEventViewComponent extends DumbComponent {\r\n    constructor(dialog, calendarComponent) {\r\n        super();\r\n        this.dialog = dialog;\r\n        this.calendarComponent = calendarComponent;\r\n        this.calendarEvent = new CalendarEvent();\r\n        this.calendarEventTypes = [];\r\n        this.saveEvent = new EventEmitter();\r\n    }\r\n    ngOnInit() { }\r\n    closeDialog(e) {\r\n        if (e) {\r\n            switch (e.action) {\r\n                case 'DELETE':\r\n                    this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n                    break;\r\n                case 'ADD':\r\n                    this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n                    break;\r\n            }\r\n        }\r\n        super.closeDialog(e);\r\n    }\r\n    editEvent() {\r\n        this.openDialog(CalendarEventFormComponent, {\r\n            width: '600px',\r\n            data: {\r\n                allDayDefault: this.calendarComponent.allDayDefault,\r\n                calendarEvent: this.calendarEvent,\r\n                calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n                calendarEventTypes: this.calendarEventTypes\r\n            }\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ CalendarEventViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventViewComponent, deps: [{ token: i1$2.MatDialog }, { token: CalendarComponent }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarEventViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarEventViewComponent, selector: \"iu-calendar-event-view\", inputs: { calendarEvent: \"calendarEvent\", calendarEventFormTemplate: \"calendarEventFormTemplate\", calendarEventTypes: \"calendarEventTypes\", calendarEventViewTemplate: \"calendarEventViewTemplate\" }, outputs: { saveEvent: \"saveEvent\" }, usesInheritance: true, ngImport: i0, template: \"<div class=\\\"event-view\\\" *ngIf=\\\"calendarEventViewTemplate\\\">\\r\\n  <ng-container\\r\\n    *ngTemplateOutlet=\\\"\\r\\n      calendarEventViewTemplate;\\r\\n      context: {\\r\\n        calendarEvent: calendarEvent\\r\\n      }\\r\\n    \\\"\\r\\n  >\\r\\n  </ng-container>\\r\\n</div>\\r\\n<div class=\\\"event-view\\\" *ngIf=\\\"!calendarEventViewTemplate\\\">\\r\\n  <div *ngIf=\\\"!calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    {{ calendarEvent.startTime | date: 'shortTime' }} -\\r\\n    {{ calendarEvent.endTime | date: 'shortTime' }}:\\r\\n  </div>\\r\\n  <div *ngIf=\\\"calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    ALL DAY\\r\\n  </div>\\r\\n  <div class=\\\"event-name\\\">{{ calendarEvent.name }}</div>\\r\\n  <mat-icon color=\\\"primary\\\" (click)=\\\"editEvent()\\\">edit</mat-icon>\\r\\n  <!-- <p class=\\\"event-description\\\">{{ calendarEvent.description }}</p> -->\\r\\n</div>\\r\\n\", styles: [\".event-view{display:flex;flex-direction:row;justify-content:flex-start;margin:10px 0}.event-view .timeframe{margin-left:10px}.event-view .event-name{margin:0 10px;font-weight:700}.event-view .event-description{font-style:italic}.event-view .mat-icon{cursor:pointer;line-height:12px;margin:0 10px}.event-view .mat-icon:hover{font-weight:700}\\n\"], components: [{ type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], pipes: { \"date\": i2$1.DatePipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarEventViewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-event-view', template: \"<div class=\\\"event-view\\\" *ngIf=\\\"calendarEventViewTemplate\\\">\\r\\n  <ng-container\\r\\n    *ngTemplateOutlet=\\\"\\r\\n      calendarEventViewTemplate;\\r\\n      context: {\\r\\n        calendarEvent: calendarEvent\\r\\n      }\\r\\n    \\\"\\r\\n  >\\r\\n  </ng-container>\\r\\n</div>\\r\\n<div class=\\\"event-view\\\" *ngIf=\\\"!calendarEventViewTemplate\\\">\\r\\n  <div *ngIf=\\\"!calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    {{ calendarEvent.startTime | date: 'shortTime' }} -\\r\\n    {{ calendarEvent.endTime | date: 'shortTime' }}:\\r\\n  </div>\\r\\n  <div *ngIf=\\\"calendarEvent.allDay\\\" class=\\\"timeframe\\\">\\r\\n    ALL DAY\\r\\n  </div>\\r\\n  <div class=\\\"event-name\\\">{{ calendarEvent.name }}</div>\\r\\n  <mat-icon color=\\\"primary\\\" (click)=\\\"editEvent()\\\">edit</mat-icon>\\r\\n  <!-- <p class=\\\"event-description\\\">{{ calendarEvent.description }}</p> -->\\r\\n</div>\\r\\n\", styles: [\".event-view{display:flex;flex-direction:row;justify-content:flex-start;margin:10px 0}.event-view .timeframe{margin-left:10px}.event-view .event-name{margin:0 10px;font-weight:700}.event-view .event-description{font-style:italic}.event-view .mat-icon{cursor:pointer;line-height:12px;margin:0 10px}.event-view .mat-icon:hover{font-weight:700}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$2.MatDialog }, { type: CalendarComponent, decorators: [{\r\n                        type: Inject,\r\n                        args: [CalendarComponent]\r\n                    }] }];\r\n    }, propDecorators: { calendarEvent: [{\r\n                type: Input\r\n            }], calendarEventFormTemplate: [{\r\n                type: Input\r\n            }], calendarEventTypes: [{\r\n                type: Input\r\n            }], calendarEventViewTemplate: [{\r\n                type: Input\r\n            }], saveEvent: [{\r\n                type: Output\r\n            }] } });\n\nclass CalendarDayViewComponent {\r\n    constructor() { }\r\n    ngOnInit() {\r\n    }\r\n}\r\n/** @nocollapse */ CalendarDayViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayViewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ CalendarDayViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: CalendarDayViewComponent, selector: \"iu-calendar-day-view\", ngImport: i0, template: \"<p>\\r\\n  calendar-day-view works!\\r\\n</p>\\r\\n\", styles: [\"\"] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarDayViewComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-calendar-day-view', template: \"<p>\\r\\n  calendar-day-view works!\\r\\n</p>\\r\\n\", styles: [\"\"] }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass CalendarModule {\r\n}\r\n/** @nocollapse */ CalendarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ CalendarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, declarations: [CalendarComponent,\r\n        CalendarDayComponent,\r\n        CalendarDaysComponent,\r\n        CalendarEventComponent,\r\n        CalendarViewComponent,\r\n        CalendarDayEditComponent,\r\n        CalendarFormComponent,\r\n        CalendarEventFormComponent,\r\n        CalendarEventViewComponent,\r\n        CalendarDayViewComponent,\r\n        CalendarKeyComponent,\r\n        CalendarDayEventsComponent], imports: [SharedModule,\r\n        FormsModule,\r\n        MatButtonModule,\r\n        MatCheckboxModule,\r\n        MatFormFieldModule,\r\n        MatIconModule,\r\n        MatInputModule,\r\n        MatSelectModule,\r\n        MatTabsModule,\r\n        MatToolbarModule,\r\n        TimeModule,\r\n        AccordionModule], exports: [CalendarComponent,\r\n        CalendarDayComponent,\r\n        CalendarDaysComponent,\r\n        CalendarEventComponent] });\r\n/** @nocollapse */ CalendarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, imports: [[\r\n            SharedModule,\r\n            FormsModule,\r\n            MatButtonModule,\r\n            MatCheckboxModule,\r\n            MatFormFieldModule,\r\n            MatIconModule,\r\n            MatInputModule,\r\n            MatSelectModule,\r\n            MatTabsModule,\r\n            MatToolbarModule,\r\n            TimeModule,\r\n            AccordionModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CalendarModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        CalendarComponent,\r\n                        CalendarDayComponent,\r\n                        CalendarDaysComponent,\r\n                        CalendarEventComponent,\r\n                        CalendarViewComponent,\r\n                        CalendarDayEditComponent,\r\n                        CalendarFormComponent,\r\n                        CalendarEventFormComponent,\r\n                        CalendarEventViewComponent,\r\n                        CalendarDayViewComponent,\r\n                        CalendarKeyComponent,\r\n                        CalendarDayEventsComponent\r\n                    ],\r\n                    imports: [\r\n                        SharedModule,\r\n                        FormsModule,\r\n                        MatButtonModule,\r\n                        MatCheckboxModule,\r\n                        MatFormFieldModule,\r\n                        MatIconModule,\r\n                        MatInputModule,\r\n                        MatSelectModule,\r\n                        MatTabsModule,\r\n                        MatToolbarModule,\r\n                        TimeModule,\r\n                        AccordionModule\r\n                    ],\r\n                    exports: [\r\n                        CalendarComponent,\r\n                        CalendarDayComponent,\r\n                        CalendarDaysComponent,\r\n                        CalendarEventComponent\r\n                    ]\r\n                }]\r\n        }] });\n\nclass EditorWindowComponent {\r\n    constructor(data, dialogRef) {\r\n        this.data = data;\r\n        this.dialogRef = dialogRef;\r\n        this.actionWidth = '100%';\r\n    }\r\n    get actions() {\r\n        return [build(DialogAction, { value: this.data, label: 'Save and Close' })];\r\n    }\r\n    get dialog() {\r\n        return build(DialogModel, {\r\n            title: this.title,\r\n            actions: this.actions\r\n        });\r\n    }\r\n    get title() {\r\n        return 'Editor';\r\n    }\r\n    close() {\r\n        this.dialogRef.close(this.data);\r\n    }\r\n    update(e) {\r\n        this.data = e.editor.getContent();\r\n    }\r\n}\r\n/** @nocollapse */ EditorWindowComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorWindowComponent, deps: [{ token: MAT_DIALOG_DATA }, { token: i1$2.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ EditorWindowComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: EditorWindowComponent, selector: \"iu-editor-window\", ngImport: i0, template: \"<span id=\\\"editor-window\\\">\\r\\n  <mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      {{ title }}\\r\\n    </span>\\r\\n    <button mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content>\\r\\n    <div id=\\\"expanded-editor\\\">\\r\\n      <!-- <iu-editor [expanded]=\\\"true\\\" [initialValue]=\\\"data\\\" (onChange)=\\\"update($event)\\\"></iu-editor> -->\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-raised-button (click)=\\\"close()\\\" [style.width]=\\\"actionWidth\\\" color=\\\"accent\\\">Save and Close</button>\\r\\n  </mat-dialog-actions>\\r\\n</span>\\r\\n\", styles: [\"#editor-window #expanded-editor{margin:0;padding:5vh 0vh 0vh;height:55vh}#editor-window .mat-toolbar{margin:0;width:100%;min-height:32px!important}#editor-window .mat-toolbar .mat-toolbar-row{height:48px}#editor-window .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}#editor-window .mat-toolbar button{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;cursor:pointer;position:absolute;right:5px;top:5px;border-radius:100%;height:42px;width:42px;min-width:36px}#editor-window .mat-toolbar button:hover{font-weight:700}#editor-window .mat-toolbar button:hover mat-icon{font-weight:700}#editor-window .mat-toolbar mat-icon{position:absolute;top:9px;right:8px;z-index:1}#editor-window .mat-toolbar-row{height:48px}#editor-window .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}#editor-window .mat-dialog-actions button{padding:12px 0}#editor-window .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"], components: [{ type: i2.MatToolbar, selector: \"mat-toolbar\", inputs: [\"color\"], exportAs: [\"matToolbar\"] }, { type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i1$2.MatDialogTitle, selector: \"[mat-dialog-title], [matDialogTitle]\", inputs: [\"id\"], exportAs: [\"matDialogTitle\"] }, { type: i1$2.MatDialogClose, selector: \"[mat-dialog-close], [matDialogClose]\", inputs: [\"aria-label\", \"type\", \"mat-dialog-close\", \"matDialogClose\"], exportAs: [\"matDialogClose\"] }, { type: i1$2.MatDialogContent, selector: \"[mat-dialog-content], mat-dialog-content, [matDialogContent]\" }, { type: i1$2.MatDialogActions, selector: \"[mat-dialog-actions], mat-dialog-actions, [matDialogActions]\" }], encapsulation: i0.ViewEncapsulation.None });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorWindowComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-editor-window', encapsulation: ViewEncapsulation.None, template: \"<span id=\\\"editor-window\\\">\\r\\n  <mat-toolbar color=\\\"primary\\\" mat-dialog-title>\\r\\n    <span class=\\\"dialog-title\\\">\\r\\n      {{ title }}\\r\\n    </span>\\r\\n    <button mat-button [mat-dialog-close]=\\\"null\\\">\\r\\n      <mat-icon>close</mat-icon>\\r\\n    </button>\\r\\n  </mat-toolbar>\\r\\n  <mat-dialog-content>\\r\\n    <div id=\\\"expanded-editor\\\">\\r\\n      <!-- <iu-editor [expanded]=\\\"true\\\" [initialValue]=\\\"data\\\" (onChange)=\\\"update($event)\\\"></iu-editor> -->\\r\\n    </div>\\r\\n  </mat-dialog-content>\\r\\n  <mat-dialog-actions>\\r\\n    <button mat-raised-button (click)=\\\"close()\\\" [style.width]=\\\"actionWidth\\\" color=\\\"accent\\\">Save and Close</button>\\r\\n  </mat-dialog-actions>\\r\\n</span>\\r\\n\", styles: [\"#editor-window #expanded-editor{margin:0;padding:5vh 0vh 0vh;height:55vh}#editor-window .mat-toolbar{margin:0;width:100%;min-height:32px!important}#editor-window .mat-toolbar .mat-toolbar-row{height:48px}#editor-window .mat-toolbar .dialog-title{position:relative;height:calc(100% - 8px);width:100%;margin-top:8px}#editor-window .mat-toolbar button{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;cursor:pointer;position:absolute;right:5px;top:5px;border-radius:100%;height:42px;width:42px;min-width:36px}#editor-window .mat-toolbar button:hover{font-weight:700}#editor-window .mat-toolbar button:hover mat-icon{font-weight:700}#editor-window .mat-toolbar mat-icon{position:absolute;top:9px;right:8px;z-index:1}#editor-window .mat-toolbar-row{height:48px}#editor-window .mat-dialog-actions{margin-left:-24px;margin-right:-24px;color:#fff;padding:0}#editor-window .mat-dialog-actions button{padding:12px 0}#editor-window .mat-dialog-actions .mat-accent{color:#fff!important}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [MAT_DIALOG_DATA]\r\n                    }] }, { type: i1$2.MatDialogRef }];\r\n    } });\n\nclass Events {\r\n    constructor() {\r\n        this.onBeforePaste = new EventEmitter();\r\n        this.onBlur = new EventEmitter();\r\n        this.onClick = new EventEmitter();\r\n        this.onContextMenu = new EventEmitter();\r\n        this.onCopy = new EventEmitter();\r\n        this.onCut = new EventEmitter();\r\n        this.onDblclick = new EventEmitter();\r\n        this.onDrag = new EventEmitter();\r\n        this.onDragDrop = new EventEmitter();\r\n        this.onDragEnd = new EventEmitter();\r\n        this.onDragGesture = new EventEmitter();\r\n        this.onDragOver = new EventEmitter();\r\n        this.onDrop = new EventEmitter();\r\n        this.onFocus = new EventEmitter();\r\n        this.onFocusIn = new EventEmitter();\r\n        this.onFocusOut = new EventEmitter();\r\n        this.onKeyDown = new EventEmitter();\r\n        this.onKeyPress = new EventEmitter();\r\n        this.onKeyUp = new EventEmitter();\r\n        this.onMouseDown = new EventEmitter();\r\n        this.onMouseEnter = new EventEmitter();\r\n        this.onMouseLeave = new EventEmitter();\r\n        this.onMouseMove = new EventEmitter();\r\n        this.onMouseOut = new EventEmitter();\r\n        this.onMouseOver = new EventEmitter();\r\n        this.onMouseUp = new EventEmitter();\r\n        this.onPaste = new EventEmitter();\r\n        this.onSelectionChange = new EventEmitter();\r\n        this.onActivate = new EventEmitter();\r\n        this.onAddUndo = new EventEmitter();\r\n        this.onBeforeAddUndo = new EventEmitter();\r\n        this.onBeforeExecCommand = new EventEmitter();\r\n        this.onBeforeGetContent = new EventEmitter();\r\n        this.onBeforeRenderUI = new EventEmitter();\r\n        this.onBeforeSetContent = new EventEmitter();\r\n        this.onChange = new EventEmitter();\r\n        this.onClearUndos = new EventEmitter();\r\n        this.onDeactivate = new EventEmitter();\r\n        this.onDirty = new EventEmitter();\r\n        this.onExecCommand = new EventEmitter();\r\n        this.onGetContent = new EventEmitter();\r\n        this.onHide = new EventEmitter();\r\n        this.onInit = new EventEmitter();\r\n        this.onLoadContent = new EventEmitter();\r\n        this.onNodeChange = new EventEmitter();\r\n        this.onPostProcess = new EventEmitter();\r\n        this.onPostRender = new EventEmitter();\r\n        this.onPreInit = new EventEmitter();\r\n        this.onPreProcess = new EventEmitter();\r\n        this.onProgressState = new EventEmitter();\r\n        this.onRedo = new EventEmitter();\r\n        this.onRemove = new EventEmitter();\r\n        this.onReset = new EventEmitter();\r\n        this.onSaveContent = new EventEmitter();\r\n        this.onSetAttrib = new EventEmitter();\r\n        this.onObjectResizeStart = new EventEmitter();\r\n        this.onObjectResized = new EventEmitter();\r\n        this.onObjectSelected = new EventEmitter();\r\n        this.onSetContent = new EventEmitter();\r\n        this.onShow = new EventEmitter();\r\n        this.onSubmit = new EventEmitter();\r\n        this.onUndo = new EventEmitter();\r\n        this.onVisualAid = new EventEmitter();\r\n    }\r\n}\r\n/** @nocollapse */ Events.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: Events, deps: [], target: i0.ɵɵFactoryTarget.Directive });\r\n/** @nocollapse */ Events.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: Events, outputs: { onBeforePaste: \"onBeforePaste\", onBlur: \"onBlur\", onClick: \"onClick\", onContextMenu: \"onContextMenu\", onCopy: \"onCopy\", onCut: \"onCut\", onDblclick: \"onDblclick\", onDrag: \"onDrag\", onDragDrop: \"onDragDrop\", onDragEnd: \"onDragEnd\", onDragGesture: \"onDragGesture\", onDragOver: \"onDragOver\", onDrop: \"onDrop\", onFocus: \"onFocus\", onFocusIn: \"onFocusIn\", onFocusOut: \"onFocusOut\", onKeyDown: \"onKeyDown\", onKeyPress: \"onKeyPress\", onKeyUp: \"onKeyUp\", onMouseDown: \"onMouseDown\", onMouseEnter: \"onMouseEnter\", onMouseLeave: \"onMouseLeave\", onMouseMove: \"onMouseMove\", onMouseOut: \"onMouseOut\", onMouseOver: \"onMouseOver\", onMouseUp: \"onMouseUp\", onPaste: \"onPaste\", onSelectionChange: \"onSelectionChange\", onActivate: \"onActivate\", onAddUndo: \"onAddUndo\", onBeforeAddUndo: \"onBeforeAddUndo\", onBeforeExecCommand: \"onBeforeExecCommand\", onBeforeGetContent: \"onBeforeGetContent\", onBeforeRenderUI: \"onBeforeRenderUI\", onBeforeSetContent: \"onBeforeSetContent\", onChange: \"onChange\", onClearUndos: \"onClearUndos\", onDeactivate: \"onDeactivate\", onDirty: \"onDirty\", onExecCommand: \"onExecCommand\", onGetContent: \"onGetContent\", onHide: \"onHide\", onInit: \"onInit\", onLoadContent: \"onLoadContent\", onNodeChange: \"onNodeChange\", onPostProcess: \"onPostProcess\", onPostRender: \"onPostRender\", onPreInit: \"onPreInit\", onPreProcess: \"onPreProcess\", onProgressState: \"onProgressState\", onRedo: \"onRedo\", onRemove: \"onRemove\", onReset: \"onReset\", onSaveContent: \"onSaveContent\", onSetAttrib: \"onSetAttrib\", onObjectResizeStart: \"onObjectResizeStart\", onObjectResized: \"onObjectResized\", onObjectSelected: \"onObjectSelected\", onSetContent: \"onSetContent\", onShow: \"onShow\", onSubmit: \"onSubmit\", onUndo: \"onUndo\", onVisualAid: \"onVisualAid\" }, ngImport: i0 });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: Events, decorators: [{\r\n            type: Directive\r\n        }], propDecorators: { onBeforePaste: [{\r\n                type: Output\r\n            }], onBlur: [{\r\n                type: Output\r\n            }], onClick: [{\r\n                type: Output\r\n            }], onContextMenu: [{\r\n                type: Output\r\n            }], onCopy: [{\r\n                type: Output\r\n            }], onCut: [{\r\n                type: Output\r\n            }], onDblclick: [{\r\n                type: Output\r\n            }], onDrag: [{\r\n                type: Output\r\n            }], onDragDrop: [{\r\n                type: Output\r\n            }], onDragEnd: [{\r\n                type: Output\r\n            }], onDragGesture: [{\r\n                type: Output\r\n            }], onDragOver: [{\r\n                type: Output\r\n            }], onDrop: [{\r\n                type: Output\r\n            }], onFocus: [{\r\n                type: Output\r\n            }], onFocusIn: [{\r\n                type: Output\r\n            }], onFocusOut: [{\r\n                type: Output\r\n            }], onKeyDown: [{\r\n                type: Output\r\n            }], onKeyPress: [{\r\n                type: Output\r\n            }], onKeyUp: [{\r\n                type: Output\r\n            }], onMouseDown: [{\r\n                type: Output\r\n            }], onMouseEnter: [{\r\n                type: Output\r\n            }], onMouseLeave: [{\r\n                type: Output\r\n            }], onMouseMove: [{\r\n                type: Output\r\n            }], onMouseOut: [{\r\n                type: Output\r\n            }], onMouseOver: [{\r\n                type: Output\r\n            }], onMouseUp: [{\r\n                type: Output\r\n            }], onPaste: [{\r\n                type: Output\r\n            }], onSelectionChange: [{\r\n                type: Output\r\n            }], onActivate: [{\r\n                type: Output\r\n            }], onAddUndo: [{\r\n                type: Output\r\n            }], onBeforeAddUndo: [{\r\n                type: Output\r\n            }], onBeforeExecCommand: [{\r\n                type: Output\r\n            }], onBeforeGetContent: [{\r\n                type: Output\r\n            }], onBeforeRenderUI: [{\r\n                type: Output\r\n            }], onBeforeSetContent: [{\r\n                type: Output\r\n            }], onChange: [{\r\n                type: Output\r\n            }], onClearUndos: [{\r\n                type: Output\r\n            }], onDeactivate: [{\r\n                type: Output\r\n            }], onDirty: [{\r\n                type: Output\r\n            }], onExecCommand: [{\r\n                type: Output\r\n            }], onGetContent: [{\r\n                type: Output\r\n            }], onHide: [{\r\n                type: Output\r\n            }], onInit: [{\r\n                type: Output\r\n            }], onLoadContent: [{\r\n                type: Output\r\n            }], onNodeChange: [{\r\n                type: Output\r\n            }], onPostProcess: [{\r\n                type: Output\r\n            }], onPostRender: [{\r\n                type: Output\r\n            }], onPreInit: [{\r\n                type: Output\r\n            }], onPreProcess: [{\r\n                type: Output\r\n            }], onProgressState: [{\r\n                type: Output\r\n            }], onRedo: [{\r\n                type: Output\r\n            }], onRemove: [{\r\n                type: Output\r\n            }], onReset: [{\r\n                type: Output\r\n            }], onSaveContent: [{\r\n                type: Output\r\n            }], onSetAttrib: [{\r\n                type: Output\r\n            }], onObjectResizeStart: [{\r\n                type: Output\r\n            }], onObjectResized: [{\r\n                type: Output\r\n            }], onObjectSelected: [{\r\n                type: Output\r\n            }], onSetContent: [{\r\n                type: Output\r\n            }], onShow: [{\r\n                type: Output\r\n            }], onSubmit: [{\r\n                type: Output\r\n            }], onUndo: [{\r\n                type: Output\r\n            }], onVisualAid: [{\r\n                type: Output\r\n            }] } });\r\nconst validEvents = [\r\n    'onActivate',\r\n    'onAddUndo',\r\n    'onBeforeAddUndo',\r\n    'onBeforeExecCommand',\r\n    'onBeforeGetContent',\r\n    'onBeforeRenderUI',\r\n    'onBeforeSetContent',\r\n    'onBeforePaste',\r\n    'onBlur',\r\n    'onChange',\r\n    'onClearUndos',\r\n    'onClick',\r\n    'onContextMenu',\r\n    'onCopy',\r\n    'onCut',\r\n    'onDblclick',\r\n    'onDeactivate',\r\n    'onDirty',\r\n    'onDrag',\r\n    'onDragDrop',\r\n    'onDragEnd',\r\n    'onDragGesture',\r\n    'onDragOver',\r\n    'onDrop',\r\n    'onExecCommand',\r\n    'onFocus',\r\n    'onFocusIn',\r\n    'onFocusOut',\r\n    'onGetContent',\r\n    'onHide',\r\n    'onInit',\r\n    'onKeyDown',\r\n    'onKeyPress',\r\n    'onKeyUp',\r\n    'onLoadContent',\r\n    'onMouseDown',\r\n    'onMouseEnter',\r\n    'onMouseLeave',\r\n    'onMouseMove',\r\n    'onMouseOut',\r\n    'onMouseOver',\r\n    'onMouseUp',\r\n    'onNodeChange',\r\n    'onObjectResizeStart',\r\n    'onObjectResized',\r\n    'onObjectSelected',\r\n    'onPaste',\r\n    'onPostProcess',\r\n    'onPostRender',\r\n    'onPreProcess',\r\n    'onProgressState',\r\n    'onRedo',\r\n    'onRemove',\r\n    'onReset',\r\n    'onSaveContent',\r\n    'onSelectionChange',\r\n    'onSetAttrib',\r\n    'onSetContent',\r\n    'onShow',\r\n    'onSubmit',\r\n    'onUndo',\r\n    'onVisualAid'\r\n];\n\nconst bindHandlers = (ctx, editor, initEvent) => {\r\n    validEvents.forEach(eventName => {\r\n        const eventEmitter = ctx[eventName];\r\n        if (eventName === 'onInit') {\r\n            ctx.ngZone.run(() => eventEmitter.emit({ event: initEvent, editor }));\r\n        }\r\n        else {\r\n            editor.on(eventName.substring(2), (event) => ctx.ngZone.run(() => eventEmitter.emit({ event, editor })));\r\n        }\r\n    });\r\n};\r\nlet unique = 0;\r\nconst uuid = (prefix) => {\r\n    const date = new Date();\r\n    const time = date.getTime();\r\n    const random = Math.floor(Math.random() * 1000000000);\r\n    unique++;\r\n    return prefix + '_' + random + unique + String(time);\r\n};\r\nconst isTextarea = (element) => {\r\n    return typeof element !== 'undefined' && element.tagName.toLowerCase() === 'textarea';\r\n};\r\nconst normalizePluginArray = (plugins) => {\r\n    if (typeof plugins === 'undefined' || plugins === '') {\r\n        return [];\r\n    }\r\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\r\n};\r\nconst mergePlugins = (initPlugins, inputPlugins) => normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\r\n// tslint:disable-next-line:no-empty\r\nconst noop = () => { };\n\nconst injectScriptTag = (scriptId, doc, url, callback) => {\r\n    const scriptTag = doc.createElement('script');\r\n    scriptTag.referrerPolicy = 'origin';\r\n    scriptTag.type = 'application/javascript';\r\n    scriptTag.id = scriptId;\r\n    scriptTag.addEventListener('load', callback);\r\n    scriptTag.src = url;\r\n    if (doc.head) {\r\n        doc.head.appendChild(scriptTag);\r\n    }\r\n};\r\nconst create = () => {\r\n    return {\r\n        listeners: [],\r\n        scriptId: uuid('tiny-script'),\r\n        scriptLoaded: false\r\n    };\r\n};\r\nconst load = (state, doc, url, callback) => {\r\n    if (state.scriptLoaded) {\r\n        callback();\r\n    }\r\n    else {\r\n        state.listeners.push(callback);\r\n        if (!doc.getElementById(state.scriptId)) {\r\n            injectScriptTag(state.scriptId, doc, url, () => {\r\n                state.listeners.forEach(fn => fn());\r\n                state.scriptLoaded = true;\r\n            });\r\n        }\r\n    }\r\n};\n\nconst getTinymce = () => {\r\n    const w = typeof window !== 'undefined' ? window : undefined;\r\n    return w && w.tinymce ? w.tinymce : null;\r\n};\n\nconst BASIC_PLUGINS = [\r\n    'advlist autolink lists link image charmap print preview anchor',\r\n    'searchreplace visualblocks code fullscreen',\r\n    'insertdatetime media table paste code'\r\n];\r\nconst BASIC_TOOLBAR = `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link`;\r\nconst FULL_PLUGINS = [\r\n    'advlist autolink lists link image charmap print preview hr anchor pagebreak',\r\n    'searchreplace wordcount visualblocks visualchars code fullscreen',\r\n    'insertdatetime media nonbreaking save table directionality',\r\n    'template paste textcolor colorpicker textpattern imagetools toc help'\r\n];\r\nconst FULL_TOOLBAR = [\r\n    `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent`,\r\n    'print preview | forecolor backcolor | link'\r\n];\n\nconst scriptState = create();\r\nconst EDITOR_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => EditorComponent),\r\n    multi: true\r\n};\r\nclass EditorComponent extends Events {\r\n    constructor(elementRef, ngZone, platformId, dialog, ref) {\r\n        super();\r\n        this.platformId = platformId;\r\n        this.dialog = dialog;\r\n        this.ref = ref;\r\n        this.debug = false;\r\n        this.cloudChannel = '5';\r\n        this.apiKey = 'no-api-key';\r\n        this.id = '';\r\n        this.expanded = false;\r\n        this.type = null;\r\n        this.loaded = new EventEmitter();\r\n        this.baseUrl = '/tinymce'; // Root for resources\r\n        this.suffix = '.min'; // Suffix to use when loading resources\r\n        this._element = undefined;\r\n        this.onTouchedCallback = noop;\r\n        this.onChangeCallback = noop;\r\n        this._elementRef = elementRef;\r\n        this.ngZone = ngZone;\r\n        this.initialise = this.initialise.bind(this);\r\n    }\r\n    set disabled(val) {\r\n        this._disabled = val;\r\n        if (this._editor && this._editor.initialized) {\r\n            this._editor.setMode(val ? 'readonly' : 'design');\r\n        }\r\n    }\r\n    get disabled() {\r\n        return this._disabled;\r\n    }\r\n    get editor() {\r\n        return this._editor;\r\n    }\r\n    set plugins(value) {\r\n        this._plugins = value;\r\n    }\r\n    get plugins() {\r\n        if (this._plugins) {\r\n            return this._plugins;\r\n        }\r\n        switch (this.type) {\r\n            case 'BASIC':\r\n                return BASIC_PLUGINS;\r\n            case 'FULL':\r\n                return FULL_PLUGINS;\r\n            default:\r\n                return 'lists advlist';\r\n        }\r\n    }\r\n    set toolbar(value) {\r\n        this._toolbar = value;\r\n    }\r\n    get toolbar() {\r\n        if (this._toolbar) {\r\n            return this._toolbar;\r\n        }\r\n        switch (this.type) {\r\n            case 'BASIC':\r\n                return BASIC_TOOLBAR;\r\n            case 'FULL':\r\n                return FULL_TOOLBAR;\r\n            default:\r\n                return 'undo redo | bold italic | bullist numlist outdent indent';\r\n        }\r\n    }\r\n    get basic() {\r\n        return this.type === 'BASIC';\r\n    }\r\n    get full() {\r\n        return this.type === 'FULL';\r\n    }\r\n    get showExpand() {\r\n        return !this.expanded;\r\n    }\r\n    expand(e) {\r\n        if (e && e.preventDefault) {\r\n            e.preventDefault();\r\n        }\r\n        const config = {\r\n            data: this._editor.getContent(),\r\n            width: '1200px',\r\n            id: this.id ? `${this.id}-dialog` : null\r\n        };\r\n        this.openDialog(config);\r\n    }\r\n    openDialog(config) {\r\n        const dialogRef = this.dialog.open(EditorWindowComponent, config);\r\n        this.dialogRef = dialogRef.afterClosed().subscribe(result => {\r\n            this.closeDialog(result);\r\n        });\r\n    }\r\n    closeDialog(value) {\r\n        if (value) {\r\n            this.changeValue(value);\r\n        }\r\n        this.dialogRef.unsubscribe();\r\n    }\r\n    changeValue(value) {\r\n        this.writeValue(value);\r\n        this.onChangeCallback(value);\r\n    }\r\n    writeValue(value) {\r\n        this.initialValue = value || this.initialValue;\r\n        value = value || '';\r\n        if (this._editor && this._editor.initialized && typeof value === 'string') {\r\n            this._editor.setContent(value);\r\n        }\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n    setDisabledState(isDisabled) {\r\n        if (this._editor) {\r\n            this._editor.setMode(isDisabled ? 'readonly' : 'design');\r\n        }\r\n        else if (isDisabled) {\r\n            this.init = Object.assign(Object.assign({}, this.init), { readonly: true });\r\n        }\r\n    }\r\n    ngAfterViewInit() {\r\n        if (isPlatformBrowser(this.platformId)) {\r\n            this.id = this.id || uuid('tiny-angular');\r\n            this.inline = typeof this.inline !== 'undefined' ? (typeof this.inline === 'boolean' ? this.inline : true) : this.init && this.init.inline;\r\n            this.createElement();\r\n            if (getTinymce() !== null) {\r\n                this.initialise();\r\n            }\r\n            else if (this._element && this._element.ownerDocument) {\r\n                const doc = this._element.ownerDocument;\r\n                const channel = this.cloudChannel;\r\n                const apiKey = this.apiKey;\r\n                load(scriptState, doc, `https://cdn.tiny.cloud/1/${apiKey}/tinymce/${channel}/tinymce.min.js`, this.initialise);\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        if (getTinymce() !== null) {\r\n            getTinymce().remove(this._editor);\r\n        }\r\n    }\r\n    createElement() {\r\n        const tagName = typeof this.tagName === 'string' ? this.tagName : 'div';\r\n        this._element = document.createElement(this.inline ? tagName : 'textarea');\r\n        if (this._element) {\r\n            this._element.id = this.id;\r\n            if (isTextarea(this._element)) {\r\n                this._element.style.visibility = 'hidden';\r\n            }\r\n            this._elementRef.nativeElement.appendChild(this._element);\r\n        }\r\n    }\r\n    initialise() {\r\n        const finalInit = Object.assign({}, {\r\n            base_url: this.baseUrl,\r\n            suffix: this.suffix,\r\n            target: this._element,\r\n            inline: this.inline,\r\n            readonly: this.disabled,\r\n            plugins: this.plugins,\r\n            toolbar: this.toolbar,\r\n            height: this.height,\r\n            branding: false,\r\n            default_link_target: \"_blank\",\r\n            contextmenu: false,\r\n            setup: (editor) => {\r\n                this._editor = editor;\r\n                editor.on('init', (e) => {\r\n                    this.initEditor(e, editor);\r\n                });\r\n                if (this.init && typeof this.init.setup === 'function') {\r\n                    this.init.setup(editor);\r\n                }\r\n            }\r\n        }, this.init);\r\n        if (isTextarea(this._element)) {\r\n            this._element.style.visibility = '';\r\n        }\r\n        if (this.debug) {\r\n            console.dir(this.init);\r\n            console.dir(finalInit);\r\n        }\r\n        this.ngZone.runOutsideAngular(() => {\r\n            getTinymce().init(finalInit);\r\n        });\r\n        this.loaded.emit(finalInit);\r\n    }\r\n    initEditor(initEvent, editor) {\r\n        if (typeof this.initialValue === 'string') {\r\n            this.ngZone.run(() => editor.setContent(this.initialValue));\r\n        }\r\n        editor.on('blur', () => this.ngZone.run(() => this.onTouchedCallback()));\r\n        editor.on('change keyup undo redo', () => this.ngZone.run(() => this.onChangeCallback(editor.getContent())));\r\n        bindHandlers(this, editor, initEvent);\r\n    }\r\n}\r\n/** @nocollapse */ EditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorComponent, deps: [{ token: i0.ElementRef }, { token: i0.NgZone }, { token: PLATFORM_ID }, { token: i1$2.MatDialog }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ EditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: EditorComponent, selector: \"iu-editor\", inputs: { disabled: \"disabled\", plugins: \"plugins\", toolbar: \"toolbar\", debug: \"debug\", cloudChannel: \"cloudChannel\", apiKey: \"apiKey\", init: \"init\", id: \"id\", initialValue: \"initialValue\", inline: \"inline\", tagName: \"tagName\", expanded: \"expanded\", height: \"height\", type: \"type\" }, outputs: { loaded: \"loaded\" }, providers: [EDITOR_ACCESSOR], usesInheritance: true, ngImport: i0, template: \"<!-- <div class=\\\"editor\\\">\\r\\n  <textarea [id]=\\\"elementId\\\">\\r\\n    <ng-content *ngIf=\\\"!hasValue\\\"></ng-content>\\r\\n    <span *ngIf=\\\"hasValue\\\">{{ value }}</span>\\r\\n  </textarea>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div> -->\\r\\n\\r\\n<div class=\\\"editor\\\">\\r\\n  <ng-template></ng-template>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.editor{position:relative;display:block;clear:both;padding:0;border-radius:2px}.editor #expand-editor{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;font-size:36px;position:absolute;right:3px;top:3px;color:#fff;text-align:center;min-width:36px;line-height:24px;padding:3px 2px;z-index:1}.editor #expand-editor .mat-icon{font-size:36px;position:relative;left:-6px;top:-7px}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-editor', changeDetection: ChangeDetectionStrategy.OnPush, providers: [EDITOR_ACCESSOR], template: \"<!-- <div class=\\\"editor\\\">\\r\\n  <textarea [id]=\\\"elementId\\\">\\r\\n    <ng-content *ngIf=\\\"!hasValue\\\"></ng-content>\\r\\n    <span *ngIf=\\\"hasValue\\\">{{ value }}</span>\\r\\n  </textarea>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div> -->\\r\\n\\r\\n<div class=\\\"editor\\\">\\r\\n  <ng-template></ng-template>\\r\\n  <button *ngIf=\\\"showExpand\\\" id=\\\"expand-editor\\\" (click)=\\\"expand($event)\\\" mat-button>\\r\\n    <mat-icon>fullscreen</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.editor{position:relative;display:block;clear:both;padding:0;border-radius:2px}.editor #expand-editor{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;font-size:36px;position:absolute;right:3px;top:3px;color:#fff;text-align:center;min-width:36px;line-height:24px;padding:3px 2px;z-index:1}.editor #expand-editor .mat-icon{font-size:36px;position:relative;left:-6px;top:-7px}\\n\"] }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i0.ElementRef }, { type: i0.NgZone }, { type: Object, decorators: [{\r\n                        type: Inject,\r\n                        args: [PLATFORM_ID]\r\n                    }] }, { type: i1$2.MatDialog }, { type: i0.ChangeDetectorRef }];\r\n    }, propDecorators: { disabled: [{\r\n                type: Input\r\n            }], plugins: [{\r\n                type: Input\r\n            }], toolbar: [{\r\n                type: Input\r\n            }], debug: [{\r\n                type: Input\r\n            }], cloudChannel: [{\r\n                type: Input\r\n            }], apiKey: [{\r\n                type: Input\r\n            }], init: [{\r\n                type: Input\r\n            }], id: [{\r\n                type: Input\r\n            }], initialValue: [{\r\n                type: Input\r\n            }], inline: [{\r\n                type: Input\r\n            }], tagName: [{\r\n                type: Input\r\n            }], expanded: [{\r\n                type: Input\r\n            }], height: [{\r\n                type: Input\r\n            }], type: [{\r\n                type: Input\r\n            }], loaded: [{\r\n                type: Output\r\n            }] } });\n\nclass EditorModule {\r\n}\r\n/** @nocollapse */ EditorModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ EditorModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, declarations: [EditorComponent,\r\n        EditorWindowComponent], imports: [SharedModule,\r\n        FormsModule$1,\r\n        DialogModule,\r\n        MatButtonModule,\r\n        MatCardModule,\r\n        MatDialogModule,\r\n        MatIconModule,\r\n        MatToolbarModule], exports: [EditorComponent,\r\n        EditorWindowComponent] });\r\n/** @nocollapse */ EditorModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, imports: [[\r\n            SharedModule,\r\n            FormsModule$1,\r\n            DialogModule,\r\n            MatButtonModule,\r\n            MatCardModule,\r\n            MatDialogModule,\r\n            MatIconModule,\r\n            MatToolbarModule,\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EditorModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        SharedModule,\r\n                        FormsModule$1,\r\n                        DialogModule,\r\n                        MatButtonModule,\r\n                        MatCardModule,\r\n                        MatDialogModule,\r\n                        MatIconModule,\r\n                        MatToolbarModule,\r\n                    ],\r\n                    declarations: [\r\n                        EditorComponent,\r\n                        EditorWindowComponent,\r\n                    ],\r\n                    exports: [\r\n                        EditorComponent,\r\n                        EditorWindowComponent,\r\n                    ],\r\n                }]\r\n        }] });\n\nclass PhoneNumber {\r\n    constructor() {\r\n        this._full = '';\r\n        this._countryCode = '';\r\n        this._areaCode = '';\r\n        this._prefix = '';\r\n        this._lineNumber = '';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: ['_full', '_countryCode', '_areaCode', '_prefix', '_lineNumber'],\r\n            validators: [phoneNumberValidator]\r\n        });\r\n    }\r\n    get full() {\r\n        return `${this.areaCode}${this.prefix}${this.lineNumber}`;\r\n    }\r\n    set full(value) {\r\n        this._full = value;\r\n        const strValue = value.toString();\r\n        const end = strValue.length;\r\n        this.areaCode = end > 0 ? strValue.substring(0, Math.min(3, end)) : '';\r\n        this.prefix = end > 3 ? strValue.substring(3, Math.min(6, end)) : '';\r\n        this.lineNumber = end > 6 ? strValue.substring(6, Math.min(10, end)) : '';\r\n    }\r\n    get countryCode() {\r\n        return this._countryCode;\r\n    }\r\n    set countryCode(value) {\r\n        this._countryCode = value;\r\n    }\r\n    get areaCode() {\r\n        // return this._full ? this._areaCode || this._full.substring(0, 3) : '';\r\n        return this._areaCode;\r\n    }\r\n    set areaCode(value) {\r\n        this._areaCode = value;\r\n    }\r\n    get prefix() {\r\n        // return this._full ? this._prefix || this._full.substring(3, 6) : '';\r\n        return this._prefix;\r\n    }\r\n    set prefix(value) {\r\n        this._prefix = value;\r\n    }\r\n    get lineNumber() {\r\n        // return this._full ? this._lineNumber || this._full.substring(6, 10) : '';\r\n        return this._lineNumber;\r\n    }\r\n    set lineNumber(value) {\r\n        this._lineNumber = value;\r\n    }\r\n}\n\nconst PHONE_NUMBER_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => PhoneNumberComponent),\r\n    multi: true\r\n};\r\nclass PhoneNumberComponent extends DumbComponent {\r\n    constructor() {\r\n        super();\r\n        this.placeholder = '';\r\n        this.showPrefix = false;\r\n        this.multi = false;\r\n        this._value = '';\r\n        this._phoneNumber = new PhoneNumber();\r\n        this.fg = buildControlFromModel(new PhoneNumber());\r\n    }\r\n    set value(value) {\r\n        if (this.phoneNumber.full !== value) {\r\n            this._value = value;\r\n            this.phoneNumber = build(PhoneNumber, {\r\n                full: value\r\n            });\r\n        }\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    set phoneNumber(value) {\r\n        this._phoneNumber = value;\r\n        this.fg.setValue(getValue(this.phoneNumber));\r\n    }\r\n    get phoneNumber() {\r\n        return this._phoneNumber;\r\n    }\r\n    registerOnChange(fn) {\r\n        this.onModelChange = fn;\r\n    }\r\n    registerOnTouched(fn) {\r\n        this.onTouch = fn;\r\n    }\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n    onChange(value) {\r\n        this.value = value;\r\n        if (typeof (this.onModelChange) === 'function') {\r\n            this.onModelChange(value);\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n            if (typeof (this.onModelChange) === 'function') {\r\n                this.onModelChange(build(PhoneNumber, x).full);\r\n            }\r\n        }));\r\n    }\r\n    onChangeAreaCode(e) {\r\n        if (e.length === 3) {\r\n            this.prefixEl.nativeElement.focus();\r\n        }\r\n    }\r\n    onChangePrefix(e) {\r\n        if (e.length === 3) {\r\n            this.lineNumberEl.nativeElement.focus();\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ PhoneNumberComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ PhoneNumberComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: PhoneNumberComponent, selector: \"iu-phone-number\", inputs: { placeholder: \"placeholder\", showPrefix: \"showPrefix\", multi: \"multi\" }, providers: [PHONE_NUMBER_ACCESSOR], viewQueries: [{ propertyName: \"areaCodeEl\", first: true, predicate: [\"areaCodeEl\"], descendants: true }, { propertyName: \"prefixEl\", first: true, predicate: [\"prefixEl\"], descendants: true }, { propertyName: \"lineNumberEl\", first: true, predicate: [\"lineNumberEl\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<form class=\\\"phone-number\\\" [formGroup]=\\\"fg\\\">\\r\\n    <h3>Phone Number</h3>\\r\\n    <mat-form-field appearance=\\\"fill\\\" *ngIf=\\\"!multi\\\">\\r\\n        <span matPrefix *ngIf=\\\"showPrefix\\\">+1 &nbsp;</span>\\r\\n        <input type=\\\"tel\\\" matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"full\\\">\\r\\n        <mat-error *ngIf=\\\"fg.hasError('phoneNumber')\\\">\\r\\n            Please enter a valid phone number\\r\\n        </mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <span matPrefix>+1 &nbsp;</span>\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"areaCode\\\"\\r\\n            (keyup)=\\\"onChangeAreaCode(areaCodeEl.value)\\\" #areaCodeEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"prefix\\\" (keyup)=\\\"onChangePrefix(prefixEl.value)\\\"\\r\\n            #prefixEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"lineNumber\\\" #lineNumberEl>\\r\\n    </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\"form.phone-number{width:100%;display:flex;flex-direction:row;justify-content:space-between;position:relative;padding-top:24px}form.phone-number h3{position:absolute;top:0;left:0;margin:0;color:#0009;font-size:14px;font-weight:400}form.phone-number mat-form-field .mat-form-field-flex{padding-top:0!important}form.phone-number mat-form-field input{text-align:center!important;font-size:24px!important}form.phone-number mat-form-field.multi:nth-of-type(1){width:34%}form.phone-number mat-form-field.multi:nth-of-type(2){width:28%}form.phone-number mat-form-field.multi:nth-of-type(3){width:34%}\\n\"], components: [{ type: i1$3.MatFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }], directives: [{ type: i5.ɵNgNoValidate, selector: \"form:not([ngNoForm]):not([ngNativeValidate])\" }, { type: i5.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { type: i5.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1$3.MatPrefix, selector: \"[matPrefix]\" }, { type: i8.MatInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", inputs: [\"disabled\", \"id\", \"placeholder\", \"name\", \"required\", \"type\", \"errorStateMatcher\", \"aria-describedby\", \"value\", \"readonly\"], exportAs: [\"matInput\"] }, { type: i5.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { type: i5.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { type: i5.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { type: i1$3.MatError, selector: \"mat-error\", inputs: [\"id\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-phone-number', providers: [PHONE_NUMBER_ACCESSOR], changeDetection: ChangeDetectionStrategy.OnPush, template: \"<form class=\\\"phone-number\\\" [formGroup]=\\\"fg\\\">\\r\\n    <h3>Phone Number</h3>\\r\\n    <mat-form-field appearance=\\\"fill\\\" *ngIf=\\\"!multi\\\">\\r\\n        <span matPrefix *ngIf=\\\"showPrefix\\\">+1 &nbsp;</span>\\r\\n        <input type=\\\"tel\\\" matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"full\\\">\\r\\n        <mat-error *ngIf=\\\"fg.hasError('phoneNumber')\\\">\\r\\n            Please enter a valid phone number\\r\\n        </mat-error>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <span matPrefix>+1 &nbsp;</span>\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"areaCode\\\"\\r\\n            (keyup)=\\\"onChangeAreaCode(areaCodeEl.value)\\\" #areaCodeEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"prefix\\\" (keyup)=\\\"onChangePrefix(prefixEl.value)\\\"\\r\\n            #prefixEl>\\r\\n    </mat-form-field>\\r\\n    <mat-form-field class=\\\"multi\\\" *ngIf=\\\"multi\\\" appearance=\\\"fill\\\">\\r\\n        <input matInput [placeholder]=\\\"placeholder\\\" formControlName=\\\"lineNumber\\\" #lineNumberEl>\\r\\n    </mat-form-field>\\r\\n</form>\\r\\n\", styles: [\"form.phone-number{width:100%;display:flex;flex-direction:row;justify-content:space-between;position:relative;padding-top:24px}form.phone-number h3{position:absolute;top:0;left:0;margin:0;color:#0009;font-size:14px;font-weight:400}form.phone-number mat-form-field .mat-form-field-flex{padding-top:0!important}form.phone-number mat-form-field input{text-align:center!important;font-size:24px!important}form.phone-number mat-form-field.multi:nth-of-type(1){width:34%}form.phone-number mat-form-field.multi:nth-of-type(2){width:28%}form.phone-number mat-form-field.multi:nth-of-type(3){width:34%}\\n\"] }]\r\n        }], ctorParameters: function () { return []; }, propDecorators: { placeholder: [{\r\n                type: Input\r\n            }], showPrefix: [{\r\n                type: Input\r\n            }], multi: [{\r\n                type: Input\r\n            }], areaCodeEl: [{\r\n                type: ViewChild,\r\n                args: ['areaCodeEl']\r\n            }], prefixEl: [{\r\n                type: ViewChild,\r\n                args: ['prefixEl']\r\n            }], lineNumberEl: [{\r\n                type: ViewChild,\r\n                args: ['lineNumberEl']\r\n            }] } });\n\nclass PhoneNumberModule {\r\n}\r\n/** @nocollapse */ PhoneNumberModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ PhoneNumberModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, declarations: [PhoneNumberComponent], imports: [CommonModule,\r\n        MatButtonModule,\r\n        MatFormFieldModule,\r\n        MatInputModule,\r\n        ReactiveFormsModule], exports: [PhoneNumberComponent] });\r\n/** @nocollapse */ PhoneNumberModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, imports: [[\r\n            CommonModule,\r\n            MatButtonModule,\r\n            MatFormFieldModule,\r\n            MatInputModule,\r\n            ReactiveFormsModule\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: PhoneNumberModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [PhoneNumberComponent],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MatButtonModule,\r\n                        MatFormFieldModule,\r\n                        MatInputModule,\r\n                        ReactiveFormsModule\r\n                    ],\r\n                    exports: [PhoneNumberComponent]\r\n                }]\r\n        }] });\n\nclass EffectsModule {\r\n    static forFeature(featureEffects) {\r\n        return EffectsModule$1.forFeature(featureEffects);\r\n    }\r\n    static forRoot(rootEffects) {\r\n        return EffectsModule$1.forRoot(rootEffects);\r\n    }\r\n}\r\n/** @nocollapse */ EffectsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ EffectsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, imports: [EffectsModule$1] });\r\n/** @nocollapse */ EffectsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, imports: [[\r\n            EffectsModule$1\r\n        ]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EffectsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        EffectsModule$1\r\n                    ],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nclass ErrorsService {\r\n    constructor() { }\r\n}\r\n/** @nocollapse */ ErrorsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ErrorsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass ErrorEffects {\r\n    constructor(actions$, service) {\r\n        this.actions$ = actions$;\r\n        this.service = service;\r\n        /**\r\n         * Listens for thrown errors and handles them accordingly\r\n         */\r\n        this.handleError$ = this.actions$.pipe(filter((action) => action.type === ErrorActions.THROW_ERROR), map((data) => {\r\n            return { type: ErrorActions.HANDLE_ERROR };\r\n        }));\r\n    }\r\n}\r\n/** @nocollapse */ ErrorEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorEffects, deps: [{ token: i1.Actions }, { token: ErrorsService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ErrorEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], ErrorEffects.prototype, \"handleError$\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: ErrorsService }]; }, propDecorators: { handleError$: [] } });\n\nclass GlobalErrorsService {\r\n    constructor() { }\r\n    handleError(error) {\r\n        alert(error);\r\n        // IMPORTANT: Rethrow the error otherwise it gets swallowed\r\n        throw error;\r\n    }\r\n}\r\n/** @nocollapse */ GlobalErrorsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: GlobalErrorsService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ GlobalErrorsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: GlobalErrorsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: GlobalErrorsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return []; } });\n\nclass ErrorsModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: ErrorsModule,\r\n            providers: [\r\n                ErrorsService,\r\n                ErrorEffects,\r\n                {\r\n                    provide: ErrorHandler,\r\n                    useClass: GlobalErrorsService\r\n                }\r\n            ]\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ ErrorsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ ErrorsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule });\r\n/** @nocollapse */ ErrorsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule, imports: [[]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: ErrorsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nclass Error {\r\n    constructor() {\r\n        this.message = '';\r\n        this.statusCode = 0;\r\n    }\r\n}\n\nfunction errorsReducer(state = {}, action) {\r\n    switch (action.type) {\r\n        case ErrorActions.ADD:\r\n            let newState = Collection.AddItem(state, 'lastError', action.payload.error);\r\n            if (action.payload.key === 'lastError') {\r\n                return newState;\r\n            }\r\n            return Collection.AddItem(state, action.payload.key, action.payload.error);\r\n        case ErrorActions.REMOVE:\r\n            return Collection.RemoveItem(state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nfunction errorsSelector(store) {\r\n    return store.select(s => s['errors']);\r\n}\r\nfunction errorSelector(store, key) {\r\n    return errorsSelector(store).pipe(map(errors => errors[key]));\r\n}\n\nfunction eventsSelector(store) {\r\n    return store\r\n        .select(s => s['events'])\r\n        .pipe(map((events) => events.items));\r\n}\r\nfunction eventSelector(store, key) {\r\n    return eventsSelector(store).pipe(map(events => events[key]));\r\n}\r\nfunction eventValueSelector(store, key) {\r\n    return eventSelector(store, key).pipe(map(e => (e ? e.value : null)));\r\n}\r\nfunction messagesSelector(store) {\r\n    return store.select('messages');\r\n}\r\nfunction messageSubscriptionsSelector(store) {\r\n    return messagesSelector(store).pipe(map(x => x.subscriptions));\r\n}\r\nfunction messageSelector(store, channel) {\r\n    return messagesSelector(store).pipe(map(x => build(Message, x.get(channel)).message), filter(x => truthy(x)));\r\n}\n\nclass EventEffects {\r\n    constructor(actions$, store) {\r\n        this.actions$ = actions$;\r\n        this.store = store;\r\n        this.events = new Events$1();\r\n        /**\r\n         * Trigger event if action is a registered trigger.\r\n         */\r\n        this.onTriggerEvent = this.actions$.pipe(filter(action => this.events.actions.indexOf(action.type) !== -1), map(this.trigger));\r\n        this.store\r\n            .select(s => s['events'])\r\n            .subscribe(events => {\r\n            this.events = events;\r\n        });\r\n    }\r\n    trigger(action) {\r\n        return EventActions.triggerEvent(action);\r\n    }\r\n}\r\n/** @nocollapse */ EventEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventEffects, deps: [{ token: i1.Actions }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ EventEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], EventEffects.prototype, \"onTriggerEvent\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: i1$1.Store }]; }, propDecorators: { onTriggerEvent: [] } });\r\nclass MessagesEffects {\r\n    constructor(actions$, store) {\r\n        this.actions$ = actions$;\r\n        this.store = store;\r\n        this.messageSubscriptions = [];\r\n        /**\r\n         * Broadcast message if action has a registered subscription.\r\n         */\r\n        this.onTriggerEvent = this.actions$.pipe(filter(action => this.messageSubscriptions.findIndex(x => x.action === action.type) !==\r\n            -1), map(x => this.broadcast(x, this.messageSubscriptions)));\r\n        /**\r\n         * Clear messages after they have been emitted.\r\n         */\r\n        this.onMessageAdded = this.actions$.pipe(ofType(MessagesActions.ADD), map((action) => this.clearMessages(action)));\r\n        messageSubscriptionsSelector(store).subscribe(x => {\r\n            if (x && Array.isArray(x)) {\r\n                this.messageSubscriptions = x;\r\n            }\r\n        });\r\n    }\r\n    broadcast(action, messageSubscriptions) {\r\n        const subscription = build(MessageSubscription, messageSubscriptions.find(x => x.action === action.type));\r\n        return MessagesActions.add(subscription, action);\r\n    }\r\n    clearMessages(action) {\r\n        return {\r\n            type: MessagesActions.CLEAR,\r\n            payload: action.payload\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ MessagesEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: MessagesEffects, deps: [{ token: i1.Actions }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ MessagesEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: MessagesEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], MessagesEffects.prototype, \"onTriggerEvent\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], MessagesEffects.prototype, \"onMessageAdded\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: MessagesEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: i1$1.Store }]; }, propDecorators: { onTriggerEvent: [], onMessageAdded: [] } });\n\nclass EventsService {\r\n    constructor(store) {\r\n        this.store = store;\r\n        this.eventIndex = 0;\r\n        this.events = [];\r\n    }\r\n    get eventKey() {\r\n        this.eventIndex++;\r\n        return `event-${this.eventIndex}`;\r\n    }\r\n    addEvent(actionType, handler) {\r\n        const f = handler ? handler : (action) => true;\r\n        const actionWithKey = EventActions.addEvent(actionType, f, false);\r\n        this.store.dispatch(actionWithKey);\r\n        return actionWithKey.key;\r\n    }\r\n    dispatch(action, handler) {\r\n        return this.dispatchHttpAction(action, handler);\r\n    }\r\n    dispatchHttpAction(action, handler) {\r\n        const successAction = action.payload.onSuccess;\r\n        const errorAction = typeof (action.payload.onError) === 'string' ? action.payload.onError : null;\r\n        const success = this.takeOne(successAction, handler);\r\n        const obs = errorAction ? success.pipe(combineLatest$1(this.takeOne(errorAction, handler), (x, y) => true)) : success;\r\n        this.store.dispatch(action);\r\n        return obs;\r\n    }\r\n    removeEvent(eventKey) {\r\n        this.store.dispatch(EventActions.removeEvent(eventKey));\r\n    }\r\n    subscribe(action, handler) {\r\n        return this.take(1, action).subscribe(handler);\r\n    }\r\n    take(n = 1, actionType, handler) {\r\n        const key = this.addEvent(actionType, handler);\r\n        return eventValueSelector(this.store, key).pipe(skip(1), take(n));\r\n    }\r\n    takeFrom(n = 1, actions, handler) {\r\n        const keys = actions.map(action => this.addEvent(action, handler));\r\n        return keys.map(key => eventValueSelector(this.store, key))\r\n            .reduce((acc, obs) => {\r\n            return acc.pipe(combineLatest$1(obs, (x, y) => true));\r\n        }, of(false)).pipe(skip(1), take(n));\r\n    }\r\n    takeOne(actionType, handler) {\r\n        return this.take(1, actionType, handler);\r\n    }\r\n}\r\n/** @nocollapse */ EventsService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsService, deps: [{ token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ EventsService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }]; } });\n\nclass EventsModule {\r\n}\r\n/** @nocollapse */ EventsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ EventsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule });\r\n/** @nocollapse */ EventsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule, providers: [\r\n        EventEffects,\r\n        EventsService,\r\n    ] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: EventsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    providers: [\r\n                        EventEffects,\r\n                        EventsService,\r\n                    ],\r\n                    exports: []\r\n                }]\r\n        }] });\n\nfunction eventsReducer(state = new Events$1(), action) {\r\n    switch (action.type) {\r\n        case EventActions.ADD_EVENT:\r\n            return state.addEvent(action.payload);\r\n        case EventActions.REMOVE_EVENT:\r\n            return state.removeEvent(action.payload);\r\n        case EventActions.TRIGGER_EVENT:\r\n            return state.triggerEvent(action.payload);\r\n        case EventActions.UPDATE_VALUE:\r\n            return state.updateValue(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction messagesReducer(state = new Messages(), action) {\r\n    switch (action.type) {\r\n        case MessagesActions.ADD:\r\n            return state.addMessages(action.payload);\r\n        case MessagesActions.CLEAR:\r\n            return state.clearMessages(action.payload);\r\n        case MessagesActions.SUBSCRIBE:\r\n            return state.addSubscriptions(action.payload);\r\n        case MessagesActions.REMOVE:\r\n            return state.removeMessages(action.payload);\r\n        case MessagesActions.UNSUBSCRIBE:\r\n            return state.removeSubscriptions(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\n// export class FormActions {\r\n//     static ADD = '[forms] Add Form';\r\n//     static RESET = '[forms] Reset Forms';\r\n//     static NAVIGATE = '[forms] Navigate to Form';\r\n//     static STATUS_CHANGES = '[form] Status Changes';\r\n//     static VALUE_CHANGES = '[form] Value Changes';\r\n//     static addForm(control: AbstractControl): Action {\r\n//         return {\r\n//             type: FormActions.ADD,\r\n//             payload: control\r\n//         };\r\n//     }\r\n//     static changeStatus(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.STATUS_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n//     static changeValue(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.VALUE_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n//     static navigateToForm(route: string): Action {\r\n//         return {\r\n//             type: FormActions.NAVIGATE,\r\n//             payload: route\r\n//         };\r\n//     }\r\n//     static resetForms(forms: Form[]): Action {\r\n//         return {\r\n//             type: FormActions.RESET,\r\n//             payload: forms\r\n//         };\r\n//     }\r\n// }\n\n// import { Command } from '../shared/decorators';\r\nclass HttpCommands {\r\n    constructor(http) {\r\n        this.http = http;\r\n    }\r\n    // @Command()\r\n    delete$(payload) {\r\n        return this.http.delete(payload.path, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    get$(payload) {\r\n        return this.http.get(payload.path, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    post$(payload) {\r\n        return this.http.post(payload.path, payload.model, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    postFormUrlEncoded$(payload) {\r\n        return this.http.postFormUrlEncoded(payload.path, payload.model, payload.headers, payload.options);\r\n    }\r\n    // @Command()\r\n    put$(payload) {\r\n        return this.http.put(payload.path, payload.model, payload.headers, payload.options);\r\n    }\r\n}\r\n/** @nocollapse */ HttpCommands.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpCommands, deps: [{ token: HttpService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HttpCommands.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpCommands, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpCommands, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: HttpService }]; } });\n\nclass HttpEffects {\r\n    constructor(actions$, commands) {\r\n        this.actions$ = actions$;\r\n        this.commands = commands;\r\n        this.onDelete$ = this.actions$.pipe(ofType(HttpActions.DELETE), mergeMap((action) => this.delete$(action.payload)));\r\n        this.onGet$ = this.actions$.pipe(ofType(HttpActions.GET), mergeMap((action) => this.get$(action.payload)));\r\n        this.onPost$ = this.actions$.pipe(ofType(HttpActions.POST), mergeMap((action) => this.post$(action.payload)));\r\n        this.onPostFormUrlEncoded$ = this.actions$.pipe(ofType(HttpActions.POST_FORM_URL_ENCODED), mergeMap((action) => this.postFormUrlEncoded$(action.payload)));\r\n        this.onPut$ = this.actions$.pipe(ofType(HttpActions.PUT), mergeMap((action) => this.put$(action.payload)));\r\n        this.onSearch$ = this.actions$.pipe(ofType(HttpActions.SEARCH), mergeMap((action) => this.search$(action.payload)));\r\n    }\r\n    delete$(payload) {\r\n        // console.log('DELETE:\\t', payload.onSuccess);\r\n        return this.commands.delete$(payload).pipe(map((model) => HttpActions.deleteSuccess(payload.data || model, payload.onSuccess)), catchError((e) => of(HttpActions.deleteError(build(Error, e, { data: payload.data }), payload.onError))));\r\n    }\r\n    get$(payload) {\r\n        // console.log('GET:\\t', payload.onSuccess);\r\n        return this.commands.get$(payload).pipe(map((model) => HttpActions.getSuccess(model, payload.onSuccess)), catchError((e) => of(HttpActions.getError(e, payload.onError))));\r\n    }\r\n    post$(payload) {\r\n        // console.log('POST:\\t', payload.onSuccess);\r\n        return this.commands.post$(payload).pipe(map((model) => HttpActions.postSuccess(model, payload.onSuccess)), catchError((e) => {\r\n            return of(HttpActions.postError(e, payload.onError));\r\n        }));\r\n    }\r\n    postFormUrlEncoded$(payload) {\r\n        // console.log('POST:\\t', payload.onSuccess);\r\n        return this.commands.postFormUrlEncoded$(payload).pipe(map((model) => HttpActions.postSuccess(model, payload.onSuccess)), catchError((e) => of(HttpActions.postError(e, payload.onError))));\r\n    }\r\n    put$(payload) {\r\n        // console.log('PUT:\\t', payload.onSuccess);\r\n        return this.commands.put$(payload).pipe(map((model) => HttpActions.putSuccess(model, payload.onSuccess)), catchError((e) => of(HttpActions.putError(e, payload.onError))));\r\n    }\r\n    search$(payload) {\r\n        // console.log('SEARCH:\\t', payload.onSuccess);\r\n        return this.commands.get$(payload).pipe(map((model) => HttpActions.searchSuccess(model, payload.onSuccess, payload.path)), catchError((e) => of(HttpActions.getError(e, payload.onError))));\r\n    }\r\n}\r\n/** @nocollapse */ HttpEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpEffects, deps: [{ token: i1.Actions }, { token: HttpCommands }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HttpEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onDelete$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onGet$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onPost$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onPostFormUrlEncoded$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onPut$\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Object)\r\n], HttpEffects.prototype, \"onSearch$\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: HttpCommands }]; }, propDecorators: { onDelete$: [], onGet$: [], onPost$: [], onPostFormUrlEncoded$: [], onPut$: [], onSearch$: [] } });\n\nconst BASE_URL$ = new InjectionToken('API Base URL');\r\nconst AUTH_TOKEN$ = new InjectionToken('API Auth Token');\r\nfunction baseUrlFactory(store, baseUrlSelector) {\r\n    return store.pipe(baseUrlSelector);\r\n}\r\nfunction authTokenFactory(store, authTokenSelector) {\r\n    return store.pipe(authTokenSelector);\r\n}\r\nfunction httpServiceFactory(http, baseUrl$, authToken$) {\r\n    return new HttpService(http, baseUrl$, authToken$);\r\n}\r\nfunction provideHttpContext(urlSelector, authTokenSelector) {\r\n    return [\r\n        HttpEffects,\r\n        HttpCommands,\r\n        { provide: HttpService, useFactory: httpServiceFactory, deps: [HttpClient, 'BASE_URL$', 'AUTH_TOKEN$'] },\r\n        { provide: 'URL_SELECTOR', useValue: urlSelector },\r\n        { provide: 'BASE_URL$', useFactory: baseUrlFactory, deps: [Store, 'URL_SELECTOR'] },\r\n        { provide: 'TOKEN_SELECTOR', useValue: authTokenSelector },\r\n        { provide: 'AUTH_TOKEN$', useFactory: authTokenFactory, deps: [Store, 'TOKEN_SELECTOR'] },\r\n    ];\r\n}\r\nclass HttpModule {\r\n    static forRoot(baseUrlSelector, authTokenSelector) {\r\n        return {\r\n            ngModule: HttpModule,\r\n            providers: provideHttpContext(baseUrlSelector, authTokenSelector)\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ HttpModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ HttpModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, imports: [HttpClientModule], exports: [HttpClientModule] });\r\n/** @nocollapse */ HttpModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, imports: [[\r\n            HttpClientModule,\r\n        ], HttpClientModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HttpModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        HttpClientModule,\r\n                    ],\r\n                    exports: [\r\n                        HttpClientModule,\r\n                    ]\r\n                }]\r\n        }] });\n\nclass HubService {\r\n    constructor(store, url) {\r\n        this.store = store;\r\n        this.startConnection(url);\r\n    }\r\n    startConnection(url) {\r\n        this.hubConnection = new signalR.HubConnectionBuilder()\r\n            .withUrl(url, {\r\n            skipNegotiation: true,\r\n            transport: signalR.HttpTransportType.WebSockets\r\n        })\r\n            .build();\r\n        this.hubConnection.start();\r\n        return this.hubConnection;\r\n    }\r\n    addEffect(channel, action) {\r\n        this.removeEffect(channel); // make sure no existing streams exist for this channel\r\n        this.hubConnection.on(channel, (payload) => {\r\n            this.store.dispatch({\r\n                type: action,\r\n                payload\r\n            });\r\n        });\r\n    }\r\n    removeEffect(channel) {\r\n        this.removeListener(channel);\r\n    }\r\n    addListener(functionName, func) {\r\n        this.hubConnection.on(functionName, (data) => func(data));\r\n    }\r\n    removeListener(channel) {\r\n        this.hubConnection.off(channel);\r\n    }\r\n}\r\n/** @nocollapse */ HubService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubService, deps: [{ token: i1$1.Store }, { token: SOCKET_URL }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ HubService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$1.Store }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [SOCKET_URL]\r\n                    }] }];\r\n    } });\n\nconst SOCKET_URL = new InjectionToken('API hub endpoint');\r\nconst SOCKET_KEYS = new InjectionToken('API hub keys');\r\nfunction hubServiceFactory(store, url) {\r\n    return new HubService(store, url);\r\n}\r\nfunction provideHub(url = '', keys = []) {\r\n    return [\r\n        { provide: HubService, useFactory: hubServiceFactory, deps: [Store, SOCKET_URL] },\r\n        { provide: SOCKET_URL, useValue: url },\r\n    ];\r\n}\r\nclass HubModule {\r\n    static forRoot(url = '') {\r\n        return {\r\n            ngModule: HubModule,\r\n            providers: provideHub(url, [])\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ HubModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ HubModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule });\r\n/** @nocollapse */ HubModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule, imports: [[]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: HubModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [],\r\n                    imports: []\r\n                }]\r\n        }] });\n\nclass LookupActions {\r\n    static addKey(payload) {\r\n        return {\r\n            type: LookupActions.ADD_KEY,\r\n            payload: payload\r\n        };\r\n    }\r\n    static addValue(lookupKey, lookupValue) {\r\n        return {\r\n            type: LookupActions.UPDATE_VALUE,\r\n            payload: { lookupKey, lookupValue }\r\n        };\r\n    }\r\n    static addValues(payload) {\r\n        return {\r\n            type: LookupActions.ADD_VALUES,\r\n            payload: payload\r\n        };\r\n    }\r\n    static removeKey(key) {\r\n        return {\r\n            type: LookupActions.REMOVE_KEY,\r\n            payload: key\r\n        };\r\n    }\r\n    static removeValue(lookupKey, lookupValueId) {\r\n        return {\r\n            type: LookupActions.REMOVE_VALUE,\r\n            payload: { lookupKey, lookupValueId }\r\n        };\r\n    }\r\n    static updateValue(lookupKey, lookupValue) {\r\n        return {\r\n            type: LookupActions.UPDATE_VALUE,\r\n            payload: { lookupKey, lookupValue }\r\n        };\r\n    }\r\n}\r\nLookupActions.ADD_KEYS = '[Lookup] Add keys';\r\nLookupActions.ADD_KEY = '[Lookup] Add key';\r\nLookupActions.ADD_VALUES = '[Lookup] Add values';\r\nLookupActions.REMOVE_KEY = '[Lookup] Remove key';\r\nLookupActions.REMOVE_VALUE = '[Lookup] Remove value';\r\nLookupActions.UPDATE_VALUE = '[Lookup] Update value';\n\nclass LookupService {\r\n    constructor(store, lookupPath = 'lookup', lookupKeys = []) {\r\n        this.store = store;\r\n        this._keys = [];\r\n        this.path = 'lookup';\r\n        this.path = lookupPath;\r\n        this.keys = lookupKeys;\r\n    }\r\n    get keys() {\r\n        return this._keys;\r\n    }\r\n    set keys(value) {\r\n        this._keys = value;\r\n    }\r\n    load(keys, values) {\r\n        if (values) {\r\n            this.loadValues(values);\r\n        }\r\n        this.loadKeys(keys);\r\n    }\r\n    loadKeys(keys) {\r\n        this.keys = keys;\r\n        this.store.dispatch(HttpActions.get(`${this.path}${this.buildQueryString()}`, LookupActions.ADD_KEYS));\r\n    }\r\n    loadValues(values) {\r\n        this.store.dispatch(LookupActions.addValues(values));\r\n    }\r\n    lookup(key) {\r\n        return this.store.select('lookup').pipe(map(s => s[key]));\r\n    }\r\n    addKey(key, value) {\r\n        this.store.dispatch(LookupActions.addKey(build(AddLookupPayload, {\r\n            key: key,\r\n            value: value\r\n        })));\r\n    }\r\n    removeKey(key) {\r\n        this.store.dispatch(LookupActions.removeKey(key));\r\n    }\r\n    buildQueryString() {\r\n        let query = this.keys.length > 0 ? `?keys=${this.keys[0]}` : '';\r\n        this.keys.filter((key, index) => index !== 0)\r\n            .forEach(key => {\r\n            query += `&keys=${key}`;\r\n        });\r\n        return query;\r\n    }\r\n}\r\n/** @nocollapse */ LookupService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupService, deps: [{ token: i1$1.Store }, { token: LOOKUP_PATH }, { token: LOOKUP_KEYS }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ LookupService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$1.Store }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [LOOKUP_PATH]\r\n                    }] }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [LOOKUP_KEYS]\r\n                    }] }];\r\n    } });\n\nconst LOOKUP_PATH = new InjectionToken('API lookup endpoint');\r\nconst LOOKUP_KEYS = new InjectionToken('API lookup keys');\r\nfunction lookupServiceFactory(store, LOOKUP_PATH = 'lookup', LOOKUP_KEYS = []) {\r\n    return new LookupService(store, LOOKUP_PATH, LOOKUP_KEYS);\r\n}\r\nfunction provideLookup(path = '', keys = []) {\r\n    return [\r\n        { provide: LookupService, useFactory: lookupServiceFactory, deps: [Store, LOOKUP_PATH, LOOKUP_KEYS] },\r\n        { provide: LOOKUP_PATH, useValue: path },\r\n        { provide: LOOKUP_KEYS, useValue: keys },\r\n    ];\r\n}\r\nclass LookupModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup('lookup', [])\r\n        };\r\n    }\r\n    static forRootWithPath(path = '') {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup(path, [])\r\n        };\r\n    }\r\n    static forRootWithKeys(keys) {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup('lookup', keys)\r\n        };\r\n    }\r\n    static forRootWithPathAndKeys(path = '', keys) {\r\n        return {\r\n            ngModule: LookupModule,\r\n            providers: provideLookup(path, keys)\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ LookupModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ LookupModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule });\r\n/** @nocollapse */ LookupModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule, imports: [[]] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: LookupModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [],\r\n                    declarations: []\r\n                }]\r\n        }] });\n\nvar ActionTypes;\r\n(function (ActionTypes) {\r\n    ActionTypes[ActionTypes[\"DEFAULT\"] = 0] = \"DEFAULT\";\r\n    ActionTypes[ActionTypes[\"GET\"] = 1] = \"GET\";\r\n    ActionTypes[ActionTypes[\"GET_SUCCESS\"] = 2] = \"GET_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"GET_ERROR\"] = 3] = \"GET_ERROR\";\r\n    ActionTypes[ActionTypes[\"POST\"] = 4] = \"POST\";\r\n    ActionTypes[ActionTypes[\"POST_SUCCESS\"] = 5] = \"POST_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"POST_ERROR\"] = 6] = \"POST_ERROR\";\r\n    ActionTypes[ActionTypes[\"PUT\"] = 7] = \"PUT\";\r\n    ActionTypes[ActionTypes[\"PUT_SUCCESS\"] = 8] = \"PUT_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"PUT_ERROR\"] = 9] = \"PUT_ERROR\";\r\n    ActionTypes[ActionTypes[\"DELETE\"] = 10] = \"DELETE\";\r\n    ActionTypes[ActionTypes[\"DELETE_SUCCESS\"] = 11] = \"DELETE_SUCCESS\";\r\n    ActionTypes[ActionTypes[\"DELETE_ERROR\"] = 12] = \"DELETE_ERROR\";\r\n    ActionTypes[ActionTypes[\"SAVE\"] = 13] = \"SAVE\";\r\n})(ActionTypes || (ActionTypes = {}));\r\nclass Redirect {\r\n    constructor() {\r\n        this.action = '';\r\n        this.redirectTo = '/';\r\n        this.redirectStatus = null;\r\n    }\r\n    get id() {\r\n        return this.action;\r\n    }\r\n}\r\nclass Redirects extends Collection {\r\n    constructor() {\r\n        super(Redirect);\r\n    }\r\n    add(data) {\r\n        return build(Redirects, this.update([data]));\r\n    }\r\n    remove(data) {\r\n        return build(Redirects, this.delete(data));\r\n    }\r\n    update(data) {\r\n        const items = Collection.BuildDictionaryFromArray(data.reduce((acc, x) => {\r\n            const filtered = acc.filter(y => y.id !== x.action);\r\n            return truthy(x.redirectTo) ? [...filtered, x] : filtered;\r\n        }, this.asArray));\r\n        return build(Redirects, this, { items });\r\n    }\r\n}\r\nclass ViewSettings {\r\n    constructor() {\r\n        this.theme = 'dark';\r\n    }\r\n    get isDarkTheme() {\r\n        return this.theme === 'dark';\r\n    }\r\n    get isLightTheme() {\r\n        return this.theme === 'light';\r\n    }\r\n}\n\nclass AppActions {\r\n    static noAction() {\r\n        return {\r\n            type: AppActions.NO_ACTION\r\n        };\r\n    }\r\n}\r\nAppActions.INIT_STORE = '[Storage] Init Store';\r\nAppActions.NO_ACTION = '[App] No Action';\r\nclass ConfigActions {\r\n    static initialize(config) {\r\n        return {\r\n            type: ConfigActions.INITIALIZE,\r\n            payload: config\r\n        };\r\n    }\r\n}\r\nConfigActions.INITIALIZE = '[Config] Initialize Configuration';\r\nclass CurrentUserActions {\r\n    static logout() {\r\n        return {\r\n            type: CurrentUserActions.LOGOUT\r\n        };\r\n    }\r\n}\r\nCurrentUserActions.LOGIN = '[CurrentUser] Login';\r\nCurrentUserActions.LOGOUT = '[CurrentUser] Logout';\r\nCurrentUserActions.RESET_PASSWORD = '[CurrentUser] Reset Password';\r\nCurrentUserActions.ALL = [\r\n    CurrentUserActions.LOGIN,\r\n    CurrentUserActions.LOGOUT,\r\n    CurrentUserActions.RESET_PASSWORD\r\n];\r\nclass FormActions {\r\n}\r\nFormActions.SAVE = '[Form] SAVE';\r\nclass OrganizationsActions {\r\n}\r\nOrganizationsActions.GET = '[Organizations] GET';\r\nclass RedirectActions {\r\n    static add(payload) {\r\n        return {\r\n            type: RedirectActions.ADD,\r\n            payload\r\n        };\r\n    }\r\n    static update(actions, redirectTo) {\r\n        const payload = actions.map(action => build(Redirect, {\r\n            action,\r\n            redirectTo\r\n        }));\r\n        return {\r\n            type: RedirectActions.UPDATE,\r\n            payload\r\n        };\r\n    }\r\n    static remove(payload) {\r\n        return {\r\n            type: RedirectActions.ADD,\r\n            payload\r\n        };\r\n    }\r\n}\r\nRedirectActions.ADD = '[Redirect] ADD';\r\nRedirectActions.REMOVE = '[Redirect] REMOVE';\r\nRedirectActions.UPDATE = '[Redirect] UPDATE';\r\nclass SidenavActions {\r\n    static close() {\r\n        return {\r\n            type: SidenavActions.CLOSE\r\n        };\r\n    }\r\n    static open() {\r\n        return {\r\n            type: SidenavActions.OPEN\r\n        };\r\n    }\r\n    static toggle() {\r\n        return {\r\n            type: SidenavActions.TOGGLE\r\n        };\r\n    }\r\n}\r\nSidenavActions.CLOSE = '[Sidenav] Close';\r\nSidenavActions.OPEN = '[Sidenav] Open';\r\nSidenavActions.TOGGLE = '[Sidenav] Toggle';\r\nclass ViewSettingsActions {\r\n    static changeTheme(theme) {\r\n        return {\r\n            type: ViewSettingsActions.CHANGETHEME,\r\n            payload: theme\r\n        };\r\n    }\r\n}\r\nViewSettingsActions.CHANGETHEME = '[viewSettingsReducer] Change Theme';\r\nclass WindowActions {\r\n    static resize(payload) {\r\n        return {\r\n            type: WindowActions.RESIZE,\r\n            payload\r\n        };\r\n    }\r\n}\r\nWindowActions.RESIZE = '[Window] Resize';\n\nfunction lookupReducer(state = new Lookups(), action) {\r\n    switch (action.type) {\r\n        case LookupActions.ADD_KEYS:\r\n            return Lookups.AddLookups(state, toArray(action.payload).map(x => build(Lookup, x)));\r\n        case LookupActions.ADD_KEY:\r\n            return Lookups.AddLookup(state, action.payload);\r\n        case LookupActions.UPDATE_VALUE:\r\n            return Lookups.UpdateLookupValue(state, action.payload.lookupKey, action.payload.lookupValue);\r\n        case LookupActions.ADD_VALUES:\r\n            return Lookups.AddLookups(state, action.payload);\r\n        case LookupActions.REMOVE_KEY:\r\n            return Lookups.RemoveLookup(state, action.payload);\r\n        case LookupActions.REMOVE_VALUE:\r\n            return Lookups.RemoveLookupValue(state, action.payload.lookupKey, action.payload.lookupValueId);\r\n        case AppActions.INIT_STORE:\r\n            return build(Lookups, action.payload['lookup']);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nfunction lookupSelector(store) {\r\n    return store.select(s => s['lookup']);\r\n}\r\nfunction lookupKeySelector(store, key) {\r\n    return lookupSelector(store).pipe(map(lookup => lookup[key] || new Lookup()));\r\n}\r\nfunction lookupValuesSelector(store, key) {\r\n    return lookupKeySelector(store, key).pipe(map(lookup => lookup.values)\r\n    // map(statuses => statuses.filter(x => truthy(x.name) && x.name !== 'Select'))\r\n    );\r\n}\r\nfunction lookupValueSelector(store, key, f) {\r\n    const values$ = lookupValuesSelector(store, key);\r\n    return values$.pipe(map(values => values.find(f) || new LookupValue()));\r\n}\n\nclass RouterActions {\r\n    static activate(routeName, parent) {\r\n        const payload = {\r\n            routeName,\r\n            parent\r\n        };\r\n        return {\r\n            type: RouterActions.ACTIVATE,\r\n            payload\r\n        };\r\n    }\r\n    static navigate(r) {\r\n        return {\r\n            type: RouterActions.NAVIGATE,\r\n            payload: r\r\n        };\r\n    }\r\n    static navigateSuccess() {\r\n        return {\r\n            type: RouterActions.NAVIGATE_SUCCESS\r\n        };\r\n    }\r\n    static navigateError() {\r\n        return {\r\n            type: RouterActions.NAVIGATE_ERROR\r\n        };\r\n    }\r\n    static navCancel(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_CANCEL,\r\n            payload: e\r\n        };\r\n    }\r\n    static navEnd(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_END,\r\n            payload: e\r\n        };\r\n    }\r\n    static navError(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_ERROR,\r\n            payload: e\r\n        };\r\n    }\r\n    static navStart(e) {\r\n        return {\r\n            type: RouterActions.NAVIGATION_START,\r\n            payload: e\r\n        };\r\n    }\r\n    static routesRecognized(e) {\r\n        return {\r\n            type: RouterActions.ROUTES_RECOGNIZED,\r\n            payload: e\r\n        };\r\n    }\r\n}\r\nRouterActions.ACTIVATE = '[Router] Activate Route';\r\nRouterActions.NAVIGATE = '[Router] Navigate';\r\nRouterActions.NAVIGATE_SUCCESS = '[Router] Navigate Success';\r\nRouterActions.NAVIGATE_ERROR = '[Router] Navigate Error';\r\nRouterActions.NAVIGATION_CANCEL = '[Router] Cancel Navigation';\r\nRouterActions.NAVIGATION_END = '[Router] End Navigation';\r\nRouterActions.NAVIGATION_ERROR = '[Router] Error Navigation';\r\nRouterActions.NAVIGATION_START = '[Router] Start Navigation';\r\nRouterActions.ROUTES_RECOGNIZED = '[Router] Routes Recognized';\n\nclass RouterService {\r\n    constructor(_router, _route, store) {\r\n        this._router = _router;\r\n        this._route = _route;\r\n        this.store = store;\r\n        this.navigationCancel = new EventEmitter();\r\n        this.navigationEnd = new EventEmitter();\r\n        this.navigationError = new EventEmitter();\r\n        this.navigationStart = new EventEmitter();\r\n        this.routesRecognized = new EventEmitter();\r\n        _router.events.subscribe((e) => {\r\n            if (e instanceof NavigationCancel) {\r\n                this.onNavigationCancel(e);\r\n            }\r\n            else if (e instanceof NavigationEnd) {\r\n                this.onNavigationEnd(e);\r\n            }\r\n            else if (e instanceof NavigationError) {\r\n                this.onNavigationError(e);\r\n            }\r\n            else if (e instanceof NavigationStart) {\r\n                this.onNavigationStart(e);\r\n            }\r\n            else if (e instanceof RoutesRecognized) {\r\n                this.onRoutesRecognized(e);\r\n            }\r\n        });\r\n    }\r\n    onNavigationCancel(e) {\r\n        this.store.dispatch(RouterActions.navCancel(e));\r\n    }\r\n    onNavigationEnd(e) {\r\n        this.store.dispatch(RouterActions.navEnd(e));\r\n    }\r\n    onNavigationError(e) {\r\n        this.store.dispatch(RouterActions.navError(e));\r\n    }\r\n    onNavigationStart(e) {\r\n        this.store.dispatch(RouterActions.navStart(e));\r\n    }\r\n    onRoutesRecognized(e) {\r\n        this.store.dispatch(RouterActions.routesRecognized(e));\r\n    }\r\n    get activatedRoute() {\r\n        return this._route;\r\n    }\r\n    get routeData$() {\r\n        return this.activatedRoute.data;\r\n    }\r\n    get routeParams$() {\r\n        return this.activatedRoute.params;\r\n    }\r\n    get router() {\r\n        return this._router;\r\n    }\r\n    get url$() {\r\n        return this.store.select(s => s.router.url);\r\n    }\r\n    navigate(commands, extras) {\r\n        const promise = this.router.navigate(commands, extras);\r\n        return from(promise);\r\n    }\r\n    navigateByUrl(url, extras) {\r\n        const promise = this.router.navigateByUrl(url, extras);\r\n        return from(promise);\r\n    }\r\n}\r\n/** @nocollapse */ RouterService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterService, deps: [{ token: i1$5.Router }, { token: i1$5.ActivatedRoute }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ RouterService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: i1$5.Router }, { type: i1$5.ActivatedRoute }, { type: i1$1.Store }]; } });\n\nclass RouterEffects {\r\n    constructor(actions$, router) {\r\n        this.actions$ = actions$;\r\n        this.router = router;\r\n        /**\r\n         * All imperative navigation should be performed using this effects\r\n         * so that the state is aware of the navigation.\r\n         */\r\n        this.navigate = this.actions$.pipe(ofType(RouterActions.NAVIGATE), switchMap((action) => this.navigate$(action.payload)));\r\n    }\r\n    navigate$(r) {\r\n        const nav$ = typeof (r) === 'string' ? this.router.navigateByUrl(r) : this.router.navigate(r);\r\n        return nav$.pipe(map(() => RouterActions.navigateSuccess()), catchError((e) => {\r\n            return of(RouterActions.navigateError());\r\n        }));\r\n    }\r\n}\r\n/** @nocollapse */ RouterEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterEffects, deps: [{ token: i1.Actions }, { token: RouterService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ RouterEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], RouterEffects.prototype, \"navigate\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: RouterService }]; }, propDecorators: { navigate: [] } });\r\nclass CanDeactivateGuard {\r\n    constructor() {\r\n        this.destUrl = '';\r\n    }\r\n    get routingDestination() {\r\n        return this.destUrl;\r\n    }\r\n    set routingDestination(url) {\r\n        this.destUrl = url;\r\n    }\r\n    canDeactivate(component, route, state) {\r\n        return component.canDeactivate ? component.canDeactivate() : true;\r\n    }\r\n}\r\n/** @nocollapse */ CanDeactivateGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CanDeactivateGuard, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ CanDeactivateGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CanDeactivateGuard });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: CanDeactivateGuard, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return []; } });\n\nclass RouterModule {\r\n    static forRoot() {\r\n        return {\r\n            ngModule: RouterModule,\r\n            providers: [RouterService, RouterEffects]\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ RouterModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ RouterModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, imports: [RouterModule$1], exports: [RouterModule$1] });\r\n/** @nocollapse */ RouterModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, imports: [[RouterModule$1], RouterModule$1] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: RouterModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [RouterModule$1],\r\n                    exports: [RouterModule$1]\r\n                }]\r\n        }] });\n\nclass ActivatedRoutePayload {\r\n    constructor() {\r\n        this.routeName = '';\r\n    }\r\n}\r\nclass Breadcrumbs {\r\n    constructor(segments) {\r\n        this.segments = segments;\r\n    }\r\n}\r\nclass CustomRoute {\r\n    constructor(props) {\r\n        this.children = [];\r\n        this.lazyChildren = [];\r\n        this._path = '';\r\n        assignProps(this, props);\r\n    }\r\n    get path() {\r\n        return this._path;\r\n    }\r\n    set path(value) {\r\n        this._path = value;\r\n    }\r\n    get route() {\r\n        return {\r\n            component: this.component,\r\n            children: [...this.children, ...this.lazyChildren]\r\n        };\r\n    }\r\n}\r\nclass LazyRoute extends CustomRoute {\r\n    constructor(props) {\r\n        super(props);\r\n        this.path = '';\r\n    }\r\n}\r\nvar NavigationStatus;\r\n(function (NavigationStatus) {\r\n    NavigationStatus[NavigationStatus[\"Default\"] = 0] = \"Default\";\r\n    NavigationStatus[NavigationStatus[\"NavigationStart\"] = 1] = \"NavigationStart\";\r\n    NavigationStatus[NavigationStatus[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\r\n    NavigationStatus[NavigationStatus[\"NavigationError\"] = 3] = \"NavigationError\";\r\n    NavigationStatus[NavigationStatus[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\r\n    NavigationStatus[NavigationStatus[\"NavigationEnd\"] = 5] = \"NavigationEnd\";\r\n})(NavigationStatus || (NavigationStatus = {}));\r\nclass RouteSegment {\r\n    constructor() {\r\n        /** The URL fragment shared by all the routes */\r\n        this.fragment = '';\r\n        /** The order of the segment in the route */\r\n        this.order = 0;\r\n        /** The outlet name of the route */\r\n        this.outlet = '';\r\n        /** The label to pass to the anchor tag */\r\n        this.routeLabel = '';\r\n        /** The unique identifier for the route segment */\r\n        this.routeName = '';\r\n    }\r\n    /** The link to pass to the anchor tag */\r\n    get routerLink() {\r\n        return this.pathFromRoot\r\n            .map(r => r.url)\r\n            .reduce((acc, x) => {\r\n            const segment = RouterState.BuildUrlSegment(x);\r\n            return segment && segment !== '/' ? `${acc}${segment}` : acc;\r\n        }, '');\r\n    }\r\n}\r\nclass RouterState {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.error = undefined;\r\n        this.events = [];\r\n        this.history = [];\r\n        this.navigationStatus = NavigationStatus.Default;\r\n        this.pendingState = undefined;\r\n        this.pendingUrl = '';\r\n        this.pendingUrlAfterRedirects = '';\r\n        this.reason = '';\r\n        this.state = undefined;\r\n        this.url = '';\r\n        this.urlAfterRedirects = '';\r\n    }\r\n    get activatedRoute() {\r\n        return RouterState.GetActivatedRoute(this.rootRoute);\r\n    }\r\n    get rootRoute() {\r\n        return this.state ? this.state.root : null;\r\n    }\r\n    static BuildRoute(props) {\r\n        const r = new CustomRoute(props);\r\n        return r;\r\n    }\r\n    static BuildLazyRoute(props) {\r\n        const r = new LazyRoute(props);\r\n        return r;\r\n    }\r\n    static BuildUrlSegment(url) {\r\n        return url.reduce((acc, segment) => segment.path && segment.path !== '/' ? `${acc}/${segment.path}` : acc, '');\r\n    }\r\n    static GetActivatedOutlets(root, index = 0) {\r\n        return root\r\n            ? root.children.reduce((acc, r, currentIndex) => {\r\n                const i = index + currentIndex;\r\n                const routeName = RouterState.GetRouteName(r);\r\n                const existing = build(RouteSegment, acc[routeName]);\r\n                const outlet = RouterState.GetRouteSegment(r, existing, i);\r\n                return routeName\r\n                    ? Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1), {\r\n                        [routeName]: outlet\r\n                    })\r\n                    : Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1));\r\n            }, {})\r\n            : {};\r\n    }\r\n    static GetActivatedRoute(root) {\r\n        return root && Array.isArray(root.children)\r\n            ? root.children.reduce((acc, r) => {\r\n                return RouterState.GetActivatedRoute(r);\r\n            }, root)\r\n            : null;\r\n    }\r\n    static GetAllParams(route) {\r\n        return route\r\n            ? route.children.reduce((acc, r) => {\r\n                return Object.assign({}, acc, RouterState.GetAllParams(r));\r\n            }, Object.assign({}, route.params, route.queryParams))\r\n            : {};\r\n    }\r\n    static GetRouteData(route) {\r\n        return route.data;\r\n    }\r\n    static GetRouteSegment(route, existing = new RouteSegment(), index = 0) {\r\n        const routeName = RouterState.GetRouteName(route);\r\n        return build(RouteSegment, existing, {\r\n            data: route.data,\r\n            fragment: route.fragment,\r\n            order: index,\r\n            outlet: route.outlet,\r\n            pathFromRoot: route.pathFromRoot,\r\n            params: route.params,\r\n            routeName,\r\n            routeLabel: RouterState.GetRouteData(route)['routeLabel'] || existing.routeLabel\r\n        });\r\n    }\r\n    static GetRouteName(route) {\r\n        return route ? RouterState.GetRouteData(route)['routeName'] : '';\r\n    }\r\n    get activatedOutlets() {\r\n        return RouterState.GetActivatedOutlets(this.rootRoute);\r\n    }\r\n    get lastEvent() {\r\n        return this.events[-1];\r\n    }\r\n    get params() {\r\n        return RouterState.GetAllParams(this.rootRoute);\r\n    }\r\n    get routeName() {\r\n        return RouterState.GetRouteName(this.activatedRoute);\r\n    }\r\n    get visited() {\r\n        return this.history.map(x => x.link);\r\n    }\r\n    addRouterEvent(e, eventType) {\r\n        const newEvent = { eventType: eventType, event: e };\r\n        return [...this.events, newEvent];\r\n    }\r\n    navigationCancel(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.NavigationCancel,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationCancel),\r\n            id: payload.id,\r\n            pendingState: null,\r\n            pendingUrl: '',\r\n            pendingUrlAfterRedirects: '',\r\n            reason: payload.reason\r\n        });\r\n    }\r\n    navigationEnd(payload) {\r\n        const history = [payload.toString(), ...this.history];\r\n        return build(RouterState, this, {\r\n            state: this.pendingState\r\n        }, {\r\n            history,\r\n            navigationStatus: NavigationStatus.NavigationEnd,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationEnd),\r\n            id: payload.id,\r\n            pendingState: null,\r\n            pendingUrl: '',\r\n            pendingUrlAfterRedirects: '',\r\n            url: payload.url,\r\n            urlAfterRedirects: payload.urlAfterRedirects\r\n        });\r\n    }\r\n    navigationError(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.NavigationError,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationError),\r\n            id: payload.id,\r\n            pendingState: null,\r\n            pendingUrl: '',\r\n            pendingUrlAfterRedirects: '',\r\n            error: payload.error\r\n        });\r\n    }\r\n    navigationStart(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.NavigationStart,\r\n            events: this.addRouterEvent(payload, NavigationStatus.NavigationStart),\r\n            id: payload.id,\r\n            pendingUrl: payload.url\r\n        });\r\n    }\r\n    routesRecognized(payload) {\r\n        return build(RouterState, this, {\r\n            navigationStatus: NavigationStatus.RoutesRecognized,\r\n            events: this.addRouterEvent(payload, NavigationStatus.RoutesRecognized),\r\n            id: payload.id,\r\n            pendingState: payload.state,\r\n            pendingUrl: payload.url,\r\n            pendingUrlAfterRedirects: payload.urlAfterRedirects\r\n        });\r\n    }\r\n}\r\nclass VisitedRoute {\r\n    constructor() {\r\n        this.label = '';\r\n        this.link = '';\r\n        this.name = '';\r\n        this.visitTime = new Date();\r\n    }\r\n}\n\nfunction routerReducer(state = new RouterState(), action) {\r\n    switch (action.type) {\r\n        case RouterActions.ACTIVATE:\r\n            return state;\r\n        case RouterActions.NAVIGATION_CANCEL:\r\n            // console.log(RouterActions.NAVIGATION_CANCEL, action.payload);\r\n            return state.navigationCancel(action.payload);\r\n        case RouterActions.NAVIGATION_END:\r\n            // console.log(RouterActions.NAVIGATION_END, action.payload);\r\n            return state.navigationEnd(action.payload);\r\n        case RouterActions.NAVIGATION_ERROR:\r\n            // console.log(RouterActions.NAVIGATION_ERROR, action.payload);\r\n            return state.navigationError(action.payload);\r\n        case RouterActions.NAVIGATION_START:\r\n            // console.log(RouterActions.NAVIGATION_START, action.payload);\r\n            return state.navigationStart(action.payload);\r\n        case RouterActions.ROUTES_RECOGNIZED:\r\n            // console.log(RouterActions.ROUTES_RECOGNIZED, action.payload);\r\n            // console.log(getAllParams(action.payload.state.root));\r\n            return state.routesRecognized(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nfunction routeSelector(store) {\r\n    return store.select('route');\r\n}\r\nfunction breadcrumbsSelector(store) {\r\n    return routeSelector(store).pipe(map(r => {\r\n        const outlets = r.activatedOutlets;\r\n        return new Breadcrumbs(Object.keys(outlets).map(key => outlets[key]));\r\n    }));\r\n}\r\nfunction routeNameSelector(store) {\r\n    return routeSelector(store).pipe(map(r => r.routeName), distinctUntilChanged());\r\n}\r\nfunction routeParamsSelector(store) {\r\n    return routeSelector(store).pipe(map(r => r.params), distinctUntilChanged());\r\n}\r\nfunction lazyRouteParamsSelector(store, key) {\r\n    return routeParamsSelector(store).pipe(map(params => params[key]), distinctUntilChanged());\r\n}\r\nfunction routeParamSelector(store, key, defaultValue = null) {\r\n    return combineLatest(of(defaultValue), lazyRouteParamsSelector(store, key), (x, y) => {\r\n        return y || x;\r\n    }).pipe(distinctUntilChanged());\r\n}\r\nfunction routeParamArraySelector(store, key) {\r\n    return routeParamSelector(store, key, []).pipe(map(x => toArray(x)));\r\n}\r\nfunction routeParamBoolSelector(store, key) {\r\n    return routeParamSelector(store, key).pipe(map(x => x !== 'false' && (x === 'true' || truthy(x))));\r\n}\r\nfunction routeParamIdSelector(store, key) {\r\n    return routeParamIntSelector(store, key);\r\n}\r\nfunction routeParamIntSelector(store, key) {\r\n    return routeParamSelector(store, key, 0).pipe(map(x => toInt(x)));\r\n}\r\nfunction urlSelector(store) {\r\n    return routeSelector(store).pipe(map(r => r.url), distinctUntilChanged());\r\n}\r\nfunction urlPathSelector(store) {\r\n    return urlSelector(store).pipe(map(url => url.indexOf('?') === -1 ? url : url.substring(0, url.indexOf('?'))), distinctUntilChanged());\r\n}\r\nfunction querySelector(store, take = 10, skip = 0, term = 0) {\r\n    const skip$ = routeParamIntSelector(store, 'skip');\r\n    const take$ = routeParamIntSelector(store, 'take').pipe(map(x => x === 0 ? take : x));\r\n    const term$ = routeParamSelector(store, 'term');\r\n    return combineLatest([skip$, take$, term$]).pipe(map(x => Object.assign(new BaseQueryModel(), {\r\n        skip: x[0],\r\n        take: x[1],\r\n        term: x[2]\r\n    })));\r\n}\r\nfunction navigationStatusSelector(store) {\r\n    return routeSelector(store).pipe(map(x => x.navigationStatus), distinctUntilChanged());\r\n}\r\nfunction navigationEndedSelector(store) {\r\n    return navigationStatusSelector(store).pipe(map(x => x === 5), distinctUntilChanged());\r\n}\r\nfunction previousUrlsSelector(store) {\r\n    return routeSelector(store).pipe(map(x => {\r\n        return x.events.filter(y => y.eventType === 5).map(y => y.event['urlAfterRedirects']);\r\n    }));\r\n}\r\nfunction previousUrlSelector(store) {\r\n    return previousUrlsSelector(store).pipe(map(x => {\r\n        return x.length > 0 ? x[x.length - 1] : '/';\r\n    }));\r\n}\n\nclass Token {\r\n    constructor() {\r\n        this.access_token = '';\r\n        this.expiresIn = 0;\r\n    }\r\n    get authenticated() {\r\n        return !this.expired;\r\n    }\r\n    get expires_in() {\r\n        return this.expiresIn;\r\n    }\r\n    set expires_in(value) {\r\n        this.expiresIn = value;\r\n        this.expiresInDate = new Date();\r\n    }\r\n    get expirationDate() {\r\n        const t = new Date(this.expiresInDate);\r\n        t.setSeconds(t.getSeconds() + this.expiresIn);\r\n        return t;\r\n    }\r\n    get expired() {\r\n        const now = new Date();\r\n        return this.access_token && this.expiresIn && this.expiresInDate ? now > this.expirationDate : true;\r\n    }\r\n    toString() {\r\n        return this.expired ? '' : this.access_token;\r\n    }\r\n}\n\nclass Window {\r\n    constructor() {\r\n        this.windowHeight = 0;\r\n        this.windowWidth = 0;\r\n    }\r\n    get windowWidthSmall() {\r\n        return this.windowWidth < 1200;\r\n    }\r\n    get windowWidthMedium() {\r\n        return !this.windowWidthSmall && this.windowWidth < 1300;\r\n    }\r\n    get windowWidthLarge() {\r\n        return this.windowWidth >= 1300;\r\n    }\r\n}\r\nclass WindowResize {\r\n    constructor() {\r\n        this.windowHeight = 0;\r\n        this.windowWidth = 0;\r\n    }\r\n}\n\nfunction allSelector(store) {\r\n    return store.pipe(map(x => x));\r\n}\r\nfunction emptySelector(store) {\r\n    return of({});\r\n}\r\nfunction currentUserSelector(store) {\r\n    return store.select('currentUser');\r\n}\r\nfunction authenticatedSelector(store) {\r\n    return currentUserSelector(store).pipe(map(user => user.authenticated), distinctUntilChanged());\r\n}\r\nfunction loggedInSelector(store) {\r\n    return currentUserSelector(store).pipe(map(user => user.authenticated), take(1));\r\n}\r\nfunction configSelector(store) {\r\n    return store.select('config');\r\n}\r\nfunction windowSelector(store) {\r\n    return store.select('window').pipe(map(w => build(Window, w)));\r\n}\r\nfunction windowHeightSelector(store) {\r\n    return windowSelector(store).pipe(map(window => window.windowHeight), distinctUntilChanged());\r\n}\r\nfunction windowWidthSelector(store) {\r\n    return windowSelector(store).pipe(map(window => window.windowWidth), distinctUntilChanged());\r\n}\r\nfunction containerHeightSelector(store) {\r\n    return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\nfunction containerWidthSelector(store) {\r\n    return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\nfunction contentHeightSelector(store) {\r\n    return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\nfunction contentWidthSelector(store) {\r\n    return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\nfunction sidenavOpenedSelector(store) {\r\n    return store.select('sidenav').pipe(distinctUntilChanged());\r\n}\r\nfunction apiBaseUrlSelector(store) {\r\n    return configSelector(store).pipe(map(config => config.apiBaseUrl));\r\n}\r\nfunction authTokenSelector(store) {\r\n    return currentUserSelector(store).pipe(map(user => {\r\n        const token = user && user.token ? build(Token, user.token) : new Token();\r\n        return token.toString();\r\n    }));\r\n}\r\nfunction userLastActiveSelector(store) {\r\n    return currentUserSelector(store).pipe(map(x => new Date(x.lastActive)));\r\n}\r\nfunction isMobileSelector(store) {\r\n    return combineLatest([\r\n        windowHeightSelector(store),\r\n        windowWidthSelector(store)\r\n    ]).pipe(map(x => x[1] < x[0] || isMobile()));\r\n}\r\nfunction actionTypeSelector(actions$, actionType) {\r\n    return actions$.pipe(map((action) => (action.type === actionType ? action.payload : null)), filter(x => x !== null));\r\n}\n\nclass AuthenticatedGuard {\r\n    constructor(store, routerService) {\r\n        this.store = store;\r\n        this.routerService = routerService;\r\n        this.authenticated = false;\r\n        loggedInSelector(store).subscribe(x => {\r\n            this.authenticated = x;\r\n        });\r\n    }\r\n    canActivate(route, state) {\r\n        if (!this.authenticated) {\r\n            this.routerService.navigate([`/login`]);\r\n        }\r\n        return true;\r\n    }\r\n}\r\n/** @nocollapse */ AuthenticatedGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuthenticatedGuard, deps: [{ token: i1$1.Store }, { token: RouterService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ AuthenticatedGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuthenticatedGuard });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: AuthenticatedGuard, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: RouterService }]; } });\n\nclass BaseEntity {\r\n    constructor() {\r\n        this.createdBy = null;\r\n        this.createdById = 0;\r\n        this.createdDate = new Date();\r\n        this.formId = 0;\r\n        this.lastModifiedBy = null;\r\n        this.lastModifiedById = 0;\r\n        this.lastModifiedDate = new Date();\r\n        this.matches = [];\r\n        this.ignore = [\r\n            '_metadata',\r\n            'metadata',\r\n            'ignore',\r\n            'createdBy',\r\n            'createdById',\r\n            'createdDate',\r\n            'formId',\r\n            'lastModifiedBy',\r\n            'lastModifiedById',\r\n            'lastModifiedByName',\r\n            'lastModifiedDate',\r\n            'lastModifiedOn',\r\n            'lastUpdated',\r\n            'matches',\r\n        ];\r\n        this._metadata = new Metadata();\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, this._metadata, {\r\n            ignore: this.ignore\r\n        });\r\n    }\r\n    set metadata(value) {\r\n        this._metadata = value;\r\n    }\r\n    static getGetters() {\r\n        return Object.keys(this.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['get'] === 'function';\r\n        });\r\n    }\r\n    static getSetters() {\r\n        return Object.keys(this.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['set'] === 'function';\r\n        });\r\n    }\r\n    getGetters() {\r\n        return Object.keys(this.constructor.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['get'] === 'function';\r\n        });\r\n    }\r\n    getSetters() {\r\n        return Object.keys(this.constructor.prototype).filter(name => {\r\n            return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['set'] === 'function';\r\n        });\r\n    }\r\n    update(value) {\r\n        return Object.assign(new BaseEntity(), value);\r\n    }\r\n}\n\nclass Config {\r\n    constructor() {\r\n        this.dev = false;\r\n        this.test = false;\r\n        this.staging = false;\r\n        this.production = false;\r\n        this.apiBaseUrl = '';\r\n    }\r\n}\r\nclass ViewConfig extends Config {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.viewMode = 'Default';\r\n    }\r\n}\n\n// export const ActionCreator = (actionType?: any | any[]) => {\r\n//     return (target: any, propertySignature: string) => {\r\n//         const method = target[propertySignature];\r\n//         const decoratedMethod = function () {\r\n//             const $this = this;\r\n//             const action = method.apply($this, arguments);\r\n//             action.actionType = actionType;\r\n//             return action;\r\n//         };\r\n//         target[propertySignature] = decoratedMethod;\r\n//         return target;\r\n//     };\r\n// };\r\nconst ActionType = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\n/**\r\n * Class Decorator Factory\r\n * Decorates a class.\r\n */\r\nconst Class = (metadata) => {\r\n    const classDecorator = (target) => {\r\n        return target;\r\n    };\r\n    return classDecorator;\r\n};\r\nconst Command = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\nconst Dispatcher = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\n/**\r\n * Decorates a class with properties from BaseEntity\r\n */\r\nconst Entity = (metadata) => {\r\n    function classDecorator(target) {\r\n        const ctor = function () {\r\n            Object.assign(this, new BaseEntity(), { metadata: metadata || {} });\r\n        };\r\n        ctor.prototype = Object.create(target.prototype);\r\n        ctor.prototype.constructor = target;\r\n        return ctor;\r\n    }\r\n    ;\r\n    return classDecorator;\r\n};\r\nconst EventHandler = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\nconst LifecycleHook = () => {\r\n    return (target, propertySignature) => {\r\n        return target;\r\n    };\r\n};\r\n/**\r\n * Method Decorator Factory\r\n * Decorates a method.\r\n */\r\nconst Method = (metadata) => {\r\n    const methodDecorator = (target, propertySignature, descriptor) => {\r\n        return target;\r\n    };\r\n    return methodDecorator;\r\n};\r\n/**\r\n * Parameter Decorator Factory\r\n * Decorates a parameter.\r\n */\r\nconst Parameter = (metadata) => {\r\n    const parameterDecorator = (target, propertySignature, parameterIndex) => {\r\n        return target;\r\n    };\r\n    return parameterDecorator;\r\n};\r\n/**\r\n * Property Decorator Factory\r\n * Decorates a Property.\r\n */\r\nconst Property = (metadata) => {\r\n    const propertyDecorator = (target, propertySignature) => {\r\n        if (!target.metadata) {\r\n            target.metadata = {};\r\n        }\r\n        target.metadata[propertySignature] = Object.assign(metadata, { propertyName: propertySignature });\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n};\r\n/**\r\n * Static Method Decorator Factory\r\n * Decorates a static method.\r\n */\r\nconst StaticMethod = (metadata) => {\r\n    const staticMethodDecorator = (target, propertySignature) => {\r\n        return target;\r\n    };\r\n    return staticMethodDecorator;\r\n};\r\n/**\r\n *  Static Property Decorator Factory\r\n * Decorates a static property.\r\n */\r\nconst StaticProperty = (metadata) => {\r\n    const staticPropertyDecorator = (target, propertySignature) => {\r\n        return target;\r\n    };\r\n    return staticPropertyDecorator;\r\n};\n\nclass Question {\r\n    constructor() {\r\n        this.question = '';\r\n        this.title = '';\r\n    }\r\n}\r\nclass Questions extends Collection {\r\n    static AnswerQuestions(questions, answers) {\r\n        return questions.map(question => Questions.AnswerQuestion(question, answers[question.key]));\r\n    }\r\n    static AnswerQuestion(question, answerData) {\r\n        let answer = answerData;\r\n        switch (question.type) {\r\n            case 'date':\r\n                answer = answerData;\r\n                break;\r\n            case 'monthyear':\r\n                answer = DateHelper.ToMonthYearName(answerData);\r\n                break;\r\n            case 'yesno':\r\n                answer = answerData ? 'Yes' : 'No';\r\n                break;\r\n        }\r\n        return build(Question, question, { answer });\r\n    }\r\n    answerQuestions(answers) {\r\n        return Questions.AnswerQuestions(this.toArray(), answers);\r\n    }\r\n}\r\nclass QuestionsModel {\r\n    constructor() {\r\n        this.ignore = ['isAdd', 'questions'];\r\n    }\r\n    get answers() {\r\n        return Questions.AnswerQuestions(this.questions, this);\r\n    }\r\n}\n\nclass TreeItem {\r\n    constructor(item, parent) {\r\n        this.item = item;\r\n        this.parent = parent;\r\n        this.id = 0;\r\n        this.order = 0;\r\n        this.parentId = 0;\r\n        this.treeId = 0;\r\n        this.index = 0; // overall order within the flattened tree\r\n    }\r\n    static Build(item) {\r\n        return {\r\n            item: item,\r\n            id: item['id'],\r\n            order: item['order'],\r\n            parentId: item['parentId']\r\n        };\r\n    }\r\n    get hasParent() {\r\n        return this.parentId ? true : false;\r\n    }\r\n    get sortOrder() {\r\n        return this.parentId ? this.treeId + (.1 * this.order) : this.treeId;\r\n    }\r\n    get treeOrder() {\r\n        return this.parentId ? this.order : 0;\r\n    }\r\n}\r\nclass Tree {\r\n    constructor(_treeItems, ctor) {\r\n        this._treeItems = _treeItems;\r\n        this.ctor = ctor;\r\n        this._activeId = 0;\r\n        this._activeIndex = -1;\r\n    }\r\n    static FindParent(items, item) {\r\n        return items.find(x => x.id === item.parentId) || new TreeItem({});\r\n    }\r\n    static FindParentOrder(items, item) {\r\n        const parent = Tree.FindParent(items, item);\r\n        return parent.order;\r\n    }\r\n    static Build(items, ctor) {\r\n        const treeItems = items.reduce((acc, item) => {\r\n            item.treeId = item.parentId ? Tree.FindParentOrder(items, item) : item.order;\r\n            const treeItem = Object.assign(new TreeItem({}), item);\r\n            return [...acc, treeItem];\r\n        }, []);\r\n        const orderedItems = items.sort((a, b) => compareNumbers(a.sortOrder, b.sortOrder))\r\n            .reduce((acc, treeItem, index) => {\r\n            const item = treeItem.item;\r\n            const parent = treeItem.parent;\r\n            return [...acc, Object.assign(new TreeItem(item, parent), treeItem, { index })];\r\n        }, []);\r\n        return new Tree(orderedItems, ctor);\r\n    }\r\n    get activeId() {\r\n        return this._activeId;\r\n    }\r\n    set activeId(id) {\r\n        this._activeId = id;\r\n        this._activeIndex = this.getIndexById(id);\r\n    }\r\n    get activeIndex() {\r\n        return this._activeIndex;\r\n    }\r\n    set activeIndex(index) {\r\n        this._activeIndex = index;\r\n        this._activeId = this.getIdByIndex(index);\r\n    }\r\n    get copy() {\r\n        return Object.assign(new Tree(this._treeItems, this.ctor), this);\r\n    }\r\n    get instance() {\r\n        return new this.ctor() || {};\r\n    }\r\n    get next() {\r\n        return this.getNext(this.activeIndex);\r\n    }\r\n    get nextId() {\r\n        return this.next.id;\r\n    }\r\n    get nextIndex() {\r\n        return this.activeIndex + 1;\r\n    }\r\n    get previous() {\r\n        return this.getPrevious(this.activeIndex);\r\n    }\r\n    get previousId() {\r\n        return this.previous.id;\r\n    }\r\n    get previousIndex() {\r\n        return this.activeIndex - 1;\r\n    }\r\n    get items() {\r\n        return this._treeItems.map(x => x.item);\r\n    }\r\n    get treeItems() {\r\n        return this._treeItems;\r\n    }\r\n    get orderedItems() {\r\n        return this.treeItems.sort((a, b) => compareNumbers(a.index, b.index));\r\n    }\r\n    get subtrees() {\r\n        const trees = this.treeItems.reduce((acc, item) => {\r\n            const treeId = item.treeId;\r\n            const subitems = acc[treeId] || [];\r\n            acc[treeId] = [...subitems, item];\r\n            return acc;\r\n        }, {});\r\n        return Object.keys(trees).map(key => Tree.Build(trees[key], this.ctor));\r\n    }\r\n    get subtreeItems() {\r\n        return this.subtrees.map(tree => tree.treeItems.sort((a, b) => compareNumbers(a.index, b.index)));\r\n    }\r\n    getIdByIndex(index) {\r\n        const item = this.getItemByIndex(index);\r\n        return item.id;\r\n    }\r\n    getIndexById(id) {\r\n        return this.getItemById(id).index;\r\n    }\r\n    getItemById(id) {\r\n        return this.treeItems.find(item => item.id === id) || new TreeItem(this.instance);\r\n    }\r\n    getItemByIndex(index) {\r\n        return this.treeItems.find(item => item.index === index) || new TreeItem(this.instance);\r\n    }\r\n    getNext(index) {\r\n        return this.getItemByIndex(index + 1);\r\n    }\r\n    getNextId(index) {\r\n        return this.getNext(index).id;\r\n    }\r\n    getPrevious(index) {\r\n        return this.getItemByIndex(index - 1);\r\n    }\r\n    getPreviousId(index) {\r\n        return this.getPrevious(index).id;\r\n    }\r\n}\n\nclass User {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.email = '';\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n    }\r\n}\r\nclass CurrentUser extends User {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.token = new Token();\r\n    }\r\n    static Build(data) {\r\n        const token = data && data.token ? build(Token, data.token) : new Token();\r\n        return build(CurrentUser, data, { token });\r\n    }\r\n    get authenticated() {\r\n        return this.token && this.token.authenticated;\r\n    }\r\n    set fullName(value) {\r\n    }\r\n    get fullName() {\r\n        return `${this.firstName} ${this.lastName}`;\r\n    }\r\n    set userRoles(value) {\r\n    }\r\n    get userRoles() {\r\n        return new UserRoles(this);\r\n    }\r\n}\r\nclass UserRoles {\r\n    constructor(user = new CurrentUser()) {\r\n        this.user = user;\r\n    }\r\n}\r\nclass Login {\r\n    constructor() {\r\n        this.grant_type = 'password';\r\n        this.email = '';\r\n        this.password = '';\r\n    }\r\n}\r\nclass NewUser {\r\n    constructor() {\r\n        this.email = '';\r\n        this.password = '';\r\n        this.confirmPassword = '';\r\n        this.firstName = '';\r\n        this.lastName = '';\r\n    }\r\n    get metadata() {\r\n        return build(Metadata, {\r\n            ignore: [],\r\n            validators: [confirmPasswordValidator],\r\n            firstName: {\r\n                validators: [Validators$1.required]\r\n            },\r\n            lastName: {\r\n                validators: [Validators$1.required]\r\n            },\r\n            email: {\r\n                validators: [Validators$1.required, Validators.email]\r\n            },\r\n            password: {\r\n                validators: [Validators$1.required, passwordValidator]\r\n            },\r\n            confirmPassword: {\r\n                validators: [Validators$1.required]\r\n            }\r\n        });\r\n    }\r\n}\r\nclass ResetPassword {\r\n    constructor() {\r\n        this.passwordResetCode = '';\r\n        this.password = '';\r\n        this.confirmPassword = '';\r\n    }\r\n}\n\nclass StorageActions {\r\n    static initStore(localStore, sessionStore) {\r\n        return {\r\n            type: StorageActions.INIT_STORE,\r\n            payload: { localStore, sessionStore }\r\n        };\r\n    }\r\n}\r\nStorageActions.UPDATE_LOCAL_STORAGE = '[Storage] Update Local Storage';\r\nStorageActions.UPDATE_SESSION_STORAGE = '[Storage] Update Session Storage';\r\nStorageActions.INIT_STORE = '[Storage] Init Store';\n\nclass ActionStore {\r\n    constructor(lastAction) {\r\n        this.lastAction = lastAction;\r\n    }\r\n}\r\nclass Storage$1 {\r\n    constructor() {\r\n        this.localStore = {};\r\n        this.sessionStore = {};\r\n    }\r\n}\n\nclass StorageService {\r\n    constructor(store, storeKey) {\r\n        this.store = store;\r\n        this.storeKey = storeKey;\r\n        this.localStorageActions = [];\r\n        this.sessionStorageActions = [];\r\n        this.localStorageMapper = s => s;\r\n        this.sessionStorageMapper = s => s;\r\n    }\r\n    get localStore() {\r\n        return localStorage.getItem(this.storeKey);\r\n    }\r\n    get sessionStore() {\r\n        return sessionStorage.getItem(this.storeKey);\r\n    }\r\n    get storage() {\r\n        const localStore = this.localStore;\r\n        const sessionStore = this.sessionStore;\r\n        return build(Storage, Object.assign({}, localStore, sessionStore), {\r\n            localStore,\r\n            sessionStore\r\n        });\r\n    }\r\n    /**\r\n     * Initialize the use of local storage and/or session storage\r\n     * @param localStorageMapper Mapper function for mapping state to local store\r\n     * @param sessionStorageMapper Mapper function for mapping state to session store\r\n     * @param localStorageActions Actions after which to save to local storage\r\n     * @param sessionStorageActions Actions after which to save to session storage\r\n     */\r\n    init(localStorageMapper = s => s, sessionStorageMapper = s => s, localStorageActions = [], sessionStorageActions = []) {\r\n        const localStore = this.initLocalStore(localStorageMapper, localStorageActions);\r\n        const sessionStore = this.initSessionStore(sessionStorageMapper, sessionStorageActions);\r\n        this.store.dispatch(StorageActions.initStore(localStore, sessionStore));\r\n    }\r\n    /**\r\n     * Initialize the use of local storage\r\n     * @param localStorageMapper Mapper function for mapping state to local store\r\n     * @param localStorageActions Actions after which to save to local storage\r\n     */\r\n    initLocalStore(localStorageMapper = s => s, localStorageActions = []) {\r\n        this.localStorageMapper = localStorageMapper;\r\n        this.localStorageActions = localStorageActions;\r\n        const ls = this.localStore;\r\n        const localStore = ls ? JSON.parse(ls) : {};\r\n        return localStore;\r\n    }\r\n    /**\r\n     * Initialize the use of session storage\r\n     * @param sessionStorageMapper Mapper function for mapping state to session store\r\n     * @param sessionStorageActions Actions after which to save to session storage\r\n     */\r\n    initSessionStore(sessionStorageMapper = s => s, sessionStorageActions = []) {\r\n        this.sessionStorageMapper = sessionStorageMapper;\r\n        this.sessionStorageActions = sessionStorageActions;\r\n        const ss = this.sessionStore;\r\n        const sessionStore = ss ? JSON.parse(ss) : {};\r\n        return sessionStorage;\r\n    }\r\n    inLocalStorage(actionType) {\r\n        return inArray(this.localStorageActions, actionType);\r\n    }\r\n    inSessionStorage(actionType) {\r\n        return inArray(this.sessionStorageActions, actionType);\r\n    }\r\n    /**\r\n     * Store state to local storage.\r\n     */\r\n    storeLocal(state, action) {\r\n        try {\r\n            // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n            const filteredState = Object.assign(filterState(new ActionStore(action)), filterState(Object.assign({}, this.localStorageMapper(state))));\r\n            const serializedState = JSON.stringify(filteredState);\r\n            localStorage.removeItem(this.storeKey);\r\n            localStorage.setItem(this.storeKey, serializedState);\r\n        }\r\n        catch (err) {\r\n            console.error(`ERROR SAVING LOCAL STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n        }\r\n    }\r\n    /**\r\n     * Store state to session storage.\r\n     */\r\n    storeSession(state, action) {\r\n        try {\r\n            // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n            // const filteredState = this.filterState(Object.assign({}, state));\r\n            const filteredState = Object.assign(filterState(new ActionStore(action)), filterState(Object.assign({}, this.sessionStorageMapper(state))));\r\n            const serializedState = JSON.stringify(filteredState);\r\n            localStorage.removeItem(this.storeKey);\r\n            sessionStorage.setItem(this.storeKey, serializedState);\r\n        }\r\n        catch (err) {\r\n            console.error(`ERROR SAVING SESSION STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ StorageService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageService, deps: [{ token: i1$1.Store }, { token: STORE_KEY }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ StorageService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageService, providedIn: 'root' });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageService, decorators: [{\r\n            type: Injectable,\r\n            args: [{\r\n                    providedIn: 'root'\r\n                }]\r\n        }], ctorParameters: function () {\r\n        return [{ type: i1$1.Store }, { type: undefined, decorators: [{\r\n                        type: Inject,\r\n                        args: [STORE_KEY]\r\n                    }] }];\r\n    } });\n\nclass StorageEffects {\r\n    constructor(actions$, service, state$) {\r\n        this.actions$ = actions$;\r\n        this.service = service;\r\n        this.state$ = state$;\r\n        /**\r\n         * Listens for dispatched actions, updates local storage in response.\r\n         */\r\n        this.onSyncLocalStorage = this.actions$.pipe(filter((action) => this.service.inLocalStorage(action.type)), map(action => ({\r\n            type: StorageActions.UPDATE_LOCAL_STORAGE,\r\n            payload: action\r\n        })));\r\n        /**\r\n         * Listens for dispatched actions, updates session storage in response.\r\n         */\r\n        this.onSyncSessionStorage = this.actions$.pipe(filter((action) => this.service.inSessionStorage(action.type)), map(action => ({\r\n            type: StorageActions.UPDATE_SESSION_STORAGE,\r\n            payload: action\r\n        })));\r\n        /**\r\n         * Stores state to local storage after each action.\r\n         */\r\n        this.onStoreLocal = this.actions$.pipe(ofType(StorageActions.UPDATE_LOCAL_STORAGE), map(toPayload), withLatestFrom(this.state$, (action, state) => {\r\n            this.service.storeLocal(state, action);\r\n        }));\r\n        /**\r\n         * Stores state to local storage after each action.\r\n         */\r\n        this.onStoreSession = this.actions$.pipe(ofType(StorageActions.UPDATE_SESSION_STORAGE), map(toPayload), withLatestFrom(this.state$, (action, state) => {\r\n            this.service.storeSession(state, action);\r\n        }));\r\n    }\r\n}\r\n/** @nocollapse */ StorageEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageEffects, deps: [{ token: i1.Actions }, { token: StorageService }, { token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ StorageEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageEffects });\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onSyncLocalStorage\", void 0);\r\n__decorate([\r\n    Effect(),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onSyncSessionStorage\", void 0);\r\n__decorate([\r\n    Effect({ dispatch: false }),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onStoreLocal\", void 0);\r\n__decorate([\r\n    Effect({ dispatch: false }),\r\n    __metadata(\"design:type\", Observable)\r\n], StorageEffects.prototype, \"onStoreSession\", void 0);\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageEffects, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: StorageService }, { type: i1$1.Store }]; }, propDecorators: { onSyncLocalStorage: [], onSyncSessionStorage: [], onStoreLocal: [], onStoreSession: [] } });\n\nconst STORE_KEY = new InjectionToken('Local/Session Storage Key');\r\nfunction storageServiceFactory(store, storeKey) {\r\n    return new StorageService(store, storeKey);\r\n}\r\nfunction provideStorage(storeKey) {\r\n    return [\r\n        StorageEffects,\r\n        { provide: StorageService, useFactory: storageServiceFactory, deps: [Store, STORE_KEY] },\r\n        { provide: STORE_KEY, useValue: storeKey },\r\n    ];\r\n}\r\nclass StorageModule {\r\n    /**\r\n     * Provides StorageModule with storage service and effects.\r\n     * @param storeKey - The name of the key containing the store in storage.\r\n     */\r\n    static forRoot(storeKey) {\r\n        return {\r\n            ngModule: StorageModule,\r\n            providers: provideStorage(storeKey)\r\n        };\r\n    }\r\n}\r\n/** @nocollapse */ StorageModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ StorageModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule });\r\n/** @nocollapse */ StorageModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StorageModule, decorators: [{\r\n            type: NgModule\r\n        }] });\n\nclass StoreModule {\r\n    static forRoot(reducers, config) {\r\n        return StoreModule$1.forRoot(reducers, config);\r\n    }\r\n    static forFeatures(featureName, reducers, config) {\r\n        return StoreModule$1.forFeature(featureName, reducers, config);\r\n    }\r\n    static forFeature(featureName, reducer, config) {\r\n        return StoreModule$1.forFeature(featureName, reducer, config);\r\n    }\r\n}\r\n/** @nocollapse */ StoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ StoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, imports: [StoreModule$1], exports: [StoreModule$1] });\r\n/** @nocollapse */ StoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, imports: [[\r\n            StoreModule$1,\r\n        ], StoreModule$1] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: StoreModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        StoreModule$1,\r\n                    ],\r\n                    declarations: [],\r\n                    exports: [\r\n                        StoreModule$1,\r\n                    ]\r\n                }]\r\n        }] });\n\nfunction configReducer(state = new Config(), action) {\r\n    switch (action.type) {\r\n        case ConfigActions.INITIALIZE:\r\n            return build(Config, state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction formReducer(state = {}, action) {\r\n    switch (action.type) {\r\n        case FormActions.SAVE:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction redirectsReducer(state = new Redirects(), action) {\r\n    switch (action.type) {\r\n        case RedirectActions.ADD:\r\n            return state.add(action.payload);\r\n        case RedirectActions.UPDATE:\r\n            return state.update(action.payload);\r\n        case RedirectActions.REMOVE:\r\n            return state.remove(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction sidenavReducer(state = false, action) {\r\n    switch (action.type) {\r\n        case SidenavActions.CLOSE:\r\n            return false;\r\n        case SidenavActions.OPEN:\r\n            return true;\r\n        case SidenavActions.TOGGLE:\r\n            return !state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction viewSettingsReducer(state = new ViewSettings(), action) {\r\n    switch (action.type) {\r\n        case ViewSettingsActions.CHANGETHEME:\r\n            return build(ViewSettings, { theme: action.payload });\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction windowReducer(state = new Window(), action) {\r\n    switch (action.type) {\r\n        case WindowActions.RESIZE:\r\n            return build(Window, state, action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\n\nclass Widget {\r\n    constructor() {\r\n        this.id = 0;\r\n        this.active = false;\r\n        this.name = '';\r\n        this.userId = 0;\r\n        this.height = 0;\r\n        this.heightPx = 0;\r\n        this.offsetX = 0;\r\n        this.label = '';\r\n        this.left = 0;\r\n        this.offsetY = 0;\r\n        this.showIcons = false;\r\n        this.top = 0;\r\n        this.width = 0;\r\n        this.widthPx = 0;\r\n        this.zIndex = 0;\r\n    }\r\n}\r\nclass Widgets extends Collection {\r\n    constructor() {\r\n        super(Widget);\r\n        this.borderWidth = 10;\r\n    }\r\n    delete(id) {\r\n        return build(Widgets, super.delete(id));\r\n    }\r\n    hideIcons(id) {\r\n        const existing = this.get(id);\r\n        return build(Widgets, super.update(build(Widget, existing, { showIcons: false })));\r\n    }\r\n    replace(data) {\r\n        return build(Widgets, super.replace(data.map(x => build(Widget, x, {\r\n            showIcons: build(Widget, this.get(x.id)).showIcons\r\n        }))));\r\n    }\r\n    showIcons(id) {\r\n        const existing = this.get(id);\r\n        return build(Widgets, super.update(build(Widget, existing, { showIcons: true })));\r\n    }\r\n    update(data) {\r\n        const items = Array.isArray(data) ? data.map(x => build(Widget, x, {\r\n            showIcons: build(Widget, this.get(x.id)).showIcons\r\n        })) : build(Widget, data, {\r\n            showIcons: build(Widget, this.get(data.id)).showIcons\r\n        });\r\n        return build(Widgets, super.update(items));\r\n    }\r\n    getDefaultItems(h, w) {\r\n        return [];\r\n    }\r\n}\n\nclass WidgetsActions {\r\n    static toggleIcons(id, visible) {\r\n        return {\r\n            type: visible ? WidgetsActions.SHOW_ICONS : WidgetsActions.HIDE_ICONS,\r\n            payload: id\r\n        };\r\n    }\r\n}\r\nWidgetsActions.DELETE = '[Widgets] DELETE';\r\nWidgetsActions.GET = '[Widgets] GET';\r\nWidgetsActions.POST = '[Widgets] POST';\r\nWidgetsActions.POST_ERROR = '[Widgets] POST ERROR';\r\nWidgetsActions.PUT = '[Widgets] PUT';\r\nWidgetsActions.RESET = '[Widgets] RESET';\r\nWidgetsActions.RESET_ERROR = '[Widgets] RESET ERROR';\r\nWidgetsActions.SHOW_ICONS = '[Widgets] SHOW ICONS';\r\nWidgetsActions.HIDE_ICONS = '[Widgets] HIDE ICONS';\r\nfunction widgetsReducer(state = new Widgets(), action) {\r\n    switch (action.type) {\r\n        case WidgetsActions.POST:\r\n        case WidgetsActions.PUT:\r\n            return state.update(action.payload);\r\n        case WidgetsActions.GET:\r\n        case WidgetsActions.RESET:\r\n            return state.replace(action.payload);\r\n        case WidgetsActions.DELETE:\r\n            return state.delete(action.payload);\r\n        case WidgetsActions.SHOW_ICONS:\r\n            return state.showIcons(action.payload);\r\n        case WidgetsActions.HIDE_ICONS:\r\n            return state.hideIcons(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nfunction widgetsSelector(store) {\r\n    return store.select('widgets');\r\n}\r\nfunction userWidgetsSelector(store) {\r\n    return combineLatest([widgetsSelector(store), lookupValuesSelector(store, 'lkpWidgets'), windowHeightSelector(store), windowWidthSelector(store)]).pipe(map(z => {\r\n        const userWidgets = arrayDistinct(z[0].asArray.map(x => build(Widget, x, {\r\n            label: build(LookupValue, z[1].find(y => y.name === x.name)).label,\r\n            left: x.offsetX * z[3],\r\n            top: x.offsetY * z[2],\r\n            heightPx: x.height === 0 ? 400 : x.height * z[2],\r\n            widthPx: x.width === 0 ? 500 : x.width * z[3]\r\n        })), x => x.name);\r\n        return userWidgets.length > 0 ? userWidgets : z[0].getDefaultItems(z[2], z[3]);\r\n    }));\r\n}\r\nfunction widgetsLookupSelector(store) {\r\n    return combineLatest([lookupValuesSelector(store, 'lkpWidgets'), userWidgetsSelector(store)]).pipe(map(x => {\r\n        return x[0].map(y => {\r\n            const widget = x[1].find(w => w.name === y.name);\r\n            return build(Widget, widget, {\r\n                label: y.label,\r\n                name: y.name,\r\n                active: truthy(widget)\r\n            });\r\n        })\r\n            .sort((a, b) => compareNumbers(-a.id, -b.id));\r\n    }));\r\n}\r\nfunction widgetsDefaultSelector(store) {\r\n    return combineLatest([widgetsSelector(store), windowHeightSelector(store), windowWidthSelector(store)]).pipe(map(x => x[0].getDefaultItems(x[1], x[2])));\r\n}\r\nfunction widgetsBorderWidthSelector(store) {\r\n    return widgetsSelector(store).pipe(map(x => x.borderWidth), distinctUntilChanged());\r\n}\r\nfunction widgetsHeightSelector(store) {\r\n    return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(map(x => x[0].reduce((acc, y) => {\r\n        const topPx = y.top + y.heightPx + 2 * x[1];\r\n        return Math.max(acc, topPx);\r\n    }, 0)));\r\n}\r\nfunction widgetsWidthSelector(store) {\r\n    return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(map(x => {\r\n        return x[0].reduce((acc, y) => {\r\n            const topPx = y.top + y.heightPx + 2 * x[1];\r\n            return Math.max(acc, topPx);\r\n        }, 0);\r\n    }));\r\n}\r\nfunction hasDefaultWidgetsSelector(store) {\r\n    return widgetsSelector(store).pipe(map(x => x.asArray.length === 0));\r\n}\n\nclass WidgetComponent extends SmartComponent {\r\n    constructor(store) {\r\n        super(store);\r\n        this.store = store;\r\n        this.borderWidth = 10;\r\n        this.heading = '';\r\n        this.id = 0;\r\n        this.isFocused = false;\r\n        this.key = '';\r\n        this.widthPx = 600;\r\n        this.heightPx = 300;\r\n        this._top = 0;\r\n        this._left = 0;\r\n        this.scrollLeft = 0;\r\n        this.scrollTop = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.zIndex = 1;\r\n        this.nextZIndex = 1;\r\n        this.dropped = new EventEmitter();\r\n        this.justifyLeft = new EventEmitter();\r\n        this.justifyRight = new EventEmitter();\r\n        this.justifyCenter = new EventEmitter();\r\n        this.justifyTop = new EventEmitter();\r\n        this.justifyBottom = new EventEmitter();\r\n        this.justifyCenterVertical = new EventEmitter();\r\n        this.focused = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this.resized = new EventEmitter();\r\n        this.toFullScreen = new EventEmitter();\r\n        this.cursorStyle = 'move';\r\n        this.dragging = false;\r\n        this._hasIcons = false;\r\n        this.hovering = false;\r\n        this.mouseBottom = false;\r\n        this.mouseLeft = false;\r\n        this.mouseRight = false;\r\n        this.mouseTop = false;\r\n        this.pageX = 0;\r\n        this.pageY = 0;\r\n        this._resizable = false;\r\n        this.resizing = false;\r\n        this._scrollbarYVisible = false;\r\n        this.scrollbarWidth = 12;\r\n        this.showIcons = false;\r\n        this.wrapperWidth = 55;\r\n    }\r\n    set left(value) {\r\n        this._left = value;\r\n    }\r\n    get left() {\r\n        return this._left;\r\n    }\r\n    set top(value) {\r\n        this._top = value;\r\n    }\r\n    get top() {\r\n        return this._top;\r\n    }\r\n    get headingLeftPx() {\r\n        return this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 2 : this.borderWidth === 2 ? 1 : 0) + 10;\r\n    }\r\n    get headingTopPx() {\r\n        return 67 - Math.min(3, this.borderWidth) - this.borderWidth + 1;\r\n    }\r\n    get iconsRightPx() {\r\n        const px = this.iconsTop ? this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 1 : 0) + this.borderWidth : 55;\r\n        return this.scrollbarYVisible ? px + this.scrollbarWidth : px;\r\n    }\r\n    get iconsTop() {\r\n        return this.widthPx > 500 || this.heightPx < 300;\r\n    }\r\n    get iconsTopPx() {\r\n        return this.iconsTop ? 61 + Math.min(3, this.borderWidth) - this.borderWidth : this.wrapperWidth - 1;\r\n    }\r\n    get mini() {\r\n        return this.widthPx < 400 && this.heightPx < 250;\r\n    }\r\n    set resizable(value) {\r\n        this._resizable = value;\r\n    }\r\n    get resizable() {\r\n        return this._resizable;\r\n    }\r\n    set scrollbarYVisible(value) {\r\n        this._scrollbarYVisible = value;\r\n    }\r\n    get scrollbarYVisible() {\r\n        return this._scrollbarYVisible;\r\n    }\r\n    set hasIcons(value) {\r\n        if (value !== this._hasIcons) {\r\n            setTimeout(() => {\r\n                this._hasIcons = value;\r\n            }, 0);\r\n        }\r\n    }\r\n    get hasIcons() {\r\n        return this._hasIcons;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    ngAfterViewInit() {\r\n        setTimeout(() => {\r\n            this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n        }, 0);\r\n    }\r\n    ngOnChanges() {\r\n        setTimeout(() => {\r\n            this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n        }, 0);\r\n    }\r\n    onDrag() {\r\n        this.zIndex = this.nextZIndex;\r\n        this.dragging = true;\r\n    }\r\n    onDrop(e) {\r\n        this.dropped.emit(Object.assign({}, e.distance, { zIndex: this.zIndex }));\r\n        setTimeout(() => {\r\n            this.dragging = false;\r\n        });\r\n    }\r\n    onFocus() {\r\n        if (!this.dragging && !this.resizing && !this.isFocused) {\r\n            this.zIndex = this.nextZIndex;\r\n            this.focused.emit(this.id);\r\n        }\r\n        this.showIcons = true;\r\n        setTimeout(() => {\r\n            this.showIcons = false;\r\n        }, 5000);\r\n    }\r\n    onMousedown(e) {\r\n        if (this.resizable) {\r\n            this.resizing = true;\r\n        }\r\n    }\r\n    onMousemove(e) {\r\n        this.pageX = e.pageX;\r\n        this.pageY = e.pageY;\r\n        if (this.resizing) {\r\n            this.onResize();\r\n        }\r\n        else {\r\n            this.refreshCursorStyle();\r\n        }\r\n    }\r\n    onMouseout(e) {\r\n        this.onMouseup(e);\r\n        this.hovering = false;\r\n    }\r\n    onMouseup(e) {\r\n        if (this.resizing) {\r\n            this.resized.emit({\r\n                top: this.top,\r\n                left: this.left,\r\n                heightPx: this.heightPx,\r\n                widthPx: this.widthPx,\r\n                zIndex: this.nextZIndex\r\n            });\r\n        }\r\n        setTimeout(() => {\r\n            this.resizing = false;\r\n        });\r\n    }\r\n    onRemove() {\r\n        this.remove.emit({\r\n            id: this.id,\r\n            key: this.key\r\n        });\r\n    }\r\n    onResize() {\r\n        const dY = this.top - ((this.pageY + this.scrollTop) - this.startY);\r\n        const dX = this.left - (this.pageX - this.startX);\r\n        if (this.mouseTop) {\r\n            this.top = this.top - dY;\r\n            this.heightPx = this.heightPx + dY;\r\n        }\r\n        if (this.mouseBottom) {\r\n            this.heightPx = (this.pageY + this.scrollTop) - this.startY - this.top;\r\n        }\r\n        if (this.mouseLeft) {\r\n            this.left = this.left - dX;\r\n            this.widthPx = this.widthPx + dX;\r\n        }\r\n        if (this.mouseRight) {\r\n            this.widthPx = this.pageX - this.startX - this.left;\r\n        }\r\n    }\r\n    refreshCursorStyle() {\r\n        this.mouseLeft = this.left + this.startX - this.pageX >= 0\r\n            && this.left + this.startX - this.pageX <= this.borderWidth;\r\n        this.mouseRight = this.pageX - (this.widthPx + this.left + this.startX) >= 0\r\n            && this.pageX - (this.widthPx + this.left + this.startX) <= this.borderWidth;\r\n        this.mouseTop = this.top + this.startY - (this.pageY + this.scrollTop) >= 0\r\n            && this.top + this.startY - (this.pageY + this.scrollTop) <= this.borderWidth;\r\n        this.mouseBottom = (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) >= 0\r\n            && (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) <= this.borderWidth;\r\n        if (this.mouseTop && this.mouseLeft) { // top-left\r\n            this.cursorStyle = 'nw-resize';\r\n        }\r\n        else if (this.mouseBottom && this.mouseRight) { // bottom-right\r\n            this.cursorStyle = 'se-resize';\r\n        }\r\n        else if (this.mouseBottom && this.mouseLeft) { // bottom-left\r\n            this.cursorStyle = 'sw-resize';\r\n        }\r\n        else if (this.mouseTop && this.mouseRight) { // top-right\r\n            this.cursorStyle = 'ne-resize';\r\n        }\r\n        else if (this.mouseTop) { // top\r\n            this.cursorStyle = 'n-resize';\r\n        }\r\n        else if (this.mouseBottom) { // bottom\r\n            this.cursorStyle = 's-resize';\r\n        }\r\n        else if (this.mouseLeft) { // left\r\n            this.cursorStyle = 'w-resize';\r\n        }\r\n        else if (this.mouseRight) { // right\r\n            this.cursorStyle = 'e-resize';\r\n        }\r\n        else if (this.showIcons) {\r\n            this.cursorStyle = 'move';\r\n        }\r\n        else {\r\n            this.cursorStyle = 'default';\r\n        }\r\n        this.resizable = this.cursorStyle !== 'move' && this.cursorStyle !== 'default';\r\n    }\r\n    onHideIcons() {\r\n        if (this.hasIcons === true) {\r\n            this.hasIcons = false;\r\n            this.dispatch(WidgetsActions.toggleIcons(this.id, false));\r\n        }\r\n    }\r\n    onShowIcons() {\r\n        if (this.hasIcons === false) {\r\n            this.hasIcons = true;\r\n            this.dispatch(WidgetsActions.toggleIcons(this.id, true));\r\n        }\r\n    }\r\n}\r\n/** @nocollapse */ WidgetComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetComponent, deps: [{ token: i1$1.Store }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ WidgetComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: WidgetComponent, selector: \"iu-widget\", inputs: { borderWidth: \"borderWidth\", heading: \"heading\", id: \"id\", isFocused: \"isFocused\", key: \"key\", widthPx: \"widthPx\", heightPx: \"heightPx\", scrollLeft: \"scrollLeft\", scrollTop: \"scrollTop\", startX: \"startX\", startY: \"startY\", zIndex: \"zIndex\", nextZIndex: \"nextZIndex\", left: \"left\", top: \"top\", hasIcons: \"hasIcons\" }, outputs: { dropped: \"dropped\", justifyLeft: \"justifyLeft\", justifyRight: \"justifyRight\", justifyCenter: \"justifyCenter\", justifyTop: \"justifyTop\", justifyBottom: \"justifyBottom\", justifyCenterVertical: \"justifyCenterVertical\", focused: \"focused\", remove: \"remove\", resized: \"resized\", toFullScreen: \"toFullScreen\" }, viewQueries: [{ propertyName: \"widgetWrapperEl\", first: true, predicate: [\"widgetWrapper\"], descendants: true }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: \"<div class=\\\"wrapper\\\" [style.height.px]=\\\"heightPx + wrapperWidth + wrapperWidth\\\"\\r\\n  [style.width.px]=\\\"widthPx + wrapperWidth + wrapperWidth\\\" [style.top.px]=\\\"top - wrapperWidth\\\"\\r\\n  [style.left.px]=\\\"left - wrapperWidth\\\" [style.z-index]=\\\"zIndex\\\" (mouseenter)=\\\"hovering = true\\\"\\r\\n  (mousedown)=\\\"onMousedown($event)\\\" (mouseleave)=\\\"onMouseout($event)\\\" (mousemove)=\\\"onMousemove($event)\\\"\\r\\n  (mouseup)=\\\"onMouseup($event)\\\" (cdkDragEnded)=\\\"onDrop($event)\\\" (cdkDragStarted)=\\\"onDrag()\\\"\\r\\n  [cdkDragDisabled]=\\\"resizable\\\" cdkDrag>\\r\\n  <!-- <svg width=\\\"24px\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n    <path d=\\\"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z\\\">\\r\\n    </path>\\r\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"></path>\\r\\n  </svg> -->\\r\\n  <div class=\\\"widget scrollable\\\" [class.active]=\\\"isFocused\\\" [style.border-width.px]=\\\"borderWidth\\\"\\r\\n    [style.height.px]=\\\"heightPx\\\" [style.width.px]=\\\"widthPx\\\" [style.cursor]=\\\"cursorStyle\\\" (click)=\\\"onFocus()\\\"\\r\\n    #widgetWrapper>\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <button class=\\\"icons-trigger\\\" *ngIf=\\\"!hasIcons && !mini && isFocused\\\" mat-button (click)=\\\"onShowIcons()\\\"\\r\\n    [class.open]=\\\"hasIcons\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n  <h2 class=\\\"font-effect-emboss\\\" *ngIf=\\\"heading && borderWidth > 0\\\" [style.top.px]=\\\"headingTopPx\\\"\\r\\n    [style.left.px]=\\\"headingLeftPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    {{ heading }}\\r\\n  </h2>\\r\\n  <div class=\\\"icons\\\" [class.top]=\\\"iconsTop\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\"\\r\\n    [style.z-index]=\\\"zIndex + 1\\\" [@toggle]=\\\"hasIcons ? 'show' : 'hide'\\\">\\r\\n    <mat-icon class=\\\"btn-collapse\\\" *ngIf=\\\"!mini\\\" (click)=\\\"onHideIcons()\\\">double_arrow</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyLeft.emit()\\\">format_align_left</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenter.emit()\\\">format_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyRight.emit()\\\">format_align_right</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyTop.emit()\\\">vertical_align_top</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenterVertical.emit()\\\">vertical_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyBottom.emit()\\\">vertical_align_bottom</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" class=\\\"expand\\\" (click)=\\\"toFullScreen.emit()\\\">fullscreen</mat-icon>\\r\\n    <mat-icon class=\\\"btn-remove\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".wrapper{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;background:transparent}.wrapper .icons-trigger{position:absolute;right:0;top:0;height:40px;width:40px;min-width:unset;border-radius:0;padding:0}.wrapper .icons-trigger mat-icon{font-size:32px;height:32px;width:32px}.wrapper .icons-trigger.open{color:#fff;box-shadow:inset 0 0 5px #c1c1c1;outline:none}.wrapper .icons{position:absolute;display:flex;flex-direction:column-reverse;border-radius:0 0 0 5px;overflow:hidden;width:0px}.wrapper .icons mat-icon{cursor:pointer;color:#fff;font-size:24px;height:24px;width:24px;padding:2px 6px 2px 7px;border-bottom:1px solid #ccc}.wrapper .icons mat-icon:first-of-type{border:none}.wrapper .icons mat-icon:hover{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.wrapper .icons mat-icon.btn-remove{color:red;padding:2px 5px 5px 8px!important}.wrapper .icons.top{flex-direction:row;border-radius:0 0 0 5px}.wrapper .icons.top mat-icon{border-bottom:none;border-right:1px solid #ccc;padding:2px 0 5px}.wrapper .icons.top mat-icon:last-of-type{border:none}.wrapper h2{position:absolute;top:0;left:45px;color:#fff;padding:0 10px 5px 0;margin:0;border-radius:0 0 5px;cursor:move;font-size:18px;font-weight:400;font-family:Roboto,Helvetica Neue,sans-serif}.wrapper svg{color:#fff;position:absolute;right:16px;top:13px}.wrapper .widget{overflow-x:auto;border:solid 10px #ccc;background:#fff;color:#000000de;cursor:move;display:block;border-radius:4px;position:relative;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.wrapper .widget.active{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }], directives: [{ type: i2$6.CdkDrag, selector: \"[cdkDrag]\", inputs: [\"cdkDragData\", \"cdkDragLockAxis\", \"cdkDragRootElement\", \"cdkDragBoundary\", \"cdkDragStartDelay\", \"cdkDragFreeDragPosition\", \"cdkDragDisabled\", \"cdkDragConstrainPosition\", \"cdkDragPreviewClass\", \"cdkDragPreviewContainer\"], outputs: [\"cdkDragStarted\", \"cdkDragReleased\", \"cdkDragEnded\", \"cdkDragEntered\", \"cdkDragExited\", \"cdkDragDropped\", \"cdkDragMoved\"], exportAs: [\"cdkDrag\"] }, { type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], animations: [\r\n        trigger('toggle', [state('show', style({ width: '237px' })), state('hide', style({ width: '0px' })), transition('show <=> hide', [animate('300ms ease-out')])])\r\n    ] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-widget', animations: [\r\n                        trigger('toggle', [state('show', style({ width: '237px' })), state('hide', style({ width: '0px' })), transition('show <=> hide', [animate('300ms ease-out')])])\r\n                    ], template: \"<div class=\\\"wrapper\\\" [style.height.px]=\\\"heightPx + wrapperWidth + wrapperWidth\\\"\\r\\n  [style.width.px]=\\\"widthPx + wrapperWidth + wrapperWidth\\\" [style.top.px]=\\\"top - wrapperWidth\\\"\\r\\n  [style.left.px]=\\\"left - wrapperWidth\\\" [style.z-index]=\\\"zIndex\\\" (mouseenter)=\\\"hovering = true\\\"\\r\\n  (mousedown)=\\\"onMousedown($event)\\\" (mouseleave)=\\\"onMouseout($event)\\\" (mousemove)=\\\"onMousemove($event)\\\"\\r\\n  (mouseup)=\\\"onMouseup($event)\\\" (cdkDragEnded)=\\\"onDrop($event)\\\" (cdkDragStarted)=\\\"onDrag()\\\"\\r\\n  [cdkDragDisabled]=\\\"resizable\\\" cdkDrag>\\r\\n  <!-- <svg width=\\\"24px\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\">\\r\\n    <path d=\\\"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z\\\">\\r\\n    </path>\\r\\n    <path d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\"></path>\\r\\n  </svg> -->\\r\\n  <div class=\\\"widget scrollable\\\" [class.active]=\\\"isFocused\\\" [style.border-width.px]=\\\"borderWidth\\\"\\r\\n    [style.height.px]=\\\"heightPx\\\" [style.width.px]=\\\"widthPx\\\" [style.cursor]=\\\"cursorStyle\\\" (click)=\\\"onFocus()\\\"\\r\\n    #widgetWrapper>\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n  <button class=\\\"icons-trigger\\\" *ngIf=\\\"!hasIcons && !mini && isFocused\\\" mat-button (click)=\\\"onShowIcons()\\\"\\r\\n    [class.open]=\\\"hasIcons\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    <mat-icon>more_vert</mat-icon>\\r\\n  </button>\\r\\n  <h2 class=\\\"font-effect-emboss\\\" *ngIf=\\\"heading && borderWidth > 0\\\" [style.top.px]=\\\"headingTopPx\\\"\\r\\n    [style.left.px]=\\\"headingLeftPx\\\" [style.z-index]=\\\"zIndex + 1\\\">\\r\\n    {{ heading }}\\r\\n  </h2>\\r\\n  <div class=\\\"icons\\\" [class.top]=\\\"iconsTop\\\" [style.top.px]=\\\"iconsTopPx\\\" [style.right.px]=\\\"iconsRightPx\\\"\\r\\n    [style.z-index]=\\\"zIndex + 1\\\" [@toggle]=\\\"hasIcons ? 'show' : 'hide'\\\">\\r\\n    <mat-icon class=\\\"btn-collapse\\\" *ngIf=\\\"!mini\\\" (click)=\\\"onHideIcons()\\\">double_arrow</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyLeft.emit()\\\">format_align_left</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenter.emit()\\\">format_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyRight.emit()\\\">format_align_right</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyTop.emit()\\\">vertical_align_top</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyCenterVertical.emit()\\\">vertical_align_center</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" (click)=\\\"justifyBottom.emit()\\\">vertical_align_bottom</mat-icon>\\r\\n    <mat-icon *ngIf=\\\"!mini\\\" class=\\\"expand\\\" (click)=\\\"toFullScreen.emit()\\\">fullscreen</mat-icon>\\r\\n    <mat-icon class=\\\"btn-remove\\\" (click)=\\\"onRemove()\\\">cancel</mat-icon>\\r\\n  </div>\\r\\n</div>\\r\\n\", styles: [\".wrapper{position:absolute;display:flex;flex-direction:column;justify-content:center;align-items:center;background:transparent}.wrapper .icons-trigger{position:absolute;right:0;top:0;height:40px;width:40px;min-width:unset;border-radius:0;padding:0}.wrapper .icons-trigger mat-icon{font-size:32px;height:32px;width:32px}.wrapper .icons-trigger.open{color:#fff;box-shadow:inset 0 0 5px #c1c1c1;outline:none}.wrapper .icons{position:absolute;display:flex;flex-direction:column-reverse;border-radius:0 0 0 5px;overflow:hidden;width:0px}.wrapper .icons mat-icon{cursor:pointer;color:#fff;font-size:24px;height:24px;width:24px;padding:2px 6px 2px 7px;border-bottom:1px solid #ccc}.wrapper .icons mat-icon:first-of-type{border:none}.wrapper .icons mat-icon:hover{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.wrapper .icons mat-icon.btn-remove{color:red;padding:2px 5px 5px 8px!important}.wrapper .icons.top{flex-direction:row;border-radius:0 0 0 5px}.wrapper .icons.top mat-icon{border-bottom:none;border-right:1px solid #ccc;padding:2px 0 5px}.wrapper .icons.top mat-icon:last-of-type{border:none}.wrapper h2{position:absolute;top:0;left:45px;color:#fff;padding:0 10px 5px 0;margin:0;border-radius:0 0 5px;cursor:move;font-size:18px;font-weight:400;font-family:Roboto,Helvetica Neue,sans-serif}.wrapper svg{color:#fff;position:absolute;right:16px;top:13px}.wrapper .widget{overflow-x:auto;border:solid 10px #ccc;background:#fff;color:#000000de;cursor:move;display:block;border-radius:4px;position:relative;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.wrapper .widget.active{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }]; }, propDecorators: { borderWidth: [{\r\n                type: Input\r\n            }], heading: [{\r\n                type: Input\r\n            }], id: [{\r\n                type: Input\r\n            }], isFocused: [{\r\n                type: Input\r\n            }], key: [{\r\n                type: Input\r\n            }], widthPx: [{\r\n                type: Input\r\n            }], heightPx: [{\r\n                type: Input\r\n            }], scrollLeft: [{\r\n                type: Input\r\n            }], scrollTop: [{\r\n                type: Input\r\n            }], startX: [{\r\n                type: Input\r\n            }], startY: [{\r\n                type: Input\r\n            }], zIndex: [{\r\n                type: Input\r\n            }], nextZIndex: [{\r\n                type: Input\r\n            }], dropped: [{\r\n                type: Output\r\n            }], justifyLeft: [{\r\n                type: Output\r\n            }], justifyRight: [{\r\n                type: Output\r\n            }], justifyCenter: [{\r\n                type: Output\r\n            }], justifyTop: [{\r\n                type: Output\r\n            }], justifyBottom: [{\r\n                type: Output\r\n            }], justifyCenterVertical: [{\r\n                type: Output\r\n            }], focused: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], resized: [{\r\n                type: Output\r\n            }], toFullScreen: [{\r\n                type: Output\r\n            }], widgetWrapperEl: [{\r\n                type: ViewChild,\r\n                args: ['widgetWrapper']\r\n            }], left: [{\r\n                type: Input\r\n            }], top: [{\r\n                type: Input\r\n            }], hasIcons: [{\r\n                type: Input\r\n            }] } });\n\nclass WidgetsMenuComponent extends SmartComponent {\r\n    constructor(store, el, dialog) {\r\n        super(store);\r\n        this.store = store;\r\n        this.el = el;\r\n        this.dialog = dialog;\r\n        this.increment = 3;\r\n        this.width = 300;\r\n        this.wrapperHeight = 0;\r\n        this.add = new EventEmitter();\r\n        this.remove = new EventEmitter();\r\n        this.defaultWidgets = [];\r\n        this.hasDefaultWidgets = true;\r\n        this._index = 0;\r\n        this.lkpWidgets = [];\r\n        this.restoringDefaults = false;\r\n        this._userId = 0;\r\n        this.visibleItems = [];\r\n        this._widgets = [];\r\n        this.widgetsHeight = 0;\r\n        this.windowHeight = 0;\r\n        this.windowWidth = 0;\r\n        this._elWidth = 0;\r\n        this._visible = false;\r\n        this.defaultWidgets$ = widgetsDefaultSelector(store);\r\n        this.hasDefaultWidgets$ = hasDefaultWidgetsSelector(store);\r\n        this.lkpWidgets$ = widgetsLookupSelector(store);\r\n        this.routeName$ = routeNameSelector(store);\r\n        this.widgets$ = userWidgetsSelector(store);\r\n        this.widgetsHeight$ = widgetsHeightSelector(store);\r\n        this.windowHeight$ = windowHeightSelector(store);\r\n        this.windowWidth$ = windowWidthSelector(store);\r\n    }\r\n    set visible(value) {\r\n        this._visible = value;\r\n    }\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n    set userId(value) {\r\n        this._userId = value;\r\n    }\r\n    get userId() {\r\n        return this._userId;\r\n    }\r\n    get hostWidth() {\r\n        return this.el ? this.el.nativeElement.offsetWidth : 0;\r\n    }\r\n    set index(value) {\r\n        this._index = value;\r\n        this.toggle();\r\n    }\r\n    get index() {\r\n        return this._index;\r\n    }\r\n    get menuWidth() {\r\n        return this.hostWidth - 300;\r\n    }\r\n    get nextZIndex() {\r\n        return Math.max(...this.widgets.map(x => x.zIndex), 0) + 1;\r\n    }\r\n    get showBack() {\r\n        return this.index !== 0;\r\n    }\r\n    get showNext() {\r\n        return this.lkpWidgets.length > this.index + this.totalVisible;\r\n    }\r\n    get totalAfter() {\r\n        return this.lkpWidgets.length - (this.index + this.totalVisible);\r\n    }\r\n    get totalVisible() {\r\n        return Math.floor(this.menuWidth / 140);\r\n    }\r\n    set widgets(value) {\r\n        this._widgets = value;\r\n        // this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n        this.toggle();\r\n    }\r\n    get widgets() {\r\n        return this._widgets;\r\n    }\r\n    ngOnInit() {\r\n        this.sync(['defaultWidgets', 'lkpWidgets', 'widgets', 'widgetsHeight', 'windowHeight', 'windowWidth', 'userId', 'hasDefaultWidgets']);\r\n    }\r\n    back() {\r\n        this.index -= this.totalVisible;\r\n    }\r\n    onAdd(e) {\r\n        const top = this.widgetsHeight + 20;\r\n        let w;\r\n        switch (e) {\r\n            case 'meetings':\r\n                w = build(Widget, {\r\n                    name: 'meetings',\r\n                    userId: this.userId,\r\n                    label: 'Meetings',\r\n                    left: 20,\r\n                    top,\r\n                    offsetY: top / this.windowHeight,\r\n                    offsetX: 20 / this.windowWidth,\r\n                    height: 500 / this.windowHeight,\r\n                    width: .9,\r\n                    heightPx: 500,\r\n                    widthPx: .9 * this.windowWidth\r\n                });\r\n                break;\r\n            default:\r\n                w = build(Widget, {\r\n                    name: e,\r\n                    userId: this.userId,\r\n                    offsetX: .25,\r\n                    offsetY: top / this.windowHeight,\r\n                    width: .5,\r\n                    height: .5,\r\n                    zIndex: this.nextZIndex,\r\n                    top\r\n                });\r\n        }\r\n        if (this.hasDefaultWidgets) {\r\n            this.saveUserWidgets([...this.widgets, w]);\r\n        }\r\n        else {\r\n            this.addWidget(w);\r\n        }\r\n    }\r\n    onFocus(e) {\r\n        this.updateWidget(build(Widget, this.widgets.find(x => x.id === e), { zIndex: this.nextZIndex }));\r\n    }\r\n    next() {\r\n        // this.index = this.totalAfter < this.increment ? this.index + this.totalAfter : this.index + this.increment;\r\n        this.index += this.totalVisible;\r\n    }\r\n    ngAfterViewInit() {\r\n        this.toggle();\r\n    }\r\n    toggle() {\r\n        this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n    }\r\n    refresh() {\r\n    }\r\n    addWidget(e) {\r\n        this.dispatch(HttpActions.post(`widgets`, e, WidgetsActions.POST, WidgetsActions.POST_ERROR));\r\n        this.index = 0;\r\n    }\r\n    // not sure why deleteWidget is used when adding a widget. Adding isActive so the dialog only opens when deleting a widget.\r\n    deleteWidget(e, isActive) {\r\n        if (isActive) {\r\n            const ref = this.dialog.open(ConfirmDeleteComponent, {\r\n                width: '500px',\r\n                data: {\r\n                    question: 'Would you like to remove this widget?'\r\n                }\r\n            });\r\n            ref.afterClosed().subscribe(result => {\r\n                if (result) {\r\n                    this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n                    this.index = 0;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n            this.index = 0;\r\n        }\r\n    }\r\n    updateWidget(e) {\r\n        this.dispatch(HttpActions.put(`widgets/${e.id}`, e, WidgetsActions.PUT));\r\n    }\r\n    restoreDefault() {\r\n        this.restoringDefaults = true;\r\n        this.httpPost(`widgets/user`, this.defaultWidgets, WidgetsActions.RESET, WidgetsActions.RESET_ERROR).subscribe(x => {\r\n            this.restoringDefaults = false;\r\n        });\r\n        this.index = 0;\r\n    }\r\n    saveUserWidgets(e) {\r\n        this.dispatch(HttpActions.post(`widgets/user`, e, WidgetsActions.POST));\r\n        this.index = 0;\r\n    }\r\n}\r\n/** @nocollapse */ WidgetsMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsMenuComponent, deps: [{ token: i1$1.Store }, { token: i0.ElementRef }, { token: i1$2.MatDialog }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ WidgetsMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: WidgetsMenuComponent, selector: \"iu-widgets-menu\", inputs: { increment: \"increment\", width: \"width\", wrapperHeight: \"wrapperHeight\", visible: \"visible\", userId: \"userId\" }, outputs: { add: \"add\", remove: \"remove\" }, viewQueries: [{ propertyName: \"widgetsList\", predicate: [\"btnWidget\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<div *ngIf=\\\"(routeName$ | async) === 'dashboard'\\\" class=\\\"widgets-menu\\\">\\r\\n  <button *ngIf=\\\"!restoringDefaults\\\" mat-raised-button class=\\\"btn-reset\\\" (click)=\\\"restoreDefault()\\\">\\r\\n    <mat-icon>settings_backup_restore</mat-icon>\\r\\n    Reset\\r\\n  </button>\\r\\n  <mat-spinner *ngIf=\\\"restoringDefaults\\\" color=\\\"accent\\\" [diameter]=\\\"30\\\"></mat-spinner>\\r\\n  <span class=\\\"hint font-effect-emboss\\\">Add Widgets to Dashboard:</span>\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"back()\\\" *ngIf=\\\"showBack\\\">\\r\\n    <mat-icon>navigate_before</mat-icon>\\r\\n  </button>\\r\\n  <!-- <mat-icon *ngIf=\\\"showBack\\\" class=\\\"more\\\">more_horiz</mat-icon> -->\\r\\n  <div class=\\\"widgets-list\\\" [style.width.px]=\\\"hostWidth\\\">\\r\\n    <button class=\\\"btn-widget font-effect-outline\\\" mat-button *ngFor=\\\"let w of visibleItems\\\" [disabled]=\\\"w.id !== 0\\\"\\r\\n      color=\\\"accent\\\" (click)=\\\"onAdd(w.name)\\\" #btnWidget>\\r\\n      <mat-icon *ngIf=\\\"!w.active\\\" class=\\\"btn-add\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">add_circle</mat-icon>\\r\\n      <mat-icon *ngIf=\\\"w.active\\\" class=\\\"btn-remove\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">cancel</mat-icon>\\r\\n      {{ w.label }}\\r\\n    </button>\\r\\n  </div>\\r\\n  <!-- <mat-icon class=\\\"more\\\" *ngIf=\\\"showNext\\\">more_horiz</mat-icon> -->\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"next()\\\" *ngIf=\\\"showNext\\\">\\r\\n    <mat-icon>navigate_next</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.widgets-menu{width:100%;background:transparent;position:relative;height:51px;display:flex;align-items:center}.widgets-menu .btn-reset{color:#fff;min-width:96px}.widgets-menu .btn-reset mat-icon{color:#000}.widgets-menu mat-spinner{margin:0 20px}.widgets-menu .hint{padding:0 10px;min-width:90px;max-width:90px}.widgets-menu .arrow{height:36px;width:36px;display:flex;align-items:center;justify-content:center}.widgets-menu .arrow mat-icon{font-size:36px;height:36px;width:36px;color:#fff}.widgets-menu .arrow:hover{color:#fff}.widgets-menu .more{font-size:48px;margin:0 20px;height:48px;width:48px}.widgets-menu .widgets-list{overflow-x:auto;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.widgets-menu .btn-widget{margin:5px 0;position:relative;color:#fff;display:flex;align-items:center;justify-content:space-evenly;background:rbga(0,0,0,.7)}.widgets-menu .btn-widget .btn-add{cursor:pointer}.widgets-menu .btn-widget .btn-remove{color:red;cursor:pointer}.widgets-menu .btn-widget .btn-remove:hover{color:red}\\n\"], components: [{ type: i2$2.MatButton, selector: \"button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]\", inputs: [\"disabled\", \"disableRipple\", \"color\"], exportAs: [\"matButton\"] }, { type: i3.MatIcon, selector: \"mat-icon\", inputs: [\"color\", \"inline\", \"svgIcon\", \"fontSet\", \"fontIcon\"], exportAs: [\"matIcon\"] }, { type: i2$7.MatProgressSpinner, selector: \"mat-progress-spinner, mat-spinner\", inputs: [\"color\", \"diameter\", \"strokeWidth\", \"mode\", \"value\"], exportAs: [\"matProgressSpinner\"] }], directives: [{ type: i2$1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], pipes: { \"async\": i2$1.AsyncPipe } });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsMenuComponent, decorators: [{\r\n            type: Component,\r\n            args: [{ selector: 'iu-widgets-menu', template: \"<div *ngIf=\\\"(routeName$ | async) === 'dashboard'\\\" class=\\\"widgets-menu\\\">\\r\\n  <button *ngIf=\\\"!restoringDefaults\\\" mat-raised-button class=\\\"btn-reset\\\" (click)=\\\"restoreDefault()\\\">\\r\\n    <mat-icon>settings_backup_restore</mat-icon>\\r\\n    Reset\\r\\n  </button>\\r\\n  <mat-spinner *ngIf=\\\"restoringDefaults\\\" color=\\\"accent\\\" [diameter]=\\\"30\\\"></mat-spinner>\\r\\n  <span class=\\\"hint font-effect-emboss\\\">Add Widgets to Dashboard:</span>\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"back()\\\" *ngIf=\\\"showBack\\\">\\r\\n    <mat-icon>navigate_before</mat-icon>\\r\\n  </button>\\r\\n  <!-- <mat-icon *ngIf=\\\"showBack\\\" class=\\\"more\\\">more_horiz</mat-icon> -->\\r\\n  <div class=\\\"widgets-list\\\" [style.width.px]=\\\"hostWidth\\\">\\r\\n    <button class=\\\"btn-widget font-effect-outline\\\" mat-button *ngFor=\\\"let w of visibleItems\\\" [disabled]=\\\"w.id !== 0\\\"\\r\\n      color=\\\"accent\\\" (click)=\\\"onAdd(w.name)\\\" #btnWidget>\\r\\n      <mat-icon *ngIf=\\\"!w.active\\\" class=\\\"btn-add\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">add_circle</mat-icon>\\r\\n      <mat-icon *ngIf=\\\"w.active\\\" class=\\\"btn-remove\\\" (click)=\\\"deleteWidget(w.id, w.active)\\\">cancel</mat-icon>\\r\\n      {{ w.label }}\\r\\n    </button>\\r\\n  </div>\\r\\n  <!-- <mat-icon class=\\\"more\\\" *ngIf=\\\"showNext\\\">more_horiz</mat-icon> -->\\r\\n  <button mat-fab class=\\\"arrow\\\" (click)=\\\"next()\\\" *ngIf=\\\"showNext\\\">\\r\\n    <mat-icon>navigate_next</mat-icon>\\r\\n  </button>\\r\\n</div>\\r\\n\", styles: [\":host{display:block}.widgets-menu{width:100%;background:transparent;position:relative;height:51px;display:flex;align-items:center}.widgets-menu .btn-reset{color:#fff;min-width:96px}.widgets-menu .btn-reset mat-icon{color:#000}.widgets-menu mat-spinner{margin:0 20px}.widgets-menu .hint{padding:0 10px;min-width:90px;max-width:90px}.widgets-menu .arrow{height:36px;width:36px;display:flex;align-items:center;justify-content:center}.widgets-menu .arrow mat-icon{font-size:36px;height:36px;width:36px;color:#fff}.widgets-menu .arrow:hover{color:#fff}.widgets-menu .more{font-size:48px;margin:0 20px;height:48px;width:48px}.widgets-menu .widgets-list{overflow-x:auto;display:flex;flex-direction:row;align-items:center;justify-content:space-evenly}.widgets-menu .btn-widget{margin:5px 0;position:relative;color:#fff;display:flex;align-items:center;justify-content:space-evenly;background:rbga(0,0,0,.7)}.widgets-menu .btn-widget .btn-add{cursor:pointer}.widgets-menu .btn-widget .btn-remove{color:red;cursor:pointer}.widgets-menu .btn-widget .btn-remove:hover{color:red}\\n\"] }]\r\n        }], ctorParameters: function () { return [{ type: i1$1.Store }, { type: i0.ElementRef }, { type: i1$2.MatDialog }]; }, propDecorators: { increment: [{\r\n                type: Input\r\n            }], width: [{\r\n                type: Input\r\n            }], wrapperHeight: [{\r\n                type: Input\r\n            }], add: [{\r\n                type: Output\r\n            }], remove: [{\r\n                type: Output\r\n            }], widgetsList: [{\r\n                type: ViewChildren,\r\n                args: ['btnWidget']\r\n            }], visible: [{\r\n                type: Input\r\n            }], userId: [{\r\n                type: Input\r\n            }] } });\n\nclass WidgetsModule {\r\n}\r\n/** @nocollapse */ WidgetsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ WidgetsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, declarations: [WidgetComponent,\r\n        WidgetsMenuComponent], imports: [CommonModule,\r\n        DragDropModule,\r\n        MatButtonModule,\r\n        MatIconModule,\r\n        MatProgressSpinnerModule], exports: [WidgetComponent,\r\n        WidgetsMenuComponent,\r\n        DragDropModule] });\r\n/** @nocollapse */ WidgetsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, imports: [[\r\n            CommonModule,\r\n            DragDropModule,\r\n            MatButtonModule,\r\n            MatIconModule,\r\n            MatProgressSpinnerModule\r\n        ], DragDropModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: WidgetsModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    declarations: [\r\n                        WidgetComponent,\r\n                        WidgetsMenuComponent\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        DragDropModule,\r\n                        MatButtonModule,\r\n                        MatIconModule,\r\n                        MatProgressSpinnerModule\r\n                    ],\r\n                    exports: [\r\n                        WidgetComponent,\r\n                        WidgetsMenuComponent,\r\n                        DragDropModule\r\n                    ]\r\n                }]\r\n        }] });\n\n// /*\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { ADDRESS_ACCESSOR, ADDRESS_FORM_ACCESSOR, AccordionComponent, AccordionModule, ActionStore, ActionType, ActionTypes, ActionsEffects, ActivatedRoutePayload, AddLookupPayload, Address, AddressComponent, AddressFormComponent, AddressModule, AddressPipe, Alert, AnimationsModule, AppActions, ArrayControl, AuditFieldsComponent, AuditHistory, AuditHistoryComponent, AuditHistoryLinkComponent, AuditModule, Audited, AuthenticatedGuard, AutoLogoutComponent, BASIC_PLUGINS, BASIC_TOOLBAR, BaseEntity, BaseQueryModel, Breadcrumbs, BreadcrumbsComponent, BreadcrumbsModule, COLORS, Calendar, CalendarComponent, CalendarDay, CalendarDayComponent, CalendarDaysComponent, CalendarEvent, CalendarEventComponent, CalendarEventType, CalendarModule, CanDeactivateGuard, Class, Collage, CollageComponent, CollageModule, Collection, ColumnMetadata, Command, Config, ConfigActions, ConfirmDeleteComponent, ContainerComponent, ContainerModule, Control, Coordinates, CurrentUser, CurrentUserActions, CustomRoute, DATEPICKER_ACCESSOR, DATERANGE_ACCESSOR, DATETIME_ACCESSOR, DateHelper, DateMaskDirective, DateRange, DateTime, DateTimeControlComponent, DatepickerComponent, DatepickerModule, DaterangeComponent, DialogAction, DialogComponent, DialogModel, DialogModule, Dimensions, Dispatcher, DumbComponent, EDITOR_ACCESSOR, EMAIL_REGEX, EditorComponent, EditorModule, EditorWindowComponent, EffectsModule, Email, Entity, Error, ErrorActions, ErrorEffects, ErrorsModule, ErrorsService, Event, EventActions, EventEffects, EventHandler, Events$1 as Events, EventsModule, EventsService, FILE_ACCESSOR, FILE_UPLOAD_ACCESSOR, FULL_PLUGINS, FULL_TOOLBAR, File, FileControlComponent, FilePreviewComponent, FileUpload, FileUploadComponent, FileUploadModule, Filters, FormActions, FormArray, FormComponent, FormsModule, GlobalErrorsService, HTTP_REQUEST_STATUS, HTTP_STATUS_CODES, HeaderComponent, HeaderModule, HttpActions, HttpCommands, HttpDeletePayload, HttpEffects, HttpGetPayload, HttpModule, HttpOptions, HttpPostPayload, HttpPutPayload, HttpService, HubModule, HubService, Image, InlineAddressComponent, LOOKUP_KEYS, LOOKUP_PATH, LOOKUP_STATES, LazyRoute, LibraryComponent, LibraryModule, LibraryService, LifecycleHook, ListPipe, Login, Lookup, LookupActions, LookupModule, LookupService, LookupValue, Lookups, Message, MessageSubscription, Messages, MessagesActions, MessagesEffects, Metadata, MetadataType, Method, MilitaryDateTime, MilitaryTime, Month, NavbarComponent, NavbarModule, NavigationStatus, NewUser, NotFoundComponent, NotFoundModule, OrderedItem, Ordering, OrganizationsActions, PHONE_NUMBER_ACCESSOR, PadLeftPipe, Parameter, Permutation, PhoneNumber, PhoneNumberComponent, PhoneNumberModule, PhoneNumberPipe, PipesModule, Property, PropertyMetadata, QueryItem, QueryModel, Question, Questions, QuestionsModel, Redirect, RedirectActions, Redirects, ResetPassword, RouteSegment, RouterActions, RouterEffects, RouterModule, RouterService, RouterState, SOCKET_KEYS, SOCKET_URL, STATE_PICKER_ACCESSOR, STORE_KEY, SafeHtmlPipe, Search, SearchResults, SharedModule, SidenavActions, SidenavComponent, SidenavModule, SmartComponent, SocialIconsComponent, SocialIconsModule, StatePickerComponent, StaticMethod, StaticProperty, Storage$1 as Storage, StorageActions, StorageEffects, StorageModule, StorageService, StoreModule, StreamActions, StyleModel, TIME_ACCESSOR, Tile, TileComponent, TileModule, Time, TimeAgoPipe, TimeControlComponent, TimeModule, Timer, TimerComponent, TimerModule, TimerPipe, Token, Tree, TreeItem, UnsavedChangesComponent, UpdateValuePayload, UploadComponent, UploaderComponent, UploadsComponent, User, UserRoles, Validators, ViewConfig, ViewSettings, ViewSettingsActions, VisitedRoute, WallpaperComponent, WallpaperModule, Weekday, Widget, WidgetComponent, Widgets, WidgetsActions, WidgetsMenuComponent, WidgetsModule, Window, WindowActions, WindowResize, YesNoPipe, actionTypeSelector, actionsStreamReducer, actionsStreamSelector, allSelector, apiBaseUrlSelector, applyDecorators, applyMixins, arrayDistinct, arrayUnion, assignProps, atLeastOneAlphaNumericValidator, authTokenFactory, authTokenSelector, authenticatedSelector, baseUrlFactory, breadcrumbsSelector, build, buildAbstractControl, buildArrayFromType, buildColumnsFromMetadata, buildControl, buildControlFromModel, buildControlsConfig, buildFormArray, buildFormArrayControls, buildQueryStringFromObject, clamp, compareDates, compareNumbers, compareStrings, configReducer, configSelector, confirmPasswordValidator, containerHeightSelector, containerWidthSelector, contentHeightSelector, contentWidthSelector, convertCamel2Dash, convertCamel2Space, convertDash2Camel, currentUserSelector, dateFormatValidator, distinct, emptySelector, equals, errorSelector, errorsReducer, errorsSelector, eventSelector, eventValueSelector, eventsReducer, eventsSelector, extendObject, falsy, filterState, findFormArrayType, findMetadata, findMetadataFromInstance, findSchoolYear, flattenKeys, formReducer, format10DigitPhoneNumber, format7DigitPhoneNumber, formatPhoneNumber, formatPrice, getAllProps, getGetters, getKeyValues, getRandomInt, getReadyState, getSetters, getStyle, getTypeNameForDebugging, getValue, guid, hasChanged, hasDefaultWidgetsSelector, hasGroupValidators, hasValidators, hashToArray, htmlElementCloseTag, htmlElementContents, htmlElementTag, htmlStyleElementToString, htmlToString, htmlWrap, httpServiceFactory, hubServiceFactory, idChanged, ignoreKey, inArray, inArrayByKey, integerArray, isArrayValue, isBetweenDates, isCyclic, isFormArray, isFormControl, isFormGroup, isGroupValue, isMobile, isMobileSelector, isNumeric, isNumericAndHasLength, isValidEmail, lazyRouteParamsSelector, loggedInSelector, lookupKeySelector, lookupReducer, lookupSelector, lookupServiceFactory, lookupValueSelector, lookupValuesSelector, messageSelector, messageSubscriptionsSelector, messagesReducer, messagesSelector, navigationEndedSelector, navigationStatusSelector, nextState, noWeekendDaysValidator, numericValidator, passwordValidator, phoneNumberValidator, positiveIntegerArray, previousUrlSelector, previousUrlsSelector, provideHttpContext, provideHub, provideLookup, provideStorage, querySelector, redirectsReducer, removeCycles, removeProps, roundToDecimalPlace, routeNameSelector, routeParamArraySelector, routeParamBoolSelector, routeParamIdSelector, routeParamIntSelector, routeParamSelector, routeParamsSelector, routeSelector, routerReducer, serialize, shuffle, sidenavOpenedSelector, sidenavReducer, storageServiceFactory, str2CharCode, str2Id, str2int, strArray2Id, stringify, throwException, throwNotImplementedException, toArray, toFullName, toInt, toPayload, toPx, truthy, tryCast, urlPathSelector, urlSelector, userLastActiveSelector, userWidgetsSelector, valueChanged, valueEquals, viewSettingsReducer, widgetsBorderWidthSelector, widgetsDefaultSelector, widgetsHeightSelector, widgetsLookupSelector, widgetsReducer, widgetsSelector, widgetsWidthSelector, windowHeightSelector, windowReducer, windowSelector, windowWidthSelector, zipCodeValidator, zipPlus4Validator };\n//# sourceMappingURL=caiu-library.mjs.map\n","map":{"version":3,"file":"caiu-library.mjs","sources":["../../../projects/library/src/lib/library.service.ts","../../../projects/library/src/lib/library.component.ts","../../../projects/library/src/lib/components/accordion/accordion.component.ts","../../../projects/library/src/lib/components/accordion/accordion.component.html","../../../projects/library/src/lib/forms/validators.ts","../../../projects/library/src/lib/shared/models.ts","../../../projects/library/src/lib/shared/utils.ts","../../../projects/library/src/lib/shared/collection.ts","../../../projects/library/src/lib/events/events.models.ts","../../../projects/library/src/lib/events/events.actions.ts","../../../projects/library/src/lib/http/http.models.ts","../../../projects/library/src/lib/errors/errors.actions.ts","../../../projects/library/src/lib/http/http.actions.ts","../../../projects/library/src/lib/shared/actions.ts","../../../projects/library/src/lib/shared/component.ts","../../../projects/library/src/lib/shared/date-mask.directive.ts","../../../projects/library/src/lib/shared/shared.module.ts","../../../projects/library/src/lib/components/accordion/accordion.module.ts","../../../projects/library/src/lib/components/dialog/dialog.model.ts","../../../projects/library/src/lib/components/dialog/dialog.component.ts","../../../projects/library/src/lib/components/dialog/dialog.component.html","../../../projects/library/src/lib/components/dialog/confirm-delete/confirm-delete.component.ts","../../../projects/library/src/lib/components/dialog/confirm-delete/confirm-delete.component.html","../../../projects/library/src/lib/components/address/address.pipe.ts","../../../projects/library/src/lib/components/address/inline-address/inline-address.component.ts","../../../projects/library/src/lib/components/address/inline-address/inline-address.component.html","../../../projects/library/src/lib/forms/models.ts","../../../projects/library/src/lib/forms/utils.ts","../../../projects/library/src/lib/forms/decorators.ts","../../../projects/library/src/lib/shared/lookup.ts","../../../projects/library/src/lib/components/address/state-picker/state-picker.component.ts","../../../projects/library/src/lib/components/address/state-picker/state-picker.component.html","../../../projects/library/src/lib/components/address/address-form/address-form.component.ts","../../../projects/library/src/lib/components/address/address-form/address-form.component.html","../../../projects/library/src/lib/components/address/address.component.ts","../../../projects/library/src/lib/components/address/address.component.html","../../../projects/library/src/lib/components/dialog/auto-logout/auto-logout.component.ts","../../../projects/library/src/lib/components/dialog/auto-logout/auto-logout.component.html","../../../projects/library/src/lib/components/dialog/unsaved-changes/unsaved-changes.component.ts","../../../projects/library/src/lib/components/dialog/unsaved-changes/unsaved-changes.component.html","../../../projects/library/src/lib/components/dialog/dialog.module.ts","../../../projects/library/src/lib/forms/forms.module.ts","../../../projects/library/src/lib/components/address/address.module.ts","../../../projects/library/src/lib/components/audit/audit-fields/audit-fields.component.ts","../../../projects/library/src/lib/components/audit/audit-fields/audit-fields.component.html","../../../projects/library/src/lib/components/audit/audit.model.ts","../../../projects/library/src/lib/components/audit/audit-history/audit-history.component.ts","../../../projects/library/src/lib/components/audit/audit-history/audit-history.component.html","../../../projects/library/src/lib/http/http.service.ts","../../../projects/library/src/lib/components/audit/audit-history-link/audit-history-link.component.ts","../../../projects/library/src/lib/components/audit/audit-history-link/audit-history-link.component.html","../../../projects/library/src/lib/components/audit/audit.module.ts","../../../projects/library/src/lib/components/tile/tile.model.ts","../../../projects/library/src/lib/components/collage/collage.model.ts","../../../projects/library/src/lib/components/tile/tile.component.ts","../../../projects/library/src/lib/components/tile/tile.component.html","../../../projects/library/src/lib/components/collage/collage.component.ts","../../../projects/library/src/lib/components/collage/collage.component.html","../../../projects/library/src/lib/components/tile/tile.module.ts","../../../projects/library/src/lib/components/collage/collage.module.ts","../../../projects/library/src/lib/components/container/container.component.ts","../../../projects/library/src/lib/components/container/container.component.html","../../../projects/library/src/lib/components/breadcrumbs/breadcrumbs.component.ts","../../../projects/library/src/lib/components/breadcrumbs/breadcrumbs.component.html","../../../projects/library/src/lib/components/breadcrumbs/breadcrumbs.module.ts","../../../projects/library/src/lib/components/header/header.component.ts","../../../projects/library/src/lib/components/header/header.component.html","../../../projects/library/src/lib/components/header/header.module.ts","../../../projects/library/src/lib/components/navbar/navbar.component.ts","../../../projects/library/src/lib/components/navbar/navbar.component.html","../../../projects/library/src/lib/components/navbar/navbar.module.ts","../../../projects/library/src/lib/components/social-icons/social-icons.component.ts","../../../projects/library/src/lib/components/social-icons/social-icons.component.html","../../../projects/library/src/lib/components/sidenav/sidenav.component.ts","../../../projects/library/src/lib/components/sidenav/sidenav.component.html","../../../projects/library/src/lib/components/social-icons/social-icons.module.ts","../../../projects/library/src/lib/components/sidenav/sidenav.module.ts","../../../projects/library/src/lib/components/wallpaper/wallpaper.component.ts","../../../projects/library/src/lib/components/wallpaper/wallpaper.component.html","../../../projects/library/src/lib/components/wallpaper/wallpaper.module.ts","../../../projects/library/src/lib/components/container/container.module.ts","../../../projects/library/src/lib/shared/date.ts","../../../projects/library/src/lib/components/datepicker/datepicker.component.ts","../../../projects/library/src/lib/components/datepicker/datepicker.component.html","../../../projects/library/src/lib/components/datepicker/daterange/daterange.component.ts","../../../projects/library/src/lib/components/datepicker/daterange/daterange.component.html","../../../projects/library/src/lib/components/datepicker/datepicker.module.ts","../../../projects/library/src/lib/components/file-upload/file-upload.model.ts","../../../projects/library/src/lib/shared/ordering.ts","../../../projects/library/src/lib/components/file-upload/file-preview/file-preview.component.ts","../../../projects/library/src/lib/components/file-upload/file-preview/file-preview.component.html","../../../projects/library/src/lib/components/file-upload/uploads/uploads.component.ts","../../../projects/library/src/lib/components/file-upload/uploads/uploads.component.html","../../../projects/library/src/lib/components/file-upload/upload/upload.component.ts","../../../projects/library/src/lib/components/file-upload/upload/upload.component.html","../../../projects/library/src/lib/components/file-upload/file-upload.component.ts","../../../projects/library/src/lib/components/file-upload/file-upload.component.html","../../../projects/library/src/lib/components/file-upload/file-control/file-control.component.ts","../../../projects/library/src/lib/components/file-upload/file-control/file-control.component.html","../../../projects/library/src/lib/components/file-upload/uploader/uploader.component.ts","../../../projects/library/src/lib/components/file-upload/uploader/uploader.component.html","../../../projects/library/src/lib/components/file-upload/file-upload.module.ts","../../../projects/library/src/lib/components/not-found/not-found.component.ts","../../../projects/library/src/lib/components/not-found/not-found.component.html","../../../projects/library/src/lib/components/not-found/not-found.module.ts","../../../projects/library/src/lib/components/time/time.model.ts","../../../projects/library/src/lib/components/time/datetime-control/datetime-control.component.ts","../../../projects/library/src/lib/components/time/datetime-control/datetime-control.component.html","../../../projects/library/src/lib/components/time/time-control/time-control.component.ts","../../../projects/library/src/lib/components/time/time-control/time-control.component.html","../../../projects/library/src/lib/components/time/time.module.ts","../../../projects/library/src/lib/components/timer/timer.model.ts","../../../projects/library/src/lib/components/timer/timer.pipe.ts","../../../projects/library/src/lib/components/timer/timer.component.ts","../../../projects/library/src/lib/components/timer/timer.component.html","../../../projects/library/src/lib/components/timer/timer.module.ts","../../../projects/library/src/lib/pipes/list.pipe.ts","../../../projects/library/src/lib/pipes/pad-left.pipe.ts","../../../projects/library/src/lib/pipes/phone-number.pipe.ts","../../../projects/library/src/lib/pipes/safe-html.pipe.ts","../../../projects/library/src/lib/pipes/time-ago.pipe.ts","../../../projects/library/src/lib/pipes/yes-no.pipe.ts","../../../projects/library/src/lib/pipes/pipes.module.ts","../../../projects/library/src/lib/library.module.ts","../../../projects/library/src/lib/animations/animations.module.ts","../../../projects/library/src/lib/lookup/lookup.models.ts","../../../projects/library/src/lib/components/calendar/calendar.model.ts","../../../projects/library/src/lib/components/calendar/calendar-day-events/calendar-day-events.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day-events/calendar-day-events.component.html","../../../projects/library/src/lib/components/calendar/calendar-day-edit/calendar-day-edit.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day-edit/calendar-day-edit.component.html","../../../projects/library/src/lib/components/calendar/calendar-days/calendar-days.component.ts","../../../projects/library/src/lib/components/calendar/calendar-days/calendar-days.component.html","../../../projects/library/src/lib/components/calendar/calendar-day/calendar-day.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day/calendar-day.component.html","../../../projects/library/src/lib/components/calendar/calendar-view/calendar-view.component.ts","../../../projects/library/src/lib/components/calendar/calendar-view/calendar-view.component.html","../../../projects/library/src/lib/components/calendar/calendar-form/calendar-form.component.ts","../../../projects/library/src/lib/components/calendar/calendar-form/calendar-form.component.html","../../../projects/library/src/lib/components/calendar/calendar-key/calendar-key.component.ts","../../../projects/library/src/lib/components/calendar/calendar-key/calendar-key.component.html","../../../projects/library/src/lib/components/calendar/calendar.component.ts","../../../projects/library/src/lib/components/calendar/calendar.component.html","../../../projects/library/src/lib/components/calendar/calendar-event-form/calendar-event-form.component.ts","../../../projects/library/src/lib/components/calendar/calendar-event-form/calendar-event-form.component.html","../../../projects/library/src/lib/components/calendar/calendar-event/calendar-event.component.ts","../../../projects/library/src/lib/components/calendar/calendar-event/calendar-event.component.html","../../../projects/library/src/lib/components/calendar/calendar-event-view/calendar-event-view.component.ts","../../../projects/library/src/lib/components/calendar/calendar-event-view/calendar-event-view.component.html","../../../projects/library/src/lib/components/calendar/calendar-day-view/calendar-day-view.component.ts","../../../projects/library/src/lib/components/calendar/calendar-day-view/calendar-day-view.component.html","../../../projects/library/src/lib/components/calendar/calendar.module.ts","../../../projects/library/src/lib/components/editor/editor-window/editor-window.component.ts","../../../projects/library/src/lib/components/editor/editor-window/editor-window.component.html","../../../projects/library/src/lib/components/editor/Events.ts","../../../projects/library/src/lib/components/editor/utils.ts","../../../projects/library/src/lib/components/editor/ScriptLoader.ts","../../../projects/library/src/lib/components/editor/TinyMCE.ts","../../../projects/library/src/lib/components/editor/editor.model.ts","../../../projects/library/src/lib/components/editor/editor.component.ts","../../../projects/library/src/lib/components/editor/editor.component.html","../../../projects/library/src/lib/components/editor/editor.module.ts","../../../projects/library/src/lib/components/phone-number/phone-number.model.ts","../../../projects/library/src/lib/components/phone-number/phone-number.component.ts","../../../projects/library/src/lib/components/phone-number/phone-number.component.html","../../../projects/library/src/lib/components/phone-number/phone-number.module.ts","../../../projects/library/src/lib/effects/effects.module.ts","../../../projects/library/src/lib/errors/errors.service.ts","../../../projects/library/src/lib/errors/errors.effects.ts","../../../projects/library/src/lib/errors/global-errors.service.ts","../../../projects/library/src/lib/errors/errors.module.ts","../../../projects/library/src/lib/errors/errors.models.ts","../../../projects/library/src/lib/errors/errors.reducer.ts","../../../projects/library/src/lib/errors/errors.selectors.ts","../../../projects/library/src/lib/events/events.selectors.ts","../../../projects/library/src/lib/events/events.effects.ts","../../../projects/library/src/lib/events/events.service.ts","../../../projects/library/src/lib/events/events.module.ts","../../../projects/library/src/lib/events/events.reducer.ts","../../../projects/library/src/lib/forms/actions.ts","../../../projects/library/src/lib/http/http.commands.ts","../../../projects/library/src/lib/http/http.effects.ts","../../../projects/library/src/lib/http/http.module.ts","../../../projects/library/src/lib/hub/hub.service.ts","../../../projects/library/src/lib/hub/hub.module.ts","../../../projects/library/src/lib/lookup/lookup.actions.ts","../../../projects/library/src/lib/lookup/lookup.service.ts","../../../projects/library/src/lib/lookup/lookup.module.ts","../../../projects/library/src/lib/store/models.ts","../../../projects/library/src/lib/store/actions.ts","../../../projects/library/src/lib/lookup/lookup.reducer.ts","../../../projects/library/src/lib/lookup/lookup.selectors.ts","../../../projects/library/src/lib/router/actions.ts","../../../projects/library/src/lib/router/router.service.ts","../../../projects/library/src/lib/router/router.effects.ts","../../../projects/library/src/lib/router/router.module.ts","../../../projects/library/src/lib/router/models.ts","../../../projects/library/src/lib/router/router.reducer.ts","../../../projects/library/src/lib/router/selectors.ts","../../../projects/library/src/lib/shared/token.ts","../../../projects/library/src/lib/shared/window.ts","../../../projects/library/src/lib/store/selectors.ts","../../../projects/library/src/lib/router/guards/authenticated.guard.ts","../../../projects/library/src/lib/shared/base-entity.ts","../../../projects/library/src/lib/shared/config.ts","../../../projects/library/src/lib/shared/decorators.ts","../../../projects/library/src/lib/shared/question.ts","../../../projects/library/src/lib/shared/tree.ts","../../../projects/library/src/lib/shared/user.ts","../../../projects/library/src/lib/storage/storage.actions.ts","../../../projects/library/src/lib/storage/storage.models.ts","../../../projects/library/src/lib/storage/storage.service.ts","../../../projects/library/src/lib/storage/storage.effects.ts","../../../projects/library/src/lib/storage/storage.module.ts","../../../projects/library/src/lib/store/store.module.ts","../../../projects/library/src/lib/store/reducers.ts","../../../projects/library/src/lib/widgets/widgets.model.ts","../../../projects/library/src/lib/widgets/widgets.reducer.ts","../../../projects/library/src/lib/widgets/widget/widget.component.ts","../../../projects/library/src/lib/widgets/widget/widget.component.html","../../../projects/library/src/lib/widgets/widgets-menu/widgets-menu.component.ts","../../../projects/library/src/lib/widgets/widgets-menu/widgets-menu.component.html","../../../projects/library/src/lib/widgets/widgets.module.ts","../../../projects/library/src/public_api.ts","../../../projects/library/src/caiu-library.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LibraryService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-library',\r\n  template: `\r\n    <p>\r\n      library works!\r\n    </p>\r\n  `,\r\n  styles: []\r\n})\r\nexport class LibraryComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'iu-accordion',\r\n  templateUrl: './accordion.component.html',\r\n  styleUrls: ['./accordion.component.scss'],\r\n  animations: [\r\n    trigger('toggle', [\r\n      state('*', style({ height: '0px' })),\r\n      state('show', style({ height: '*' })),\r\n      state('hide', style({ height: '0px' })),\r\n      transition('show <=> hide', [\r\n        animate('300ms ease-out')\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class AccordionComponent implements OnInit {\r\n\r\n  @Input() active = true;\r\n  @Input() opened = true;\r\n  @Input() showArrow = false;\r\n  @Output() closeStart = new EventEmitter();\r\n  @Output() closeDone = new EventEmitter();\r\n  @Output() openStart = new EventEmitter();\r\n  @Output() openDone = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  toggle() {\r\n    this.opened = !this.opened;\r\n  }\r\n\r\n  open() {\r\n    this.opened = true;\r\n  }\r\n\r\n  close() {\r\n    this.opened = false;\r\n  }\r\n\r\n  onStart(e: any) {\r\n    if (this.opened) {\r\n      this.openStart.emit();\r\n    } else {\r\n      this.closeStart.emit();\r\n    }\r\n  }\r\n\r\n  onDone(e: any) {\r\n    if (this.opened) {\r\n      this.openDone.emit();\r\n    } else {\r\n      this.closeDone.emit();\r\n    }\r\n  }\r\n\r\n  onClickTrigger() {\r\n    if (this.active) {\r\n      this.toggle();\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"accordion\">\r\n  <div class=\"trigger-wrapper\" (click)=\"onClickTrigger()\" [class.active]=\"active\">\r\n    <ng-content select=\".accordion-trigger\"></ng-content>\r\n  </div>\r\n  <div class=\"content-wrapper\" [@toggle]=\"opened ? 'show' : 'hide'\" (@toggle.start)=\"onStart($event)\" (@toggle.done)=\"onDone($event)\">\r\n    <ng-content select=\".accordion-content\"></ng-content>\r\n  </div>\r\n</div>","import {\r\n  Validators as AngularValidators,\r\n  AbstractControl,\r\n  ValidatorFn,\r\n  ValidationErrors,\r\n  AsyncValidatorFn,\r\n  FormControl,\r\n  FormGroup\r\n} from '@angular/forms';\r\n\r\nimport { falsy, isNumericAndHasLength } from '../shared/utils';\r\n\r\nexport class Validators {\r\n  static compose(\r\n    validators: (ValidatorFn | null | undefined)[] | null\r\n  ): ValidatorFn | null {\r\n    return AngularValidators.compose(validators);\r\n  }\r\n\r\n  static composeAsync(\r\n    validators: (AsyncValidatorFn | null)[]\r\n  ): AsyncValidatorFn | null {\r\n    return AngularValidators.composeAsync(validators);\r\n  }\r\n\r\n  static email(control: AbstractControl): ValidationErrors | null {\r\n    if (falsy(control.value)) {\r\n      return null;\r\n    }\r\n    return AngularValidators.email(control);\r\n  }\r\n\r\n  static exactLength(exactLength: number): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => {\r\n      return Validators.maxLength(exactLength)(control) === null &&\r\n        Validators.minLength(exactLength)(control) === null\r\n        ? null\r\n        : { exactLength: { value: control.value } };\r\n    };\r\n  }\r\n\r\n  static max(max: number): ValidatorFn {\r\n    return AngularValidators.max(max);\r\n  }\r\n\r\n  static maxLength(maxLength: number): ValidatorFn {\r\n    return AngularValidators.maxLength(maxLength);\r\n  }\r\n\r\n  static min(min: number): ValidatorFn {\r\n    return AngularValidators.min(min);\r\n  }\r\n\r\n  static minLength(minLength: number): ValidatorFn {\r\n    return AngularValidators.minLength(minLength);\r\n  }\r\n\r\n  static numeric(maxLength = 0): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } => {\r\n      const numeric = typeof control.value === 'number';\r\n      const toInt = parseInt(control.value, 10);\r\n      const valid = maxLength\r\n        ? numeric && toInt < Math.pow(10, maxLength)\r\n        : numeric;\r\n      return !valid ? { numeric: { value: control.value } } : null;\r\n    };\r\n  }\r\n\r\n  static nullValidator(control: AbstractControl): ValidationErrors | null {\r\n    return AngularValidators.nullValidator(control);\r\n  }\r\n\r\n  static pattern(pattern: string | RegExp): ValidatorFn {\r\n    return AngularValidators.pattern(pattern);\r\n  }\r\n\r\n  static phone(control: AbstractControl): ValidationErrors | null {\r\n    if (falsy(control.value)) {\r\n      return null;\r\n    }\r\n    const toInt = parseInt(control.value, 10);\r\n    const numeric = typeof toInt === 'number' && toInt > 999999999;\r\n    return !numeric ? { phone: { value: control.value } } : null;\r\n  }\r\n\r\n  static required(control: AbstractControl): ValidationErrors | null {\r\n    return AngularValidators.required(control);\r\n  }\r\n\r\n  static requiredTrue(control: AbstractControl): ValidationErrors | null {\r\n    return AngularValidators.requiredTrue(control);\r\n  }\r\n\r\n  static zip(control: AbstractControl): ValidationErrors | null {\r\n    if (falsy(control.value)) {\r\n      return null;\r\n    }\r\n    return Validators.exactLength(5)(control) === null\r\n      ? null\r\n      : { zip: { value: control.value } };\r\n  }\r\n}\r\n\r\nexport function atLeastOneAlphaNumericValidator(c: FormControl) {\r\n  return c.value ? /^(?=.*[a-zA-Z].*)([a-zA-Z0-9]+)$/i.test(c.value.replace(/[^\\w\\s]/gi, '').replace(/\\s/g, '').replace(/_/g, '')) ? null : {\r\n    atLeastOneAlphaNumeric: true\r\n  } : null;\r\n}\r\n\r\nexport function confirmPasswordValidator(fg: FormGroup) {\r\n  const pass = fg.controls['password'];\r\n  const confirm = fg.controls['confirmPassword'];\r\n  if (pass.value !== confirm.value) {\r\n    confirm.setErrors({ confirmPwdFail: true });\r\n    return { confirmPwdFail: true };\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function numericValidator(length: number, key = 'numeric'): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } => {\r\n    const toInt = parseInt(control.value, 10);\r\n    const isNumber = /^\\d+$/.test(control.value);\r\n    const numeric =\r\n      isNumber && typeof toInt === 'number' && control.value.length === length;\r\n    return !numeric && !falsy(control.value)\r\n      ? { [key]: { value: control.value } }\r\n      : null;\r\n  };\r\n}\r\n\r\nexport function passwordValidator(ctrl: FormControl) {\r\n  // const lengthReq = '{6,100}';\r\n  // const atleastOneNumberReq = '(?=.*[0-9])';\r\n  // {6,100}           - Assert password is between 6 and 100 characters\r\n  // (?=.*[0-9])       - Assert a string has at least one number\r\n  if (\r\n    ctrl.value &&\r\n    ctrl.value.match(/^(?=.*[0-9])[a-zA-Z0-9!@#$%^&*]{6,100}$/)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return { password: true };\r\n}\r\n\r\nexport function phoneNumberValidator(): ValidatorFn {\r\n  return (control: AbstractControl): { [key: string]: any } => {\r\n    const formatted = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im.test(control.value);\r\n    return !formatted ? { phoneNumber: { value: control.value } } : null;\r\n  };\r\n}\r\n\r\nexport function zipCodeValidator(control: FormControl) {\r\n  const val = control.value.replace(/\\s/g, '');\r\n  if (!val) {\r\n    return { zipCode: 'Please enter a zip code.' };\r\n  }\r\n  if (val.length >= 5 && val.length < 9) {\r\n    return isNumericAndHasLength(\r\n      val.indexOf('-') === -1 ? val : val.substring(0, val.indexOf('-')),\r\n      5\r\n    )\r\n      ? null\r\n      : { zipCode: 'Please enter a valid zip code.' };\r\n  }\r\n  if (val.length === 9) {\r\n    return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n      isNumericAndHasLength(val.substring(5), 4)\r\n      ? null\r\n      : { zipCode: 'Please enter a valid zip code.' };\r\n  }\r\n  if (val.length === 10) {\r\n    return isNumericAndHasLength(val.substring(0, 5), 5) &&\r\n      isNumericAndHasLength(val.substring(6), 4)\r\n      ? null\r\n      : { zipCode: 'Please enter a valid zip code.' };\r\n  }\r\n  return { zipCode: 'Please enter a valid zip code.' };\r\n}\r\n\r\nexport function zipPlus4Validator() {\r\n  return numericValidator(4, 'zipPlus4');\r\n}\r\n","import { build, truthy, convertCamel2Space } from './utils';\r\nimport {\r\n  Validators,\r\n  zipCodeValidator,\r\n  zipPlus4Validator\r\n} from '../forms/validators';\r\n\r\nexport class Address {\r\n  id = 0;\r\n  addressTypeId = 0;\r\n  firstName = '';\r\n  lastName = '';\r\n  address1 = '';\r\n  address2 = '';\r\n  city = '';\r\n  stateCode = 'PA';\r\n  stateId = null;\r\n  zip = '';\r\n  zipPlus4 = '';\r\n  isPrimaryAddress = false;\r\n  effectiveDate: Date = new Date();\r\n  startDate: Date = new Date();\r\n  endDate: Date = new Date();\r\n  metadata: Metadata = {\r\n    ignore: [\r\n      'id',\r\n      'cityStateZip',\r\n      'endDate',\r\n      'fullName',\r\n      'hasAddress',\r\n      'hasCityStateZip',\r\n      'hasStreetAddress',\r\n      'middleName',\r\n      'startDate',\r\n      'state'\r\n    ],\r\n    address1: {\r\n      validators: [Validators.required]\r\n    },\r\n    address2: {},\r\n    city: {\r\n      validators: [Validators.required]\r\n    },\r\n    stateCode: {\r\n      validators: [Validators.required]\r\n    },\r\n    zip: {\r\n      validators: [zipCodeValidator]\r\n    },\r\n    zipPlus4: {\r\n      validators: [zipPlus4Validator()]\r\n    }\r\n  };\r\n\r\n  get cityStateZip(): string {\r\n    return this.hasCityStateZip\r\n      ? `${this.city}, ${this.stateCode} ${this.zip} `\r\n      : '';\r\n  }\r\n\r\n  set cityStateZip(value: string) { }\r\n\r\n  get fullName(): string {\r\n    return this.firstName && this.lastName\r\n      ? `${this.firstName} ${this.lastName}`\r\n      : '';\r\n  }\r\n\r\n  set fullName(value: string) { }\r\n\r\n  get hasAddress(): boolean {\r\n    return this.hasStreetAddress && this.hasCityStateZip;\r\n  }\r\n\r\n  get hasCityStateZip(): boolean {\r\n    return (\r\n      this.city !== '' &&\r\n      (this.stateCode !== '' || this.stateId !== 0) &&\r\n      truthy(this.zip)\r\n    );\r\n  }\r\n\r\n  get hasStreetAddress(): boolean {\r\n    return this.address1 !== '';\r\n  }\r\n}\r\n\r\nexport class Alert {\r\n  message = '';\r\n  type: 'ERROR' | 'SUCCESS';\r\n}\r\n\r\nexport interface Audit {\r\n  createdDate: Date;\r\n  createdById: number;\r\n  createdByName: string;\r\n  lastModifiedDate: Date;\r\n  lastModifiedById: number;\r\n  lastModifiedByName: string;\r\n}\r\n\r\nexport class Coordinates {\r\n  row = 0;\r\n  column = 0;\r\n}\r\n\r\nexport interface Dictionary<T> {\r\n  [id: string]: T;\r\n}\r\n\r\nexport class Dimensions {\r\n  columns = 0;\r\n  height = 0;\r\n  rows = 0;\r\n  width = 0;\r\n\r\n  get approxRatio(): number {\r\n    return this.rows / this.columns;\r\n  }\r\n\r\n  get ratio(): number {\r\n    return this.height / this.width;\r\n  }\r\n\r\n  get orientation(): 'h' | 'v' {\r\n    return this.height > this.width ? 'v' : 'h';\r\n  }\r\n}\r\n\r\nexport interface Distance {\r\n  x: number;\r\n  y: number;\r\n  zIndex?: number;\r\n}\r\n\r\nexport class Email {\r\n  id = 0;\r\n  bcc = '';\r\n  body = '';\r\n  cc = '';\r\n  failed = '';\r\n  from = '';\r\n  sent = false;\r\n  sentDate: Date = new Date();\r\n  subject = '';\r\n  to = '';\r\n  createdById = null;\r\n  createdDate: Date = new Date();\r\n\r\n  createdBy: any;\r\n  attachments = [];\r\n}\r\n\r\nexport const EMAIL_REGEX = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n\r\nexport class Filters {\r\n  skip = 0;\r\n  sortBy = '';\r\n  take = 0;\r\n}\r\n\r\nexport type Func<T, TResult> = (item: T) => TResult;\r\n\r\nexport interface HasId {\r\n  id: string | number;\r\n}\r\n\r\nexport interface HasMetadata {\r\n  metadata: Metadata;\r\n}\r\n\r\nexport class Image {\r\n  id = 0;\r\n  dimensions: Dimensions[] = [];\r\n  height = 0;\r\n  src = '';\r\n  width = 0;\r\n\r\n  static Build(data: Image): Image {\r\n    return build(Image, data);\r\n  }\r\n\r\n  static BuildForTile(data: Image, dim: Dimensions[], index: number): Image {\r\n    const img = Image.Build(data);\r\n    img.id = index;\r\n    img.dimensions = Image.FindDimensions(img, dim);\r\n    return img;\r\n  }\r\n\r\n  static FilterDimensions(image: Image, dim: Dimensions[]): Dimensions[] {\r\n    return Image.FilterDimensionsByOrientation(image, dim);\r\n  }\r\n\r\n  static FilterDimensionsByOrientation(\r\n    image: Image,\r\n    dim: Dimensions[]\r\n  ): Dimensions[] {\r\n    return dim.filter(x => x.orientation === image.orientation);\r\n  }\r\n\r\n  static FindDimensions(image: Image, dim: Dimensions[]): Dimensions[] {\r\n    return Image.OrderDimensions(image, Image.FilterDimensions(image, dim));\r\n  }\r\n\r\n  static OrderDimensions(image: Image, dim: Dimensions[]): Dimensions[] {\r\n    // console.log(image.ratio);\r\n    const d = dim.sort(\r\n      (a, b) =>\r\n        Math.abs(image.ratio - a.ratio) - Math.abs(image.ratio - b.ratio)\r\n    );\r\n    // console.dir(d);\r\n    return d;\r\n  }\r\n\r\n  get orientation(): 'h' | 'v' {\r\n    return this.height > this.width ? 'v' : 'h';\r\n  }\r\n\r\n  get horizontal(): boolean {\r\n    return this.orientation === 'h';\r\n  }\r\n\r\n  get vertical(): boolean {\r\n    return this.orientation === 'v';\r\n  }\r\n\r\n  get colspan() {\r\n    return this.vertical ? 1 : 1;\r\n  }\r\n\r\n  get rowspan() {\r\n    return this.vertical ? 2 : 1;\r\n  }\r\n\r\n  get ratio(): number {\r\n    return this.height / this.width;\r\n  }\r\n}\r\n\r\nexport class Metadata {\r\n  controls?: string[] = [];\r\n  ignore?: string[] = [];\r\n  label?= '';\r\n  name?= '';\r\n  value?: any;\r\n  [key: string]: any;\r\n}\r\n\r\nexport enum MetadataType {\r\n  CLASS,\r\n  METHOD,\r\n  PROPERTY,\r\n  PARAMETER,\r\n  STATIC_METHOD,\r\n  STATIC_PROPERTY\r\n}\r\n\r\nexport class PropertyMetadata<T> {\r\n  ignore?: string[] = [];\r\n  label?= '';\r\n  name?= '';\r\n  value?: T;\r\n}\r\n\r\nexport class QueryItem {\r\n  label = '';\r\n  value: any;\r\n}\r\n\r\nexport abstract class QueryModel<T> {\r\n  abstract params: any;\r\n  userId = 0;\r\n  accountId = 0;\r\n  fields: string[] = [];\r\n  filterBy: (x: T) => boolean;\r\n  filters: string[] = [];\r\n  groupBy: (x: T) => any;\r\n  groups: string[] = [];\r\n  include: (x: T) => any;\r\n  map: (x: T) => any;\r\n  orderBy: (x: T) => any;\r\n  skip = 0;\r\n  sort: string[] = [];\r\n  sortBy = '';\r\n  sortDirection: 'asc' | 'desc' | '';\r\n  take = 0;\r\n  term = '';\r\n\r\n  get hasParams(): boolean {\r\n    return this.totalParams > 0;\r\n  }\r\n\r\n  get keys(): string[] {\r\n    return Object.keys(this);\r\n  }\r\n\r\n  get totalParams(): number {\r\n    return Object.keys(this.params).length;\r\n  }\r\n\r\n  static AppendQueryString(query: QueryModel<any>): string {\r\n    const obj = QueryModel.BuildQueryObject(query);\r\n    return Object.keys(obj).reduce((acc, key) => {\r\n      const str = obj[key];\r\n      return str ? QueryModel.AppendToQueryString(acc, str) : acc;\r\n    }, '');\r\n  }\r\n\r\n  static AppendToQueryString(path: string, str: string): string {\r\n    return path ? `${path}&${str}` : str;\r\n  }\r\n\r\n  static BuildQueryString(query: QueryModel<any>): string {\r\n    const path = QueryModel.AppendQueryString(query);\r\n    return path ? `?${path}` : '';\r\n  }\r\n\r\n  static BuildQueryStringFromObject(obj: any): string {\r\n    return Object.keys(obj).reduce((acc, key) => acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}`, '');\r\n  }\r\n\r\n  static BuildQueryObject(query: QueryModel<any>): any {\r\n    return Object.assign(\r\n      {\r\n        skip: QueryModel.QuerySkip(query),\r\n        take: QueryModel.QueryTake(query),\r\n        term: QueryModel.QueryTerm(query)\r\n      },\r\n      QueryModel.QueryParams(query)\r\n    );\r\n  }\r\n\r\n  static FormatDate(date: Date): string {\r\n    const d = new Date(date);\r\n    let month = '' + (d.getMonth() + 1);\r\n    let day = '' + d.getDate();\r\n    const year = d.getFullYear();\r\n\r\n    if (month.length < 2) {\r\n      month = '0' + month;\r\n    }\r\n    if (day.length < 2) {\r\n      day = '0' + day;\r\n    }\r\n\r\n    return [year, month, day].join('-');\r\n  }\r\n\r\n  static ParseQuery(queryString) {\r\n    const query = {};\r\n    const pairs = (queryString[0] === '?'\r\n      ? queryString.substr(1)\r\n      : queryString\r\n    ).split('&');\r\n    for (let i = 0; i < pairs.length; i++) {\r\n      const pair = pairs[i].split('=');\r\n      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\r\n    }\r\n    return query;\r\n  }\r\n\r\n  static QueryParams(query: QueryModel<any>): any {\r\n    return Object.keys(query.params).reduce(\r\n      (acc, key) =>\r\n        Object.assign({}, acc, { [key]: `${key}=${query.params[key]}` }),\r\n      {}\r\n    );\r\n  }\r\n\r\n  static QuerySkip(query: QueryModel<any>): string {\r\n    return query.skip ? `skip=${query.skip}` : '';\r\n  }\r\n\r\n  static QueryTake(query: QueryModel<any>): string {\r\n    return query.take ? `take=${query.take}` : '';\r\n  }\r\n\r\n  static QueryTerm(query: QueryModel<any>): string {\r\n    return query.term ? `term=${query.term}` : '';\r\n  }\r\n\r\n  get queryParams(): any {\r\n    return QueryModel.QueryParams(this);\r\n  }\r\n\r\n  get queryString(): string {\r\n    return QueryModel.BuildQueryString(this);\r\n  }\r\n\r\n  get queryObject(): any {\r\n    return QueryModel.BuildQueryObject(this);\r\n  }\r\n\r\n  get querySkip(): string {\r\n    return this.skip ? `skip=${this.skip}` : '';\r\n  }\r\n\r\n  get queryTake(): string {\r\n    return this.take ? `take=${this.take}` : '';\r\n  }\r\n\r\n  get queryTerm(): string {\r\n    return this.term ? `term=${this.term}` : '';\r\n  }\r\n}\r\n\r\nexport class BaseQueryModel extends QueryModel<any> {\r\n  params = {};\r\n}\r\n\r\nexport class Search<T> {\r\n  query?: QueryModel<T>;\r\n  results: T[] = [];\r\n  total = 0;\r\n}\r\n\r\nexport class SearchResults<T> {\r\n  results: T[] = [];\r\n  total = 0;\r\n}\r\n\r\nexport class StyleModel {\r\n  backgroundColor: string;\r\n  border: string;\r\n  borderRadius: number | string;\r\n  color: string;\r\n  cursor: string;\r\n  display: string;\r\n  fontSize: number | string;\r\n  height: number | string;\r\n  lineHeight: number | string;\r\n  padding: number | string;\r\n  paddingTop: number | string;\r\n  paddingBottom: number | string;\r\n  paddingLeft: number | string;\r\n  paddingRight: number | string;\r\n  textDecoration: string;\r\n  width: number;\r\n\r\n  get styles(): any {\r\n    const s = {};\r\n    if (this.backgroundColor) {\r\n      s['backgroundColor'] = this.backgroundColor;\r\n    }\r\n    if (this.border) {\r\n      s['border'] = this.border;\r\n    }\r\n    if (this.borderRadius) {\r\n      s['borderRadius.px'] = this.borderRadius;\r\n    }\r\n    if (this.color) {\r\n      s['color'] = this.color;\r\n    }\r\n    if (this.cursor) {\r\n      s['color'] = this.cursor;\r\n    }\r\n    if (this.display) {\r\n      s['display'] = this.display;\r\n    }\r\n    if (this.fontSize) {\r\n      s['fontSize'] = this.fontSize;\r\n    }\r\n    if (this.height) {\r\n      s['height.px'] = this.height;\r\n    }\r\n    if (this.lineHeight) {\r\n      s['line-height.px'] = this.lineHeight;\r\n    }\r\n    if (this.padding) {\r\n      s['padding.px'] = this.padding;\r\n    }\r\n    if (this.paddingTop) {\r\n      s['padding-top.px'] = this.paddingTop;\r\n    }\r\n    if (this.paddingBottom) {\r\n      s['padding-bottom.px'] = this.paddingBottom;\r\n    }\r\n    if (this.paddingLeft) {\r\n      s['padding-left.px'] = this.paddingLeft;\r\n    }\r\n    if (this.paddingRight) {\r\n      s['padding-right.px'] = this.paddingRight;\r\n    }\r\n    if (this.textDecoration) {\r\n      s['textDecoration'] = this.textDecoration;\r\n    }\r\n    if (this.width) {\r\n      s['width.px'] = this.width;\r\n    }\r\n    return s;\r\n  }\r\n}\r\n\r\nexport class ColumnMetadata {\r\n  name = '';\r\n  type: 'LIST' | 'DATE';\r\n  _label = '';\r\n\r\n  get label(): string {\r\n    return this._label || convertCamel2Space(this.name);\r\n  }\r\n\r\n  set label(value: string) {\r\n    this._label = value;\r\n  }\r\n}\r\n\r\nexport interface Type<T> extends Function {\r\n  new(...args: any[]): T;\r\n}\r\n\r\nexport interface TypeConstructor<T> {\r\n  new(): T;\r\n}\r\n","import { SimpleChanges } from '@angular/core';\r\n\r\nimport { Metadata, Dictionary, ColumnMetadata, TypeConstructor, HasMetadata } from './models';\r\nimport { Action } from '../store/models';\r\n\r\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nexport function applyDecorators(derived: any, baseCtors: any[]) {\r\n  baseCtors.forEach(baseCtor => {\r\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n      derived[name] = baseCtor.prototype[name];\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * @param derivedCtor The clas Constructor\r\n * @param baseCtor The mixins to apply\r\n * Example Usage: applyMixins(UniversityProfessor, [Employee, Researcher])\r\n */\r\nexport function applyMixins(derivedCtor: any, baseCtors: any[]) {\r\n  baseCtors.forEach(baseCtor => {\r\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\r\n      derivedCtor.prototype[name] = baseCtor.prototype[name];\r\n    });\r\n  });\r\n}\r\n\r\nexport function arrayDistinct(arr: any[], map: (x: any) => any = x => x): any[] {\r\n  return arr.reduce((acc, x) => {\r\n    return acc.findIndex(y => equals(map(x), map(y))) === -1 ? [...acc, x] : acc;\r\n  }, []);\r\n}\r\n\r\n/**\r\n * Find distinct elements in the union of 2 arrays.\r\n * @param array1\r\n * @param array2\r\n */\r\nexport function arrayUnion(array1, array2) {\r\n  const a = [...array1, ...array2];\r\n  for (let i = 0; i < a.length; ++i) {\r\n    for (let j = i + 1; j < a.length; ++j) {\r\n      if (a[i] === a[j]) {\r\n        a.splice(j--, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  return a;\r\n}\r\n\r\nexport function assignProps(target: any, props: Dictionary<any>) {\r\n  Object.keys(props).forEach(key => {\r\n    if (target[key]) {\r\n      target[key] = props[key];\r\n    }\r\n  });\r\n}\r\n\r\nexport function build<T>(ctor: TypeConstructor<T>, ...args): T {\r\n  const instance = new ctor();\r\n  return args.reduce((acc, next) => {\r\n    let ret;\r\n    try {\r\n      ret = Object.assign(acc, next);\r\n    } catch (e) {\r\n      console.warn(e);\r\n      ret = acc;\r\n    } finally {\r\n      return ret;\r\n    }\r\n  }, instance);\r\n}\r\n\r\nexport function buildColumnsFromMetadata(model: any, key: string): ColumnMetadata[] {\r\n  const metadata = findMetadataFromInstance(model);\r\n  const columns = Array.isArray(metadata[key]) ? metadata[key] : Array.isArray(model) ? (model.length > 0 ? Object.keys(model[0]) : []) : Object.keys(model);\r\n  return columns.map((x: string | ColumnMetadata) =>\r\n    typeof x === 'string'\r\n      ? build(ColumnMetadata, {\r\n        name: x\r\n      })\r\n      : build(ColumnMetadata, x)\r\n  );\r\n}\r\n\r\nexport function buildQueryStringFromObject(obj: any): string {\r\n  return Object.keys(obj).reduce((acc, key) => obj[key] ? acc ? `${acc}&${key}=${obj[key]}` : `?${key}=${obj[key]}` : acc, '');\r\n}\r\n\r\n/** Clamps a number between zero and a maximum. */\r\nexport function clamp(value: number, max: number): number {\r\n  return Math.max(0, Math.min(max, value));\r\n}\r\n\r\nexport function compareDates(a: Date, b: Date) {\r\n  return new Date(b).getTime() - new Date(a).getTime();\r\n}\r\n\r\nexport function compareNumbers(a: number, b: number) {\r\n  return a - b;\r\n}\r\n\r\nexport function compareStrings(a: string, b: string) {\r\n  const x = a.toLowerCase();\r\n  const y = b.toLowerCase();\r\n  if (x < y) {\r\n    return -1;\r\n  } else if (x > y) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nexport function distinct(arr: any[], key = ''): any[] {\r\n  return key\r\n    ? arr.reduce((acc, x) => (acc.findIndex(y => y[key] === x[key]) === -1 ? [...acc, x] : acc), [])\r\n    : arr.reduce((acc, x) => (acc.indexOf(x) === -1 ? [...acc, x] : acc), []);\r\n}\r\n\r\nexport function convertCamel2Dash(str: string): string {\r\n  return str.replace(/([a-z][A-Z])/g, function (g) {\r\n    return g[0] + '-' + g[1].toLowerCase();\r\n  });\r\n}\r\n\r\nexport function convertCamel2Space(str: string): string {\r\n  const result = str.replace(/([A-Z])/g, ' $1');\r\n  return result.charAt(0).toUpperCase() + result.slice(1);\r\n}\r\n\r\nexport function convertDash2Camel(str: string): string {\r\n  return str.replace(/-([a-z])/g, function (g) {\r\n    return g[1].toUpperCase();\r\n  });\r\n}\r\n\r\nexport function equals(x1: any, x2: any): boolean {\r\n  // check whether x1 and x2 have the same type\r\n  if (typeof x1 !== typeof x2) {\r\n    return false;\r\n  }\r\n\r\n  // check whether x1 and x2 are both null or both undefined\r\n  if ((x1 === null && x2 === null) || (x1 === undefined && x2 === undefined)) {\r\n    return true;\r\n  }\r\n\r\n  // account for non-matching null and undefined values\r\n  if (((x1 === null || x1 === undefined) && x2 !== null && x2 !== undefined) || ((x2 === null || x2 === undefined) && x1 !== null && x1 !== undefined)) {\r\n    return false;\r\n  }\r\n\r\n  // compare two arrays\r\n  if (Array.isArray(x1) && Array.isArray(x2) && x1.length === x2.length) {\r\n    return x1.findIndex((x, index) => !equals(x, x2[index])) === -1 ? true : false;\r\n  }\r\n\r\n  // compare two objects\r\n  if (\r\n    x1 &&\r\n    typeof x1 === 'object' &&\r\n    typeof x2 === 'object' &&\r\n    Object.keys(x1).length === Object.keys(x2).length &&\r\n    Object.keys(x2).length === arrayUnion(Object.keys(x1), Object.keys(x2)).length\r\n  ) {\r\n    return Object.keys(x1).findIndex(key => !equals(x1[key], x2[key])) === -1;\r\n  }\r\n\r\n  // compare two primitives with the same type\r\n  return x1 === x2;\r\n}\r\n\r\n/**\r\n * Extends an object with the *enumerable* and *own* properties of one or more source objects,\r\n * similar to Object.assign.\r\n *\r\n * @param dest The object which will have properties copied to it.\r\n * @param sources The source objects from which properties will be copied.\r\n */\r\nexport function extendObject(dest: any, ...sources: any[]): any {\r\n  if (dest == null) {\r\n    throw TypeError('Cannot convert undefined or null to object');\r\n  }\r\n\r\n  for (const source of sources) {\r\n    if (source != null) {\r\n      for (const key in source) {\r\n        if (source.hasOwnProperty(key)) {\r\n          dest[key] = source[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return dest;\r\n}\r\n\r\nexport function falsy(value: any): boolean {\r\n  return value === null || value === 0 || value === '' || value === undefined;\r\n}\r\n\r\n/**\r\n * Remove problematic or undesired store properties.\r\n */\r\nexport function filterState(obj: any): any {\r\n  return removeCycles(removeProps(obj));\r\n}\r\n\r\nexport function findMetadata(ctor: TypeConstructor<HasMetadata | any>) {\r\n  const instance = new ctor();\r\n  return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\n\r\nexport function findMetadataFromInstance(model: any): Metadata {\r\n  if (!model) {\r\n    return null;\r\n  }\r\n  const instance: HasMetadata = Array.isArray(model) && model.length > 0 ? <HasMetadata>model[0] : <HasMetadata>model;\r\n  return instance && instance.metadata ? instance.metadata : new Metadata();\r\n}\r\n\r\nexport function findSchoolYear(): string {\r\n  const date = new Date();\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth();\r\n  return month >= 7 ? `${year}-${year + 1}` : `${year - 1}-${year}`;\r\n}\r\n\r\nexport function flattenKeys(obj: Object, parents: string[]): any[] {\r\n  return Object.keys(obj).reduce((acc, key) => {\r\n    const pathToRoot = [...parents, key];\r\n    const val = obj[key];\r\n    if (!Array.isArray(val) && Object.keys(val).length > 0) {\r\n      return [...acc, ...flattenKeys(val, pathToRoot)];\r\n    }\r\n    return [...acc, ...pathToRoot];\r\n  }, []);\r\n}\r\n\r\nexport function formatPhoneNumber(number = ''): string {\r\n  if (!number) {\r\n    return '000-000-0000';\r\n  }\r\n  const l = number.length;\r\n  return number && (l === 7 || l === 10) ? (l === 7 ? format7DigitPhoneNumber(number) : format10DigitPhoneNumber(number)) : '000-000-0000';\r\n}\r\n\r\nexport function format7DigitPhoneNumber(number = '0000000'): string {\r\n  const first3 = number.substring(0, 3);\r\n  const last4 = number.substring(3, 7);\r\n  return `${first3} -${last4} `;\r\n}\r\n\r\nexport function format10DigitPhoneNumber(number = '0000000000'): string {\r\n  const first3 = number.substring(0, 3);\r\n  const last7 = format7DigitPhoneNumber(number.substring(3, 10));\r\n  return `${first3} -${last7} `;\r\n}\r\n\r\nexport function formatPrice(total: number): string {\r\n  const dollars = total.toFixed(2).replace(/./g, function (c, i, a) {\r\n    return i && c !== '.' && (a.length - i) % 3 === 0 ? ',' + c : c;\r\n  });\r\n  return `$${dollars}`;\r\n}\r\n\r\nexport function getTypeNameForDebugging(type: any): string {\r\n  return type['name'] || typeof type;\r\n}\r\n\r\nexport function getAllProps(obj: any): string[] {\r\n  const mapped =\r\n    obj['metadata'] && obj['metadata']['include'] && Array.isArray(obj['metadata']['include'])\r\n      ? obj['metadata']['include'].reduce((acc, key) => Object.assign({}, acc, { [key]: obj[key] }), {})\r\n      : obj;\r\n\r\n  if (obj['metadata'] && obj['metadata']['exclude'] && Array.isArray(obj['metadata']['exclude'])) {\r\n    obj['metadata']['exclude'].forEach(key => {\r\n      delete mapped[key];\r\n    });\r\n  }\r\n\r\n  return [...Object.keys(mapped), ...getGetters(mapped)];\r\n}\r\n\r\nexport function getGetters(obj: any): string[] {\r\n  return Reflect.ownKeys(obj.constructor.prototype).filter(name => {\r\n    return typeof Object.getOwnPropertyDescriptor(obj.constructor.prototype, name)['get'] === 'function';\r\n  }) as string[];\r\n}\r\n\r\nexport function getKeyValues(model: any): any {\r\n  const keys = getAllProps(model);\r\n  return model['metadata'] && model['metadata']['include']\r\n    ? toArray(model['metadata']['include']).reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {})\r\n    : keys.reduce((acc, key) => Object.assign({}, acc, { [key]: model[key] }), {});\r\n}\r\n\r\nexport function getRandomInt(max) {\r\n  return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\n/**\r\n * Returns a random number between min (inclusive) and max (exclusive)\r\n */\r\nfunction getRandomArbitrary(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n/**\r\n * Returns a random integer between min (inclusive) and max (inclusive)\r\n * Using Math.round() will give you a non-uniform distribution!\r\n */\r\nfunction getRandomIntInRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function getSetters(obj: any): string[] {\r\n  return Object.keys(obj.prototype).filter(name => {\r\n    return typeof Object.getOwnPropertyDescriptor(obj.prototype, name)['set'] === 'function';\r\n  });\r\n}\r\n\r\n// Gist adapted from: https://gist.github.com/cms/369133\r\nexport function getStyle(el: Element, styleProp: string): string {\r\n  let value;\r\n  const defaultView = el.ownerDocument.defaultView;\r\n  // W3C standard way:\r\n  if (defaultView && defaultView.getComputedStyle) {\r\n    // sanitize property name to css notation (hypen separated words eg. font-Size)\r\n    styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\r\n    return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\r\n  } else if (el['currentStyle']) {\r\n    // IE\r\n    // sanitize property name to camelCase\r\n    styleProp = styleProp.replace(/\\-(\\w)/g, function (str, letter) {\r\n      return letter.toUpperCase();\r\n    });\r\n    value = el['currentStyle'][styleProp];\r\n    return value;\r\n  }\r\n\r\n  return '';\r\n}\r\n\r\nexport function getValue(model: any, ignore: string[] = []): any {\r\n  if (model === null || typeof model === 'string' || typeof model === 'string' || model instanceof Date) {\r\n    return model;\r\n  }\r\n  const keys = getAllProps(model);\r\n  const props = keys\r\n    .filter(key => key !== 'metadata' && !ignoreKey(model, key) && !inArray(ignore, key))\r\n    .map(key => {\r\n      const obj = {};\r\n      obj[key] =\r\n        model[key] && typeof model[key] === 'object'\r\n          ? Array.isArray(model[key])\r\n            ? model[key].length > 0\r\n              ? model[key].map(x => (typeof x === 'object' ? getValue(x) : x))\r\n              : []\r\n            : getValue(model[key])\r\n          : model[key];\r\n      return obj;\r\n    });\r\n  return props.reduce((acc, val) => {\r\n    return Object.assign({}, acc, val);\r\n  }, {});\r\n}\r\n\r\nexport function guid() {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n  }\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nexport function hasChanged(changes: SimpleChanges, key: string, props: string[]) {\r\n  const currentValue = changes[key] && changes[key].currentValue ? changes[key].currentValue : {};\r\n  const previousValue = changes[key] && changes[key].previousValue ? changes[key].previousValue : {};\r\n  return props.reduce((acc, prop) => {\r\n    return acc ? true : currentValue[prop] !== previousValue[prop];\r\n  }, false);\r\n}\r\n\r\nexport function hashToArray(hashMap: object): any[] {\r\n  return Object.keys(hashMap).map(key => hashMap[key]);\r\n}\r\n\r\nexport function htmlToString(element): string {\r\n  return `${htmlElementTag(element)}${htmlElementContents(element)}${htmlElementCloseTag(element)}`;\r\n}\r\n\r\nexport function htmlElementTag(element): string {\r\n  const html = element.outerHTML;\r\n  const style = htmlStyleElementToString(element);\r\n  const insertAtIndex = html.indexOf('>');\r\n  return `${html.substring(0, insertAtIndex)} style=\"${style}\">`;\r\n}\r\n\r\nexport function htmlElementContents(element): string {\r\n  const children = Array.from(element.children);\r\n  return `${children.length === 0 ? element.innerText : ''}${children.reduce((acc, el) => acc + htmlToString(el), '')}`;\r\n}\r\n\r\nexport function htmlElementCloseTag(element): string {\r\n  const html = element.outerHTML;\r\n  return html.substring(html.lastIndexOf('</'));\r\n}\r\n\r\nexport function htmlStyleElementToString(element): string {\r\n  const computedStyle = window.getComputedStyle(element);\r\n  return ['background', 'border', 'bottom', 'color', 'display', 'fontSize', 'height', 'left', 'margin', 'overflow', 'padding', 'position', 'right', 'top', 'width'].reduce(\r\n    (acc, attr) => {\r\n      return `${acc}${attr}:${computedStyle[convertDash2Camel(attr)]};`;\r\n    },\r\n    ''\r\n  );\r\n}\r\n\r\nexport function htmlWrap(html: string, style: string): string {\r\n  return `<head>${style ? '<style>' + style + '</style>' : ''}</head><body>${html}</body>`;\r\n}\r\n\r\nexport function idChanged(changes: SimpleChanges, key: string) {\r\n  const newId = changes[key].currentValue ? changes[key].currentValue['id'] || 0 : 0;\r\n  const oldId = changes[key].previousValue ? changes[key].previousValue['id'] || 0 : 0;\r\n  return newId !== oldId;\r\n}\r\n\r\nexport function ignoreKey(model: any, key: string): boolean {\r\n  if (model['metadata'] && model['metadata']['ignore']) {\r\n    return inArray(model['metadata']['ignore'], key);\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function inArray(arr: any[], val: any) {\r\n  return arr.filter(item => item === val).length > 0;\r\n}\r\n\r\nexport function inArrayByKey(arr: any[], val: any, key: string | number) {\r\n  return arr.findIndex(item => item[key] === val) !== -1;\r\n}\r\n\r\nexport function integerArray(n: number): number[] {\r\n  return Array.from(Array(n).keys());\r\n}\r\n\r\nexport function isBetweenDates(dateFrom, dateTo, dateCheck) {\r\n  const d1 = dateFrom.toLocaleDateString().split('/');\r\n  const d2 = dateTo.toLocaleDateString().split('/');\r\n  const c = dateCheck.toLocaleDateString().split('/');\r\n\r\n  const from = new Date(d1[2], toInt(d1[1]) - 1, d1[0]); // -1 because months are from 0 to 11\r\n  const to = new Date(d2[2], toInt(d2[1]) - 1, d2[0]);\r\n  const check = new Date(c[2], toInt(c[1]) - 1, c[0]);\r\n\r\n  return check >= from && check <= to;\r\n}\r\n\r\n/**\r\n * Detects cycles in an object.\r\n * @param obj\r\n */\r\nexport function isCyclic(obj: any) {\r\n  const seenObjects: any[] = [];\r\n\r\n  const detect = (x: any) => {\r\n    if (x && typeof x === 'object') {\r\n      if (seenObjects.indexOf(x) !== -1) {\r\n        return true;\r\n      }\r\n      seenObjects.push(x);\r\n      for (const key in x) {\r\n        if (x.hasOwnProperty(key) && detect(x[key])) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return detect(obj);\r\n}\r\n\r\nexport function isMobile() {\r\n  return (\r\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\r\n    (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\r\n      navigator.userAgent\r\n    ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        navigator.userAgent.substr(0, 4)\r\n      ))\r\n  );\r\n}\r\n\r\nexport function isNumeric(str: string): boolean {\r\n  const asInt = parseInt(str, 10);\r\n  const isNumber = /^\\d+$/.test(str);\r\n  return isNumber && typeof asInt === 'number';\r\n}\r\n\r\nexport function isNumericAndHasLength(str: string, length: number): boolean {\r\n  const asInt = parseInt(str, 10);\r\n  const isNumber = /^\\d+$/.test(str);\r\n  return isNumber && typeof asInt === 'number' && str.length === length;\r\n}\r\n\r\nexport function isValidEmail(email: string): boolean {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\n/**\r\n * @param fromState The last state object from the store\r\n * @param dState A partial class containing all properties that have changed wrt fromState\r\n * @return The current/updated state of the application (toState)\r\n */\r\nexport function nextState(fromState: any, dState: any): any {\r\n  const toState: any = Object.assign({}, fromState, dState);\r\n  return toState;\r\n}\r\n\r\nexport function positiveIntegerArray(n: number): number[] {\r\n  return integerArray(n).map(x => x + 1);\r\n}\r\n\r\n/**\r\n * Remove store props that contain cycles.\r\n */\r\nexport function removeCycles(obj: any): any {\r\n  if (obj && typeof obj === 'object') {\r\n    for (const key in obj) {\r\n      if (obj.hasOwnProperty(key) && isCyclic(obj[key])) {\r\n        delete obj[key];\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Remove any props that should not appear in the store.\r\n */\r\nexport function removeProps(obj: any): any {\r\n  return obj;\r\n}\r\n\r\nexport function roundToDecimalPlace(num: number, decimalPlace: number): number {\r\n  return Math.round(num * Math.pow(10, decimalPlace)) / Math.pow(10, decimalPlace);\r\n}\r\n\r\nexport function serialize(model: any) {\r\n  if (!model) {\r\n    return model;\r\n  }\r\n  if (Array.isArray(model)) {\r\n    return model.map(x => serialize(x));\r\n  }\r\n  if (model.serialize && typeof model.serialize === 'function') {\r\n    return serialize(model.serialize());\r\n  }\r\n  if (model === null || typeof model === 'number' || typeof model === 'string' || model instanceof Date) {\r\n    return model;\r\n  }\r\n  const keys = getAllProps(model);\r\n  if (keys.length === 0) {\r\n    return model;\r\n  }\r\n  return keys.filter(key => !inArray(['arguments', 'caller', 'callee'], key)).reduce((acc, key) => {\r\n    let val = null;\r\n    if (model[key] !== null && typeof model[key] === 'object' && !(model[key] instanceof Date)) {\r\n      if (model[key].serialize && typeof model[key].serialize === 'function') {\r\n        val = model[key].serialize();\r\n      } else {\r\n        val = serialize(model[key]);\r\n      }\r\n    } else {\r\n      val = model[key];\r\n    }\r\n    return Object.assign({}, acc, {\r\n      [key]: val\r\n    });\r\n  }, {});\r\n}\r\n\r\n/**\r\n * Reorder the elements of an array.\r\n * @param arr array to be randomized\r\n */\r\nexport function shuffle(arr: any[]): any[] {\r\n  const shuffled = [...arr];\r\n  for (let i = shuffled.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]; // eslint-disable-line no-param-reassign\r\n  }\r\n  return shuffled;\r\n}\r\n\r\nexport function stringify(token: any): string {\r\n  if (typeof token === 'string') {\r\n    return token;\r\n  }\r\n\r\n  if (token == null) {\r\n    return '' + token;\r\n  }\r\n\r\n  if (token.overriddenName) {\r\n    return `${token.overriddenName}`;\r\n  }\r\n\r\n  if (token.name) {\r\n    return `${token.name}`;\r\n  }\r\n\r\n  const res = token.toString();\r\n  const newLineIndex = res.indexOf('\\n');\r\n  return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\r\n}\r\n\r\nexport function str2CharCode(str: string): number {\r\n  return str.charCodeAt(0);\r\n}\r\n\r\nexport function str2Id(str: string): number {\r\n  const charCodes = str ? str.split('').reduce((acc, x) => `${acc}${str2CharCode(x)}`, '') : '';\r\n  return toInt(charCodes);\r\n}\r\n\r\nexport function str2int(str: string): number {\r\n  return parseInt(str, 10);\r\n}\r\n\r\nexport function strArray2Id(strArray: string[]) {\r\n  const str = strArray.reduce((acc, x) => `${acc}${x}`, '');\r\n  return str2Id(str);\r\n}\r\n\r\nexport function throwException(errorName: string, errorMessage: string) {\r\n  throw {\r\n    name: errorName,\r\n    level: 'Show Stopper',\r\n    message: errorMessage,\r\n    htmlMessage: 'Error detected. Please contact the <a href=\\'mailto:agendamanager@caiu.com\\'>system administrator</a>.',\r\n    toString: function () {\r\n      return errorName + ': ' + errorMessage;\r\n    }\r\n  };\r\n}\r\n\r\nexport function throwNotImplementedException() {\r\n  throwException('Not Implemented', 'Not Implemented');\r\n}\r\n\r\nexport function toArray(val: any): any[] {\r\n  return val ? (Array.isArray(val) ? val : [val]) : [];\r\n}\r\n\r\nexport function toInt(val: string | number): number {\r\n  return val && val.toString ? str2int(val.toString()) : 0;\r\n}\r\n\r\nexport function toFullName(first: string, last: string): string {\r\n  return truthy(first) && truthy(last) ? `${first} ${last}` : null;\r\n}\r\n\r\nexport function toPayload(action: Action): any {\r\n  return action ? action.payload : null;\r\n}\r\n\r\nexport function toPx(n: number): string {\r\n  return `${n}px`;\r\n}\r\n\r\nexport function truthy(value: any): boolean {\r\n  return !falsy(value);\r\n}\r\n\r\nexport function tryCast(obj: any, type: any): any {\r\n  const retObj = new type();\r\n  for (const key in obj) {\r\n    if (typeof retObj[key] !== 'undefined') {\r\n      retObj[key] = obj[key];\r\n    }\r\n  }\r\n  return retObj;\r\n}\r\n\r\nexport function valueChanged(changes: SimpleChanges, key = '') {\r\n  return key\r\n    ? changes[key].currentValue !== changes[key].previousValue\r\n    : Object.keys(changes).reduce((acc, currentKey) => {\r\n      return acc ? true : changes[currentKey].currentValue !== changes[currentKey].previousValue;\r\n    }, false);\r\n}\r\n\r\nexport function valueEquals(value, formValue) {\r\n  return equals(getValue(value), formValue);\r\n}\r\n","import { Metadata, Dictionary, TypeConstructor } from './models';\r\nimport { arrayUnion, build, inArray, truthy } from './utils';\r\n\r\nexport class Collection<T> {\r\n  activeId: number | string = 0;\r\n  lastUpdated: Date;\r\n  metadata: Metadata = {};\r\n  _ctor: TypeConstructor<T>;\r\n  _items: Dictionary<T> = {};\r\n\r\n  static AddItem<T>(state: Dictionary<T>, key: number | string, item: T): Dictionary<T> {\r\n    const newState: Dictionary<T> = {};\r\n    Object.keys(state).forEach(k => {\r\n      newState[k] = state[k];\r\n    });\r\n    newState[key] = item;\r\n    return newState;\r\n  }\r\n\r\n  static BuildCollection<T>(items: T[], findByKey = 'id'): Collection<T> {\r\n    const dictionary: Dictionary<T> = Collection.BuildItems(items, findByKey);\r\n    return Object.assign(new Collection<T>(), { items: dictionary });\r\n  }\r\n\r\n  static BuildDictionaryFromArray<T>(value: any[], key = 'id'): Dictionary<T> {\r\n    const obj: Dictionary<T> = {};\r\n    value.forEach(item => {\r\n      obj[item[key]] = item;\r\n    });\r\n    return obj;\r\n  }\r\n\r\n  static BuildFromArray<T>(items: T[], findByKey = 'id'): Collection<T> {\r\n    const dictionary: Dictionary<T> = Collection.BuildItems(items, findByKey);\r\n    return Object.assign(new Collection<T>(), { items: dictionary });\r\n  }\r\n\r\n  static BuildItems<T>(items: T[], findByKey = 'id'): Dictionary<T> {\r\n    const dictionary: Dictionary<T> = {};\r\n    items.forEach(item => {\r\n      const key = item[findByKey];\r\n      dictionary[key] = item;\r\n    });\r\n    return dictionary;\r\n  }\r\n\r\n  static Filter<T>(item: T, path: string): boolean {\r\n    return Array.isArray(item['matches']) && inArray(item['matches'], path);\r\n  }\r\n\r\n  static FilterAnd<T>(item: T, paths: string[]): boolean {\r\n    return Array.isArray(item['matches']) && paths.every(path => inArray(item['matches'], path));\r\n  }\r\n\r\n  static FilterOr<T>(item: T, paths: string[]): boolean {\r\n    return Array.isArray(item['matches']) && paths.some(path => inArray(item['matches'], path));\r\n  }\r\n\r\n  static RemoveItem<T>(state: Dictionary<T>, key: number | string): Dictionary<T> {\r\n    const newState: Dictionary<T> = {};\r\n    Object.keys(state)\r\n      .filter(k => k !== key)\r\n      .forEach(k => {\r\n        newState[k] = state[k];\r\n      });\r\n    return newState;\r\n  }\r\n\r\n  constructor(public ctor?: TypeConstructor<T>, public findByKey: string = 'id') {}\r\n\r\n  get active(): T {\r\n    const item = this.items[this.activeId] || <T>{};\r\n    return this.ctor ? build(this.ctor, item) : item;\r\n  }\r\n\r\n  get count(): number {\r\n    return this.toArray().length;\r\n  }\r\n\r\n  get defaultItem(): T {\r\n    return this.ctor ? new this.ctor() : <T>{};\r\n  }\r\n\r\n  get empty(): boolean {\r\n    return this.toArray().length === 0;\r\n  }\r\n\r\n  get instance(): Collection<T> {\r\n    const activeId = this.activeId;\r\n    const ctor = this.ctor;\r\n    const lastUpdated = this.lastUpdated;\r\n    const metadata = this.metadata;\r\n    // const collection = this.constructor();\r\n    const collection = new Collection<T>();\r\n    collection.activeId = activeId;\r\n    collection.ctor = ctor;\r\n    collection.lastUpdated = lastUpdated;\r\n    collection.metadata = metadata;\r\n    return collection;\r\n  }\r\n\r\n  get items(): Dictionary<T> {\r\n    return this._items;\r\n  }\r\n\r\n  set items(value: Dictionary<T>) {\r\n    this._items = value;\r\n    this.lastUpdated = new Date();\r\n  }\r\n\r\n  get keys(): number[] | string[] {\r\n    return Object.keys(this.items);\r\n  }\r\n\r\n  get asArray(): T[] {\r\n    return this.toArray();\r\n  }\r\n\r\n  get itemsArray(): T[] {\r\n    return this.asArray;\r\n  }\r\n\r\n  toArray(): T[] {\r\n    return Object.keys(this.items).map((key: number | string) => <T>this.items[key]);\r\n  }\r\n\r\n  activate(id: number, key?: string): Collection<T> {\r\n    const findByKey = key || this.findByKey;\r\n    const items = this.items[id] ? this.copyItems() : Object.assign(this.copyItems(), { [id]: { [findByKey]: id } });\r\n    return Object.assign(new Collection<T>(), this, { activeId: id, items });\r\n  }\r\n\r\n  addItem(item: T, key?: number | string): Collection<T> {\r\n    const items = this.copyItems();\r\n    return Object.assign(this.constructor(), this, {\r\n      items: Object.assign(items, { [key]: item })\r\n    });\r\n  }\r\n\r\n  addItems(items: T[], key: string): Collection<T> {\r\n    const findByKey = key || this.findByKey;\r\n    const newItems: Dictionary<T> = {};\r\n    this.toArray().forEach(item => {\r\n      newItems[item[findByKey]] = item;\r\n    });\r\n    items.forEach(item => {\r\n      const existingItem = newItems[item[findByKey]] ? newItems[item[findByKey]] : <T>{};\r\n      const existingMatches = existingItem['matches'] || [];\r\n      const newMatches = item['matches'] || [];\r\n      const matches = arrayUnion(existingMatches, newMatches);\r\n      const newItem = this.buildItem(item, { matches: matches });\r\n      newItems[item[findByKey]] = this.buildItem(existingItem, newItem);\r\n    });\r\n    this.items = newItems;\r\n    return Object.assign(new Collection<T>(), this);\r\n  }\r\n\r\n  build(items: Dictionary<T>, ctor?: TypeConstructor<Collection<T>>): Collection<T> {\r\n    return ctor ? build(ctor, { items }) : <Collection<T>>Object.assign(this.instance, { items });\r\n  }\r\n\r\n  buildItem(existingItem: T, newItem: any, ctor?: TypeConstructor<T>): T {\r\n    const existing = existingItem || {};\r\n    const item = ctor ? build(ctor, existing, newItem) : this.ctor ? build(this.ctor, existing, newItem) : Object.assign({}, existing, newItem);\r\n    return item;\r\n  }\r\n\r\n  buildItems(items: T[], ctor?: TypeConstructor<T>): T[] {\r\n    const factory = ctor ? ctor : this.ctor;\r\n    return items.map(x => (factory ? build(factory, x) : Object.assign(<T>{}, x)));\r\n  }\r\n\r\n  copyItems(): Dictionary<T> {\r\n    return Object.keys(this.items).reduce((acc, key) => {\r\n      acc[key] = this.get(key);\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  delete(key: string | number): Collection<T> {\r\n    return this.removeAt(key);\r\n  }\r\n\r\n  filter(f: (item: T) => boolean): Collection<T> {\r\n    const items = Collection.BuildDictionaryFromArray(this.toArray().filter(f));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  filterBy(f: (item: T, index?: number) => boolean): T[] {\r\n    return this.filterItems(f);\r\n  }\r\n\r\n  filterItems(f: (item: T, index?: number) => boolean): T[] {\r\n    return this.toArray().filter(f);\r\n  }\r\n\r\n  findBy(f: (item: T) => boolean): T {\r\n    return this.asArray.find(f) || this.defaultItem;\r\n  }\r\n\r\n  get(id: number | string): T {\r\n    const existing = this.items[id];\r\n    return this.ctor ? build(this.ctor, existing) : Object.assign(<T>{}, existing);\r\n  }\r\n\r\n  keyExists(key: string): boolean {\r\n    return truthy(this.items[key]);\r\n  }\r\n\r\n  map(f: (item: T) => T): Collection<T> {\r\n    const items = Collection.BuildDictionaryFromArray(this.toArray().map(f));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  patch(id: number | string, props: any): Collection<T> {\r\n    const existing = this.get(id);\r\n    return this.update(this.buildItem(existing, props));\r\n  }\r\n\r\n  query(path: string): T[] {\r\n    return this.toArray().filter(item => Collection.Filter(item, path));\r\n  }\r\n\r\n  queryAnd(paths: string[]): T[] {\r\n    return this.toArray().filter(item => Collection.FilterAnd(item, paths));\r\n  }\r\n\r\n  queryOr(paths: string[]): T[] {\r\n    return this.toArray().filter(item => Collection.FilterOr(item, paths));\r\n  }\r\n\r\n  removeAt(key: number | string): Collection<T> {\r\n    const keys = Object.keys(this.items);\r\n    const items = Collection.BuildDictionaryFromArray(keys.filter(x => x.toString() !== key.toString()).map(y => this.items[y]));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  removeItem(key: number | string): Collection<T> {\r\n    const collection = this.constructor();\r\n    const keys = Object.keys(this.items).filter(k => k !== key);\r\n    keys.forEach((k: number | string) => {\r\n      collection.items[k] = <T>Object.assign({}, this.items[k]);\r\n    });\r\n    return collection;\r\n  }\r\n\r\n  removeItems(filter: (item: T) => boolean, key: string) {\r\n    const findByKey = key || this.findByKey;\r\n    const keys = this.toArray()\r\n      .filter(filter)\r\n      .map(x => x[findByKey]);\r\n    this.removeKeys(keys);\r\n  }\r\n\r\n  removeKeys(keys: any[]) {\r\n    keys.forEach((key: number | string) => {\r\n      this.removeItem(key);\r\n    });\r\n  }\r\n\r\n  replace(itemsArray: T[]): Collection<T> {\r\n    const items = Collection.BuildDictionaryFromArray(this.buildItems(itemsArray));\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  replaceItems(items: T[], filter?: (item: T) => boolean): Collection<T> {\r\n    if (filter) {\r\n      const f = (x: T) => !filter(x);\r\n      return this.replaceItems([...this.filterItems(f), ...items]);\r\n    }\r\n    return Object.assign(new Collection<T>(), this, { items });\r\n  }\r\n\r\n  setValue(value: Collection<T>): Collection<T> {\r\n    return Object.assign(new Collection<T>(), this, value);\r\n  }\r\n\r\n  update(value: any | any[], ctor?: TypeConstructor<T>): Collection<T> {\r\n    if (Array.isArray(value)) {\r\n      return this.updateItems(value, ctor);\r\n    }\r\n    return this.updateItem(value, value[this.findByKey], ctor);\r\n  }\r\n\r\n  updateItem(item: any, key: number | string, ctor?: TypeConstructor<T>): Collection<T> {\r\n    const items = this.copyItems();\r\n    const updatedItem = this.buildItem(items[key], item, ctor);\r\n    return this.build(Object.assign(items, { [key]: updatedItem }));\r\n  }\r\n\r\n  updateItems(items: any[], ctor?: TypeConstructor<T>): Collection<T> {\r\n    const existingItems = this.copyItems();\r\n    const updatedItems = items.reduce((acc, item) => {\r\n      const existingItem = acc[item[this.findByKey]];\r\n      acc[item[this.findByKey]] = this.buildItem(existingItem, item, ctor);\r\n      return acc;\r\n    }, existingItems);\r\n    return this.build(updatedItems);\r\n  }\r\n}\r\n","import { Action } from '../store/models';\r\nimport { Collection } from '../shared/collection';\r\nimport { Dictionary } from '../shared/models';\r\nimport { build, inArray } from '../shared/utils';\r\n\r\nexport class Event {\r\n  emittedCount = 0;\r\n  handler: (action: Action) => any;\r\n  key = '';\r\n  onAction: string | string[] = '';\r\n  value: any = null;\r\n}\r\n\r\nexport class Events extends Collection<Event> {\r\n  get actions(): string[] {\r\n    return this.toArray().reduce((acc: any[], event: Event) => {\r\n      const addValues = !event.onAction\r\n        ? []\r\n        : typeof event.onAction === 'string'\r\n        ? acc.indexOf(event.onAction) === -1\r\n          ? [event.onAction]\r\n          : []\r\n        : event.onAction.filter(x => acc.indexOf(x) === -1);\r\n      return [...acc, ...addValues];\r\n    }, []);\r\n  }\r\n\r\n  get eventsByAction(): Dictionary<Event[]> {\r\n    return this.toArray().reduce((acc: Dictionary<Event[]>, event: Event) => {\r\n      if (typeof event.onAction === 'string') {\r\n        const val: Event[] = acc[event.onAction] || [];\r\n        acc[event.onAction] = [...val, event];\r\n      } else {\r\n        event.onAction.forEach(actionType => {\r\n          const val: Event[] = acc[actionType] || [];\r\n          acc[actionType] = [...val, event];\r\n        });\r\n      }\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  addEvent(payload: Event): Events {\r\n    return build(Events, this.addItem(payload, payload.key));\r\n  }\r\n\r\n  getActionEvents(actionType: string): Event[] {\r\n    return this.eventsByAction[actionType];\r\n  }\r\n\r\n  removeEvent(payload: string): Events {\r\n    return build(Events, this.removeItem(payload));\r\n  }\r\n\r\n  replaceEvents(payload: Event[]): Events {\r\n    const events = this.copyItems();\r\n    payload.forEach(e => {\r\n      events[e.key] = e;\r\n    });\r\n    return build(Events, this, { items: events });\r\n  }\r\n\r\n  triggerEvent(payload: Action): Events {\r\n    const events = this.getActionEvents(payload.type).map(e =>\r\n      build(Event, e, { value: e.handler ? e.handler(payload) : payload })\r\n    );\r\n    return this.replaceEvents(events);\r\n  }\r\n\r\n  updateValue(payload: UpdateValuePayload): Events {\r\n    const event = build(Event, this.items[payload.key], {\r\n      value: payload.value\r\n    });\r\n    return build(Events, this.updateItem(event, payload.key, Event));\r\n  }\r\n}\r\n\r\nexport class UpdateValuePayload {\r\n  key: string;\r\n  value: any;\r\n}\r\n\r\nexport class Message {\r\n  action = '';\r\n  channel = '';\r\n  message = '';\r\n\r\n  set id(value: string) {\r\n    this.channel = value;\r\n  }\r\n\r\n  get id(): string {\r\n    return this.channel;\r\n  }\r\n}\r\n\r\nexport class MessageSubscription {\r\n  action = '';\r\n  channel = '';\r\n  mapper?: (payload: any) => string;\r\n}\r\n\r\nexport class Messages extends Collection<Message> {\r\n  subscriptions: MessageSubscription[] = [];\r\n  constructor() {\r\n    super(Message);\r\n  }\r\n\r\n  addMessages(data: Message | Message[]): Messages {\r\n    return build(Messages, this, this.update(data));\r\n  }\r\n\r\n  clearMessages(data: Message | Message[]): Messages {\r\n    const channelNames = Array.isArray(data)\r\n      ? data.map(x => x.channel)\r\n      : [data.channel];\r\n    return build(Messages, this, this.removeMessages(channelNames));\r\n  }\r\n\r\n  removeMessages(channelNames: string[]): Messages {\r\n    return build(\r\n      Messages,\r\n      channelNames.reduce((acc, id) => {\r\n        return acc.delete(id);\r\n      }, this)\r\n    );\r\n  }\r\n\r\n  addSubscription(\r\n    arr: MessageSubscription[],\r\n    data: MessageSubscription\r\n  ): MessageSubscription[] {\r\n    return [\r\n      ...arr.filter(\r\n        x => !(x.action === data.action && x.channel === data.channel)\r\n      ),\r\n      data\r\n    ];\r\n  }\r\n\r\n  addSubscriptions(\r\n    data: MessageSubscription | MessageSubscription[]\r\n  ): Messages {\r\n    const subscriptions = Array.isArray(data)\r\n      ? data.reduce(\r\n          (acc, x) => this.addSubscription(acc, x),\r\n          this.subscriptions\r\n        )\r\n      : this.addSubscription(this.subscriptions, data);\r\n    return build(Messages, this, {\r\n      subscriptions\r\n    });\r\n  }\r\n\r\n  removeSubscription(\r\n    arr: MessageSubscription[],\r\n    data: MessageSubscription\r\n  ): MessageSubscription[] {\r\n    return arr.filter(\r\n      x => !(x.action === data.action && x.channel === data.channel)\r\n    );\r\n  }\r\n\r\n  removeSubscriptions(\r\n    data: MessageSubscription | MessageSubscription[]\r\n  ): Messages {\r\n    const subscriptions = Array.isArray(data)\r\n      ? data.reduce(\r\n          (acc, x) => this.addSubscription(acc, x),\r\n          this.subscriptions\r\n        )\r\n      : this.addSubscription(this.subscriptions, data);\r\n    const channels = Array.isArray(data)\r\n      ? data.map(x => x.channel)\r\n      : [data.channel];\r\n    const items = this.asArray; // TODO: filter out messages from unsubscribed channels\r\n    return build(Messages, {\r\n      items,\r\n      subscriptions\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Event,\r\n  UpdateValuePayload,\r\n  Message,\r\n  MessageSubscription\r\n} from './events.models';\r\nimport { Action, ActionWithKey } from '../store/models';\r\nimport { build, guid } from '../shared/utils';\r\n\r\nexport class EventActions {\r\n  static ADD_EVENT = '[Events] Add Event';\r\n  static REMOVE_EVENT = '[Events] Remove Event';\r\n  static TRIGGER_EVENT = '[Events] Trigger Event';\r\n  static UPDATE_VALUE = '[Events] Update Value';\r\n\r\n  static addEvent(\r\n    onAction: string | string[],\r\n    handler?: (action: Action) => any,\r\n    value = null\r\n  ): ActionWithKey {\r\n    const e: Event = build(Event, {\r\n      onAction,\r\n      handler,\r\n      value,\r\n      key: guid()\r\n    });\r\n    return {\r\n      type: EventActions.ADD_EVENT,\r\n      payload: e,\r\n      key: e.key\r\n    };\r\n  }\r\n\r\n  static removeEvent(key: string): Action {\r\n    return {\r\n      type: EventActions.REMOVE_EVENT,\r\n      payload: key\r\n    };\r\n  }\r\n\r\n  static triggerEvent(action: Action): Action {\r\n    return {\r\n      type: EventActions.TRIGGER_EVENT,\r\n      payload: action\r\n    };\r\n  }\r\n\r\n  static updateValue(key: string, value: any): Action {\r\n    const payload = build(UpdateValuePayload, {\r\n      key,\r\n      value\r\n    });\r\n    return {\r\n      type: EventActions.UPDATE_VALUE,\r\n      payload: payload\r\n    };\r\n  }\r\n}\r\n\r\nexport class MessagesActions {\r\n  static ADD = '[Messages] Add Messages';\r\n  static CLEAR = '[Messages] Clear Messages';\r\n  static REMOVE = '[Messages] Remove Messages';\r\n  static SUBSCRIBE = '[Messages] Subscribe';\r\n  static UNSUBSCRIBE = '[Messages] Unsubscribe';\r\n\r\n  static add(e: MessageSubscription, action: Action): Action {\r\n    return {\r\n      type: MessagesActions.ADD,\r\n      payload: build(Message, {\r\n        channel: e.channel,\r\n        action: e.action,\r\n        message:\r\n          e.mapper && typeof e.mapper === 'function'\r\n            ? e.mapper(action.payload)\r\n            : ''\r\n      })\r\n    };\r\n  }\r\n\r\n  static error(action: string, mapper: (e: any) => string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(MessageSubscription, {\r\n        channel: 'ERRORS',\r\n        action,\r\n        mapper\r\n      })\r\n    };\r\n  }\r\n\r\n  static toast(action: string, mapper: (e: any) => string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(MessageSubscription, {\r\n        channel: 'TOASTS',\r\n        action,\r\n        mapper\r\n      })\r\n    };\r\n  }\r\n\r\n  static subscribe(\r\n    payload: MessageSubscription | MessageSubscription[]\r\n  ): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static toastMessage(action: string, message: string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(Message, {\r\n        channel: 'TOASTS',\r\n        action,\r\n        mapper: (e: any) => message\r\n      })\r\n    };\r\n  }\r\n\r\n  static unsubscribe(\r\n    payload: MessageSubscription | MessageSubscription[]\r\n  ): Action {\r\n    return {\r\n      type: MessagesActions.UNSUBSCRIBE,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static warn(action: string, mapper: (e: any) => string): Action {\r\n    return {\r\n      type: MessagesActions.SUBSCRIBE,\r\n      payload: build(MessageSubscription, {\r\n        channel: 'WARNINGS',\r\n        action,\r\n        mapper\r\n      })\r\n    };\r\n  }\r\n}\r\n","import { ErrorOutlet } from '../errors/errors.models';\r\n\r\nexport interface HttpAction {\r\n    type: string;\r\n    payload: HttpActionPayload<any>;\r\n}\r\n\r\nexport interface HttpActionPayload<T> {\r\n    path: string;\r\n    model?: T;\r\n    options?: HttpOptions;\r\n    headers?: any;\r\n    onSuccess?: string;\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpDeletePayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    data?: any;\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpGetPayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpPutPayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    model: T = null;\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport class HttpPostPayload<T> implements HttpActionPayload<T> {\r\n    path = '';\r\n    model: T = null;\r\n    options: HttpOptions = new HttpOptions();\r\n    headers?: any = undefined;\r\n    onSuccess?= '';\r\n    onError?: string | ErrorOutlet;\r\n}\r\n\r\nexport enum HTTP_REQUEST_STATUS {\r\n    PENDING,\r\n    ERROR,\r\n    SUCCESS\r\n}\r\n\r\nexport enum HTTP_STATUS_CODES {\r\n    CONTINUE = 100,\r\n    SWITCHING_PROTOCOLS = 101,\r\n    OK = 200,\r\n    CREATED = 201,\r\n    ACCEPTED = 202,\r\n    NON_AUTHORITATIVE_INFORMATION = 203,\r\n    NO_CONTENT = 204,\r\n    RESET_CONTENT = 205,\r\n    PARTIAL_CONTENT = 206,\r\n    MULTIPLE_CHOICES = 300,\r\n    MOVED_PERMANENTLY = 301,\r\n    FOUND = 302,\r\n    SEE_OTHER = 303,\r\n    NOT_MODIFIED = 304,\r\n    USE_PROXY = 305,\r\n    TEMPORARY_REDIRECT = 307,\r\n    BAD_REQUEST = 400,\r\n    UNAUTHORIZED = 401,\r\n    PAYMENT_REQUIRED = 402,\r\n    FORBIDDEN = 403,\r\n    NOT_FOUND = 404,\r\n    METHOD_NOT_ALLOWED = 405,\r\n    NOT_ACCEPTABLE = 406,\r\n    PROXY_AUTHENTICATION_REQUIRED = 407,\r\n    REQUEST_TIMEOUT = 408,\r\n    CONFLICT = 409,\r\n    GONE = 410,\r\n    LENGTH_REQUIRED = 411,\r\n    PRECONDITION_FAILED = 412,\r\n    REQUEST_ENTITY_TOO_LARGE = 413,\r\n    REQUEST_URI_TOO_LONG = 414,\r\n    UNSUPPORTED_MEDIA_TYPE = 415,\r\n    REQUESTED_RANGE_NOT_SATISFIABLE = 416,\r\n    EXPECTATION_FAILED = 417,\r\n    UNPROCESSABLE_ENTITY = 422,\r\n    TOO_MANY_REQUESTS = 429,\r\n    INTERNAL_SERVER_ERROR = 500,\r\n    NOT_IMPLEMENTED = 501,\r\n    BAD_GATEWAY = 502,\r\n    SERVICE_UNAVAILABLE = 503,\r\n    GATEWAY_TIMEOUT = 504,\r\n    HTTP_VERSION_NOT_SUPPORTED = 505\r\n}\r\n\r\nexport class HttpOptions {\r\n    prependBaseUrl = true;\r\n}\r\n","import { ErrorOutlet, ErrorPayload, Error } from './errors.models';\r\nimport { Action } from '../store/models';\r\n\r\nexport class ErrorActions {\r\n    static ADD = '[Error] Add Error';\r\n    static REMOVE = '[Error] Remove Error';\r\n    static HANDLE_ERROR = '[Error Handler] Handle Error';\r\n    static THROW_ERROR = '[Error Handler] Throw Error';\r\n\r\n    static addAtOutlet(e: Error, outlet: ErrorOutlet): Action {\r\n        let payload: ErrorPayload = {\r\n            key: outlet.key,\r\n            error: outlet.handler ? outlet.handler(e) : e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n\r\n    static addError(key: string, e: Error): Action {\r\n        let payload: ErrorPayload = {\r\n            key: key,\r\n            error: e\r\n        };\r\n        return ErrorActions.add(payload);\r\n    }\r\n\r\n    static add(payload: ErrorPayload): Action {\r\n        return {\r\n            type: ErrorActions.ADD,\r\n            payload: payload\r\n        };\r\n    }\r\n\r\n    static remove(key: string): Action {\r\n        return {\r\n            type: ErrorActions.REMOVE,\r\n            payload: key\r\n        };\r\n    }\r\n}\r\n","import {\r\n  HttpAction,\r\n  HttpGetPayload,\r\n  HttpPutPayload,\r\n  HttpPostPayload,\r\n  HttpActionPayload,\r\n  HttpDeletePayload\r\n} from './http.models';\r\nimport { ErrorActions } from '../errors/errors.actions';\r\nimport { ErrorOutlet, ErrorPayload, Error } from '../errors/errors.models';\r\nimport { Action } from '../store/models';\r\nimport { inArray } from '../shared/utils';\r\n\r\nexport class HttpActions {\r\n  static DELETE = `[Http] DELETE`;\r\n  static DELETE_SUCCESS = `[Http] DELETE Success`;\r\n  static DELETE_ERROR = `[Http] DELETE Error`;\r\n  static GET = `[Http] GET`;\r\n  static GET_SUCCESS = `[Http] GET Success`;\r\n  static GET_ERROR = `[Http] GET Error`;\r\n  static POST = `[Http] POST`;\r\n  static POST_SUCCESS = `[Http] POST Success`;\r\n  static POST_ERROR = `[Http] POST Error`;\r\n  static POST_FORM_URL_ENCODED = `[Http] POST Form URL Encoded`;\r\n  static PUT = `[Http] PUT`;\r\n  static PUT_SUCCESS = `[Http] PUT Success`;\r\n  static PUT_ERROR = `[Http] PUT Error`;\r\n  static SEARCH = `[Http] SEARCH`;\r\n  static SEARCH_SUCCESS = `[Http] SEARCH Success`;\r\n  static SEARCH_ERROR = `[Http] SEARCH Error`;\r\n\r\n  static addPath(path, target) {\r\n    const existingMatches = target['matches'] || [];\r\n    const matches = inArray(existingMatches, path)\r\n      ? existingMatches\r\n      : [...existingMatches, path];\r\n    return Object.assign(target, { matches: matches });\r\n  }\r\n\r\n  static matchPath(path, payload) {\r\n    if (payload && payload['results']) {\r\n      return Object.assign(payload, {\r\n        results: HttpActions.matchPath(path, payload['results'])\r\n      });\r\n    }\r\n    if (Array.isArray(payload)) {\r\n      return payload.map(x => HttpActions.addPath(path, x));\r\n    }\r\n    return HttpActions.addPath(path, payload);\r\n  }\r\n\r\n  static buildError(payload: ErrorPayload): Action {\r\n    return ErrorActions.add(payload);\r\n  }\r\n\r\n  static buildErrorPayload(key: string, e: Error): ErrorPayload {\r\n    return {\r\n      key: key,\r\n      error: e\r\n    };\r\n  }\r\n\r\n  static handleError(e: Error, onError: string): Action {\r\n    return {\r\n      type: onError,\r\n      payload: e\r\n    };\r\n  }\r\n\r\n  static handleErrorOutlet(e: Error, outlet: ErrorOutlet): Action {\r\n    return ErrorActions.addAtOutlet(e, outlet);\r\n  }\r\n\r\n  static handleErrorDefault(e: Error): Action {\r\n    return {\r\n      type: HttpActions.DELETE_ERROR,\r\n      payload: HttpActions.buildErrorPayload('lastError', e)\r\n    };\r\n  }\r\n\r\n  static delete(\r\n    path: string,\r\n    data: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpDeletePayload<any>(), {\r\n      path: path,\r\n      onSuccess: onSuccess || HttpActions.DELETE_SUCCESS,\r\n      data,\r\n      onError: onError || HttpActions.DELETE_ERROR\r\n    });\r\n    return HttpActions.httpDelete(payload);\r\n  }\r\n\r\n  static httpDelete(payload: HttpDeletePayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.DELETE,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static deleteSuccess(model: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.DELETE_SUCCESS,\r\n      payload: model\r\n    };\r\n  }\r\n\r\n  static deleteError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    }\r\n    // else if (typeof onError === 'ErrorOutlet') {\r\n    //     return HttpActions.handleErrorOutlet(e, onError);\r\n    // }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static get(\r\n    path: string,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpGetPayload<any>(), {\r\n      path: path,\r\n      onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n      onError: onError || HttpActions.GET_ERROR\r\n    });\r\n    return HttpActions.httpGet(payload);\r\n  }\r\n\r\n  static httpGet(payload: HttpGetPayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.GET,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static getSuccess(response: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.GET_SUCCESS,\r\n      payload: response\r\n    };\r\n  }\r\n\r\n  static getError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    }\r\n    // else if (typeof onError === 'ErrorOutlet') {\r\n    //     return HttpActions.handleErrorOutlet(e, onError);\r\n    // }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static post(\r\n    path: string,\r\n    model: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpPostPayload<any>(), {\r\n      path: path,\r\n      model: model,\r\n      onSuccess: onSuccess || HttpActions.POST_SUCCESS,\r\n      onError: onError || HttpActions.POST_ERROR\r\n    });\r\n    return HttpActions.httpPost(payload);\r\n  }\r\n\r\n  static httpPost(payload: HttpPostPayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.POST,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static postFormUrlEncoded(\r\n    path: string,\r\n    model: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpPostPayload<any>(), {\r\n      path: path,\r\n      model: model,\r\n      onSuccess: onSuccess || HttpActions.GET_SUCCESS,\r\n      onError: onError || HttpActions.GET_ERROR\r\n    });\r\n    return {\r\n      type: HttpActions.POST_FORM_URL_ENCODED,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static postSuccess(model: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.POST_SUCCESS,\r\n      payload: model\r\n    };\r\n  }\r\n\r\n  static postError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    } else if (typeof onError === 'object') {\r\n      return HttpActions.handleErrorOutlet(e, onError);\r\n    }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static put(\r\n    path: string,\r\n    model: any,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpPutPayload<any>(), {\r\n      path: path,\r\n      model: model,\r\n      onSuccess: onSuccess || HttpActions.PUT_SUCCESS,\r\n      onError: onError || HttpActions.PUT_ERROR\r\n    });\r\n    return HttpActions.httpPut(payload);\r\n  }\r\n\r\n  static httpPut(payload: HttpPutPayload<any>): HttpAction {\r\n    return {\r\n      type: HttpActions.PUT,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static putSuccess(model: any, actionType?: string): HttpAction {\r\n    return {\r\n      type: actionType || HttpActions.PUT_SUCCESS,\r\n      payload: model\r\n    };\r\n  }\r\n\r\n  static putError(e: Error, onError?: string | ErrorOutlet): Action {\r\n    if (typeof onError === 'string') {\r\n      return HttpActions.handleError(e, onError);\r\n    }\r\n    // else if (typeof onError === 'ErrorOutlet') {\r\n    //     return HttpActions.handleErrorOutlet(e, onError);\r\n    // }\r\n    return HttpActions.handleErrorDefault(e);\r\n  }\r\n\r\n  static search(\r\n    path: string,\r\n    onSuccess?: string,\r\n    onError?: string | ErrorOutlet\r\n  ): HttpAction {\r\n    const payload = Object.assign(new HttpGetPayload<any>(), {\r\n      path: path,\r\n      onSuccess: onSuccess || HttpActions.SEARCH_SUCCESS,\r\n      onError: onError || HttpActions.SEARCH_ERROR\r\n    });\r\n    return {\r\n      type: HttpActions.SEARCH,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static searchSuccess(\r\n    response: any,\r\n    actionType?: string,\r\n    path?: string\r\n  ): HttpAction {\r\n    const payload = path ? HttpActions.matchPath(path, response) : response;\r\n    return {\r\n      type: actionType || HttpActions.SEARCH_SUCCESS,\r\n      payload: payload\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { Action } from '../store/models';\r\n\r\nexport class StreamActions {\r\n  static UPDATE = '[Stream] UPDATE';\r\n\r\n  static update(payload: Action): Action {\r\n    return {\r\n      type: StreamActions.UPDATE,\r\n      payload\r\n    };\r\n  }\r\n}\r\n\r\nexport function actionsStreamReducer(state: Action = null, action: Action): Action {\r\n\r\n  switch (action.type) {\r\n    case StreamActions.UPDATE:\r\n      return { type: action.payload.type, payload: action.payload.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class ActionsEffects {\r\n\r\n  /**\r\n   * Update actions store with latest action\r\n   */\r\n  @Effect() onAction: Observable<Action> = this.actions$.pipe(\r\n    filter(action => action.type !== StreamActions.UPDATE),\r\n    map((action: Action) => StreamActions.update(action))\r\n  );\r\n\r\n  constructor(private actions$: Actions) {\r\n  }\r\n}\r\n\r\nexport function actionsStreamSelector(store: Store<any>): Observable<Action> {\r\n  return store.select('actions');\r\n}\r\n","import { OnDestroy, Directive } from '@angular/core';\r\nimport { FormGroup, AbstractControl } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\n\r\nimport { HasId } from './models';\r\nimport { getValue, truthy } from './utils';\r\nimport { MessageSubscription } from '../events/events.models';\r\nimport { MessagesActions } from '../events/events.actions';\r\nimport { HttpActions } from '../http/http.actions';\r\nimport { actionsStreamSelector } from './actions';\r\nimport { Action } from '../store/models';\r\nimport { HubService } from '../hub/hub.service';\r\n\r\n@Directive()\r\nexport class DumbComponent implements OnDestroy {\r\n  dialog: MatDialog;\r\n  dialogSubscription: Subscription;\r\n  form: FormGroup;\r\n  requestState: 'DEFAULT' | 'SUCCESS' | 'ERROR' = 'DEFAULT';\r\n  subscriptions: Subscription[] = [];\r\n\r\n  constructor() { }\r\n\r\n  get inErrorState(): boolean {\r\n    return this.requestState === 'ERROR';\r\n  }\r\n\r\n  get inSuccessState(): boolean {\r\n    return this.requestState === 'SUCCESS';\r\n  }\r\n\r\n  get message(): string {\r\n    return this.inErrorState ? `An error has occurred. Please try again later.` : this.inSuccessState ? `Saved successfully!` : '';\r\n  }\r\n\r\n  get showMessage(): boolean {\r\n    return this.inErrorState || this.inSuccessState;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.removeSubscriptions();\r\n  }\r\n\r\n  addSubscription(subscription: Subscription) {\r\n    this.subscriptions.push(subscription);\r\n  }\r\n\r\n  closeDialog(result: any) {\r\n    this.dialogSubscription.unsubscribe();\r\n  }\r\n\r\n  openDialog(component: any, config = {}) {\r\n    const dialogRef = this.dialog.open(component, config);\r\n    this.dialogSubscription = dialogRef.afterClosed().subscribe(result => {\r\n      this.closeDialog(result);\r\n    });\r\n  }\r\n\r\n  playAudioElement(tag: string) {\r\n    const el = document.getElementById(tag);\r\n    if (el && typeof el['play'] === 'function') {\r\n      el['play']();\r\n    }\r\n  }\r\n\r\n  playAudioFile(file: string) {\r\n    const audio = new Audio(file);\r\n    audio.play();\r\n  }\r\n\r\n  print(html: string) {\r\n    const iframe = document.createElement('iframe');\r\n\r\n    iframe.onload = function () {\r\n      const doc = iframe.contentDocument ? iframe.contentDocument : iframe.contentWindow.document;\r\n      doc.getElementsByTagName('body')[0].innerHTML = html;\r\n\r\n      iframe.contentWindow.focus(); // This is key, the iframe must have focus first\r\n      iframe.contentWindow.print();\r\n    };\r\n\r\n    document.getElementsByTagName('body')[0].appendChild(iframe);\r\n  }\r\n\r\n  removeSubscriptions() {\r\n    this.subscriptions.forEach(s => {\r\n      s.unsubscribe();\r\n    });\r\n  }\r\n\r\n  subscribe(subscriptions: Subscription[]) {\r\n    subscriptions.forEach(s => {\r\n      this.addSubscription(s);\r\n    });\r\n  }\r\n\r\n  sync(keys: string[]) {\r\n    keys.forEach(key => {\r\n      const subscription = (<Observable<any>>this[`${key}$`]).subscribe(e => {\r\n        this[key] = e;\r\n      });\r\n      this.addSubscription(subscription);\r\n    });\r\n  }\r\n\r\n  syncKey(key: string, handler?: (e: any) => void) {\r\n    const subscription = (<Observable<any>>this[`${key}$`]).subscribe(e => {\r\n      this[key] = e;\r\n      if (handler && typeof handler === 'function') {\r\n        handler(e);\r\n      }\r\n    });\r\n    this.addSubscription(subscription);\r\n  }\r\n\r\n  flashErrorMessage(duration = 5000) {\r\n    this.toErrorState();\r\n    setTimeout(() => {\r\n      this.resetRequestState();\r\n    }, duration);\r\n  }\r\n\r\n  flashSuccessMessage(duration = 5000) {\r\n    this.toSucessState();\r\n    setTimeout(() => {\r\n      this.resetRequestState();\r\n    }, duration);\r\n  }\r\n\r\n  onError(e: any) {\r\n    this.flashErrorMessage();\r\n  }\r\n\r\n  onSuccess(e: any) {\r\n    this.flashSuccessMessage();\r\n  }\r\n\r\n  resetRequestState() {\r\n    this.requestState = 'DEFAULT';\r\n  }\r\n\r\n  setValue(value: any) {\r\n    if (this.form && this.form.setValue) {\r\n      this.form.setValue(getValue(value));\r\n    }\r\n  }\r\n\r\n  toErrorState() {\r\n    this.requestState = 'ERROR';\r\n  }\r\n\r\n  toSucessState() {\r\n    this.requestState = 'SUCCESS';\r\n  }\r\n}\r\n\r\n@Directive()\r\nexport class FormComponent extends DumbComponent {\r\n  form: FormGroup;\r\n  model: HasId;\r\n\r\n  get editing(): boolean {\r\n    return truthy(this.id);\r\n  }\r\n\r\n  get id(): number | string {\r\n    return this.model.id;\r\n  }\r\n\r\n  get isValid(): boolean {\r\n    return this.form.valid;\r\n  }\r\n\r\n  getControl(key: string): AbstractControl {\r\n    return this.form.controls[key];\r\n  }\r\n\r\n  getControlValue(key: string, defaultValue: any): any {\r\n    return this.form.value[key] || defaultValue;\r\n  }\r\n\r\n  getControlValueChanges(key: string, fn: (value: any) => void): Subscription {\r\n    const control = this.getControl(key);\r\n    return control.valueChanges.subscribe(fn);\r\n  }\r\n\r\n  getValue(defaultValue = null): any {\r\n    return this.form.value || defaultValue;\r\n  }\r\n\r\n  getValueChanges(fn: (value: any) => void): Subscription {\r\n    return this.form.valueChanges.subscribe(fn);\r\n  }\r\n\r\n  markAsSubmitted(): void {\r\n    this.form.markAsTouched();\r\n    Object.keys(this.form.controls).forEach(key => {\r\n      this.form.controls[key].markAsTouched();\r\n    });\r\n  }\r\n\r\n  setControlValue(key: string, value: any): void {\r\n    const control = this.getControl(key);\r\n    control.setValue(value);\r\n  }\r\n\r\n  subscribeToChanges(key: string, fn: (value: any) => void) {\r\n    this.addSubscription(this.getValueChanges(fn));\r\n  }\r\n\r\n  subscribeToControlChanges(key: string, fn: (value: any) => void) {\r\n    this.addSubscription(this.getControlValueChanges(key, fn));\r\n  }\r\n}\r\n\r\n@Directive()\r\nexport class SmartComponent extends DumbComponent implements OnDestroy {\r\n  actions$: Observable<Action>;\r\n  events;\r\n  hubService: HubService;\r\n  messages: MessageSubscription[] = [];\r\n  private channels: string[] = [];\r\n\r\n  constructor(public store: Store<any>) {\r\n    super();\r\n    this.actions$ = actionsStreamSelector(store);\r\n  }\r\n\r\n  get hasMessages(): boolean {\r\n    return this.messages && Array.isArray(this.messages) && this.messages.length > 0;\r\n  }\r\n\r\n  onInit() {\r\n    if (this.hasMessages) {\r\n      this.dispatch(MessagesActions.subscribe(this.messages));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.hasMessages) {\r\n      this.dispatch(MessagesActions.unsubscribe(this.messages));\r\n    }\r\n    this.removeChannels();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  addChannel(channel: string, action: string) {\r\n    if (this.hubService && typeof this.hubService.addEffect == 'function' && (this.channels.findIndex(x => x === channel) === -1)) {\r\n      this.hubService.addEffect(channel, action);\r\n      this.channels.push(channel);\r\n    }\r\n  }\r\n\r\n  dispatch(action: Action) {\r\n    this.store.dispatch(action);\r\n  }\r\n\r\n  dispatchAndSubscribe(action: Action, onSuccess?: (e: any) => void, onError?: (e: any) => void) {\r\n    const f1 = onSuccess\r\n      ? onSuccess\r\n      : e => {\r\n        this.flashSuccessMessage();\r\n      };\r\n\r\n    const f2 = onError\r\n      ? onError\r\n      : e => {\r\n        this.flashErrorMessage();\r\n      };\r\n\r\n    if (this.events && this.events.dispatch) {\r\n      this.addSubscription(this.events.dispatch(action).subscribe(f1, f2));\r\n    } else {\r\n      this.store.dispatch(action);\r\n    }\r\n  }\r\n\r\n  httpDelete(path: string, payload: any, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.delete(path, payload, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  httpGet(path: string, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.get(path, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  httpPost(path: string, payload: any, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.post(path, payload, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  httpPut(path: string, payload: any, onSuccess: string, onError?: string): Observable<Action> {\r\n    this.dispatch(HttpActions.put(path, payload, onSuccess, onError));\r\n    return this.actions$.pipe(\r\n      filter(x => x && (x.type === onSuccess || x.type === onError)),\r\n      take(1)\r\n    );\r\n  }\r\n\r\n  removeChannel(channel: string) {\r\n    if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n      this.hubService.removeEffect(channel);\r\n    }\r\n  }\r\n\r\n  removeChannels() {\r\n    if (this.hubService && typeof this.hubService.removeEffect == 'function') {\r\n      this.channels.forEach(x => {\r\n        this.hubService.removeEffect(x);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","import { Directive, ElementRef, OnInit, OnDestroy, Renderer2 } from '@angular/core';\r\nimport { NgControl, AbstractControl } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { DumbComponent } from './component';\r\n\r\n\r\n@Directive({\r\n  selector: '[dateMask]'\r\n})\r\n\r\nexport class DateMaskDirective extends DumbComponent implements OnInit, OnDestroy {\r\n\r\n  constructor(private el: ElementRef, private _dateControl: NgControl, private renderer: Renderer2) {\r\n    super();\r\n  }\r\n\r\n  get dateController(): AbstractControl {\r\n    return this._dateControl.control;\r\n  }\r\n\r\n  get dateMask(): Subscription {\r\n    return this.dateController.valueChanges.subscribe(() => {\r\n      let data = this.el.nativeElement.value;\r\n\r\n      if (data.length < 10) {\r\n        if (data.length == 0) {\r\n          data = '';\r\n        } else if (data.length <= 3) {\r\n          data = data.replace(/^(\\d{2})/, '$1/');\r\n        } else if (data.length <= 5) {\r\n          data = data.replace(/^(.{3})(\\d{2})/, '$1$2/');\r\n        }\r\n          this.renderer.setProperty(this.el.nativeElement, 'value', data);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscribe([this.dateMask]);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { DateMaskDirective } from './date-mask.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n  ],\r\n  declarations: [DateMaskDirective],\r\n  exports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    DateMaskDirective\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { AccordionComponent } from './accordion.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    AccordionComponent,\r\n  ],\r\n  exports: [\r\n    AccordionComponent,\r\n  ]\r\n})\r\nexport class AccordionModule { }\r\n","import { ViewContainerRef } from '@angular/core';\r\nimport { MatDialogConfig, DialogPosition, DialogRole } from '@angular/material/dialog';\r\n\r\nexport class DialogModel {\r\n    title = ' ';\r\n    actions: DialogAction[] = [];\r\n    /** Height of the dialog. */\r\n    height?: string;\r\n    /** Width of the dialog. */\r\n    width?: string;\r\n    /**\r\n     * Where the attached component should live in Angular's *logical* component tree.\r\n     * This affects what is available for injection and the change detection order for the\r\n     * component instantiated inside of the dialog. This does not affect where the dialog\r\n     * content will be rendered.\r\n     */\r\n    viewContainerRef?: ViewContainerRef;\r\n    /** The ARIA role of the dialog element. */\r\n    role?: DialogRole;\r\n    /** Custom class for the overlay pane. */\r\n    panelClass?: string;\r\n    /** Whether the dialog has a backdrop. */\r\n    hasBackdrop?= true;\r\n    /** Custom class for the backdrop, */\r\n    backdropClass?: string;\r\n    /** Whether the user can use escape or clicking outside to close a modal. */\r\n    disableClose?= false;\r\n    /** Position overrides. */\r\n    position?: DialogPosition;\r\n    /** Data being injected into the child component. */\r\n    data?: any;\r\n    /** Layout direction for the dialog's content. */\r\n    direction?: 'ltr' | 'rtl';\r\n\r\n    get config(): MatDialogConfig {\r\n        return {\r\n            viewContainerRef: this.viewContainerRef,\r\n            role: this.role,\r\n            panelClass: this.panelClass,\r\n            hasBackdrop: this.hasBackdrop,\r\n            backdropClass: this.backdropClass,\r\n            disableClose: this.disableClose,\r\n            width: this.width,\r\n            height: this.height,\r\n            position: this.position,\r\n            data: this.data,\r\n            direction: this.direction\r\n        };\r\n    }\r\n}\r\n\r\nexport class DialogAction {\r\n    value: any = null;\r\n    label = '';\r\n    color: 'primary' | 'accent' | 'warn' = 'accent';\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ViewEncapsulation,\r\n  ViewChildren,\r\n  QueryList,\r\n  ElementRef,\r\n  AfterViewInit\r\n} from '@angular/core';\r\nimport { MatDialogClose, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { DialogAction, DialogModel } from './dialog.model';\r\nimport { ChangeDetectionStrategy } from '@angular/compiler/src/core';\r\n\r\n@Component({\r\n  selector: 'iu-dialog',\r\n  templateUrl: './dialog.component.html',\r\n  styleUrls: ['./dialog.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n  // changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DialogComponent implements AfterViewInit {\r\n  @Input() model: DialogModel = new DialogModel();\r\n  @Input() showActions = true;\r\n  @Input() showCloseAction = false;\r\n  @Input() showCloseIcon = true;\r\n  @Input() defaultActionColor = 'accent';\r\n  @ViewChildren(MatDialogClose) actionElements!: QueryList<MatDialogClose>;\r\n\r\n  constructor(public dialogRef: MatDialogRef<DialogComponent>) { }\r\n\r\n  get actions(): DialogAction[] {\r\n    return this.model.actions;\r\n  }\r\n\r\n  get actionWidth(): string {\r\n    const actionsCount = Math.max(this.actions.length, 1);\r\n    return `${100 / actionsCount}%`;\r\n  }\r\n\r\n  get closeDialogDirectives(): MatDialogClose[] {\r\n    return this.actionElements['_results'];\r\n  }\r\n\r\n  get closeDialogElements(): ElementRef[] {\r\n    return this.closeDialogDirectives.map(x => <ElementRef>x['_elementRef']);\r\n  }\r\n\r\n  get title(): string {\r\n    return this.model.title;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    // setTimeout(() => {\r\n    //   console.dir(this.actionElements);\r\n    //   console.dir(this.closeDialogDirectives);\r\n    //   console.dir(this.closeDialogElements);\r\n    //   console.dir(this.closeDialogElements[1]);\r\n    //   console.log(typeof this.closeDialogElements[1].nativeElement['click']);\r\n    //   this.closeDialogElements[1].nativeElement.click();\r\n    // }, 3000);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ngOnChanges(e) {\r\n  }\r\n\r\n  close(e: any) {\r\n    this.dialogRef.close(e);\r\n  }\r\n}\r\n","<mat-toolbar color=\"primary\" mat-dialog-title>\r\n  <span class=\"dialog-title\">\r\n    {{ title }}\r\n    <button *ngIf=\"showCloseIcon\" mat-button [mat-dialog-close]=\"null\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </span>\r\n</mat-toolbar>\r\n<mat-dialog-content class=\"scrollable\">\r\n  <ng-content></ng-content>\r\n</mat-dialog-content>\r\n<!-- <mat-dialog-actions *ngIf=\"showActions && actions.length > 0\">\r\n  <button\r\n    class=\"action\"\r\n    *ngFor=\"let action of actions; let first = first\"\r\n    mat-raised-button\r\n    [mat-dialog-close]=\"action.value\"\r\n    [style.width]=\"actionWidth\"\r\n    color=\"primary\"\r\n    [autofocus]=\"first\"\r\n  >\r\n    {{ action.label }}\r\n  </button>\r\n</mat-dialog-actions> -->\r\n<mat-dialog-actions *ngIf=\"showActions && actions.length > 0\">\r\n  <button class=\"action\" *ngFor=\"let action of actions; let first = first\" mat-raised-button\r\n    (click)=\"close(action.value)\" [style.width]=\"actionWidth\" color=\"primary\" [autofocus]=\"first\">\r\n    {{ action.label }}\r\n  </button>\r\n</mat-dialog-actions>\r\n<mat-dialog-actions *ngIf=\"showCloseAction && actions.length === 0\">\r\n  <button mat-raised-button mat-dialog-close=\"close\" color=\"primary\" [style.width]=\"actionWidth\">\r\n    Close\r\n  </button>\r\n</mat-dialog-actions>\r\n","import { Component, Input, ViewEncapsulation, Optional, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\nimport { DialogModel, DialogAction } from '../dialog.model';\r\nimport { build, toArray } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-confirm-delete',\r\n  templateUrl: './confirm-delete.component.html',\r\n  styleUrls: ['./confirm-delete.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ConfirmDeleteComponent {\r\n  @Input() header = 'Delete Confirmation';\r\n  @Input() question = 'Are you sure you want to delete this record?';\r\n  dialog = new DialogModel();\r\n\r\n  constructor(@Optional() public dialogRef?: MatDialogRef<ConfirmDeleteComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public data?: any) {\r\n    this.dialog = build(DialogModel, {\r\n      title: this.headerText,\r\n      actions: data && data.actions ? toArray(data.actions) : [build(DialogAction, { label: `Yes`, value: true }), build(DialogAction, { label: `Cancel`, value: false })]\r\n    });\r\n  }\r\n\r\n  get headerText(): string {\r\n    return this.data && this.data.header ? this.data.header : this.header;\r\n  }\r\n\r\n  get questionText(): string {\r\n    return this.data && this.data.question ? this.data.question : this.question;\r\n  }\r\n}\r\n","<iu-dialog id=\"confirm-delete\" [model]=\"dialog\">\r\n  <div class=\"content-wrapper\">\r\n    <h4>{{ questionText }}</h4>\r\n  </div>\r\n</iu-dialog>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { Address } from '../../shared/models';\r\nimport { truthy } from '../../shared/utils';\r\n\r\n@Pipe({\r\n  name: 'address'\r\n})\r\nexport class AddressPipe implements PipeTransform {\r\n  transform(value: Address, showName = false): string {\r\n    const address = value\r\n      ? `\r\n      ${value.address1 || ''}\r\n      ${value.city || ''}${\r\n          truthy(value.city) && truthy(value.stateCode)\r\n            ? ', ' + value.stateCode\r\n            : ''\r\n        } ${value.zip || ''}\r\n    `\r\n      : '';\r\n    return showName\r\n      ? `${value.firstName || ''} ${value.lastName || ''} ${address}`\r\n      : address;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { Address } from '../../../shared/models';\r\n\r\n@Component({\r\n  selector: 'iu-inline-address',\r\n  templateUrl: './inline-address.component.html',\r\n  styleUrls: ['./inline-address.component.scss']\r\n})\r\nexport class InlineAddressComponent implements OnInit {\r\n\r\n  @Input() address: Address;\r\n  @Input() canActivate = false;\r\n  @Input() canDelete = false;\r\n  @Input() canEdit = false;\r\n  @Input() showName = false;\r\n  @Output() activate = new EventEmitter<Address>();\r\n  @Output() delete = new EventEmitter<Address>();\r\n  @Output() edit = new EventEmitter<Address>();\r\n\r\n  constructor() { }\r\n\r\n  get isPrimary(): boolean {\r\n    return this.address.isPrimaryAddress;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onActivate() {\r\n    this.activate.emit(this.address);\r\n  }\r\n\r\n  onDelete() {\r\n    this.delete.emit(this.address);\r\n  }\r\n\r\n  onEdit() {\r\n    this.edit.emit(this.address);\r\n  }\r\n\r\n}\r\n","<div class=\"row inline-address\">\r\n  <div class=\"col mailing-address\" [class.primary]=\"isPrimary\">\r\n    {{ address | address: showName }}\r\n  </div>\r\n  <div class=\"col\" *ngIf=\"canActivate\">\r\n    <button\r\n      color=\"primary\"\r\n      mat-button\r\n      class=\"edit-icon activate-text\"\r\n      (click)=\"onActivate()\"\r\n    >\r\n      Mark Active\r\n    </button>\r\n  </div>\r\n  <div class=\"col\" *ngIf=\"canEdit\">\r\n    <mat-icon color=\"primary\" class=\"edit-icon\" (click)=\"onEdit()\"\r\n      >edit</mat-icon\r\n    >\r\n  </div>\r\n  <div class=\"col\" *ngIf=\"canDelete\">\r\n    <mat-icon color=\"primary\" class=\"edit-icon\" (click)=\"onDelete()\"\r\n      >delete</mat-icon\r\n    >\r\n  </div>\r\n</div>\r\n","import { AbstractControl, FormBuilder, FormArray as Ng2FormArray, ValidatorFn, AsyncValidatorFn } from '@angular/forms';\r\n\r\nimport { buildAbstractControl, buildControlsConfig } from './utils';\r\nimport { TypeConstructor } from '../shared/models';\r\nimport { build, getValue, toArray } from '../shared/utils';\r\n\r\nexport class FormArray extends Ng2FormArray {\r\n\r\n    ctor: TypeConstructor<any>;\r\n\r\n    static Build<T>(fb: FormBuilder, controls: AbstractControl[], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        return new FormArray(fb, controls, validator, asyncValidator);\r\n    }\r\n\r\n    static BuildWithType<T>(ctor: TypeConstructor<T>, fb: FormBuilder, controls: AbstractControl[] = [], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        return fa;\r\n    }\r\n\r\n    static BuildWithTypeAndValue<T>(ctor: TypeConstructor<T>, value: T[], fb: FormBuilder, controls: AbstractControl[] = [], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.ctor = ctor;\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n\r\n    static BuildWithValue<T>(value: T[], fb: FormBuilder, controls: AbstractControl[] = [], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        const fa = new FormArray(fb, controls, validator, asyncValidator);\r\n        fa.setValue(value);\r\n        return fa;\r\n    }\r\n\r\n    static GetValue(value: any[], ctor: TypeConstructor<any>): any[] {\r\n        return toArray(value).map(x => getValue(build(ctor, x)));\r\n    }\r\n\r\n    constructor(public fb: FormBuilder, controls: AbstractControl[], validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n        super(controls, validator, asyncValidator);\r\n    }\r\n\r\n    get maxIndex(): number {\r\n        return this.length - 1;\r\n    }\r\n\r\n    get values(): any[] {\r\n        return [...this.value];\r\n    }\r\n\r\n    buildControls(n: number): AbstractControl[] {\r\n        return this.buildItems(n).map(x => buildAbstractControl(this.fb, x));\r\n    }\r\n\r\n    buildItems(n: number): any[] {\r\n        return Array.from(Array(n).keys()).map(x => this.ctor ? getValue(new this.ctor()) : {});\r\n    }\r\n\r\n    getValue(value: any[]): any[] {\r\n        return this.ctor ? toArray(value).map(x => getValue(build(this.ctor, x))) : value;\r\n    }\r\n\r\n    resetValue(value: any[]) {\r\n        this.removeAll();\r\n        this.addControls(value);\r\n        this.setValue(value);\r\n    }\r\n\r\n    setLength(value: number) {\r\n        if (this.length < value) {\r\n            this.add(value - this.length);\r\n        } else if (this.length > value) {\r\n            this.remove(this.length - value);\r\n        }\r\n    }\r\n\r\n    setValue(value: any[]) {\r\n        this.setLength(value.length);\r\n        super.setValue(this.getValue(value));\r\n    }\r\n\r\n    findControlById(id: any): AbstractControl {\r\n        return this.controls.find(control => control.value && control.value['id'] && control.value['id'] === id);\r\n    }\r\n\r\n    removeAll() {\r\n        this.controls = [];\r\n    }\r\n\r\n    removeIndexes(indexes: any[]) {\r\n        indexes.forEach(index => {\r\n            this.removeAt(index);\r\n        });\r\n    }\r\n\r\n    add(n: number) {\r\n        this.buildControls(n).forEach(x => {\r\n            this.push(x);\r\n        });\r\n    }\r\n\r\n    remove(n: number) {\r\n        const k = Math.min(n, this.length);\r\n        Array.from(Array(k).keys()).forEach(x => {\r\n            this.removeAt(this.maxIndex);\r\n        });\r\n    }\r\n\r\n    addControls(value: any[]) {\r\n        const controls = value.map(x => this.fb.group(buildControlsConfig(x, this.fb)));\r\n        controls.forEach(control => {\r\n            this.push(control);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set value of each control.\r\n     * @param ctor Class constructor\r\n     * @param props Values to assign to props of each control\r\n     */\r\n    setAll(ctor: TypeConstructor<any>, props: any) {\r\n        this.controls.forEach(control => {\r\n            control.setValue(build(new ctor(), control.value, props));\r\n        });\r\n    }\r\n\r\n}\r\n","import { FormGroup, FormBuilder, AbstractControl, FormControl, ValidatorFn, AsyncValidatorFn } from '@angular/forms';\r\n\r\nimport { FormArray } from './models';\r\nimport { Dictionary, TypeConstructor } from '../shared/models';\r\nimport { getAllProps, ignoreKey, inArray, build, getValue } from '../shared/utils';\r\n\r\nexport function buildAbstractControl(fb: FormBuilder, value: any): FormGroup | FormArray | FormControl {\r\n    return isGroupValue(value) ? fb.group(buildControlsConfig(value, fb)) : fb.control(value);\r\n}\r\n\r\n/**\r\n * Construct form builder and initialize new form array\r\n */\r\nexport function buildArrayFromType<T>(ctor: TypeConstructor<T>, validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn): FormArray {\r\n    const fb = new FormBuilder();\r\n    return FormArray.BuildWithType(ctor, fb, [], validator, asyncValidator);\r\n}\r\n\r\nexport function buildControl(fb: FormBuilder, model: any, key: string): FormGroup | FormArray | any[] {\r\n    return isFormGroup(model, key) ?\r\n        fb.group(buildControlsConfig(model[key], fb))\r\n        : (isFormArray(model, key) ? buildFormArray(fb, model, key)\r\n            : (hasValidators(model, key) ? [model[key], model['metadata'][key]['validators']]\r\n                : [model[key]]));\r\n}\r\n\r\n/**\r\n * Construct form builder and initialize new form group.\r\n */\r\nexport function buildControlFromModel<T>(model: T): FormGroup {\r\n    const fb = new FormBuilder();\r\n    const controlsConfig = buildControlsConfig(model, fb);\r\n    return hasGroupValidators(model) ? fb.group(controlsConfig, model['metadata']['validators']) : fb.group(controlsConfig);\r\n}\r\n\r\n/**\r\n * Function to recursively construct form control config object.\r\n */\r\nexport function buildControlsConfig(model: any, fb: FormBuilder): Dictionary<any> {\r\n    const keys = getAllProps(model);\r\n    const config: Dictionary<any> = {};\r\n    return keys.filter(key => key !== 'metadata' && !ignoreKey(model, key))\r\n        .reduce((acc, key) => Object.assign({}, acc, { [key]: buildControl(fb, model, key) }), {});\r\n}\r\n\r\n/**\r\n * Initialize new form array.\r\n */\r\nexport function buildFormArray<T>(fb: FormBuilder, model: any, key: string): FormArray {\r\n    const ctor = findFormArrayType(model, key);\r\n    const value = model[key];\r\n    const controls = buildFormArrayControls(fb, value, ctor);\r\n    return ctor ? FormArray.BuildWithType(ctor, fb, controls) : FormArray.Build(fb, []);\r\n}\r\n\r\nexport function buildFormArrayControls<T>(fb: FormBuilder, value: T[], ctor?: TypeConstructor<T>): AbstractControl[] {\r\n    return ctor ? value.map(x => buildAbstractControl(fb, getValue(build(ctor, x))))\r\n        : value.map(x => buildAbstractControl(fb, x));\r\n}\r\n\r\nexport function findFormArrayType(model: any, key: string): TypeConstructor<any> {\r\n    return model['metadata'] && model['metadata'][key] ?\r\n        <TypeConstructor<any>>model['metadata'][key]['type'] : null;\r\n}\r\n\r\nexport function hasGroupValidators(model: any): boolean {\r\n    return model['metadata'] && model['metadata']['validators'];\r\n}\r\n\r\nexport function hasValidators(model: any, key: string): boolean {\r\n    return model['metadata'] && model['metadata'][key] && model['metadata'][key]['validators'];\r\n}\r\n\r\nexport function isArrayValue(value: any): boolean {\r\n    return Array.isArray(value);\r\n}\r\n\r\nexport function isFormArray(model: any, key: string): boolean {\r\n    return Array.isArray(model[key]) && model['metadata'] && model['metadata'][key] && model['metadata'][key]['isFormArray'];\r\n}\r\n\r\nexport function isFormControl(model: any, key: string): boolean {\r\n    return model['metadata'] && model['metadata']['controls'] && inArray(model['metadata']['controls'], key);\r\n}\r\n\r\nexport function isFormGroup(model: any, key: string): boolean {\r\n    return model[key]\r\n        && typeof model[key] === 'object'\r\n        && !Array.isArray(model[key])\r\n        && Object.keys(model[key]).length > 0\r\n        && !isFormControl(model, key)\r\n        && !isFormArray(model, key);\r\n}\r\n\r\nexport function isGroupValue(value: any): boolean {\r\n    return typeof value === 'object' && Object.keys(value).length > 0 && !isArrayValue(value);\r\n}\r\n","import { TypeConstructor } from '../shared/models';\r\nimport { ValidatorFn, AsyncValidatorFn } from '@angular/forms';\r\n\r\nimport { buildControlFromModel, buildArrayFromType } from './utils';\r\n\r\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nexport function Control<T>(ctor: TypeConstructor<T>) {\r\n    const propertyDecorator = (target: any, propertySignature: string) => {\r\n        const decoratedProperty = buildControlFromModel(new ctor());\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\r\n\r\n/**\r\n * Decorates an abstract control property built using form builder.\r\n */\r\nexport function ArrayControl<T>(ctor: TypeConstructor<T>, validator?: ValidatorFn, asyncValidator?: AsyncValidatorFn) {\r\n    const propertyDecorator = (target: any, propertySignature: string) => {\r\n        const decoratedProperty = buildArrayFromType(ctor, validator, asyncValidator);\r\n        target[propertySignature] = decoratedProperty;\r\n        return target;\r\n    };\r\n    return propertyDecorator;\r\n}\r\n","export const LOOKUP_STATES = [\r\n  {\r\n    label: 'Alabama',\r\n    name: 'AL'\r\n  },\r\n  {\r\n    label: 'Alaska',\r\n    name: 'AK'\r\n  },\r\n  {\r\n    label: 'American Samoa',\r\n    name: 'AS'\r\n  },\r\n  {\r\n    label: 'Arizona',\r\n    name: 'AZ'\r\n  },\r\n  {\r\n    label: 'Arkansas',\r\n    name: 'AR'\r\n  },\r\n  {\r\n    label: 'California',\r\n    name: 'CA'\r\n  },\r\n  {\r\n    label: 'Colorado',\r\n    name: 'CO'\r\n  },\r\n  {\r\n    label: 'Connecticut',\r\n    name: 'CT'\r\n  },\r\n  {\r\n    label: 'Delaware',\r\n    name: 'DE'\r\n  },\r\n  {\r\n    label: 'District Of Columbia',\r\n    name: 'DC'\r\n  },\r\n  {\r\n    label: 'Federated States Of Micronesia',\r\n    name: 'FM'\r\n  },\r\n  {\r\n    label: 'Florida',\r\n    name: 'FL'\r\n  },\r\n  {\r\n    label: 'Georgia',\r\n    name: 'GA'\r\n  },\r\n  {\r\n    label: 'Guam',\r\n    name: 'GU'\r\n  },\r\n  {\r\n    label: 'Hawaii',\r\n    name: 'HI'\r\n  },\r\n  {\r\n    label: 'Idaho',\r\n    name: 'ID'\r\n  },\r\n  {\r\n    label: 'Illinois',\r\n    name: 'IL'\r\n  },\r\n  {\r\n    label: 'Indiana',\r\n    name: 'IN'\r\n  },\r\n  {\r\n    label: 'Iowa',\r\n    name: 'IA'\r\n  },\r\n  {\r\n    label: 'Kansas',\r\n    name: 'KS'\r\n  },\r\n  {\r\n    label: 'Kentucky',\r\n    name: 'KY'\r\n  },\r\n  {\r\n    label: 'Louisiana',\r\n    name: 'LA'\r\n  },\r\n  {\r\n    label: 'Maine',\r\n    name: 'ME'\r\n  },\r\n  {\r\n    label: 'Marshall Islands',\r\n    name: 'MH'\r\n  },\r\n  {\r\n    label: 'Maryland',\r\n    name: 'MD'\r\n  },\r\n  {\r\n    label: 'Massachusetts',\r\n    name: 'MA'\r\n  },\r\n  {\r\n    label: 'Michigan',\r\n    name: 'MI'\r\n  },\r\n  {\r\n    label: 'Minnesota',\r\n    name: 'MN'\r\n  },\r\n  {\r\n    label: 'Mississippi',\r\n    name: 'MS'\r\n  },\r\n  {\r\n    label: 'Missouri',\r\n    name: 'MO'\r\n  },\r\n  {\r\n    label: 'Montana',\r\n    name: 'MT'\r\n  },\r\n  {\r\n    label: 'Nebraska',\r\n    name: 'NE'\r\n  },\r\n  {\r\n    label: 'Nevada',\r\n    name: 'NV'\r\n  },\r\n  {\r\n    label: 'New Hampshire',\r\n    name: 'NH'\r\n  },\r\n  {\r\n    label: 'New Jersey',\r\n    name: 'NJ'\r\n  },\r\n  {\r\n    label: 'New Mexico',\r\n    name: 'NM'\r\n  },\r\n  {\r\n    label: 'New York',\r\n    name: 'NY'\r\n  },\r\n  {\r\n    label: 'North Carolina',\r\n    name: 'NC'\r\n  },\r\n  {\r\n    label: 'North Dakota',\r\n    name: 'ND'\r\n  },\r\n  {\r\n    label: 'Northern Mariana Islands',\r\n    name: 'MP'\r\n  },\r\n  {\r\n    label: 'Ohio',\r\n    name: 'OH'\r\n  },\r\n  {\r\n    label: 'Oklahoma',\r\n    name: 'OK'\r\n  },\r\n  {\r\n    label: 'Oregon',\r\n    name: 'OR'\r\n  },\r\n  {\r\n    label: 'Palau',\r\n    name: 'PW'\r\n  },\r\n  {\r\n    label: 'Pennsylvania',\r\n    name: 'PA'\r\n  },\r\n  {\r\n    label: 'Puerto Rico',\r\n    name: 'PR'\r\n  },\r\n  {\r\n    label: 'Rhode Island',\r\n    name: 'RI'\r\n  },\r\n  {\r\n    label: 'South Carolina',\r\n    name: 'SC'\r\n  },\r\n  {\r\n    label: 'South Dakota',\r\n    name: 'SD'\r\n  },\r\n  {\r\n    label: 'Tennessee',\r\n    name: 'TN'\r\n  },\r\n  {\r\n    label: 'Texas',\r\n    name: 'TX'\r\n  },\r\n  {\r\n    label: 'Utah',\r\n    name: 'UT'\r\n  },\r\n  {\r\n    label: 'Vermont',\r\n    name: 'VT'\r\n  },\r\n  {\r\n    label: 'Virgin Islands',\r\n    name: 'VI'\r\n  },\r\n  {\r\n    label: 'Virginia',\r\n    name: 'VA'\r\n  },\r\n  {\r\n    label: 'Washington',\r\n    name: 'WA'\r\n  },\r\n  {\r\n    label: 'West Virginia',\r\n    name: 'WV'\r\n  },\r\n  {\r\n    label: 'Wisconsin',\r\n    name: 'WI'\r\n  },\r\n  {\r\n    label: 'Wyoming',\r\n    name: 'WY'\r\n  }\r\n];\r\n\r\nexport const COLORS = [\r\n  {\r\n    name: 'blue',\r\n    hex: '#OOOOFF'\r\n  },\r\n  {\r\n    name: 'blueviolet',\r\n    hex: '#8A2BE2'\r\n  },\r\n  {\r\n    name: 'cadetblue',\r\n    hex: '#5F9EA0'\r\n  },\r\n  {\r\n    name: 'crimson',\r\n    hex: '#DC143C'\r\n  },\r\n  // {\r\n  //   name: 'darkblue',\r\n  //   hex: '#00008B'\r\n  // },\r\n  {\r\n    name: 'darkcyan',\r\n    hex: '#008B8B'\r\n  },\r\n  {\r\n    name: 'darkgreen',\r\n    hex: '#006400'\r\n  },\r\n  {\r\n    name: 'darkmagenta',\r\n    hex: '#8B008B'\r\n  },\r\n  {\r\n    name: 'darkolivegreen',\r\n    hex: '#556B2F'\r\n  },\r\n  {\r\n    name: 'darkorange',\r\n    hex: '#FF8C00'\r\n  },\r\n  {\r\n    name: 'darkorchid',\r\n    hex: '#9932CC'\r\n  },\r\n  {\r\n    name: 'darkred',\r\n    hex: '#8B0000'\r\n  },\r\n  {\r\n    name: 'darkslateblue',\r\n    hex: '#483D8B'\r\n  },\r\n  {\r\n    name: 'darkslategray',\r\n    hex: '#2F4F4F'\r\n  },\r\n  {\r\n    name: 'darkturquoise',\r\n    hex: '#00CED1'\r\n  },\r\n  {\r\n    name: 'darkviolet',\r\n    hex: '#9400D3'\r\n  },\r\n  {\r\n    name: 'deeppink',\r\n    hex: '#FF1493'\r\n  },\r\n  {\r\n    name: 'deepskyblue',\r\n    hex: '#00BFFF'\r\n  },\r\n  {\r\n    name: 'dodgerblue',\r\n    hex: '#1E90FF'\r\n  },\r\n  {\r\n    name: 'firebrick',\r\n    hex: '#B22222'\r\n  },\r\n  {\r\n    name: 'forestgreen',\r\n    hex: '#228B22'\r\n  },\r\n  {\r\n    name: 'fuchsia',\r\n    hex: '\t#FF00FF'\r\n  },\r\n  {\r\n    name: 'gold',\r\n    hex: '#FFD700'\r\n  },\r\n  {\r\n    name: 'goldenrod',\r\n    hex: '#DAA520'\r\n  },\r\n  {\r\n    name: 'green',\r\n    hex: '#008000'\r\n  },\r\n  {\r\n    name: 'grey',\r\n    hex: '#808080'\r\n  },\r\n  {\r\n    name: 'hotpink',\r\n    hex: '#FF69B4'\r\n  },\r\n  {\r\n    name: 'indianred',\r\n    hex: '\t#CD5C5C'\r\n  },\r\n  {\r\n    name: 'indigo',\r\n    hex: '#4B0082'\r\n  },\r\n  {\r\n    name: 'lawngreen',\r\n    hex: '#7CFC00'\r\n  },\r\n  {\r\n    name: 'lightcoral',\r\n    hex: '#F08080'\r\n  },\r\n  {\r\n    name: 'lightsalmon',\r\n    hex: '\t#FFA07A'\r\n  },\r\n  {\r\n    name: 'lightseagreen',\r\n    hex: '#20B2AA'\r\n  },\r\n  {\r\n    name: 'lightslategrey',\r\n    hex: '#778899'\r\n  },\r\n  {\r\n    name: 'lightsteelblue',\r\n    hex: '#B0C4DE'\r\n  },\r\n  {\r\n    name: 'lime',\r\n    hex: '#00FF00'\r\n  },\r\n  {\r\n    name: 'limegreen',\r\n    hex: '#32CD32'\r\n  },\r\n  {\r\n    name: 'magenta',\r\n    hex: '#FF00FF'\r\n  },\r\n  {\r\n    name: 'mediumaquamarine',\r\n    hex: '#66CDAA'\r\n  },\r\n  {\r\n    name: 'mediumorchid',\r\n    hex: '#BA55D3'\r\n  },\r\n  {\r\n    name: 'mediumpurple',\r\n    hex: '#9370DB'\r\n  },\r\n  {\r\n    name: 'mediumseagreen',\r\n    hex: '#3CB371'\r\n  },\r\n  {\r\n    name: 'mediumspringgreen',\r\n    hex: '#00FA9A'\r\n  },\r\n  {\r\n    name: 'olive',\r\n    hex: '#808000'\r\n  },\r\n  {\r\n    name: 'olivedrab',\r\n    hex: '#6B8E23'\r\n  },\r\n  {\r\n    name: 'orange',\r\n    hex: '#FFA500'\r\n  },\r\n  {\r\n    name: 'orangered',\r\n    hex: '#FF4500'\r\n  },\r\n  {\r\n    name: 'orchid',\r\n    hex: '#DA70D6'\r\n  },\r\n  {\r\n    name: 'palevioletred',\r\n    hex: '#DB7093'\r\n  },\r\n  {\r\n    name: 'red',\r\n    hex: '#FFOOOO'\r\n  },\r\n  {\r\n    name: 'royalblue',\r\n    hex: '#4169E1'\r\n  },\r\n  {\r\n    name: 'salmon',\r\n    hex: '#FA8072'\r\n  },\r\n  {\r\n    name: 'sandybrown',\r\n    hex: '#F4A460'\r\n  },\r\n  {\r\n    name: 'seagreen',\r\n    hex: '#2E8B57'\r\n  },\r\n  {\r\n    name: 'silver',\r\n    hex: '#C0C0C0'\r\n  },\r\n  {\r\n    name: 'skyblue',\r\n    hex: '#87CEEB'\r\n  },\r\n  {\r\n    name: 'slateblue',\r\n    hex: '#6A5ACD'\r\n  },\r\n  {\r\n    name: 'springgreen',\r\n    hex: '#00FF7F'\r\n  },\r\n  {\r\n    name: 'steelblue',\r\n    hex: '#4682B4'\r\n  },\r\n  {\r\n    name: 'tan',\r\n    hex: '#D2B48C'\r\n  },\r\n  {\r\n    name: 'teal',\r\n    hex: '#008080'\r\n  },\r\n  {\r\n    name: 'thistle',\r\n    hex: '#D8BFD8'\r\n  },\r\n  {\r\n    name: 'tomato',\r\n    hex: '#FF6347'\r\n  },\r\n  {\r\n    name: 'turquoise',\r\n    hex: '#40E0D0'\r\n  },\r\n  {\r\n    name: 'violet',\r\n    hex: '#EE82EE'\r\n  },\r\n  {\r\n    name: 'yellow',\r\n    hex: '#FFFF00'\r\n  },\r\n  {\r\n    name: 'yellowgreen',\r\n    hex: '#9ACD32'\r\n  }\r\n];\r\n","import { Component, forwardRef } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\n\r\nimport { LOOKUP_STATES } from '../../../shared/lookup';\r\n\r\nexport const STATE_PICKER_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => StatePickerComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-state-picker',\r\n  templateUrl: './state-picker.component.html',\r\n  styleUrls: ['./state-picker.component.scss'],\r\n  providers: [STATE_PICKER_ACCESSOR]\r\n})\r\nexport class StatePickerComponent implements ControlValueAccessor {\r\n\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  value: string;\r\n  states = LOOKUP_STATES;\r\n\r\n  constructor() { }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: string) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: string) {\r\n    this.onModelChange(value);\r\n  }\r\n\r\n}\r\n","<mat-form-field>\r\n  <mat-select placeholder=\"State\" [value]=\"value\" (selectionChange)=\"onChange($event.value)\">\r\n    <mat-option *ngFor=\"let state of states\" [value]=\"state.name\">\r\n      {{ state.label }} ({{ state.name }})\r\n    </mat-option>\r\n  </mat-select>\r\n</mat-form-field>\r\n","import {\r\n  Component,\r\n  OnChanges,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  forwardRef,\r\n  OnInit,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport {\r\n  FormGroup,\r\n  AbstractControl,\r\n  NG_VALUE_ACCESSOR,\r\n  ControlValueAccessor\r\n} from '@angular/forms';\r\n\r\nimport { Control } from '../../../forms/decorators';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { Address } from '../../../shared/models';\r\nimport { build, equals, getValue } from '../../../shared/utils';\r\n\r\nexport const ADDRESS_FORM_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => AddressFormComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-address-form',\r\n  templateUrl: './address-form.component.html',\r\n  styleUrls: ['./address-form.component.scss'],\r\n  providers: [ADDRESS_FORM_ACCESSOR]\r\n})\r\nexport class AddressFormComponent extends DumbComponent\r\n  implements OnInit, OnChanges, ControlValueAccessor {\r\n  @Control(Address) form: FormGroup;\r\n  @Input() address: Address = new Address();\r\n  @Input() canDelete = false;\r\n  @Input() debug = false;\r\n  @Input() hasPrimaryAddress = true;\r\n  @Input() manager = false;\r\n  @Input() requireEffectiveDate = false;\r\n  @Input() showName = false;\r\n  @Input() zipPlus4 = true;\r\n  @Output() changes = new EventEmitter<Address>();\r\n  @Output() delete = new EventEmitter<Address>();\r\n  @Output() save = new EventEmitter<Address>();\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  value: Address;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  get canSave(): boolean {\r\n    return this.manager && this.form.valid && this.form.dirty;\r\n  }\r\n\r\n  get isPrimaryAddress(): boolean {\r\n    return this.isPrimaryAddressControl.value;\r\n  }\r\n\r\n  set isPrimaryAddress(value: boolean) {\r\n    this.isPrimaryAddressControl.setValue(value);\r\n  }\r\n\r\n  get isPrimaryAddressControl(): AbstractControl {\r\n    return this.form.controls['isPrimaryAddress'];\r\n  }\r\n\r\n  get showMakePrimaryButton(): boolean {\r\n    return this.canSave && !this.isPrimaryAddress && this.hasPrimaryAddress;\r\n  }\r\n\r\n  get valueOut(): Address {\r\n    return build(Address, this.form.value, {\r\n      id: this.address.id,\r\n      isPrimaryAddress: this.isPrimaryAddress\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!equals(changes['address'], this.address)) {\r\n      if (this.debug) {\r\n        console.log('\\nCHANGE Address VALUE');\r\n        console.dir(getValue(this.address));\r\n      }\r\n      this.setValue(this.address);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form.valueChanges.subscribe(x => {\r\n      this.onChange();\r\n    });\r\n  }\r\n\r\n  onActivate() {\r\n    this.isPrimaryAddress = true;\r\n    this.onSubmit();\r\n    this.isPrimaryAddress = false;\r\n  }\r\n\r\n  onChange() {\r\n    this.value = this.form.value;\r\n    this.changes.emit(this.valueOut);\r\n  }\r\n\r\n  onDelete() {\r\n    this.delete.emit(this.address);\r\n  }\r\n\r\n  onSubmit() {\r\n    this.save.emit(this.valueOut);\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {}\r\n\r\n  writeValue(value: Address) {\r\n    if (this.debug) {\r\n      console.log('\\nCHANGE Address VALUE');\r\n      console.dir(getValue(build(Address, value)));\r\n    }\r\n    this.value = value;\r\n    this.setValue(build(Address, value));\r\n  }\r\n}\r\n","<form class=\"address-form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\r\n  <mat-form-field class=\"control first-name\" *ngIf=\"showName\">\r\n    <input\r\n      matInput\r\n      placeholder=\"First Name\"\r\n      type=\"text\"\r\n      formControlName=\"firstName\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control last-name\" *ngIf=\"showName\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Last Name\"\r\n      type=\"text\"\r\n      formControlName=\"lastName\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control address1\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Address 1\"\r\n      type=\"text\"\r\n      formControlName=\"address1\"\r\n      #address1\r\n    />\r\n    <mat-error>Street address is required.</mat-error>\r\n    <button\r\n      mat-button\r\n      *ngIf=\"address1.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"address1.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control address2\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Address 2\"\r\n      type=\"text\"\r\n      formControlName=\"address2\"\r\n      #address2\r\n    />\r\n    <button\r\n      mat-button\r\n      *ngIf=\"address2.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"address2.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"control city\">\r\n    <input\r\n      matInput\r\n      placeholder=\"City\"\r\n      type=\"text\"\r\n      formControlName=\"city\"\r\n      #city\r\n    />\r\n    <mat-error>City is required.</mat-error>\r\n    <button\r\n      mat-button\r\n      *ngIf=\"city.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"city.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n\r\n  <iu-state-picker\r\n    class=\"control state\"\r\n    formControlName=\"stateCode\"\r\n  ></iu-state-picker>\r\n\r\n  <!--Zip Code Control-->\r\n  <mat-form-field class=\"control zip\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Zip Code\"\r\n      type=\"text\"\r\n      formControlName=\"zip\"\r\n      #zip\r\n    />\r\n    <mat-error\r\n      *ngIf=\"\r\n        form?.controls['zip']?.hasError('zipCode') &&\r\n        form.controls['zip'].touched\r\n      \"\r\n      >Please enter a valid 5-digit zip code.</mat-error\r\n    >\r\n    <button\r\n      mat-button\r\n      *ngIf=\"zip.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"zip.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n  <!--End Zip Code Control-->\r\n\r\n  <!--Zip Plus 4 Control-->\r\n  <mat-form-field class=\"control zip-4\">\r\n    <input\r\n      matInput\r\n      placeholder=\"Zip + 4\"\r\n      type=\"text\"\r\n      formControlName=\"zipPlus4\"\r\n      #zip4\r\n    />\r\n    <mat-error\r\n      *ngIf=\"\r\n        form?.controls['zipPlus4']?.hasError('zipPlus4') &&\r\n        form.controls['zipPlus4'].touched\r\n      \"\r\n      >Please enter 4 numeric digits.</mat-error\r\n    >\r\n    <button\r\n      mat-button\r\n      *ngIf=\"zip4.value\"\r\n      matSuffix\r\n      mat-icon-button\r\n      aria-label=\"Clear\"\r\n      (click)=\"zip4.value = ''\"\r\n    >\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-form-field>\r\n  <!--End Zip Plus 4 Control-->\r\n\r\n  <mat-form-field class=\"control active-date\" *ngIf=\"requireEffectiveDate\">\r\n    <input\r\n      matInput\r\n      [matDatepicker]=\"picker2\"\r\n      placeholder=\"Effective Date\"\r\n      formControlName=\"effectiveDate\"\r\n    />\r\n    <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n    <mat-datepicker #picker2></mat-datepicker>\r\n  </mat-form-field>\r\n\r\n  <button\r\n    *ngIf=\"address.id && canDelete\"\r\n    mat-raised-button\r\n    color=\"accent\"\r\n    class=\"btn-delete\"\r\n    (click)=\"onDelete()\"\r\n    [style.right.px]=\"showMakePrimaryButton ? 282 : canSave ? 92 : 20\"\r\n  >\r\n    Delete\r\n  </button>\r\n  <button\r\n    *ngIf=\"showMakePrimaryButton\"\r\n    mat-raised-button\r\n    color=\"primary\"\r\n    class=\"btn-save btn-activate\"\r\n    (click)=\"onActivate()\"\r\n  >\r\n    Save and Mark Active\r\n  </button>\r\n  <button\r\n    *ngIf=\"canSave\"\r\n    mat-raised-button\r\n    color=\"accent\"\r\n    class=\"btn-save\"\r\n    (click)=\"onSubmit()\"\r\n  >\r\n    Save\r\n  </button>\r\n</form>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  forwardRef,\r\n  Input,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport { ConfirmDeleteComponent } from '../dialog/confirm-delete/confirm-delete.component';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { Address } from '../../shared/models';\r\nimport { build, compareDates } from '../../shared/utils';\r\n\r\nexport const ADDRESS_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => AddressComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-address',\r\n  templateUrl: './address.component.html',\r\n  styleUrls: ['./address.component.scss'],\r\n  providers: [ADDRESS_ACCESSOR]\r\n})\r\nexport class AddressComponent extends DumbComponent\r\n  implements OnInit, ControlValueAccessor {\r\n  _addresses: Address[] = [];\r\n  @Input() debug = false;\r\n  @Input() editing = false;\r\n  @Input() hasPrimaryAddress = true;\r\n  @Input() requireEffectiveDate = false;\r\n  @Input() showName = true;\r\n  @Input() zipPlus4 = true;\r\n  @Output() activate = new EventEmitter<Address>();\r\n  @Output() add = new EventEmitter<Address>();\r\n  @Output() delete = new EventEmitter<Address>();\r\n  @Output() update = new EventEmitter<Address>();\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  current: Address;\r\n  errorMessage = '';\r\n  toBeDeleted: Address;\r\n  _value: Address[];\r\n\r\n  constructor(public dialog: MatDialog) {\r\n    super();\r\n  }\r\n\r\n  @Input() set addresses(value: Address[]) {\r\n    this._addresses = value;\r\n    this.changeValue(this._addresses);\r\n  }\r\n\r\n  get addresses(): Address[] {\r\n    return this._addresses.findIndex(x => x.isPrimaryAddress) === -1\r\n      ? this._addresses.map((x, index) =>\r\n          index === 0 ? build(Address, x, { isPrimaryAddress: true }) : x\r\n        )\r\n      : this._addresses;\r\n  }\r\n\r\n  get value(): Address[] {\r\n    return this._value;\r\n  }\r\n\r\n  set value(value: Address[]) {\r\n    this._value = value;\r\n  }\r\n\r\n  get choices(): Address[] {\r\n    return this.addresses.filter((x, i) => !x.isPrimaryAddress);\r\n  }\r\n\r\n  get primaryAddress(): Address {\r\n    return this.addresses.length === 0\r\n      ? null\r\n      : this.addresses.find(x => x.isPrimaryAddress) ||\r\n          build(Address, this.addresses[0]);\r\n  }\r\n\r\n  set primaryAddress(value: Address) {\r\n    this.addresses = [\r\n      build(Address, value, { isPrimaryAddress: true }),\r\n      ...this.removeAddress(value).map(x =>\r\n        build(Address, x, { isPrimaryAddress: false })\r\n      )\r\n    ];\r\n  }\r\n\r\n  get showChoices(): boolean {\r\n    return this.totalChoices > 0;\r\n  }\r\n\r\n  get totalChoices(): number {\r\n    return this.addresses.length;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {}\r\n\r\n  writeValue(value: Address[]) {\r\n    if (this.debug) {\r\n      console.log('\\nWRITE Address Manager VALUE');\r\n      console.dir(value);\r\n    }\r\n    this.value = value;\r\n  }\r\n\r\n  changeValue(value: Address[]) {\r\n    if (this.debug) {\r\n      console.log('\\nCHANGE Address Manager VALUE');\r\n      console.dir(value);\r\n    }\r\n    this.value = value;\r\n    if (this.onModelChange) {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  makePrimary(e: Address) {\r\n    this.primaryAddress = e;\r\n    this.activate.emit(e);\r\n  }\r\n\r\n  addNew() {\r\n    this.current = new Address();\r\n    this.editing = true;\r\n  }\r\n\r\n  addressExists(e: Address): boolean {\r\n    return (\r\n      this.addresses.findIndex(\r\n        x => x.address1 === e.address1 && x.cityStateZip === e.cityStateZip\r\n      ) !== -1\r\n    );\r\n  }\r\n\r\n  flashAddressExistsMessage() {\r\n    this.errorMessage = 'Cannot enter duplicate address!';\r\n    setTimeout(() => {\r\n      this.errorMessage = '';\r\n    }, 4000);\r\n  }\r\n\r\n  back() {\r\n    if (this.current.id === 0) {\r\n      this.addresses = this.removeAddress(this.current);\r\n    }\r\n    this.editing = false;\r\n  }\r\n\r\n  closeDialog(e: boolean) {\r\n    if (e) {\r\n      this.addresses = this.removeAddress(this.toBeDeleted);\r\n      this.delete.emit(this.toBeDeleted);\r\n      this.toBeDeleted = undefined;\r\n      this.editing = false;\r\n    }\r\n  }\r\n\r\n  remove(e: Address) {\r\n    this.toBeDeleted = e;\r\n    this.openDialog(ConfirmDeleteComponent);\r\n  }\r\n\r\n  edit(e: Address) {\r\n    this.current = e;\r\n    this.editing = true;\r\n  }\r\n\r\n  save(e: Address) {\r\n    if (!this.addressExists(e)) {\r\n      this.addresses = this.setActiveDates(this.addAddress(e));\r\n      if (e.id) {\r\n        this.add.emit(e);\r\n      } else {\r\n        this.update.emit(e);\r\n      }\r\n      this.editing = false;\r\n    } else if (!this.toBeDeleted) {\r\n      this.flashAddressExistsMessage();\r\n    }\r\n  }\r\n\r\n  private addAddress(address: Address): Address[] {\r\n    return this.reorder([\r\n      address,\r\n      ...this.addresses\r\n        .filter(x => x.id === 0 || x.id !== address.id)\r\n        .map(x =>\r\n          address.isPrimaryAddress && x.isPrimaryAddress && x.id !== address.id\r\n            ? build(Address, x, { isPrimaryAddress: false })\r\n            : build(Address, x)\r\n        )\r\n    ]);\r\n  }\r\n\r\n  private removeAddress(address: Address): Address[] {\r\n    return this.addresses.filter(x => x !== address);\r\n  }\r\n\r\n  private reorder(addresses: Address[]): Address[] {\r\n    return addresses.reduce(\r\n      (acc, x) => (x.isPrimaryAddress ? [x, ...acc] : [...acc, x]),\r\n      []\r\n    );\r\n  }\r\n\r\n  private setActiveDates(addresses: Address[]): Address[] {\r\n    const ordered = addresses\r\n      .sort((a, b) => compareDates(a.effectiveDate, b.effectiveDate))\r\n      .reverse();\r\n    const now = new Date();\r\n    return ordered.map((x, i) => {\r\n      const startDate = x.effectiveDate;\r\n      const endDate =\r\n        ordered[i + 1] &&\r\n        ordered[i + 1].effectiveDate &&\r\n        ordered[i + 1].effectiveDate > x.effectiveDate\r\n          ? ordered[i + 1].effectiveDate\r\n          : null;\r\n      const isPrimaryAddress =\r\n        x.isPrimaryAddress || (startDate < now && endDate > now ? true : false);\r\n      return build(Address, x, { startDate, endDate, isPrimaryAddress });\r\n    });\r\n  }\r\n}\r\n","<div class=\"card address scrollable\">\r\n  <div class=\"card-header\">\r\n    <h4 class=\"card-title\">Address Information</h4>\r\n  </div>\r\n\r\n  <button\r\n    mat-mini-fab\r\n    color=\"primary\"\r\n    class=\"action-icon\"\r\n    *ngIf=\"!editing\"\r\n    (click)=\"addNew()\"\r\n  >\r\n    <mat-icon>add</mat-icon>\r\n  </button>\r\n\r\n  <button\r\n    mat-mini-fab\r\n    color=\"primary\"\r\n    class=\"action-icon\"\r\n    *ngIf=\"editing\"\r\n    (click)=\"back()\"\r\n  >\r\n    <mat-icon>arrow_back</mat-icon>\r\n  </button>\r\n\r\n  <div *ngIf=\"!editing\" class=\"card-body\">\r\n    <div class=\"card-header\">\r\n      <h4 class=\"card-title\">Current Address</h4>\r\n    </div>\r\n    <div *ngIf=\"primaryAddress\" class=\"card-body\">\r\n      <div class=\"body-content\">\r\n        <div class=\"row\">\r\n          <div class=\"col\">\r\n            <iu-inline-address\r\n              [address]=\"primaryAddress\"\r\n              [canActivate]=\"false\"\r\n              [canDelete]=\"true\"\r\n              [canEdit]=\"true\"\r\n              [showName]=\"showName\"\r\n              (delete)=\"remove($event)\"\r\n              (edit)=\"edit($event)\"\r\n            ></iu-inline-address>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"card-header\">\r\n      <h4 class=\"card-title\">Other Addresses</h4>\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <div class=\"body-content choose-address\">\r\n        <iu-inline-address\r\n          *ngFor=\"let choice of choices\"\r\n          [canActivate]=\"hasPrimaryAddress\"\r\n          [canDelete]=\"true\"\r\n          [canEdit]=\"true\"\r\n          [showName]=\"showName\"\r\n          [address]=\"choice\"\r\n          (activate)=\"makePrimary($event)\"\r\n          (delete)=\"remove($event)\"\r\n          (edit)=\"edit($event)\"\r\n        ></iu-inline-address>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <iu-address-form\r\n    *ngIf=\"editing\"\r\n    [address]=\"current\"\r\n    [canDelete]=\"true\"\r\n    [hasPrimaryAddress]=\"hasPrimaryAddress\"\r\n    [showName]=\"showName\"\r\n    [manager]=\"true\"\r\n    [requireEffectiveDate]=\"requireEffectiveDate\"\r\n    [zipPlus4]=\"zipPlus4\"\r\n    [debug]=\"debug\"\r\n    (save)=\"save($event)\"\r\n    (delete)=\"remove($event)\"\r\n  ></iu-address-form>\r\n  <span id=\"error-message\">{{ errorMessage }}</span>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'iu-auto-logout',\r\n  templateUrl: './auto-logout.component.html',\r\n  styleUrls: ['./auto-logout.component.scss']\r\n})\r\nexport class AutoLogoutComponent implements OnInit {\r\n  seconds = 30;\r\n\r\n  constructor(public dialogRef?: MatDialogRef<AutoLogoutComponent>) {}\r\n\r\n  ngOnInit() {\r\n    setInterval(() => {\r\n      if (this.seconds > 0) {\r\n        this.seconds--;\r\n      } else {\r\n        this.logout();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  close() {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close();\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close(true);\r\n    }\r\n  }\r\n}\r\n","<div id=\"auto-logout\">\r\n  <mat-toolbar mat-dialog-title>\r\n    <span class=\"dialog-title\">\r\n      User Session Timed Out Due To Inactivity\r\n    </span>\r\n  </mat-toolbar>\r\n  <mat-dialog-content class=\"scrollable\">\r\n    <div class=\"content-wrapper\">\r\n      <h4>The system will automatically log you out in</h4>\r\n      <span class=\"countdown\">{{ seconds }}</span>\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button class=\"action\" mat-raised-button (click)=\"close()\">\r\n      Keep me logged in\r\n    </button>\r\n    <button class=\"action\" mat-raised-button (click)=\"logout()\">\r\n      Log Out\r\n    </button>\r\n  </mat-dialog-actions>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewEncapsulation,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\n\r\nimport { DialogModel, DialogAction } from '../dialog.model';\r\nimport { build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-unsaved-changes',\r\n  templateUrl: './unsaved-changes.component.html',\r\n  styleUrls: ['./unsaved-changes.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class UnsavedChangesComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  get dialog(): DialogModel {\r\n    return build(DialogModel, {\r\n      title: 'You Have Unsaved Changes!',\r\n      actions: [\r\n        build(DialogAction, { label: `Yes, Discard Changes`, value: true }),\r\n        build(DialogAction, { label: `No, Stay Here`, value: false })\r\n      ]\r\n    });\r\n  }\r\n\r\n  ngOnInit() {}\r\n}\r\n","<iu-dialog id=\"unsaved-changes\" [model]=\"dialog\">\r\n  <div class=\"content-wrapper\">\r\n    <h4>Would you like to discard unsaved changes?</h4>\r\n  </div>\r\n</iu-dialog>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { DialogComponent } from './dialog.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { AutoLogoutComponent } from './auto-logout/auto-logout.component';\r\nimport { ConfirmDeleteComponent } from './confirm-delete/confirm-delete.component';\r\nimport { UnsavedChangesComponent } from './unsaved-changes/unsaved-changes.component';\r\n\r\n@NgModule({\r\n  imports: [SharedModule, MatDialogModule, MatIconModule, MatToolbarModule],\r\n  declarations: [\r\n    DialogComponent,\r\n    AutoLogoutComponent,\r\n    ConfirmDeleteComponent,\r\n    UnsavedChangesComponent\r\n  ],\r\n  exports: [\r\n    MatDialogModule,\r\n    DialogComponent,\r\n    AutoLogoutComponent,\r\n    ConfirmDeleteComponent,\r\n    UnsavedChangesComponent\r\n  ]\r\n})\r\nexport class DialogModule { }\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { FormsModule as Ng2FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  imports: [\r\n    Ng2FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  exports: [\r\n    Ng2FormsModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class FormsModule {\r\n\r\n  static forRoot(): ModuleWithProviders<FormsModule> {\r\n    return {\r\n      ngModule: FormsModule,\r\n      providers: []\r\n    };\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\nimport { AddressComponent } from './address.component';\r\nimport { AddressPipe } from './address.pipe';\r\nimport { AddressFormComponent } from './address-form/address-form.component';\r\nimport { InlineAddressComponent } from './inline-address/inline-address.component';\r\nimport { StatePickerComponent } from './state-picker/state-picker.component';\r\nimport { DialogModule } from '../dialog/dialog.module';\r\nimport { FormsModule } from '../../forms/forms.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    DialogModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatDatepickerModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatNativeDateModule,\r\n    MatSelectModule,\r\n  ],\r\n  declarations: [\r\n    AddressComponent,\r\n    AddressFormComponent,\r\n    InlineAddressComponent,\r\n    AddressPipe,\r\n    StatePickerComponent,\r\n  ],\r\n  exports: [\r\n    AddressComponent,\r\n    AddressFormComponent,\r\n    InlineAddressComponent,\r\n    StatePickerComponent,\r\n    AddressPipe,\r\n  ]\r\n})\r\nexport class AddressModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-audit-fields',\r\n  templateUrl: './audit-fields.component.html',\r\n  styleUrls: ['./audit-fields.component.scss']\r\n})\r\nexport class AuditFieldsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  audit-fields works!\r\n</p>\r\n","import { Observable } from 'rxjs';\r\n\r\nimport { ColumnMetadata } from '../../shared/models';\r\n\r\nexport class Audited {\r\n  startDate: Date = new Date();\r\n  endDate: Date = null;\r\n}\r\n\r\nexport class AuditHistory {\r\n  dataSource: Observable<Audited[]>;\r\n  columns: Observable<ColumnMetadata[]>;\r\n}\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuditHistory, Audited } from '../audit.model';\r\nimport { SmartComponent } from '../../../shared/component';\r\nimport { ColumnMetadata } from '../../../shared/models';\r\nimport { toArray } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-audit-history',\r\n  templateUrl: './audit-history.component.html',\r\n  styleUrls: ['./audit-history.component.scss']\r\n})\r\nexport class AuditHistoryComponent extends SmartComponent implements OnInit {\r\n  columns: ColumnMetadata[] = [];\r\n  dataSource: Audited[] = [];\r\n  constructor(\r\n    public store: Store<any>,\r\n    public dialogRef?: MatDialogRef<AuditHistoryComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data?: AuditHistory\r\n  ) {\r\n    super(store);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sync(['dataSource', 'columns']);\r\n  }\r\n\r\n  get activeRow(): Audited {\r\n    return this.dataSource.length > 0\r\n      ? this.dataSource.find(x => x.endDate === null) || this.dataSource[0]\r\n      : null;\r\n  }\r\n\r\n  get columns$(): Observable<ColumnMetadata[]> {\r\n    return this.data.columns;\r\n  }\r\n\r\n  get dataSource$(): Observable<Audited[]> {\r\n    return this.data.dataSource;\r\n  }\r\n\r\n  get displayedColumns(): string[] {\r\n    return ['startDate', 'endDate', ...this.columns.map(x => x.name)];\r\n  }\r\n\r\n  getDate(date: Date): Date {\r\n    return date === null ? null : new Date(date);\r\n  }\r\n\r\n  getList(list: any[]): string[] {\r\n    return toArray(list).map(x => x.toString());\r\n  }\r\n}\r\n","<div id=\"audit-history\" class=\"scrollable\">\r\n  <mat-table class=\"audit-history-table\" [dataSource]=\"dataSource\">\r\n    <!-- Start Date Column -->\r\n    <ng-container matColumnDef=\"startDate\">\r\n      <mat-header-cell *matHeaderCellDef>Start Date</mat-header-cell>\r\n      <mat-cell *matCellDef=\"let element\">\r\n        {{ element.startDate | date: 'shortDate' }}\r\n      </mat-cell>\r\n      <mat-footer-cell *matFooterCellDef>\r\n        {{ activeRow?.startDate | date: 'shortDate' }}\r\n      </mat-footer-cell>\r\n    </ng-container>\r\n\r\n    <!-- End Date Column -->\r\n    <ng-container matColumnDef=\"endDate\" sticky>\r\n      <mat-header-cell *matHeaderCellDef>End Date</mat-header-cell>\r\n      <mat-cell *matCellDef=\"let element\">\r\n        {{ element.endDate | date: 'shortDate' }}\r\n      </mat-cell>\r\n      <mat-footer-cell class=\"active\" *matFooterCellDef>ACTIVE</mat-footer-cell>\r\n    </ng-container>\r\n\r\n    <!-- Custom Columns -->\r\n    <ng-container *ngFor=\"let column of columns\" [matColumnDef]=\"column.name\">\r\n      <mat-header-cell *matHeaderCellDef>{{ column.label }}</mat-header-cell>\r\n      <mat-cell *matCellDef=\"let element\">\r\n        <span *ngIf=\"!column.type && column.name !== 'lastModifiedDate'\">\r\n          {{ element[column.name] }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'DATE' || column.name === 'lastModifiedDate'\">\r\n          {{ getDate(element[column.name]) | date: 'shortDate' }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'LIST'\">\r\n          <div *ngFor=\"let item of getList(element[column.name])\">\r\n            {{ item }}\r\n          </div>\r\n        </span>\r\n      </mat-cell>\r\n      <!--Active Row-->\r\n      <mat-footer-cell *matFooterCellDef>\r\n        <span *ngIf=\"!column.type && column.name !== 'lastModifiedDate'\">\r\n          {{ activeRow[column.name] }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'DATE' || column.name === 'lastModifiedDate'\">\r\n          {{ getDate(activeRow[column.name]) | date: 'shortDate' }}\r\n        </span>\r\n        <span *ngIf=\"column.type === 'LIST'\">\r\n          <div *ngFor=\"let item of getList(activeRow[column.name])\">\r\n            {{ item }}\r\n          </div>\r\n        </span>\r\n      </mat-footer-cell>\r\n      <!--End Active Row-->\r\n    </ng-container>\r\n\r\n    <!-- Star Column -->\r\n    <!-- <ng-container matColumnDef=\"star\" stickyEnd>\r\n      <th mat-header-cell *matHeaderCellDef></th>\r\n      <td mat-cell *matCellDef=\"let element\">\r\n        <mat-icon>more_vert</mat-icon>\r\n      </td>\r\n    </ng-container> -->\r\n\r\n    <mat-header-row *matHeaderRowDef=\"displayedColumns; sticky: true\"></mat-header-row>\r\n    <mat-row *matRowDef=\"let row; columns: displayedColumns\"></mat-row>\r\n    <mat-footer-row class=\"bold\" *matFooterRowDef=\"displayedColumns; sticky: true\"></mat-footer-row>\r\n  </mat-table>\r\n</div>","import { Injectable } from \"@angular/core\";\r\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\r\nimport { Observable, Subscription, of, throwError } from \"rxjs\";\r\nimport {\r\n  catchError,\r\n  debounceTime,\r\n  distinctUntilChanged,\r\n  finalize,\r\n  map,\r\n  tap\r\n} from \"rxjs/operators\";\r\n\r\nimport { HttpActions } from \"./http.actions\";\r\nimport { HttpOptions } from \"./http.models\";\r\nimport { QueryModel } from \"../shared/models\";\r\nimport { serialize } from \"../shared/utils\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class HttpService {\r\n  private _authToken = \"\";\r\n  private _baseUrl = \"\";\r\n  private authTokenChanges: Subscription;\r\n  private baseUrlChanges: Subscription;\r\n  headers = {};\r\n  logEvents = false;\r\n  useDefaultHeaders = true;\r\n\r\n  constructor(\r\n    public http: HttpClient,\r\n    private baseUrl$: Observable<string>,\r\n    private authToken$: Observable<string>\r\n  ) {\r\n    this.authTokenChanges = this.authToken$.subscribe(x => {\r\n      this.authToken = x;\r\n    });\r\n    this.baseUrlChanges = this.baseUrl$.subscribe(x => {\r\n      this.baseUrl = x;\r\n    });\r\n  }\r\n\r\n  get authToken(): string {\r\n    return this._authToken;\r\n  }\r\n\r\n  set authToken(value: string) {\r\n    this._authToken = value;\r\n  }\r\n\r\n  get baseUrl(): string {\r\n    return this._baseUrl;\r\n  }\r\n\r\n  set baseUrl(value: string) {\r\n    this._baseUrl = value;\r\n  }\r\n\r\n  get defaultHeaders(): HttpHeaders {\r\n    let headers: HttpHeaders = new HttpHeaders();\r\n    headers = headers.append(\"Content-type\", \"application/json\");\r\n    if (this.authToken) {\r\n      headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n    }\r\n    return headers;\r\n  }\r\n\r\n  get requestHeaders(): HttpHeaders {\r\n    let headers: HttpHeaders = this.useDefaultHeaders\r\n      ? this.defaultHeaders\r\n      : new HttpHeaders();\r\n    Object.keys(this.headers).forEach(key => {\r\n      headers = headers.append(key, this.headers[key]);\r\n    });\r\n    return headers;\r\n  }\r\n\r\n  appendHeaders(headers = {}): HttpHeaders {\r\n    let requestHeaders = this.requestHeaders;\r\n    Object.keys(headers).forEach(key => {\r\n      requestHeaders = requestHeaders.append(key, this.headers[key]);\r\n    });\r\n    return requestHeaders;\r\n  }\r\n\r\n  /**\r\n   * Make a DELETE request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  delete(\r\n    relativePath: string,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.delete(url, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      catchError(err => this.onError(err.error)),\r\n      finalize(() => {\r\n        this.onComplete(\"DELETE\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a GET request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  get(\r\n    relativePath: string,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.get(url, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res => {\r\n        return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res;\r\n      }),\r\n      catchError(err => this.onError(err ? err.error : err)),\r\n      finalize(() => {\r\n        this.onComplete(\"GET\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a GET request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  getValue(relativePath: string): Observable<any> {\r\n    const url = this.formatUrl(relativePath);\r\n    let headers: HttpHeaders = new HttpHeaders();\r\n    headers = headers.append(\"Content-type\", \"text/plain\");\r\n    if (this.authToken) {\r\n      headers = headers.append(\"Authorization\", \"Bearer \" + this.authToken);\r\n    }\r\n    const obs = this.http.get(url, {\r\n      headers\r\n    });\r\n    return obs\r\n      // .pipe(\r\n      //   tap(x => {\r\n      //     console.log(x);\r\n      //   }),\r\n      //   catchError(err => this.onError(err ? err.error : err)),\r\n      //   finalize(() => {\r\n      //     this.onComplete(\"GET\", url);\r\n      //   })\r\n      // )\r\n      ;\r\n  }\r\n\r\n  /**\r\n   * Make a GET request.\r\n   * @param fullPath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  getFullPath(\r\n    fullPath: string,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    return this.get(\r\n      fullPath,\r\n      headers,\r\n      Object.assign({}, options, { prependBaseUrl: false })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make an autocomplete GET request.\r\n   * @param relativePath\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  autocomplete(\r\n    relativePath: string,\r\n    query: QueryModel<any>,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    if (!query.term || query.term.length < 1) {\r\n      return of([]);\r\n    }\r\n    const path = `${relativePath}/${QueryModel.BuildQueryString(query)}`;\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.get(url, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      debounceTime(500),\r\n      distinctUntilChanged(),\r\n      map(json => HttpActions.matchPath(path, json)),\r\n      catchError(err => this.onError(err ? err.error : err)),\r\n      finalize(() => {\r\n        this.onComplete(\"GET\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a POST request.\r\n   * @param relativePath\r\n   * @param body\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  post(\r\n    relativePath: string,\r\n    body: any,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.post(url, serialize(body), {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      catchError(err => {\r\n        return this.onError(err ? err.error : err);\r\n      }),\r\n      finalize(() => {\r\n        this.onComplete(\"POST\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a POST request with form url-encoded content type.\r\n   * @param relativePath\r\n   * @param body\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  postFormUrlEncoded(\r\n    relativePath: string,\r\n    body: any,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = new HttpHeaders({\r\n      \"content-type\": \"application/x-www-form-urlencoded\"\r\n    });\r\n    const obs = this.http.post(url, body, {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res =>\r\n        res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res\r\n      ),\r\n      catchError(err => {\r\n        return this.onError(err ? err.error : err);\r\n      }),\r\n      finalize(() => {\r\n        this.onComplete(\"POST FORM URL-ENCODED\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Make a PUT request.\r\n   * @param relativePath\r\n   * @param body\r\n   * @param headers\r\n   * @param options\r\n   */\r\n  put(\r\n    relativePath: string,\r\n    body: any,\r\n    headers = {},\r\n    options: HttpOptions = new HttpOptions()\r\n  ): Observable<any> {\r\n    const url = options.prependBaseUrl\r\n      ? this.formatUrl(relativePath)\r\n      : relativePath;\r\n    const httpHeaders = this.appendHeaders(headers);\r\n    const obs = this.http.put(url, serialize(body), {\r\n      headers: httpHeaders\r\n    });\r\n    return obs.pipe(\r\n      map(res => {\r\n        return res && res[\"json\"] && typeof res[\"json\"] === \"function\"\r\n          ? res[\"json\"]()\r\n          : res;\r\n      }),\r\n      catchError(err => {\r\n        return this.onError(err ? err.error : err);\r\n      }),\r\n      finalize(() => {\r\n        this.onComplete(\"PUT\", url);\r\n      })\r\n    );\r\n  }\r\n\r\n  /**\r\n   * This method will be used to format URLs for all cross-origin requests.\r\n   */\r\n  formatUrl(path: string): string {\r\n    return `${this.baseUrl}/${path}`;\r\n  }\r\n\r\n  /**\r\n   * Use this method when a promise is preferred over an observable.\r\n   */\r\n  getPromise(url: string) {\r\n    return this.get(url)\r\n      .toPromise()\r\n      .then(res => res.json());\r\n  }\r\n\r\n  private onError(error: any) {\r\n    console.log(error);\r\n    // let errorBody: any;\r\n    // try {\r\n    //   errorBody = error._body\r\n    //     ? JSON.parse(error._body)\r\n    //     : { message: 'Internal server error', statusCode: error.status };\r\n    // } catch (e) {\r\n    //   if (error.status <= 0) {\r\n    //     errorBody = { message: 'Internal server error.', statusCode: 500 };\r\n    //   }\r\n    // }\r\n    // if (errorBody.message) {\r\n    //   errorBody.message = errorBody.message.replace(\r\n    //     'An error has occured in the api.System.Exception: ',\r\n    //     ''\r\n    //   );\r\n    //   errorBody.message = errorBody.message.substring(\r\n    //     0,\r\n    //     errorBody.message.indexOf(' at')\r\n    //   );\r\n    // }\r\n    return throwError({\r\n      message:\r\n        error && error.Message\r\n          ? error.Message\r\n          : \"An error occurred in the API.\",\r\n      statusCode: error && error.Code ? error.Code : null\r\n    });\r\n  }\r\n\r\n  private onComplete(method: string, url: string): void {\r\n    if (this.logEvents) {\r\n      console.log(`Completed ${method} request to ${url}`);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { BehaviorSubject, Observable, combineLatest } from 'rxjs';\r\nimport { distinctUntilChanged, switchMap, map, filter } from 'rxjs/operators';\r\nimport { AuditHistoryComponent } from '../audit-history/audit-history.component';\r\nimport { Audited, AuditHistory } from '../audit.model';\r\nimport { HttpService } from '../../../http/http.service';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { ColumnMetadata } from '../../../shared/models';\r\nimport {\r\n  build,\r\n  toArray,\r\n  truthy,\r\n  buildColumnsFromMetadata\r\n} from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-audit-history-link',\r\n  templateUrl: './audit-history-link.component.html',\r\n  styleUrls: ['./audit-history-link.component.scss']\r\n})\r\n\r\nexport class AuditHistoryLinkComponent extends DumbComponent implements OnInit {\r\n  @Input() mapper: (data: any) => Audited;\r\n  @Input() preloadData = false;\r\n  @Input() requestUrl = '';\r\n  @Output() dataLoaded = new EventEmitter<Audited[]>();\r\n  columnMetadata$: Observable<ColumnMetadata[]>;\r\n  columnsSubject = new BehaviorSubject<ColumnMetadata[]>([]);\r\n  dataSourceSubject = new BehaviorSubject<Audited[]>([]);\r\n  dataSource$: Observable<Audited[]>;\r\n  requestUrl$: Observable<string>;\r\n  requestUrlClicksSubject = new BehaviorSubject<string>(null);\r\n  _columns: ColumnMetadata[] = [];\r\n  _data: Audited[] = [];\r\n  _placeholderText = '';\r\n  _requestData: Audited[];\r\n  constructor(public dialog: MatDialog, public http: HttpService) {\r\n    super();\r\n    this.requestUrl$ = this.requestUrlClicksSubject.asObservable().pipe(\r\n      filter(x => truthy(x)),\r\n      distinctUntilChanged()\r\n    );\r\n    this.dataSource$ = this.dataSourceSubject\r\n      .asObservable()\r\n      .pipe(map(x => toArray(x)));\r\n    this.columnMetadata$ = combineLatest(\r\n      this.dataSource$,\r\n      this.columnsSubject.asObservable(),\r\n      (dataSource, columns) => {\r\n        return Array.isArray(columns) && columns.length > 1\r\n          ? columns\r\n          : buildColumnsFromMetadata(dataSource, 'history').filter(\r\n              x => x.name !== 'startDate' && x.name !== 'endDate'\r\n            );\r\n      }\r\n    );\r\n  }\r\n\r\n  @Input() set columns(value: ColumnMetadata[]) {\r\n    this._columns = value;\r\n    this.columnsSubject.next(value);\r\n  }\r\n\r\n  get columns(): ColumnMetadata[] {\r\n    return this._columns;\r\n  }\r\n\r\n  @Input() set data(value: Audited[]) {\r\n    this._data = value;\r\n    this.dataSourceSubject.next(value);\r\n  }\r\n\r\n  get data(): Audited[] {\r\n    return this._data;\r\n  }\r\n\r\n  @Input()\r\n  set placeholderText(value: string) {\r\n    this._placeholderText = value;\r\n  }\r\n\r\n  get placeholderText() {\r\n    return this._placeholderText || 'View Audit History';\r\n  }\r\n\r\n  set requestData(value: Audited[]) {\r\n    this._requestData = value;\r\n    this.dataSourceSubject.next(value);\r\n    this.dataLoaded.emit(value);\r\n  }\r\n\r\n  get requestData(): Audited[] {\r\n    return this._requestData;\r\n  }\r\n\r\n  get requestData$(): Observable<Audited[]> {\r\n    return this.requestUrl$.pipe(\r\n      switchMap(url => this.http.get(url)),\r\n      map(x =>\r\n        toArray(x).map(y =>\r\n          this.mapper && typeof this.mapper === 'function'\r\n            ? this.mapper(y)\r\n            : build(Audited, y)\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sync(['requestData']);\r\n    if (this.preloadData) {\r\n      this.refreshData();\r\n    }\r\n  }\r\n\r\n  refreshData() {\r\n    this.requestUrlClicksSubject.next(this.requestUrl);\r\n  }\r\n\r\n  viewHistory() {\r\n    if (!this.preloadData) {\r\n      this.refreshData();\r\n    }\r\n    this.openDialog(AuditHistoryComponent, {\r\n      data: build(AuditHistory, {\r\n        dataSource: this.dataSource$,\r\n        columns: this.columnMetadata$\r\n      })\r\n    });\r\n  }\r\n}\r\n","<button mat-button color=\"primary\" (click)=\"viewHistory()\">\r\n  {{ placeholderText }}\r\n</button>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatTableModule } from '@angular/material/table';\r\n\r\nimport { AuditFieldsComponent } from './audit-fields/audit-fields.component';\r\nimport { AuditHistoryComponent } from './audit-history/audit-history.component';\r\nimport { AuditHistoryLinkComponent } from './audit-history-link/audit-history-link.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AuditFieldsComponent,\r\n    AuditHistoryComponent,\r\n    AuditHistoryLinkComponent\r\n  ],\r\n  exports: [\r\n    AuditFieldsComponent,\r\n    AuditHistoryComponent,\r\n    AuditHistoryLinkComponent\r\n  ],\r\n  imports: [SharedModule, MatButtonModule, MatTableModule, MatIconModule]\r\n})\r\nexport class AuditModule { }\r\n","import { Dimensions, Image, Coordinates } from '../../shared/models';\r\n\r\nexport class Tile {\r\n    cellHeight = 0;\r\n    cellWidth = 0;\r\n    color = '#fff';\r\n    index = 0;\r\n    name = '';\r\n    src = '';\r\n    text = '';\r\n\r\n    _coordinates: Coordinates = new Coordinates();\r\n    _dimensions: Dimensions = new Dimensions();\r\n    _image: Image = new Image();\r\n\r\n    get id(): number {\r\n        return this.index + this.imageId * .0001;\r\n    }\r\n\r\n    get approxRatio(): number {\r\n        return this.rows * this.cellHeight / this.columns * this.cellWidth;\r\n    }\r\n\r\n    get columns(): number {\r\n        return this.dimensions.columns;\r\n    }\r\n\r\n    get coordinates(): Coordinates {\r\n        return this._coordinates || new Coordinates();\r\n    }\r\n\r\n    set coordinates(value: Coordinates) {\r\n        this._coordinates = value;\r\n    }\r\n\r\n    get dimensions(): Dimensions {\r\n        return this._dimensions || new Dimensions();\r\n    }\r\n\r\n    set dimensions(value: Dimensions) {\r\n        this._dimensions = value;\r\n    }\r\n\r\n    get height(): number {\r\n        return this.rows * this.cellHeight;\r\n    }\r\n\r\n    get heightScale(): number {\r\n        return (this.rows * this.cellHeight) / this.image.height;\r\n    }\r\n\r\n    get image(): Image {\r\n        return this._image || new Image();\r\n    }\r\n\r\n    set image(value: Image) {\r\n        this._image = value;\r\n    }\r\n\r\n    get imageHeight(): number {\r\n        return this.image.height * this.scale;\r\n    }\r\n\r\n    get imageId(): number {\r\n        return this.image.id;\r\n    }\r\n\r\n    get imageSrc(): string {\r\n        return this.image.src;\r\n    }\r\n\r\n    get imageWidth(): number {\r\n        return this.image.width * this.scale;\r\n    }\r\n\r\n    get positionLeft(): number {\r\n        return this.startColumn * this.cellWidth;\r\n    }\r\n\r\n    get positionTop(): number {\r\n        return this.startRow * this.cellHeight;\r\n    }\r\n\r\n    get ratio(): number {\r\n        return this.dimensions.ratio;\r\n    }\r\n\r\n    get rows(): number {\r\n        return this.dimensions.rows;\r\n    }\r\n\r\n    get scale(): number {\r\n        return this.heightScale >= this.widthScale ? this.heightScale : this.widthScale;\r\n    }\r\n\r\n    get startColumn(): number {\r\n        return this.coordinates.column;\r\n    }\r\n\r\n    get startRow(): number {\r\n        return this.coordinates.row;\r\n    }\r\n\r\n    get width(): number {\r\n        return this.columns * this.cellWidth;\r\n    }\r\n\r\n    get widthScale(): number {\r\n        return (this.columns * this.cellWidth) / this.image.width;\r\n    }\r\n\r\n}\r\n","import { Tile } from '../tile/tile.model';\r\nimport { Image, Dimensions, Coordinates } from '../../shared/models';\r\nimport { integerArray, positiveIntegerArray, build, inArray } from '../../shared/utils';\r\n\r\nexport class Collage {\r\n    canvasHeight = 0;\r\n    canvasWidth = 0;\r\n    cellHeight = 0;\r\n    cellWidth = 0;\r\n    maxColumns = 4;\r\n    maxRows = 4;\r\n    tileDimensions: Dimensions[] = [];\r\n    totalColumns = 0;\r\n    totalRows = 0;\r\n    _cells: number[][];\r\n    _images: Image[] = [];\r\n    _tiles: Tile[] = [];\r\n\r\n    /**\r\n     * Build new collage instance with given parameters.\r\n     * @param images \r\n     * @param canvasHeight \r\n     * @param canvasWidth \r\n     * @param totalRows \r\n     * @param totalColumns \r\n     * @param maxRows \r\n     * @param maxColumns \r\n     */\r\n    static Build(images: Image[], canvasHeight, canvasWidth, totalRows = 0, totalColumns = 0, maxRows = 0, maxColumns = 0): Collage {\r\n        const cellHeight = canvasHeight / totalRows;\r\n        const cellWidth = canvasWidth / totalColumns;\r\n        const tileDimensions = Collage.GetTileDimensions(cellHeight, cellWidth, maxRows, maxColumns);\r\n        const collage = Object.assign(new Collage(), {\r\n            canvasHeight,\r\n            canvasWidth,\r\n            totalRows,\r\n            totalColumns,\r\n            maxRows,\r\n            maxColumns,\r\n            cellHeight,\r\n            cellWidth,\r\n            tileDimensions,\r\n        });\r\n        collage.images = images;\r\n        return collage;\r\n    }\r\n\r\n    /**\r\n     * Build array of all possible dimensions for a single tile in the collage.\r\n     * @param cellHeight \r\n     * @param cellWidth \r\n     * @param maxRows \r\n     * @param maxColumns \r\n     */\r\n    static GetTileDimensions(cellHeight: number, cellWidth: number, maxRows: number, maxColumns: number): Dimensions[] {\r\n        return positiveIntegerArray(maxRows).reduce((acc, x) => {\r\n            const dimensions = positiveIntegerArray(maxColumns)\r\n                .map(y => build(Dimensions, {\r\n                    rows: x,\r\n                    columns: y,\r\n                    height: x * cellHeight,\r\n                    width: y * cellWidth\r\n                }));\r\n            return [...acc, ...dimensions];\r\n        }, []);\r\n    }\r\n\r\n    get cells(): number[][] {\r\n        return this._cells || this.emptyCells;\r\n    }\r\n\r\n    set cells(value: number[][]) {\r\n        this._cells = value;\r\n    }\r\n\r\n    get emptyCells(): number[][] {\r\n        return integerArray(this.totalRows).map(x => integerArray(this.totalColumns).map(y => 0));\r\n    }\r\n\r\n    get images(): Image[] {\r\n        return this._images;\r\n    }\r\n\r\n    set images(value: Image[]) {\r\n        this._images = value.map((img, index) => Image.BuildForTile(img, this.tileDimensions, index + 1));\r\n        // console.dir(this.images);\r\n        // console.dir(this.tiles);\r\n        // console.dir(this);\r\n    }\r\n\r\n    get tiles(): Tile[] {\r\n        this.cells = this.emptyCells;\r\n        return integerArray(this.totalCells)\r\n            .reduce((acc, i) => {\r\n                // console.dir(acc);\r\n                return this.isCellFilled(i) ? acc : [...acc, this.fillCell(i)]\r\n            }, []);\r\n    }\r\n\r\n    get totalCells(): number {\r\n        return this.totalRows * this.totalColumns;\r\n    }\r\n\r\n    private buildTile(image: Image, dimensions: Dimensions, coordinates: Coordinates, index: number): Tile {\r\n        const t = build(Tile, {\r\n            image,\r\n            dimensions,\r\n            coordinates,\r\n            index,\r\n            cellHeight: this.cellHeight,\r\n            cellWidth: this.cellWidth,\r\n        });\r\n        // console.log(\r\n        //     '\\nTILE ASSIGNED TO INDEX', index,\r\n        //     '\\nStart Row:\\t', t.startRow,\r\n        //     '\\nStartColumn:\\t', t.startColumn,\r\n        //     '\\nRows:\\t', t.rows,\r\n        //     '\\nColumns:\\t', t.columns,\r\n        // );\r\n        // console.dir(t);\r\n        return t;\r\n    }\r\n\r\n    private fillCell(index: number): Tile {\r\n        // console.log('\\n\\n\\n\\nFILLING CELL AT INDEX', index);\r\n        const coordinates = this.findCoordinates(index);\r\n        // console.log(\r\n        //     '\\nStart Row:\\t', coordinates.row,\r\n        //     '\\nStart Column:\\t', coordinates.column,\r\n        // );\r\n        const dim = this.findAvailableDimensions(coordinates.row, coordinates.column);\r\n        // console.log('Available Dimensions...');\r\n        dim.forEach(x => {\r\n            // console.log(\r\n            //     '\\nRows:\\t', x.rows,\r\n            //     '\\nColumns:\\t', x.columns,\r\n            // );\r\n        });\r\n        return this.images.reduce((acc, image, i) => {\r\n            if (acc) {\r\n                return <Tile>acc;\r\n            }\r\n            const dimensions = this.findImageDimensions(image, dim);\r\n            if (dimensions) {\r\n                this.reorderImages(i);\r\n                const tile = this.buildTile(image, dimensions, coordinates, index);\r\n                this.markCellsFilled(tile);\r\n                // console.dir(this);\r\n                // console.dir(this.cells);\r\n                // console.log('_____________________________________________________________\\n\\n\\n\\n');\r\n                return tile;\r\n            }\r\n            return null;\r\n        }, <Tile>null);\r\n    }\r\n\r\n    private findAvailableColumns(startRow: number, startColumn: number): number {\r\n        return Math.max(...positiveIntegerArray(this.maxColumns)\r\n            .map(k => k <= this.maxColumns && startColumn + k <= this.totalColumns && this.cells[startRow] && this.cells[startRow][startColumn + k] === 0 ? k : 1));\r\n    }\r\n\r\n    private findAvailableRows(startRow: number, startColumn: number): number {\r\n        return Math.max(...positiveIntegerArray(this.maxRows)\r\n            .map(k => k <= this.maxRows && startRow + k <= this.totalRows && this.cells[startRow + k] && this.cells[startRow + k][startColumn] === 0 ? k : 1));\r\n    }\r\n\r\n    private findAvailableDimensions(startRow: number, startColumn: number): Dimensions[] {\r\n        const availableRows = this.findAvailableRows(startRow, startColumn);\r\n        const availableColumns = this.findAvailableColumns(startRow, startColumn);\r\n        return this.tileDimensions.filter(x => x.rows <= availableRows && x.columns <= availableColumns);\r\n    }\r\n\r\n    private findCoordinates(index: number): Coordinates {\r\n        const remainder = (index + this.totalColumns) % this.totalColumns;\r\n        return {\r\n            row: (index - remainder) / this.totalColumns,\r\n            column: remainder\r\n        };\r\n    }\r\n\r\n    private findImageDimensions(image: Image, dim: Dimensions[]): Dimensions {\r\n        return image.dimensions.find(x => inArray(dim, x));\r\n    }\r\n\r\n    private isCellFilled(index: number): boolean {\r\n        const coordinates = this.findCoordinates(index);\r\n        return this.cells[coordinates.row][coordinates.column] !== 0;\r\n    }\r\n\r\n    private markCellsFilled(tile: Tile) {\r\n        let cells = this.cells;\r\n        const coordinates = this.findCoordinates(tile.index);\r\n        for (let i = 0; i < tile.rows; i++) {\r\n            for (let j = 0; j < tile.columns; j++) {\r\n                cells[coordinates.row + i][coordinates.column + j] = tile.id;\r\n            }\r\n        }\r\n        this.cells = cells;\r\n    }\r\n\r\n    private reorderImages(index: number) {\r\n        this._images = [...this._images.filter((img, i) => i !== index), this._images[index]];\r\n    }\r\n\r\n}\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { Tile } from './tile.model';\r\nimport { build } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-tile',\r\n  templateUrl: './tile.component.html',\r\n  styleUrls: ['./tile.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TileComponent implements OnInit {\r\n\r\n  _tile: Tile = new Tile();\r\n  @Input() imageOpacity = 1;\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  set tile(value: Tile) {\r\n    this._tile = value;\r\n  }\r\n\r\n  get tile(): Tile {\r\n    return build(Tile, this._tile);\r\n  }\r\n\r\n  get backgroundColor(): string {\r\n    return '';\r\n  }\r\n\r\n  get height(): number {\r\n    return this.tile.height;\r\n  }\r\n\r\n  get imageHeight(): number {\r\n    return this.tile.imageHeight;\r\n  }\r\n\r\n  get imageSrc(): string {\r\n    return this.tile.image.src;\r\n  }\r\n\r\n  get imageWidth(): number {\r\n    return this.tile.imageWidth;\r\n  }\r\n\r\n  get position(): 'absolute' | 'relative' | 'fixed' {\r\n    return 'absolute';\r\n  }\r\n\r\n  get positionLeft(): number {\r\n    return this.tile.positionLeft;\r\n  }\r\n\r\n  get positionTop(): number {\r\n    return this.tile.positionTop;\r\n  }\r\n\r\n  get width(): number {\r\n    return this.tile.width;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div fxLayout fxLayoutAlign=\"center center\" class=\"tile\" [style.position]=\"position\" [style.top.px]=\"positionTop\"\r\n  [style.left.px]=\"positionLeft\" [style.background-color]=\"backgroundColor\" [style.height.px]=\"height\" [style.width.px]=\"width\">\r\n  <img [src]=\"imageSrc\" [style.height.px]=\"imageHeight\" [style.width.px]=\"imageWidth\" [style.opacity]=\"imageOpacity\">\r\n  <!-- <h4>{{tile.id}}</h4> -->\r\n</div>\r\n","import { Component, ChangeDetectionStrategy, Input } from '@angular/core';\r\n\r\nimport { Collage } from './collage.model';\r\nimport { Tile } from '../tile/tile.model';\r\nimport { Image } from '../../shared/models';\r\nimport { shuffle } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-collage',\r\n  templateUrl: './collage.component.html',\r\n  styleUrls: ['./collage.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CollageComponent {\r\n\r\n  @Input() imageOpacity = 1;\r\n  @Input() canvasHeight = 0;\r\n  @Input() canvasWidth = 0;\r\n  @Input() totalRows = 0;\r\n  @Input() totalColumns = 0;\r\n  @Input() maxRows = 0;\r\n  @Input() maxColumns = 0;\r\n  @Input() shuffle = false;\r\n  @Input() _images: Image[] = [];\r\n\r\n  constructor() { }\r\n\r\n  @Input() set images(value: Image[]) {\r\n    this._images = value;\r\n  }\r\n\r\n  get images(): Image[] {\r\n    return this.shuffle ? shuffle(this._images) : this._images;\r\n  }\r\n\r\n  get collage(): Collage {\r\n    return this.canvasHeight > 0 && this.canvasWidth > 0 ?\r\n      Collage.Build(this.images, this.canvasHeight, this.canvasWidth, this.totalRows, this.totalColumns, this.maxRows, this.maxColumns)\r\n      : new Collage();\r\n  }\r\n\r\n  get tiles(): Tile[] {\r\n    return this.collage.tiles;\r\n  }\r\n\r\n}\r\n","<div class=\"collage\" [style.height.px]=\"canvasHeight\" [style.width.px]=\"canvasWidth\">\r\n    <iu-tile *ngFor=\"let tile of tiles\" [tile]=\"tile\" [imageOpacity]=\"imageOpacity\"></iu-tile>\r\n</div>","import { NgModule } from '@angular/core';\r\n\r\nimport { TileComponent } from './tile.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    TileComponent,\r\n  ],\r\n  exports: [\r\n    TileComponent,\r\n  ]\r\n})\r\nexport class TileModule { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { CollageComponent } from './collage.component';\r\nimport { TileModule } from '../tile/tile.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    TileModule,\r\n  ],\r\n  declarations: [\r\n    CollageComponent,\r\n  ],\r\n  exports: [\r\n    CollageComponent,\r\n  ]\r\n})\r\nexport class CollageModule { }\r\n","import { Component, OnInit, HostListener, Input } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { SmartComponent } from '../../shared/component';\r\nimport { Image } from '../../shared/models';\r\nimport { truthy } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-container',\r\n  templateUrl: './container.component.html',\r\n  styleUrls: ['./container.component.scss']\r\n})\r\nexport class ContainerComponent extends SmartComponent implements OnInit {\r\n\r\n  @Input() backgroundImage: string;\r\n  @Input() showHelp = true;\r\n  @Input() navbar;\r\n  _hasWallpaper = true;\r\n  _images: Image[] = [];\r\n\r\n  constructor(\r\n    public store: Store<any>,\r\n    public dialog: MatDialog) {\r\n    super(store);\r\n  }\r\n\r\n  @Input() set hasWallpaper(value: boolean) {\r\n    this._hasWallpaper = value;\r\n  }\r\n\r\n  get hasWallpaper(): boolean {\r\n    return this._hasWallpaper;\r\n  }\r\n\r\n  get hasBackgroundImage(): boolean {\r\n    return truthy(this.backgroundImage) && !this.hasWallpaper;\r\n  }\r\n\r\n  set images(value: Image[]) {\r\n    this._images = value;\r\n  }\r\n\r\n  get images(): Image[] {\r\n    return this.mobile ? this._images.filter((x, i) => i < 20) : this._images;\r\n  }\r\n\r\n  get contentWidth(): number {\r\n    return this.windowWidth - this.offsetLeft;\r\n  }\r\n\r\n  get mobile(): boolean {\r\n    return this.windowWidth < 1000;\r\n  }\r\n\r\n  get offsetLeft(): number {\r\n    return 0;\r\n  }\r\n\r\n  get offsetTop(): number {\r\n    return this.navbar ? 130 : 64;\r\n  }\r\n\r\n  get menuWidth(): number {\r\n    return this.windowWidth;\r\n  }\r\n\r\n  get windowHeight(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10) - 64;\r\n  }\r\n\r\n  set windowHeight(value: number) {\r\n    localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n  }\r\n\r\n  get windowWidth(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n  }\r\n\r\n  set windowWidth(value: number) {\r\n    localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.windowHeight = parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n    this.windowWidth = parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n  }\r\n\r\n  @HostListener('window:load', ['$event'])\r\n  onLoad(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    // console.log('\\n\\nwindow:load', this.windowWidth, this.windowHeight);\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    // console.log('\\n\\nwindow:resize', this.windowWidth, this.windowHeight);\r\n  }\r\n\r\n}","<!-- <iu-header [windowWidth]=\"contentWidth\" [offsetLeft]=\"offsetLeft\" [mobile]=\"mobile\"></iu-header>\r\n<iu-navbar *ngIf=\"navbar\">\r\n  <iu-breadcrumbs *ngIf=\"breadcrumbs\"></iu-breadcrumbs>\r\n</iu-navbar>\r\n<iu-sidenav *ngIf=\"!mobile\" [style.height.px]=\"sidenavHeight\"></iu-sidenav>\r\n\r\n<div id=\"content\" class=\"scrollable\" [style.height.px]=\"windowHeight\" [style.width.px]=\"contentWidth\" [style.left.px]=\"offsetLeft\"\r\n  [style.background-image]=\"hasBackgroundImage ? 'url(' + backgroundImage + ')' : 'none'\">\r\n  <ng-content></ng-content>\r\n  <iu-wallpaper *ngIf=\"hasWallpaper\" [images]=\"images\" [imageOpacity]=\"0.6\" [shuffle]=\"true\" [offsetLeft]=\"offsetLeft\"\r\n    [offsetTop]=\"offsetTop\"></iu-wallpaper>\r\n</div> -->\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-breadcrumbs',\r\n  templateUrl: './breadcrumbs.component.html',\r\n  styleUrls: ['./breadcrumbs.component.scss']\r\n})\r\nexport class BreadcrumbsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  breadcrumbs works!\r\n</p>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { BreadcrumbsComponent } from './breadcrumbs.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    BreadcrumbsComponent,\r\n  ],\r\n  exports: [\r\n    BreadcrumbsComponent,\r\n  ]\r\n})\r\nexport class BreadcrumbsModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  @Input() mobile = false;\r\n  @Input() offsetLeft = 0;\r\n  @Input() windowWidth = 0;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<mat-toolbar id=\"header\" color=\"primary\" class=\"mat-elevation-z6\" [style.width.px]=\"windowWidth\" [style.left.px]=\"offsetLeft\">\r\n  <a class=\"banner\" routerLink=\"/\" [class.mobile]=\"mobile\">\r\n    <img src=\"assets/banner.jpg\">\r\n  </a>\r\n  <div id=\"header-links\">\r\n    <a class=\"link\" routerLink=\"/home\" routerLinkActive=\"active-link\">\r\n      <mat-icon>home</mat-icon>\r\n    </a>\r\n  </div>\r\n</mat-toolbar>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { HeaderComponent } from './header.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MatIconModule,\r\n    MatToolbarModule,\r\n  ],\r\n  declarations: [\r\n    HeaderComponent,\r\n  ],\r\n  exports: [\r\n    HeaderComponent,\r\n  ]\r\n})\r\nexport class HeaderModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div id=\"navbar\">\r\n  <a class=\"link\" routerLink=\"/about\">About Us</a>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { NavbarComponent } from './navbar.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule\r\n  ],\r\n  declarations: [\r\n    NavbarComponent,\r\n  ],\r\n  exports: [\r\n    NavbarComponent,\r\n  ]\r\n})\r\nexport class NavbarModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-social-icons',\r\n  templateUrl: './social-icons.component.html',\r\n  styleUrls: ['./social-icons.component.scss']\r\n})\r\nexport class SocialIconsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"social-icons\">\r\n  <a target=\"_blank\" href=\"https://www.facebook.com/grow.and.tellSLP/?pnref=lhc\"><img src=\"assets/facebook.png\"></a>\r\n  <a target=\"_blank\" href=\"https://www.linkedin.com/in/jessica-over-9a697011b?trk=nav_responsive_tab_profile\"><img src=\"assets/linkedin.png\"></a>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-sidenav',\r\n  templateUrl: './sidenav.component.html',\r\n  styleUrls: ['./sidenav.component.scss']\r\n})\r\nexport class SidenavComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<nav class=\"sidenav\">\r\n  <a class=\"link\" routerLink=\"/home\" routerLinkActive=\"active-link\">\r\n    <img class=\"logo\" src=\"assets/logo.png\">\r\n  </a>\r\n  <a class=\"link\" routerLink=\"/rankings\" routerLinkActive=\"active-link\">\r\n    <mat-icon>format_list_numbered</mat-icon>\r\n    <span class=\"label\">Rankings</span>\r\n  </a>\r\n  <iu-social-icons></iu-social-icons>\r\n</nav>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { SocialIconsComponent } from './social-icons.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [\r\n    SocialIconsComponent,\r\n  ],\r\n  exports: [\r\n    SocialIconsComponent,\r\n  ]\r\n})\r\nexport class SocialIconsModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\n\r\nimport { SidenavComponent } from './sidenav.component';\r\nimport { SocialIconsModule } from '../social-icons/social-icons.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MatIconModule,\r\n    SocialIconsModule,\r\n  ],\r\n  declarations: [\r\n    SidenavComponent,\r\n  ],\r\n  exports: [\r\n    SidenavComponent,\r\n  ]\r\n})\r\nexport class SidenavModule { }\r\n","import { Component, Input, ElementRef, HostListener, OnInit } from '@angular/core';\r\n\r\nimport { Image } from '../../shared/models';\r\n\r\n@Component({\r\n  selector: 'iu-wallpaper',\r\n  templateUrl: './wallpaper.component.html',\r\n  styleUrls: ['./wallpaper.component.scss']\r\n})\r\nexport class WallpaperComponent implements OnInit {\r\n  @Input() debug = false;\r\n  @Input() images: Image[] = [];\r\n  @Input() imageOpacity = .4;\r\n  @Input() bodyMargin = 0;\r\n  @Input() offsetTop = 0;\r\n  @Input() offsetLeft = 0;\r\n  // @Input() positionTop = 0;\r\n  // @Input() positionLeft = 0;\r\n  @Input() minCellWidth = 40;\r\n  @Input() minCellHeight = 40;\r\n  @Input() maxTileWidth = 240;\r\n  @Input() maxTileHeight = 400;\r\n  @Input() shuffle = false;\r\n  clientHeight = 0;\r\n  clientWidth = 0;\r\n\r\n  constructor(public elementRef: ElementRef) { }\r\n\r\n  get maxColumns(): number {\r\n    return Math.floor(this.maxTileWidth / this.minCellWidth);\r\n  }\r\n\r\n  get maxRows(): number {\r\n    return Math.floor(this.maxTileHeight / this.minCellHeight);\r\n  }\r\n\r\n  get positionLeft(): number {\r\n    return this.offsetLeft === 0 ? -this.bodyMargin : this.offsetLeft - this.bodyMargin;\r\n  }\r\n\r\n  get positionTop(): number {\r\n    return this.offsetTop === 0 ? -this.bodyMargin : this.offsetTop - this.bodyMargin;\r\n  }\r\n\r\n  get totalColumns(): number {\r\n    return Math.floor(this.canvasWidth / this.minCellWidth);\r\n  }\r\n\r\n  get totalRows(): number {\r\n    return Math.floor(this.canvasHeight / this.minCellHeight);\r\n  }\r\n\r\n  get canvasHeight(): number {\r\n    return this.windowHeight ? this.windowHeight - this.offsetTop - this.bodyMargin : this.clientHeight;\r\n  }\r\n\r\n  get canvasWidth(): number {\r\n    return this.windowWidth ? this.windowWidth - this.offsetLeft - this.bodyMargin : this.clientWidth;\r\n  }\r\n\r\n  get windowHeight(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_HEIGHT'), 10);\r\n  }\r\n\r\n  set windowHeight(value: number) {\r\n    // console.log('\\n\\nWindow Height:\\t', value);\r\n    localStorage.setItem('WINDOW_HEIGHT', value.toString());\r\n  }\r\n\r\n  get windowWidth(): number {\r\n    return parseInt(localStorage.getItem('WINDOW_WIDTH'), 10);\r\n  }\r\n\r\n  set windowWidth(value: number) {\r\n    // console.log('Window Width:\\t', value);\r\n    localStorage.setItem('WINDOW_WIDTH', value.toString());\r\n  }\r\n\r\n  @HostListener('window:load', ['$event'])\r\n  onLoad(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    this.resetDimensions();\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  onResize(e: any) {\r\n    this.windowHeight = e && e.currentTarget && e.currentTarget.innerHeight ? e.currentTarget.innerHeight : 0;\r\n    this.windowWidth = e && e.currentTarget && e.currentTarget.innerWidth ? e.currentTarget.innerWidth : 0;\r\n    this.resetDimensions();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.resetDimensions();\r\n  }\r\n\r\n  resetDimensions() {\r\n    this.clientHeight = this.elementRef.nativeElement.clientHeight;\r\n    this.clientWidth = this.elementRef.nativeElement.clientWidth;\r\n    if (this.debug) {\r\n      this.logDimensions();\r\n    }\r\n  }\r\n\r\n  logDimensions() {\r\n    console.log('\\n\\nWindow Height:\\t', this.windowHeight);\r\n    console.log('Window Width:\\t', this.windowWidth);\r\n    console.log('Canvas Height:\\t', this.canvasHeight);\r\n    console.log('Canvas Width:\\t', this.canvasWidth);\r\n    console.log('Client Height:\\t', this.clientHeight);\r\n    console.log('Client Width:\\t', this.clientWidth);\r\n  }\r\n\r\n}\r\n","<div class=\"wallpaper\" [style.height.px]=\"canvasHeight\" [style.width.px]=\"canvasWidth\" [style.top.px]=\"positionTop\"\r\n  [style.left.px]=\"positionLeft\">\r\n  <iu-collage [images]=\"images\" [canvasHeight]=\"canvasHeight\" [canvasWidth]=\"canvasWidth\" [totalRows]=\"totalRows\"\r\n    [totalColumns]=\"totalColumns\" [maxRows]=\"maxRows\" [maxColumns]=\"maxColumns\" [imageOpacity]=\"imageOpacity\"\r\n    [shuffle]=\"shuffle\"></iu-collage>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { WallpaperComponent } from './wallpaper.component';\r\nimport { CollageModule } from '../collage/collage.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    CollageModule,\r\n  ],\r\n  declarations: [\r\n    WallpaperComponent,\r\n  ],\r\n  exports: [\r\n    WallpaperComponent,\r\n  ]\r\n})\r\nexport class WallpaperModule { }\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { ContainerComponent } from './container.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { BreadcrumbsModule } from '../breadcrumbs/breadcrumbs.module';\r\nimport { HeaderModule } from '../header/header.module';\r\nimport { NavbarModule } from '../navbar/navbar.module';\r\nimport { SidenavModule } from '../sidenav/sidenav.module';\r\nimport { SocialIconsModule } from '../social-icons/social-icons.module';\r\nimport { WallpaperModule } from '../wallpaper/wallpaper.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    BreadcrumbsModule,\r\n    HeaderModule,\r\n    NavbarModule,\r\n    SidenavModule,\r\n    SocialIconsModule,\r\n    WallpaperModule,\r\n  ],\r\n  declarations: [\r\n    ContainerComponent,\r\n  ],\r\n  exports: [\r\n    ContainerComponent,\r\n    BreadcrumbsModule,\r\n    HeaderModule,\r\n    NavbarModule,\r\n    SidenavModule,\r\n    SocialIconsModule,\r\n    WallpaperModule,\r\n  ]\r\n})\r\nexport class ContainerModule { }\r\n","import { AbstractControl, ValidatorFn } from '@angular/forms';\r\nimport { build, toInt, integerArray } from \"./utils\";\r\n\r\nexport class DateRange {\r\n   startDate: Date = null;\r\n   endDate: Date = null;\r\n}\r\n\r\nexport class Month {\r\n   index = 0;\r\n   name = \"\";\r\n   abbreviation = \"\";\r\n   initial = \"\";\r\n}\r\n\r\nexport class Weekday {\r\n   index = 0;\r\n   name = \"\";\r\n   abbreviation = \"\";\r\n   initial = \"\";\r\n}\r\n\r\nexport class DateHelper {\r\n   static MonthNames = [\r\n      \"January\",\r\n      \"February\",\r\n      \"March\",\r\n      \"April\",\r\n      \"May\",\r\n      \"June\",\r\n      \"July\",\r\n      \"August\",\r\n      \"September\",\r\n      \"October\",\r\n      \"November\",\r\n      \"December\",\r\n   ];\r\n\r\n   static BuildStartTime(\r\n      startDate: Date,\r\n      startHours: number,\r\n      startMinutes: number,\r\n      startMeridian: \"AM\" | \"PM\"\r\n   ): Date {\r\n      const startTime = new Date(startDate);\r\n      const hours = startMeridian === \"AM\" ? startHours : startHours + 12;\r\n      startTime.setHours(hours);\r\n      startTime.setMinutes(startMinutes);\r\n      return startTime;\r\n   }\r\n\r\n   static BuildEndTime(startTime: Date, dHours: number, dMinutes: number): Date {\r\n      const endTime = new Date(startTime);\r\n      endTime.setHours(endTime.getHours() + dHours);\r\n      endTime.setMinutes(endTime.getMinutes() + dMinutes);\r\n      return endTime;\r\n   }\r\n\r\n   static CalendarDaySpan(startDate: Date, endDate: Date): Date[] {\r\n      const daysBetween = Math.ceil(\r\n         DateHelper.DaysBetween(startDate, endDate) + 1\r\n      );\r\n      return daysBetween && daysBetween > 0\r\n         ? integerArray(daysBetween).map((i) => {\r\n            const d = new Date(startDate);\r\n            d.setDate(new Date(startDate).getDate() + i);\r\n            return d;\r\n         })\r\n         : [new Date(startDate)];\r\n   }\r\n\r\n   static CalendarDayStringSpan(startDate: Date, endDate: Date): string[] {\r\n      return DateHelper.CalendarDaySpan(startDate, endDate).map((d) =>\r\n         DateHelper.ToDayString(d)\r\n      );\r\n   }\r\n\r\n   static CountDaysInMonth(date: Date): number {\r\n      return DateHelper.DaysInMonth(date).length;\r\n   }\r\n\r\n   static DaysBetween(startDate: Date, endDate: Date): number {\r\n      const millisecondsPerDay = 24 * 60 * 60 * 1000;\r\n      return (\r\n         (DateHelper.TreatAsUTC(new Date(endDate)).getTime() -\r\n            DateHelper.TreatAsUTC(new Date(startDate)).getTime()) /\r\n         millisecondsPerDay\r\n      );\r\n   }\r\n\r\n   static DaysInMonth(date: Date): Date[] {\r\n      const d = new Date(date.getFullYear(), date.getMonth(), 1);\r\n      const days = [];\r\n      const month = d.getMonth();\r\n      while (d.getMonth() === month) {\r\n         days.push(new Date(d));\r\n         d.setDate(d.getDate() + 1);\r\n      }\r\n      return days;\r\n   }\r\n\r\n   static FormatDate(date: Date): string {\r\n      const d = new Date(date);\r\n      const month = \"\" + (d.getMonth() + 1);\r\n      const day = \"\" + d.getDate();\r\n      const year = d.getFullYear();\r\n\r\n      return month && day && year ? [month, day, year].join(\"/\") : null;\r\n   }\r\n\r\n   static FormatDateDashes(date: Date): string {\r\n      const d = new Date(date);\r\n      let month = \"\" + (d.getMonth() + 1);\r\n      let day = \"\" + d.getDate();\r\n      const year = d.getFullYear();\r\n\r\n      if (month.length < 2) {\r\n         month = \"0\" + month;\r\n      }\r\n      if (day.length < 2) {\r\n         day = \"0\" + day;\r\n      }\r\n\r\n      return [year, month, day].join(\"-\");\r\n   }\r\n\r\n   static FormatDateSlashes(date: Date): string {\r\n      const d = new Date(date);\r\n      let month = \"\" + (d.getMonth() + 1);\r\n      let day = \"\" + d.getDate();\r\n      const year = d.getFullYear();\r\n\r\n      if (month.length < 2) {\r\n         month = \"0\" + month;\r\n      }\r\n      if (day.length < 2) {\r\n         day = \"0\" + day;\r\n      }\r\n\r\n      return [month, day, year].join(\"/\");\r\n   }\r\n\r\n   static FromMonthYear(monthYear: string): Date {\r\n      const year = DateHelper.ToYearNumberFromMonthYear(monthYear);\r\n      const month = DateHelper.ToMonthNumberFromMonthYear(monthYear);\r\n      return year && month ? new Date(year, month) : new Date();\r\n   }\r\n\r\n   static GetFirstDayOfLastMonth(date: Date): Date {\r\n      const d = new Date(date);\r\n      return new Date(d.getFullYear(), d.getMonth() - 1, 1);\r\n   }\r\n\r\n   static GetFirstDayOfMonth(date: Date): Date {\r\n      const d = new Date(date);\r\n      return new Date(d.getFullYear(), d.getMonth(), 1);\r\n   }\r\n\r\n   static GetFirstDayOfNextMonth(date: Date): Date {\r\n      const d = new Date(date);\r\n      return new Date(d.getFullYear(), d.getMonth() + 1, 1);\r\n   }\r\n\r\n   static GetLastDayOfMonth(date: Date): Date {\r\n      const days = DateHelper.DaysInMonth(date);\r\n      return days[days.length - 1];\r\n   }\r\n\r\n   static GetHour(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getHours();\r\n   }\r\n\r\n   static GetMeridian(date: Date): \"AM\" | \"PM\" {\r\n      const hour = DateHelper.GetHour(date);\r\n      return hour >= 12 ? \"PM\" : \"AM\";\r\n   }\r\n\r\n   static GetMinute(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getMinutes();\r\n   }\r\n\r\n   static GetMonthIndex(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getMonth();\r\n   }\r\n\r\n   static GetMonthName(date: Date): string {\r\n      const d = new Date(date);\r\n      return build(\r\n         Month,\r\n         DateHelper.Months.find((x) => x.index === d.getMonth())\r\n      ).name;\r\n   }\r\n\r\n   static GetShortMonthName(date: Date): string {\r\n      const d = new Date(date);\r\n      return build(\r\n         Month,\r\n         DateHelper.Months.find((x) => x.index === d.getMonth())\r\n      ).abbreviation;\r\n   }\r\n\r\n   static GetWeekdayIndex(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getDay();\r\n   }\r\n\r\n   static GetYear(date: Date): number {\r\n      const d = new Date(date);\r\n      return d.getFullYear();\r\n   }\r\n\r\n   static HoursBetween(d1: Date, d2: Date): number {\r\n      return DateHelper.MillisecondsBetween(d1, d2) / 3600000;\r\n   }\r\n\r\n   static HoursFromBeginningOfDay(d: Date): number {\r\n      const date = new Date(d);\r\n      return date.getHours() + date.getMinutes() / 60;\r\n   }\r\n\r\n   static IsBetween(d: Date, startDate: Date, endDate: Date): boolean {\r\n      const date = new Date(d);\r\n      const calculatedEndDate = endDate || startDate;\r\n      return (\r\n         startDate &&\r\n         date > new Date(startDate) &&\r\n         date < new Date(calculatedEndDate)\r\n      );\r\n   }\r\n\r\n   static IsDate(date: any): boolean {\r\n      return Object.prototype.toString.call(date) === \"[object Date]\";\r\n   }\r\n\r\n   static IsValidDate(date: any): boolean {\r\n      const dateWrapper = new Date(date);\r\n      return !isNaN(dateWrapper.getDate());\r\n   }\r\n\r\n   static IsWeekday(d: Date): boolean {\r\n      const day = new Date(d).getDay();\r\n      return day === 1 || day === 2 || day === 3 || day === 4 || day === 5;\r\n   }\r\n\r\n   static IsWeekend(d: Date): boolean {\r\n      const day = new Date(d).getDay();\r\n      return day === 0 || day === 6;\r\n   }\r\n\r\n   static IsSameMonth(d1: Date, d2: Date): boolean {\r\n      return new Date(d1).getMonth() === new Date(d2).getMonth();\r\n   }\r\n\r\n   static MillisecondsBetween(d1: Date, d2: Date): number {\r\n      return Math.abs(new Date(d1).getTime() - new Date(d2).getTime());\r\n   }\r\n\r\n   static NextDay(fromDate: Date): Date {\r\n      const today = new Date(fromDate);\r\n      const tomorrow = new Date();\r\n      tomorrow.setDate(today.getDate() + 1);\r\n      return tomorrow;\r\n   }\r\n\r\n   static ParseDateDashes(date: string): Date {\r\n      const arr = date.split(\"-\");\r\n      return new Date(toInt(arr[0]), toInt(arr[1]) - 1, toInt(arr[2]));\r\n   }\r\n\r\n   static TimeAgo(date: Date): string {\r\n      if (!date) {\r\n         return '';\r\n      }\r\n      const seconds = Math.floor(\r\n         (new Date().getTime() - new Date(date).getTime()) / 1000\r\n      );\r\n\r\n      let interval = Math.floor(seconds / 31536000);\r\n\r\n      if (interval > 1) {\r\n         return `${interval} years ago`;\r\n      }\r\n      interval = Math.floor(seconds / 2592000);\r\n      if (interval > 1) {\r\n         return `${interval} months ago`;\r\n      }\r\n      interval = Math.floor(seconds / 86400);\r\n      if (interval > 1) {\r\n         return `${interval} days ago`;\r\n      }\r\n      interval = Math.floor(seconds / 3600);\r\n      if (interval > 1) {\r\n         return `${interval} hours ago`;\r\n      }\r\n      interval = Math.floor(seconds / 60);\r\n      if (interval > 1) {\r\n         return `${interval} minutes ago`;\r\n      }\r\n      return 'Just Now';\r\n      // return Math.floor(seconds) + \" seconds`\"\r\n   }\r\n\r\n   static TimeBetween(startDate: Date, endDate: Date): number {\r\n      return new Date(endDate).getTime() - new Date(startDate).getTime();\r\n   }\r\n\r\n   static ToDayString(d: Date): string {\r\n      const date = new Date(d);\r\n      return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\r\n   }\r\n\r\n   static ToMonthName(d: Date): string {\r\n      const date = new Date(d);\r\n      return DateHelper.MonthNames[date.getMonth()];\r\n   }\r\n\r\n   static ToMonthNumber(d: Date): number {\r\n      const date = new Date(d);\r\n      return date.getMonth() + 1;\r\n   }\r\n\r\n   static ToMonthNumberFromMonthYear(monthYear: string): number {\r\n      const month = monthYear.substr(monthYear.length - 2);\r\n      return toInt(month) - 1;\r\n   }\r\n\r\n   static ToMonthNumberFromMonthYearName(monthYear: string): number {\r\n      const parts = monthYear.split(/\\s*,\\s*/);\r\n      const month = DateHelper.MonthNumbers[parts[0]];\r\n      return month;\r\n   }\r\n\r\n   static ToMonthYear(d: Date): string {\r\n      const date = new Date(d);\r\n      const monthNumber = DateHelper.ToMonthNumber(date);\r\n      const month = monthNumber < 10 ? `0${monthNumber}` : monthNumber;\r\n      return `${date.getFullYear()}-${month}`;\r\n   }\r\n\r\n   static ToMonthYearName(d: Date): string {\r\n      const date = new Date(d);\r\n      const month = DateHelper.ToMonthName(date);\r\n      const year = date.getFullYear();\r\n      return month && year ? `${month} ${year}` : \"\";\r\n   }\r\n\r\n   static ToYearNumberFromMonthYear(monthYear: string): number {\r\n      const year = monthYear.substring(0, 4);\r\n      return toInt(year);\r\n   }\r\n\r\n   static TreatAsUTC(date: Date) {\r\n      const result = new Date(date);\r\n      result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\r\n      return result;\r\n   }\r\n\r\n   static get Today(): Date {\r\n      return new Date();\r\n   }\r\n\r\n   static get Month(): number {\r\n      return DateHelper.Today.getMonth();\r\n   }\r\n\r\n   static get MonthNumbers(): any {\r\n      return DateHelper.MonthNames.reduce((acc, x, i) =>\r\n         Object.assign({}, acc, { [x]: i })\r\n      );\r\n   }\r\n\r\n   static get Year(): number {\r\n      return DateHelper.Today.getFullYear();\r\n   }\r\n\r\n   static get NextSchoolYear(): number {\r\n      return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n   }\r\n\r\n   static get NextSchoolYearStartDate(): Date {\r\n      return new Date(DateHelper.SchoolYearStart(DateHelper.NextSchoolYear));\r\n   }\r\n\r\n   static get PreviousSchoolYear(): number {\r\n      return DateHelper.Month < 7 ? DateHelper.Year : DateHelper.Year + 1;\r\n   }\r\n\r\n   static get PreviousSchoolYearEndDate(): Date {\r\n      return new Date(DateHelper.SchoolYearEnd(DateHelper.PreviousSchoolYear));\r\n   }\r\n\r\n   static get FutureDate(): Date {\r\n      const date = DateHelper.Today;\r\n      return DateHelper.AddDays(date, 100000);\r\n   }\r\n\r\n   static get PastDate(): Date {\r\n      const date = DateHelper.Today;\r\n      return DateHelper.SubtractDays(date, 100000);\r\n   }\r\n\r\n   static AddDays(d: Date, days: number): Date {\r\n      const date = new Date(d);\r\n      date.setDate(date.getDate() + days);\r\n      return date;\r\n   }\r\n\r\n   static SubtractDays(d: Date, days: number): Date {\r\n      const date = new Date(d);\r\n      date.setDate(date.getDate() - days);\r\n      return date;\r\n   }\r\n\r\n   static BuildDate(year: number, month: number, day: number): Date {\r\n      const date = new Date();\r\n      date.setFullYear(year);\r\n      date.setMonth(month);\r\n      date.setDate(day);\r\n      return date;\r\n   }\r\n\r\n   static DateChanged(d1: Date, d2: Date): boolean {\r\n      const date1 = new Date(d1);\r\n      const date2 = new Date(d2);\r\n      return (\r\n         date1.getDate() !== date2.getDate() ||\r\n         date1.getMonth() !== date2.getMonth() ||\r\n         date1.getFullYear() !== date2.getFullYear()\r\n      );\r\n   }\r\n\r\n   static IsSameDay(d1: Date, d2: Date): boolean {\r\n      const date1 = new Date(d1);\r\n      const date2 = new Date(d2);\r\n      return (\r\n         date1.getDate() === date2.getDate() &&\r\n         date1.getMonth() === date2.getMonth() &&\r\n         date1.getFullYear() === date2.getFullYear()\r\n      );\r\n   }\r\n\r\n   static get YearStartDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year, 6, 1);\r\n      }\r\n   }\r\n\r\n   static get PreviousYearStartDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year - 2, 6, 1);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year - 1, 6, 1);\r\n      }\r\n   }\r\n\r\n   static SchoolYearStart(year: number): Date {\r\n      return DateHelper.BuildDate(year, 6, 1);\r\n   }\r\n\r\n   static get YearEndDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year + 1, 5, 30);\r\n      }\r\n   }\r\n\r\n   static get PreviousYearEndDate(): Date {\r\n      if (DateHelper.Month < 6) {\r\n         return DateHelper.BuildDate(DateHelper.Year - 1, 5, 30);\r\n      } else {\r\n         return DateHelper.BuildDate(DateHelper.Year, 5, 30);\r\n      }\r\n   }\r\n\r\n   static SchoolYearEnd(year?: number): Date {\r\n      return DateHelper.BuildDate(year - 1, 5, 30);\r\n   }\r\n\r\n   static BuildDateRange(dateRangeId: number): DateRange {\r\n      let startDate: Date;\r\n      let endDate: Date;\r\n      switch (dateRangeId) {\r\n         case 0:\r\n            break;\r\n         case 1:\r\n            break;\r\n         case 2: // Today\r\n            startDate = DateHelper.Today;\r\n            endDate = startDate;\r\n            break;\r\n         case 3: // Next 15\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.AddDays(startDate, 15);\r\n            break;\r\n         case 4: // Next 30\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.AddDays(startDate, 30);\r\n            break;\r\n         case 5: // Next 60\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.AddDays(startDate, 60);\r\n            break;\r\n         case 6: // Previous 15\r\n            endDate = DateHelper.Today;\r\n            startDate = DateHelper.SubtractDays(endDate, 15);\r\n            break;\r\n         case 7: // Previous 30\r\n            endDate = DateHelper.Today;\r\n            startDate = DateHelper.SubtractDays(endDate, 30);\r\n            break;\r\n         case 8: // Previous 60\r\n            endDate = DateHelper.Today;\r\n            startDate = DateHelper.SubtractDays(endDate, 60);\r\n            break;\r\n         case 9: // School Year - Runs from July 1st Thru June 30th\r\n            startDate = DateHelper.YearStartDate;\r\n            endDate = DateHelper.YearEndDate;\r\n            break;\r\n         case 10: // Number of meetings = 10\r\n            startDate = DateHelper.Today;\r\n            endDate = DateHelper.FutureDate;\r\n            break;\r\n         case 11: // Previous School Year\r\n            startDate = DateHelper.PreviousYearStartDate;\r\n            endDate = DateHelper.PreviousYearEndDate;\r\n            break;\r\n      }\r\n      return build(DateRange, { startDate, endDate });\r\n   }\r\n\r\n   static get Months() {\r\n      return [\r\n         build(Month, { name: \"January\", abbreviation: \"Jan\", index: 0 }),\r\n         build(Month, { name: \"February\", abbreviation: \"Feb\", index: 1 }),\r\n         build(Month, { name: \"March\", abbreviation: \"Mar\", index: 2 }),\r\n         build(Month, { name: \"April\", abbreviation: \"Apr\", index: 3 }),\r\n         build(Month, { name: \"May\", abbreviation: \"May\", index: 4 }),\r\n         build(Month, { name: \"June\", abbreviation: \"June\", index: 5 }),\r\n         build(Month, { name: \"July\", abbreviation: \"July\", index: 6 }),\r\n         build(Month, { name: \"August\", abbreviation: \"Aug\", index: 7 }),\r\n         build(Month, { name: \"September\", abbreviation: \"Sept\", index: 8 }),\r\n         build(Month, { name: \"October\", abbreviation: \"Oct\", index: 9 }),\r\n         build(Month, { name: \"November\", abbreviation: \"Nov\", index: 10 }),\r\n         build(Month, { name: \"December\", abbreviation: \"Dec\", index: 11 }),\r\n      ];\r\n   }\r\n\r\n   static get Weekdays() {\r\n      return [\r\n         build(Weekday, {\r\n            name: \"Sunday\",\r\n            abbreviation: \"Sun\",\r\n            initial: \"Su\",\r\n            index: 0,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Monday\",\r\n            abbreviation: \"Mon\",\r\n            initial: \"M\",\r\n            index: 1,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Tuesday\",\r\n            abbreviation: \"Tues\",\r\n            initial: \"T\",\r\n            index: 2,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Wednesday\",\r\n            abbreviation: \"Wed\",\r\n            initial: \"W\",\r\n            index: 3,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Thursday\",\r\n            abbreviation: \"Thurs\",\r\n            initial: \"Th\",\r\n            index: 4,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Friday\",\r\n            abbreviation: \"Fri\",\r\n            initial: \"F\",\r\n            index: 5,\r\n         }),\r\n         build(Weekday, {\r\n            name: \"Saturday\",\r\n            abbreviation: \"Sat\",\r\n            initial: \"S\",\r\n            index: 6,\r\n         }),\r\n      ];\r\n   }\r\n}\r\n\r\nexport function noWeekendDaysValidator(): ValidatorFn {\r\n   return (control: AbstractControl): { [key: string]: any } => {\r\n      if (control.value && Date.parse(control.value.toString())) {\r\n         const dateValue = new Date(control.value.toString())\r\n         const IsWeekend = DateHelper.IsWeekend(dateValue);\r\n         const formattedDate = DateHelper.FormatDate(dateValue);\r\n         const weekendDay = DateHelper.Weekdays[new Date(dateValue).getDay()].name;\r\n         return !IsWeekend ? null : { weekend: `${formattedDate} is a ${weekendDay}. Weekend Days are not allowed.` };\r\n      } else {\r\n         return null;\r\n      }\r\n   };\r\n}\r\n\r\nexport function dateFormatValidator(): ValidatorFn {\r\n   return (control: AbstractControl): { [key: string]: any } => {\r\n      const dt = new Date(control.value);\r\n\r\n      const month = dt.getMonth() + 1;\r\n      const day = dt.getDate();\r\n      const year = dt.getFullYear();\r\n\r\n      if (!correctMonthFormat(month) || !correctDayFormat(day) || !correctYearFormat(year)) {\r\n         return { format: 'Date is not in a valid format.' }\r\n      }\r\n\r\n      return null;\r\n   }\r\n}\r\n\r\nfunction correctMonthFormat(month: number): boolean {\r\n   return month > 0 && month < 13;\r\n}\r\n\r\n// could improve to be a specific day based on the month.\r\nfunction correctDayFormat(day: number): boolean {\r\n   return day > 0 && day < 32;\r\n}\r\n\r\nfunction correctYearFormat(year: number): boolean {\r\n   return year > 999 && year < 10000;\r\n}","import {\r\n   ChangeDetectionStrategy,\r\n   Component,\r\n   EventEmitter,\r\n   forwardRef,\r\n   Input,\r\n   OnInit,\r\n   Output,\r\n   ViewChild\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, FormControl, NgModel, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDatepicker } from '@angular/material/datepicker';\r\nimport { MatDatepickerInputEvent } from '@angular/material/datepicker';\r\nimport { dateFormatValidator, noWeekendDaysValidator } from '../../shared/date';\r\n\r\nexport const DATEPICKER_ACCESSOR: any = {\r\n   provide: NG_VALUE_ACCESSOR,\r\n   useExisting: forwardRef(() => DatepickerComponent),\r\n   multi: true\r\n};\r\n\r\n@Component({\r\n   selector: 'iu-datepicker',\r\n   templateUrl: './datepicker.component.html',\r\n   styleUrls: ['./datepicker.component.scss'],\r\n   changeDetection: ChangeDetectionStrategy.OnPush,\r\n   providers: [DATEPICKER_ACCESSOR]\r\n})\r\n\r\nexport class DatepickerComponent implements ControlValueAccessor, OnInit {\r\n   @Input() filter: (d: Date) => boolean;\r\n   @Input() min: Date;\r\n   @Input() max: Date;\r\n   @Input() placeholder = 'Choose a date';\r\n   @Input() required: boolean = false;\r\n   @Input() startAt: Date;\r\n   @Input() startView: 'month' | 'year' = 'month';\r\n   @Input() touchUi;\r\n   @Output() selectedChanged = new EventEmitter<Date>();\r\n   @ViewChild('picker', { static: true }) datepicker: MatDatepicker<Date>;\r\n   private onModelChange: Function;\r\n   private onTouch: Function;\r\n   _value: Date;\r\n   dateFilter: (d: Date) => boolean;\r\n   focused: Date;\r\n   dateInput = new FormControl('');\r\n\r\n   constructor() { }\r\n\r\n   get value(): Date {\r\n      return this._value;\r\n   }\r\n\r\n   @Input()\r\n   set value(val: Date) {\r\n      this._value = val;\r\n   }\r\n\r\n   registerOnChange(fn: Function) {\r\n      this.onModelChange = fn;\r\n   }\r\n\r\n   registerOnTouched(fn: Function) {\r\n      this.onTouch = fn;\r\n   }\r\n\r\n   writeValue(value: Date) {\r\n      this.value = value;\r\n   }\r\n\r\n   onChange(value: MatDatepickerInputEvent<Date>) {\r\n      this.value = value.value;\r\n      if (this.onModelChange) {\r\n         this.onModelChange(value.value);\r\n      }\r\n   }\r\n\r\n   get id() {\r\n      return this.datepicker.id;\r\n   }\r\n\r\n   get opened() {\r\n      return this.datepicker.opened;\r\n   }\r\n\r\n   ngOnInit() {\r\n      this.startAt = this.value;\r\n      if (this.filter != null) {\r\n         this.dateFilter = this.filter;\r\n      } else {\r\n         this.dateFilter = null;\r\n      }\r\n\r\n      this.dateInput.setValidators([\r\n         dateFormatValidator(),\r\n         noWeekendDaysValidator()\r\n      ]);\r\n      this.dateInput.setValue(this.value);\r\n   }\r\n\r\n   changeSelected(date: MatDatepickerInputEvent<Date>) {\r\n      this.onChange(date);\r\n      this.selectedChanged.emit(date.value);\r\n   }\r\n\r\n   close() {\r\n      this.datepicker.close();\r\n   }\r\n\r\n   open() {\r\n      this.datepicker.open();\r\n   }\r\n\r\n}\r\n","<mat-form-field>\r\n   <input matInput dateMask [required]=\"required\" [placeholder]=\"placeholder\" \r\n   [matDatepicker]=\"picker\" [matDatepickerFilter]=\"dateFilter\" \r\n   (dateChange)=\"changeSelected($event)\" [min]=\"min\" [max]=\"max\" [value]=\"value\" \r\n   [formControl]=\"dateInput\" />\r\n   <mat-error *ngIf=\"dateInput.hasError('required')\">\r\n      This date is required.\r\n   </mat-error>\r\n   <mat-error *ngIf=\"dateInput.hasError('format')\">\r\n      Please enter a valid date using <strong>mm/dd/yyyy</strong> format.\r\n   </mat-error>\r\n   <mat-error *ngIf=\"dateInput.hasError('weekend')\">\r\n      {{ dateInput.errors['weekend'] }}\r\n   </mat-error>\r\n   <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n   <mat-datepicker #picker [startAt]=\"startAt\" [startView]=\"startView\" [touchUi]=\"touchUi\"></mat-datepicker>\r\n</mat-form-field>","import {\r\n   ChangeDetectionStrategy,\r\n   Component,\r\n   forwardRef,\r\n   Input,\r\n   ViewChild,\r\n   Output,\r\n   EventEmitter,\r\n   ChangeDetectorRef,\r\n   OnInit\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DatepickerComponent } from '../datepicker.component';\r\nimport { DateRange } from '../../../shared/date';\r\nimport { build } from '../../../shared/utils';\r\n\r\nexport const DATERANGE_ACCESSOR: any = {\r\n   provide: NG_VALUE_ACCESSOR,\r\n   useExisting: forwardRef(() => DaterangeComponent),\r\n   multi: true\r\n};\r\n\r\n@Component({\r\n   selector: 'iu-daterange',\r\n   templateUrl: './daterange.component.html',\r\n   styleUrls: ['./daterange.component.scss'],\r\n   changeDetection: ChangeDetectionStrategy.OnPush,\r\n   providers: [DATERANGE_ACCESSOR]\r\n})\r\n\r\nexport class DaterangeComponent implements ControlValueAccessor, OnInit {\r\n   @Input() debug = false;\r\n   @Input() inline = false;\r\n   @Input() min: Date;\r\n   @Input() max: Date; \r\n   @Input() required: boolean = false;\r\n   @Input() startAt: Date;\r\n   @Input() startLabel = 'Start Date';\r\n   @Input() endLabel = 'End Date';\r\n   @Input() startView;\r\n   @Input() touchUi;\r\n   @Output() startDateChanged = new EventEmitter<Date>();\r\n   @Output() endDateChanged = new EventEmitter<Date>();\r\n   @ViewChild('startDate', { static: true })\r\n   startDatepicker: DatepickerComponent;\r\n   @ViewChild('endDate', { static: true }) endDatepicker: DatepickerComponent;\r\n   private onModelChange: Function;\r\n   private onTouch: Function;\r\n   _value: DateRange = new DateRange();\r\n   focused: DateRange = new DateRange();\r\n   now = new Date();\r\n\r\n   constructor(private changeDetectorRef: ChangeDetectorRef) { }\r\n\r\n   ngOnInit() {}\r\n\r\n   get value(): DateRange {\r\n      return this._value;\r\n   }\r\n\r\n   @Input()\r\n   set value(val: DateRange) {\r\n      this._value = val;\r\n      if (this.startDatepicker) {\r\n         this.startDatepicker.value = val?.startDate;\r\n      }\r\n      if (this.endDatepicker) {\r\n         this.endDatepicker.value = val?.endDate;\r\n      }\r\n      if (\r\n         this &&\r\n         this.changeDetectorRef &&\r\n         !this.changeDetectorRef['destroyed']\r\n      ) {\r\n         this.changeDetectorRef.detectChanges();\r\n      }\r\n   }\r\n\r\n   get startDateId() {\r\n      return this.startDatepicker.id;\r\n   }\r\n\r\n   get startDateOpened() {\r\n      return this.startDatepicker.opened;\r\n   }\r\n\r\n   get endDateId() {\r\n      return this.endDatepicker.id;\r\n   }\r\n\r\n   get endDateOpened() {\r\n      return this.endDatepicker.opened;\r\n   }\r\n\r\n   get startDateValue(): Date {\r\n      return this.value.startDate ? new Date(this.value.startDate) : null;\r\n   }\r\n\r\n   set startDateValue(value: Date) {\r\n      this.changeStartDate(value);\r\n   }\r\n\r\n   get endDateValue(): Date {\r\n      return this.value.endDate ? new Date(this.value.endDate) : null;\r\n   }\r\n\r\n   set endDateValue(value: Date) {\r\n      this.changeEndDate(value);\r\n   }\r\n\r\n   get startDateLastDay() {\r\n      return new Date(\r\n         this.startDateValue.getFullYear(),\r\n         this.startDateValue.getMonth() + 1,\r\n         0\r\n      );\r\n   }\r\n\r\n   filter(d: Date): boolean {\r\n      return this.ifMonthSame(d) || this.ifMonthDifferent(d);\r\n   };\r\n\r\n   changeStartDate(date: Date) {\r\n      this.onChange(\r\n         build(DateRange, {\r\n            endDate: this.value.endDate,\r\n            startDate: date\r\n         })\r\n      );\r\n      this.startDateChanged.emit(date);\r\n   }\r\n\r\n   ifMonthSame(d: Date) {\r\n      return (\r\n         d.getMonth() === this.startDateValue.getMonth() &&\r\n         d.getDate() >= this.startDateValue.getDate() &&\r\n         d.getFullYear() === this.startDateValue.getFullYear()\r\n      );\r\n   }\r\n\r\n   ifMonthDifferent(d: Date) {\r\n      return (\r\n         (d.getMonth() > this.startDateValue.getMonth() &&\r\n            d.getFullYear() >= this.startDateValue.getFullYear() &&\r\n            (1 < d.getDate() ||\r\n               this.startDateValue.getDate() <= this.startDateLastDay.getDate())) ||\r\n         d.getFullYear() > this.startDateValue.getFullYear()\r\n      );\r\n   }\r\n\r\n   closeStartDate() {\r\n      this.startDatepicker.close();\r\n   }\r\n\r\n   openStateDate() {\r\n      this.startDatepicker.open();\r\n   }\r\n\r\n   changeEndDate(date: Date) {\r\n      this.onChange(\r\n         build(DateRange, {\r\n            endDate: date,\r\n            startDate: this.value.startDate\r\n         })\r\n      );\r\n      this.endDateChanged.emit(date);\r\n      if (this.debug) {\r\n         console.dir('changeEndDate ran');\r\n         console.dir('Start Date: ' + this.startDateValue);\r\n         console.dir('End Date:' + date);\r\n      }\r\n   }\r\n\r\n   closeEndDate() {\r\n      this.endDatepicker.close();\r\n   }\r\n\r\n   openEndDate() {\r\n      this.endDatepicker.open();\r\n   }\r\n\r\n   registerOnChange(fn: Function) {\r\n      this.onModelChange = fn;\r\n   }\r\n\r\n   registerOnTouched(fn: Function) {\r\n      this.onTouch = fn;\r\n   }\r\n\r\n   writeValue(value: DateRange) {\r\n      this.value = value;\r\n   }\r\n\r\n   onChange(value: DateRange) {\r\n      this.value = value;\r\n      if (this.onModelChange) {\r\n         this.onModelChange(value);\r\n      }\r\n   }\r\n\r\n   onFocus(value: DateRange) {\r\n      this.focused = value;\r\n      if (this.onTouch) {\r\n         this.onTouch();\r\n      }\r\n   }\r\n}\r\n","<div class=\"daterange\">\r\n   <div class=\"start-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\r\n      <label class=\"lbl-date iu-primary\">{{ startLabel }}:</label>\r\n      <iu-datepicker #startDate (selectedChanged)=\"changeStartDate($event)\" [startAt]=\"now\"\r\n      [required]=\"required\">\r\n      </iu-datepicker>\r\n   </div>\r\n   <div class=\"end-date\" [class.date]=\"!inline\" [class.inline-date]=\"inline\">\r\n      <label class=\"lbl-date iu-primary\">{{ endLabel }}:</label>\r\n      <iu-datepicker #endDate (selectedChanged)=\"changeEndDate($event)\" [startAt]=\"now\">\r\n      </iu-datepicker>\r\n   </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { DatepickerComponent } from './datepicker.component';\r\nimport { DaterangeComponent } from './daterange/daterange.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n   imports: [\r\n      SharedModule,\r\n      MatDatepickerModule,\r\n      MatNativeDateModule,\r\n      MatInputModule,\r\n      ReactiveFormsModule,\r\n   ],\r\n   declarations: [\r\n      DatepickerComponent,\r\n      DaterangeComponent,\r\n   ],\r\n   exports: [\r\n      DatepickerComponent,\r\n      DaterangeComponent,\r\n   ]\r\n})\r\nexport class DatepickerModule { }\r\n","import { build, truthy } from '../../shared/utils';\r\n\r\nexport class FileUpload {\r\n  isPrivate = false;\r\n  lastModified = 0;\r\n  lastModifiedDate: Date = new Date();\r\n  name = '';\r\n  size = 0;\r\n  type = '';\r\n  webkitRelativePath = '';\r\n  order?= 0;\r\n  readyState: 'EMPTY' | 'LOADING' | 'DONE' = 'EMPTY';\r\n  src = '';\r\n\r\n  static BuildFromFile(file: File): FileUpload {\r\n    return build(FileUpload, {\r\n      name: file.fileName,\r\n      size: file.fileSize,\r\n      type: file.mimeType,\r\n      src: file.src,\r\n      order: file.order\r\n    });\r\n  }\r\n\r\n  static GetReadyState(reader: FileReader) {\r\n    switch (reader.readyState) {\r\n      case 0:\r\n        return 'EMPTY';\r\n      case 1:\r\n        return 'LOADING';\r\n      case 2:\r\n        return 'DONE';\r\n      default:\r\n        return 'EMPTY';\r\n    }\r\n  }\r\n\r\n  set extension(value: string) {\r\n  }\r\n\r\n  get extension(): string {\r\n    return this.name.split('.').pop();\r\n  }\r\n\r\n  set isImage(value: boolean) {\r\n  }\r\n\r\n  get isImage(): boolean {\r\n    return this.type ? this.type.split('/')[0] === 'image' : false;\r\n  }\r\n\r\n  set loading(value: boolean) {\r\n  }\r\n\r\n  get loading(): boolean {\r\n    return this.readyState === 'LOADING';\r\n  }\r\n\r\n  set file(value: File) {\r\n  }\r\n\r\n  get file(): File {\r\n    return File.BuildFromFileUpload(this);\r\n  }\r\n}\r\n\r\nexport function getReadyState(reader: FileReader) {\r\n  switch (reader.readyState) {\r\n    case 0:\r\n      return 'EMPTY';\r\n    case 1:\r\n      return 'LOADING';\r\n    case 2:\r\n      return 'DONE';\r\n    default:\r\n      return 'EMPTY';\r\n  }\r\n}\r\n\r\nexport class File {\r\n  id = 0;\r\n  fileBinary: any[] = [];\r\n  fileExtension = '';\r\n  fileName = '';\r\n  fileSize = 0;\r\n  mimeType = '';\r\n  order = 0;\r\n\r\n  static BuildFromFileUpload(upload: FileUpload): File {\r\n    return build(File, {\r\n      fileBinary: upload.src.replace(File.GetSrcPrefix(upload.type), ''),\r\n      fileExtension: upload.extension,\r\n      fileName: upload.name,\r\n      fileSize: upload.size,\r\n      mimeType: upload.type,\r\n      order: upload.order\r\n    });\r\n  }\r\n\r\n  static GetImageBinarySrc(img: File | File[], defaultSrc = null) {\r\n    if (Array.isArray(img) && img.length > 0) {\r\n      return File.GetImageBinarySrc(img[0]);\r\n    } else {\r\n      return img && truthy((<File>img).mimeType) && truthy((<File>img).fileBinary) ?\r\n        `data:${(<File>img).mimeType};base64,${(<File>img).fileBinary}`\r\n        : defaultSrc;\r\n    }\r\n  }\r\n\r\n  static GetSrcPrefix(mimeType: string): string {\r\n    return `data:${mimeType};base64,`;\r\n  }\r\n\r\n  // get fileUpload(): FileUpload {\r\n  //     return FileUpload.BuildFromFile(this);\r\n  // }\r\n\r\n  get src(): string {\r\n    return File.GetImageBinarySrc(this);\r\n  }\r\n}\r\n","import { TypeConstructor } from './models';\r\nimport { build } from './utils';\r\n\r\nexport class Permutation<T> {\r\n    _timestamp: Date;\r\n\r\n    constructor(public order: OrderedItem<T>[]) {\r\n        this._timestamp = new Date();\r\n    }\r\n\r\n    get ranks(): OrderedItem<T>[] {\r\n        return this.order.sort((a, b) => a.order - b.order)\r\n            .map((x, index) => Object.assign(<OrderedItem<T>>{}, x, { rank: index + 1 }));\r\n    }\r\n\r\n    get timestamp(): Date {\r\n        return this._timestamp;\r\n    }\r\n}\r\n\r\nexport class OrderedItem<T> {\r\n    id: any;\r\n    order: number;\r\n    rank?: number;\r\n\r\n    constructor(public item: T) {\r\n    }\r\n}\r\n\r\nexport class Ordering<T> {\r\n\r\n    private _history: Permutation<T>[] = [];\r\n\r\n    constructor(private _items: T[], public ctor: TypeConstructor<T>, public orderKey: string, public idKey = 'id') {\r\n    }\r\n\r\n    get count(): number {\r\n        return this.items.length;\r\n    }\r\n\r\n    get history(): Permutation<T>[] {\r\n        return this._history;\r\n    }\r\n\r\n    get instance(): T {\r\n        return new this.ctor();\r\n    }\r\n\r\n    get items(): T[] {\r\n        return this._items.sort((a, b) => this.getItemOrder(a) - this.getItemOrder(b));\r\n    }\r\n\r\n    get maxIndex(): number {\r\n        return this.count === 0 ? 0 : Math.max(...this.order.map(x => x.order));\r\n    }\r\n\r\n    get order(): OrderedItem<T>[] {\r\n        return this.permutation.ranks;\r\n    }\r\n\r\n    get permutation(): Permutation<T> {\r\n        return new Permutation<T>(this.items.map(item => <OrderedItem<T>>{\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        }));\r\n    }\r\n\r\n    get nextPosition(): number {\r\n        return this.maxIndex + 1;\r\n    }\r\n\r\n    addItem(item: T): T[] {\r\n        return this.addItemAtPosition(item, this.nextPosition);\r\n    }\r\n\r\n    addItemAtPosition(item: T, pos: number): T[] {\r\n        const newItemId = this.getItemId(item);\r\n        return [...this.items, build(this.ctor, item, { order: pos })]\r\n            .map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return (order <= pos || id === newItemId) ? x : build(this.ctor, x, { order: order + 1 });\r\n            });\r\n    }\r\n\r\n    archive(items?: T[]) {\r\n        const permutation = items ? this.getPermutation(items) : this.permutation;\r\n        this._history = [...this._history, permutation];\r\n    }\r\n\r\n    getItemId(item: T): any {\r\n        return item[this.idKey];\r\n    }\r\n\r\n    getItemOrder(item: T): number {\r\n        return item[this.orderKey];\r\n    }\r\n\r\n    getPermutation(items: T[]): Permutation<T> {\r\n        return new Permutation(items.map(item => <OrderedItem<T>>{\r\n            id: this.getItemId(item),\r\n            order: this.getItemOrder(item)\r\n        }));\r\n    }\r\n\r\n    move(item: T, to: number): T[] {\r\n        const from = this.getItemOrder(item);\r\n        const itemId = this.getItemId(item);\r\n        if (to === from) {\r\n            return [...this.items];\r\n        } else if (to < from) {\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < to || order > from) ? x : build(this.ctor, x, { order: order + 1 });\r\n            });\r\n        } else { // to > from\r\n            return this.items.map(x => {\r\n                const order = this.getItemOrder(x);\r\n                const id = this.getItemId(x);\r\n                return id === itemId ? build(this.ctor, x, { order: to })\r\n                    : (order < from || order > to) ? x : build(this.ctor, x, { order: order - 1 });\r\n            });\r\n        }\r\n    }\r\n\r\n    moveDown(item: T): T[] {\r\n        return this.move(item, this.getItemOrder(item) + 1);\r\n    }\r\n\r\n    moveUp(item: T): T[] {\r\n        return this.move(item, this.getItemOrder(item) - 1);\r\n    }\r\n\r\n    removeItem(item: T): T[] {\r\n        return this.removeItemAtPosition(this.getItemOrder(item));\r\n    }\r\n\r\n    removeItemAtPosition(pos: number): T[] {\r\n        return this.items.filter(item => this.getItemOrder(item) !== pos)\r\n            .map(x => {\r\n                const order = this.getItemOrder(x);\r\n                return order < pos ? x : build(this.ctor, x, { order: order - 1 });\r\n            });\r\n    }\r\n\r\n    updateItems(items: T[]): void {\r\n        this.archive();\r\n        this._items = items;\r\n    }\r\n}\r\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\nimport { build, truthy } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-file-preview',\r\n  templateUrl: './file-preview.component.html',\r\n  styleUrls: ['./file-preview.component.scss']\r\n})\r\nexport class FilePreviewComponent {\r\n  @Input() height: number;\r\n  @Input() width: number;\r\n  @Input() ordered = true;\r\n  @Input() first = false;\r\n  @Input() last = false;\r\n  @Input() isPrivateMessage = '';\r\n  @Output() changePrivacyStatus = new EventEmitter<FileUpload>();\r\n  @Output() moveUp = new EventEmitter<FileUpload>();\r\n  @Output() moveDown = new EventEmitter<FileUpload>();\r\n  @Output() remove = new EventEmitter<FileUpload>();\r\n  _file: FileUpload = new FileUpload();\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  set file(value: FileUpload) {\r\n    this._file = value;\r\n  }\r\n\r\n  get file(): FileUpload {\r\n    return build(FileUpload, this._file);\r\n  }\r\n\r\n  get cursorStyle(): string {\r\n    return this.ordered ? 'move' : 'default';\r\n  }\r\n\r\n  get graphic(): string {\r\n    if (!this.file) {\r\n      return null;\r\n    }\r\n    if (this.file.loading) {\r\n      return 'cloud_upload';\r\n    } else if (this.file.isImage) {\r\n      return 'image';\r\n    } else {\r\n      switch (this.file.extension) {\r\n        case 'pdf':\r\n          return 'picture_as_pdf';\r\n        default:\r\n          return 'cloud_done';\r\n      }\r\n    }\r\n  }\r\n\r\n  set isPrivate(value: boolean) {\r\n    this.changePrivacyStatus.emit(build(FileUpload, this.file, {\r\n      isPrivate: value\r\n    }));\r\n  }\r\n\r\n  get isPrivate(): boolean {\r\n    return this._file.isPrivate;\r\n  }\r\n\r\n  get showImage(): boolean {\r\n    return this.file.isImage && truthy(this.file.src);\r\n  }\r\n\r\n  get showUpArrow(): boolean {\r\n    return this.ordered && !this.first;\r\n  }\r\n\r\n  get showDownArrow(): boolean {\r\n    return this.ordered && !this.last;\r\n  }\r\n\r\n  onMoveUp() {\r\n    this.moveUp.emit(this.file);\r\n  }\r\n\r\n  onMoveDown() {\r\n    this.moveDown.emit(this.file);\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit(this.file);\r\n  }\r\n}\r\n","<mat-card class=\"file-preview\" [style.cursor]=\"cursorStyle\">\r\n  <div class=\"graphic\">\r\n    <img *ngIf=\"showImage\" [src]=\"file.src\" [style.height]=\"height\" [style.width]=\"width\">\r\n    <mat-icon *ngIf=\"!showImage\" class=\"icon-graphic\">{{ graphic }}</mat-icon>\r\n  </div>\r\n  <mat-progress-bar mode=\"indeterminate\" *ngIf=\"file.loading\"></mat-progress-bar>\r\n  <div class=\"file-info\" [class.has-security]=\"isPrivateMessage\">\r\n    <span class=\"file-name\">{{ file.name }}</span>\r\n  </div>\r\n  <mat-checkbox *ngIf=\"isPrivateMessage\" [(ngModel)]=\"isPrivate\">{{ isPrivateMessage }}</mat-checkbox>\r\n  <mat-icon *ngIf=\"showUpArrow\" class=\"up-arrow\" (click)=\"onMoveUp()\">keyboard_arrow_up</mat-icon>\r\n  <mat-icon *ngIf=\"showDownArrow\" class=\"down-arrow\" (click)=\"onMoveDown()\">keyboard_arrow_down</mat-icon>\r\n  <mat-icon class=\"remove-upload\" (click)=\"onRemove()\">cancel</mat-icon>\r\n</mat-card>\r\n","import { Component, Input, ChangeDetectionStrategy, Output, EventEmitter } from '@angular/core';\r\nimport { CdkDragDrop } from '@angular/cdk/drag-drop';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\nimport { clamp, build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-uploads',\r\n  templateUrl: './uploads.component.html',\r\n  styleUrls: ['./uploads.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class UploadsComponent {\r\n  @Input() height: number;\r\n  @Input() width: number;\r\n  @Input() ordered = true;\r\n  @Input() isPrivateMessage = '';\r\n  @Output() changePrivacyStatus = new EventEmitter<FileUpload>();\r\n  @Output() moveUp = new EventEmitter<FileUpload>();\r\n  @Output() moveDown = new EventEmitter<FileUpload>();\r\n  @Output() remove = new EventEmitter<FileUpload>();\r\n  @Output() reorder = new EventEmitter<FileUpload[]>();\r\n  _uploads: FileUpload[] = [];\r\n\r\n  constructor() { }\r\n\r\n  @Input()\r\n  set uploads(value: FileUpload[]) {\r\n    this._uploads = value;\r\n  }\r\n\r\n  get uploads(): FileUpload[] {\r\n    return this._uploads;\r\n  }\r\n\r\n  onChangePrivacyStatus(f: FileUpload) {\r\n    this.changePrivacyStatus.emit(f);\r\n  }\r\n\r\n  onDrop(e: CdkDragDrop<string[]>) {\r\n    this.moveItemInArray(e.previousIndex, e.currentIndex);\r\n  }\r\n\r\n  onMoveUp(f: FileUpload) {\r\n    this.moveUp.emit(f);\r\n  }\r\n\r\n  onMoveDown(f: FileUpload) {\r\n    this.moveDown.emit(f);\r\n  }\r\n\r\n  onRemove(f: FileUpload) {\r\n    this.remove.emit(f);\r\n  }\r\n\r\n  /**\r\n   * Moves an item one index in an array to another.\r\n   * @param fromIndex Starting index of the item.\r\n   * @param toIndex Index to which the item should be moved.\r\n   */\r\n  moveItemInArray(fromIndex: number, toIndex: number): void {\r\n    const uploads = [...this.uploads];\r\n    const from = clamp(fromIndex, uploads.length - 1);\r\n    const to = clamp(toIndex, uploads.length - 1);\r\n\r\n    if (from === to) {\r\n      return;\r\n    }\r\n\r\n    const target = uploads[from];\r\n    const delta = to < from ? -1 : 1;\r\n\r\n    for (let i = from; i !== to; i += delta) {\r\n      uploads[i] = uploads[i + delta];\r\n    }\r\n\r\n    uploads[to] = target;\r\n    this.reorder.emit(uploads.map((x, i) => build(FileUpload, x, { order: i + 1 })));\r\n  }\r\n}\r\n","<div cdkDropList class=\"uploads\" [style.height]=\"height\" [style.width]=\"width\" (cdkDropListDropped)=\"onDrop($event)\">\r\n  <iu-file-preview *ngFor=\"let upload of uploads; let first = first; let last = last\" [file]=\"upload\" [first]=\"first\"\r\n    [last]=\"last\" [ordered]=\"ordered\" [isPrivateMessage]=\"isPrivateMessage\" (moveUp)=\"onMoveUp($event)\"\r\n    (moveDown)=\"onMoveDown($event)\" (remove)=\"onRemove($event)\" (changePrivacyStatus)=\"onChangePrivacyStatus($event)\"\r\n    cdkDrag></iu-file-preview>\r\n</div>\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\n\r\n@Component({\r\n  selector: 'iu-upload',\r\n  templateUrl: './upload.component.html',\r\n  styleUrls: ['./upload.component.scss']\r\n})\r\nexport class UploadComponent {\r\n\r\n  @Input() upload: FileUpload = new FileUpload();\r\n  @Input() height = 200;\r\n  @Input() width = 600;\r\n  @Output() remove = new EventEmitter<FileUpload>();\r\n\r\n  constructor() { }\r\n\r\n  get graphic(): string {\r\n    if (!this.upload) {\r\n      return null;\r\n    }\r\n    if (this.upload.loading) {\r\n      return 'cloud_upload';\r\n    } else if (this.upload.isImage) {\r\n      return 'image';\r\n    } else {\r\n      switch (this.upload.extension) {\r\n        case 'pdf':\r\n          return 'picture_as_pdf';\r\n        default:\r\n          return 'cloud_done';\r\n      }\r\n    }\r\n  }\r\n\r\n  get showImage(): boolean {\r\n    return this.graphic === 'image';\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit(this.upload);\r\n  }\r\n\r\n}\r\n","<div class=\"upload\" [style.height]=\"img?.style?.height\">\r\n  <div class=\"graphic\" #img>\r\n    <img *ngIf=\"showImage\" [src]=\"upload.src\" [style.max-height.px]=\"height\" [style.max-width.px]=\"width\">\r\n    <mat-icon *ngIf=\"!showImage\" class=\"icon-graphic\" [style.max-height.px]=\"height\" [style.max-width.px]=\"width\">\r\n      {{ graphic }}</mat-icon>\r\n    <mat-icon *ngIf=\"!upload.loading\" class=\"remove-upload\" (click)=\"onRemove()\">cancel</mat-icon>\r\n  </div>\r\n  <mat-progress-spinner mode=\"indeterminate\" *ngIf=\"upload.loading\"></mat-progress-spinner>\r\n  <div class=\"file-info\" *ngIf=\"!upload.loading\">\r\n    <span class=\"file-name\">{{ upload.name }}</span>\r\n  </div>\r\n</div>\r\n","import { Component, Output, EventEmitter, forwardRef, Input, OnInit, ViewEncapsulation, ChangeDetectorRef, OnDestroy, OnChanges } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\nimport { FileUpload } from './file-upload.model';\r\nimport { Ordering } from '../../shared/ordering';\r\nimport { build, guid, equals, toArray, toInt } from '../../shared/utils';\r\n\r\nexport const FILE_UPLOAD_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => FileUploadComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-file-upload',\r\n  templateUrl: './file-upload.component.html',\r\n  styleUrls: ['./file-upload.component.scss'],\r\n  providers: [FILE_UPLOAD_ACCESSOR],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class FileUploadComponent implements OnInit, OnDestroy, ControlValueAccessor, OnChanges {\r\n  @Input() id = `files-${guid()}`;\r\n  @Input() debug = false;\r\n  @Input() maxFileSize = 97000000;\r\n  @Input() multiple = false;\r\n  @Input() ordered = true;\r\n  @Input() preview = true;\r\n  @Input() prompt = '';\r\n  @Input() isPrivateMessage = '';\r\n  @Output() upload = new EventEmitter<FileUpload | FileUpload[]>();\r\n  @Output() delete = new EventEmitter<FileUpload>();\r\n  @Output() reorderUploads = new EventEmitter<FileUpload[]>();\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  changes$: BehaviorSubject<FileUpload> = new BehaviorSubject<FileUpload>(new FileUpload());\r\n  inDropZone = false;\r\n  _value: FileUpload[];\r\n  focused: FileUpload[];\r\n  ordering: Ordering<FileUpload> = new Ordering<FileUpload>([], FileUpload, 'order', 'name');\r\n  showMaxUploadError = false;\r\n  showMultiple = false;\r\n\r\n  constructor(private changeDetectorRef: ChangeDetectorRef) { }\r\n\r\n  get activeFile(): FileUpload {\r\n    return this.hasUploads ? this.uploads[0] : new FileUpload();\r\n  }\r\n\r\n  get hasUploads(): boolean {\r\n    return this.uploads.length > 0;\r\n  }\r\n\r\n  // get showMultiple(): boolean {\r\n  //   return this.preview && this.multiple;\r\n  // }\r\n\r\n  set value(value: FileUpload[]) {\r\n    if (this.debug) {\r\n      console.log('set value');\r\n      console.dir(value);\r\n    }\r\n    this._value = toArray(value);\r\n  }\r\n\r\n  get value(): FileUpload[] {\r\n    return this._value;\r\n  }\r\n\r\n  get uploads(): FileUpload[] {\r\n    return this.ordering.items.filter(upload => upload.name !== '');\r\n  }\r\n\r\n  set uploads(value: FileUpload[]) {\r\n    this.ordering.updateItems(value.filter(upload => upload.name !== ''));\r\n    if (this.debug) {\r\n      console.log('setting uploads');\r\n      console.dir(value);\r\n      console.dir(this.uploads);\r\n    }\r\n    this.onChange(this.uploads);\r\n  }\r\n\r\n  get orderedUploads(): FileUpload[] {\r\n    return this.uploads;\r\n  }\r\n\r\n  get validFileSize(): boolean {\r\n    return this.value.reduce((acc, x) => acc + x.file.fileSize, 0) < this.maxFileSize;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.changes$.subscribe(upload => {\r\n      this.onUpload(upload);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.writeValue([]);\r\n  }\r\n\r\n  ngOnChanges(e) {\r\n    this.showMultiple = this.preview && this.multiple;\r\n  }\r\n\r\n  add(f: FileUpload) {\r\n    if (!this.multiple && this.hasUploads) {\r\n      this.remove();\r\n    }\r\n    this.uploads = this.ordering.addItem(f);\r\n  }\r\n\r\n  changePrivacyStatus(f: FileUpload) {\r\n    this.uploads = this.uploads.map(x => x.name === f.name ? f : x);\r\n  }\r\n\r\n  clear() {\r\n    this.uploads = [];\r\n  }\r\n\r\n  emit() {\r\n    if (this.value.length > 0) {\r\n      if (this.multiple) {\r\n        this.upload.emit(this.value);\r\n      } else {\r\n        this.upload.emit(this.value[0]);\r\n      }\r\n    }\r\n  }\r\n\r\n  moveUp(f: FileUpload) {\r\n    this.uploads = this.ordering.moveUp(f);\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  moveDown(f: FileUpload) {\r\n    this.uploads = this.ordering.moveDown(f);\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  remove(f?: FileUpload) {\r\n    const removeFile = f || this.activeFile;\r\n    this.delete.emit(removeFile);\r\n    this.uploads = this.ordering.removeItem(removeFile);\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  reorder(e: FileUpload[]) {\r\n    this.uploads = e;\r\n    this.reorderUploads.emit(this.uploads);\r\n  }\r\n\r\n  update(f: FileUpload) {\r\n    const index = this.uploads.findIndex(item => item['name'] === f.name);\r\n    if (index === -1) {\r\n      this.add(f);\r\n    } else {\r\n      setTimeout(() => {\r\n        this.uploads = this.uploads.map((x, i) => (i === index ? build(FileUpload, f, { order: x.order }) : x));\r\n        // this.changeDetectorRef.detectChanges();\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: FileUpload[]) {\r\n    if (this.debug) {\r\n      console.log('write value');\r\n      console.dir(value);\r\n    }\r\n    this.uploads = [];\r\n    this.value = value;\r\n    this.uploadAll(value);\r\n  }\r\n\r\n  onChange(value: FileUpload[]) {\r\n    if (!equals(this.value, value)) {\r\n      if (this.debug) {\r\n        console.log('on change');\r\n        console.dir(value);\r\n      }\r\n      this.value = value;\r\n      if (value.every(x => x.readyState === 'DONE')) {\r\n        this.emit();\r\n      }\r\n    }\r\n    if (this.onModelChange) {\r\n      if (this.debug) {\r\n        console.log('on model change');\r\n        console.dir(value);\r\n      }\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onInputChange(e: any) {\r\n    const input = e.target;\r\n    const files = toArray(Array.from(input['files']));\r\n    if (this.debug) {\r\n      console.dir(files);\r\n      console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n    }\r\n    if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n      this.showMaxUploadError = true;\r\n      setTimeout(() => {\r\n        this.showMaxUploadError = false;\r\n      }, 8000);\r\n    } else if (files && files.length > 0) {\r\n      for (let i = 0; i < files.length; i++) {\r\n        this.setupReader(files[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  onBlur(value: FileUpload[]) {\r\n    this.focused = [];\r\n  }\r\n\r\n  onDragEnter(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = true;\r\n  }\r\n\r\n  onDragLeave(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = false;\r\n  }\r\n\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = true;\r\n  }\r\n\r\n  onDrop(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.inDropZone = false;\r\n    const dt = e.dataTransfer;\r\n    const files = toArray(Array.from(dt.files));\r\n    if (this.debug) {\r\n      console.dir(files);\r\n      console.log(files.reduce((acc, x) => acc + toInt(x['size']), 0));\r\n    }\r\n    if (files.reduce((acc, x) => acc + toInt(x['size']), 0) > this.maxFileSize) {\r\n      this.showMaxUploadError = true;\r\n      setTimeout(() => {\r\n        this.showMaxUploadError = false;\r\n      }, 8000);\r\n    } else {\r\n      files.forEach((file: File) => {\r\n        this.setupReader(file);\r\n      });\r\n    }\r\n  }\r\n\r\n  onFocus(value: FileUpload[]) {\r\n    this.focused = value;\r\n    this.onTouch();\r\n  }\r\n\r\n  onUpload(upload: FileUpload) {\r\n    const f = build(FileUpload, upload);\r\n    this.update(f);\r\n  }\r\n\r\n  setupReader(file: File) {\r\n    const reader = new FileReader();\r\n    const changes$ = this.changes$;\r\n    const upload = build(FileUpload, {\r\n      lastModified: file['lastModified'],\r\n      lastModifiedDate: file['lastModifiedDate'],\r\n      name: file['name'],\r\n      size: file['size'],\r\n      type: file['type'],\r\n      webkitRelativePath: file['webkitRelativePath']\r\n    });\r\n    reader.onload = function (e: any) {\r\n      const src = reader.result;\r\n      const readyState = FileUpload.GetReadyState(reader);\r\n      changes$.next(Object.assign(upload, { src, readyState }));\r\n    };\r\n    reader.readAsDataURL(file);\r\n    this.onUpload(\r\n      build(FileUpload, upload, {\r\n        readyState: FileUpload.GetReadyState(reader)\r\n      })\r\n    );\r\n  }\r\n\r\n  uploadAll(uploads: FileUpload[]) {\r\n    toArray(uploads).forEach(upload => {\r\n      this.onUpload(upload);\r\n    });\r\n  }\r\n}\r\n","<div class=\"file-upload\">\r\n  <span *ngIf=\"!validFileSize || showMaxUploadError\" class=\"error\"\r\n    >Files exceed max upload size!</span\r\n  >\r\n  <div\r\n    class=\"box\"\r\n    [class.hovering]=\"inDropZone\"\r\n    fxLayout=\"row\"\r\n    fxLayoutAlign=\"center end\"\r\n    (dragenter)=\"onDragEnter($event)\"\r\n    (dragleave)=\"onDragLeave($event)\"\r\n    (dragover)=\"onDragOver($event)\"\r\n    (drop)=\"onDrop($event)\"\r\n  >\r\n    <p id=\"dragdrop-message\" *ngIf=\"showMultiple\">\r\n      <span *ngIf=\"!prompt\">\r\n        <strong>Choose files</strong>\r\n        <span class=\"dragndrop\"> or drag them here</span>.\r\n      </span>\r\n      <strong *ngIf=\"prompt\">\r\n        {{ prompt }}\r\n      </strong>\r\n    </p>\r\n    <input\r\n      *ngIf=\"showMultiple\"\r\n      type=\"file\"\r\n      (change)=\"onInputChange($event)\"\r\n      [id]=\"id\"\r\n      multiple\r\n    />\r\n    <p id=\"dragdrop-message\" *ngIf=\"!multiple\">\r\n      <span *ngIf=\"!prompt\">\r\n        <strong>Choose a file</strong>\r\n        <span class=\"dragndrop\"> or drag it here</span>.\r\n      </span>\r\n      <strong *ngIf=\"prompt\">\r\n        {{ prompt }}\r\n      </strong>\r\n    </p>\r\n    <input\r\n      *ngIf=\"!multiple\"\r\n      type=\"file\"\r\n      (change)=\"onInputChange($event)\"\r\n      [id]=\"id\"\r\n    />\r\n    <label [for]=\"id\" class=\"custom-file-upload\">\r\n      <figure>\r\n        <mat-icon>cloud_upload</mat-icon>\r\n      </figure>\r\n    </label>\r\n  </div>\r\n  <iu-uploads\r\n    *ngIf=\"multiple\"\r\n    [uploads]=\"uploads\"\r\n    [ordered]=\"ordered\"\r\n    [isPrivateMessage]=\"isPrivateMessage\"\r\n    (moveUp)=\"moveUp($event)\"\r\n    (moveDown)=\"moveDown($event)\"\r\n    (remove)=\"remove($event)\"\r\n    (reorder)=\"reorder($event)\"\r\n    (changePrivacyStatus)=\"changePrivacyStatus($event)\"\r\n  >\r\n  </iu-uploads>\r\n  <iu-upload\r\n    *ngIf=\"preview && !multiple && hasUploads\"\r\n    [upload]=\"activeFile\"\r\n    [height]=\"200\"\r\n    (remove)=\"remove()\"\r\n  >\r\n  </iu-upload>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nimport { FileUpload } from '../file-upload.model';\r\nimport { guid } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-file-control',\r\n  templateUrl: './file-control.component.html',\r\n  styleUrls: ['./file-control.component.scss']\r\n})\r\nexport class FileControlComponent implements OnInit {\r\n  @Input() id = `files-${guid()}`;\r\n  @Input() debug = false;\r\n  @Input() maxFileSize = 97000000;\r\n  @Input() multiple = false;\r\n  @Input() ordered = true;\r\n  @Input() preview = true;\r\n  @Input() isPrivateMessage = '';\r\n  @Output() upload = new EventEmitter<FileUpload | FileUpload[]>();\r\n  @Output() delete = new EventEmitter<FileUpload>();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<iu-file-upload [id]=\"id\" [maxFileSize]=\"maxFileSize\">\r\n\r\n</iu-file-upload>\r\n","import { Component, forwardRef, Input, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Store } from '@ngrx/store';\r\nimport { buildControlFromModel } from '../../../forms/utils';\r\nimport { SmartComponent } from '../../../shared/component';\r\nimport { build, compareNumbers, equals, getValue, inArray, toArray, truthy } from '../../../shared/utils';\r\nimport { File, FileUpload } from '../file-upload.model';\r\n\r\nexport const FILE_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => UploaderComponent),\r\n  multi: true\r\n};\r\n\r\nclass FileUploads {\r\n  uploads: FileUpload[] = [];\r\n}\r\n\r\nfunction buildFromFile(file: File): FileUpload {\r\n  return build(FileUpload, {\r\n    name: file.fileName,\r\n    size: file.fileSize,\r\n    type: file.mimeType,\r\n    src: getSrcFromFileName(file.fileName),\r\n    order: file.order\r\n  });\r\n}\r\n\r\nfunction getSrcFromFileName(fileName: string): string {\r\n  return fileName.includes('gun.png') ? fileName : `${''}/files/${fileName}`;\r\n}\r\n\r\nfunction mapToUrl(path: string | string[]): string | string[] {\r\n  console.log(path);\r\n  const s = Array.isArray(path) ? path.map(x => <string>mapToUrl(x))\r\n    : inArray(['assets/gun.png', 'assets/ar.png', 'assets/shotgun.png'], path) ?\r\n      `${''}/${path}`\r\n      : `${''}/files/${path}`;\r\n  console.log(s);\r\n  return s;\r\n}\r\n\r\n@Component({\r\n  selector: 'iu-uploader',\r\n  templateUrl: './uploader.component.html',\r\n  styleUrls: ['./uploader.component.scss'],\r\n  providers: [FILE_ACCESSOR]\r\n})\r\nexport class UploaderComponent extends SmartComponent implements OnInit, ControlValueAccessor {\r\n  @Input() apiBaseUrl = '';\r\n  fg: FormGroup;\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  authToken = '';\r\n  _uploads: FileUpload[] = [];\r\n  _value: string | string[];\r\n\r\n  constructor(public store: Store<any>, public sanitizer: DomSanitizer) {\r\n    super(store);\r\n    this.fg = buildControlFromModel(new FileUploads());\r\n    // this.addSubscription(authTokenSelector(store).subscribe(x => {\r\n    //   this.authToken = x;\r\n    // }));\r\n  }\r\n\r\n  set uploads(value: FileUpload[]) {\r\n    if (!equals(value.map(x => x.src), this._uploads.map(x => x.src))) {\r\n      this._uploads = value;\r\n      this.fg.setValue(getValue(build(FileUploads, {\r\n        uploads: value\r\n      })));\r\n      this.onChange(toArray(value).sort((a, b) => compareNumbers(a.order, b.order)).map(x => x.name));\r\n      console.dir(this.value);\r\n    }\r\n  }\r\n\r\n  get uploads(): FileUpload[] {\r\n    return this._uploads;\r\n  }\r\n\r\n  set value(value: string | string[]) {\r\n    if (truthy(value) && !equals(value, this._value)) {\r\n      // fetch file from server\r\n      if (typeof (value) === 'string') {\r\n        this.getFile(<string>mapToUrl(value));\r\n      } else if (Array.isArray(value) && value.length > 0) {\r\n        this.getFiles(<string[]>mapToUrl(value));\r\n      }\r\n    }\r\n    this._value = value;\r\n  }\r\n\r\n  get value(): string | string[] {\r\n    return this._value;\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: string | string[]) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: string | string[]) {\r\n    this._value = value;\r\n    if (typeof (this.onModelChange) === 'function') {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onReorderUploads(e: FileUpload[]) {\r\n    this.uploads = e;\r\n  }\r\n\r\n  onUpload(e: FileUpload | FileUpload[]) {\r\n    console.dir(e);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n      if (!equals(this.uploads.map(y => y.src), x.uploads.map(y => y.src))) {\r\n        if (x.uploads.filter(y => y.loading).length === 0) {\r\n          const uploads = x.uploads.filter(y => !inArray(this.uploads.map(z => z.name), y.name) && !y.loading && !y.name.includes('gun.png'));\r\n          console.log('\\n\\n', 'FORM CHANGE');\r\n          console.dir(x.uploads);\r\n          if (uploads.length > 0) {\r\n            console.dir(uploads);\r\n            uploads.forEach(upload => {\r\n              console.log(upload.name);\r\n              if (upload.src) {\r\n                this.saveFile(upload);\r\n              }\r\n            });\r\n          } else {\r\n            const reordering = x.uploads.length > 1 ? x.uploads.filter(y => !y.name.includes('gun.png')) : x.uploads;\r\n            console.log('NO NEW UPLOADS!');\r\n            // console.dir(reordering);\r\n            // this.uploads = reordering;\r\n            if (x.uploads.length > 1) {\r\n              // this.uploads = x.uploads;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }));\r\n  }\r\n\r\n  async getFile(url: string): Promise<FileUpload> {\r\n    console.log(url);\r\n    return fetch(url)\r\n      .then(response => response.blob())\r\n      .then(blob => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(blob);\r\n        reader.onloadend = () => {\r\n          // const src = this.sanitizer.bypassSecurityTrustUrl(`data:image/png;base64,${reader.result}`);\r\n          // const src = `data:image/png;base64,${reader.result}`;\r\n          const src = `${reader.result}`;\r\n          this.uploads = [...this.uploads, build(FileUpload, {\r\n            src,\r\n            size: blob.size,\r\n            type: blob.type,\r\n            name: url.split('/').pop()\r\n          })];\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  async getFiles(urls: string[]) {\r\n    urls.forEach(url => {\r\n      this.getFile(url);\r\n    });\r\n  }\r\n\r\n  saveFile(upload: FileUpload) {\r\n    (async () => {\r\n      const body = JSON.stringify(upload.file);\r\n      const headers = {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      };\r\n      if (this.authToken) {\r\n        headers['Authorization'] = `Bearer ${this.authToken}`;\r\n      }\r\n      const response = fetch(`${this.apiBaseUrl}/files`, {\r\n        method: 'POST',\r\n        headers,\r\n        body\r\n      });\r\n      await (await response).json()\r\n        .then((data: File) => {\r\n          console.dir(data);\r\n          const upload = buildFromFile(data);\r\n          console.dir(upload);\r\n          this.uploads = [...this.uploads.filter(x => !x.name.includes('gun.png')), upload];\r\n          console.dir(this.uploads);\r\n          console.log(this.value);\r\n          return upload;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        })\r\n    })();\r\n  }\r\n\r\n}\r\n","<!-- <p>uploader works!</p>\r\n<form [formGroup]=\"fg\">\r\n  <iu-file-upload formControlName=\"uploads\" [multiple]=\"true\" (upload)=\"onUpload($event)\"\r\n    (reorderUploads)=\"onReorderUploads($event)\">\r\n\r\n  </iu-file-upload>\r\n</form> -->\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n\r\nimport { FileUploadComponent } from './file-upload.component';\r\nimport { FileControlComponent } from './file-control/file-control.component';\r\nimport { FilePreviewComponent } from './file-preview/file-preview.component';\r\nimport { UploadComponent } from './upload/upload.component';\r\nimport { UploadsComponent } from './uploads/uploads.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { UploaderComponent } from './uploader/uploader.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    DragDropModule,\r\n    FormsModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  declarations: [\r\n    FileControlComponent,\r\n    FileUploadComponent,\r\n    FilePreviewComponent,\r\n    UploadComponent,\r\n    UploadsComponent,\r\n    UploaderComponent\r\n  ],\r\n  exports: [\r\n    FileControlComponent,\r\n    FileUploadComponent,\r\n    FilePreviewComponent,\r\n    UploadComponent,\r\n    UploadsComponent\r\n  ]\r\n})\r\nexport class FileUploadModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-not-found',\r\n  templateUrl: './not-found.component.html',\r\n  styleUrls: ['./not-found.component.scss']\r\n})\r\nexport class NotFoundComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  not-found works!\r\n</p>\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { NotFoundComponent } from './not-found.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n  ],\r\n  declarations: [NotFoundComponent],\r\n  exports: [NotFoundComponent]\r\n})\r\nexport class NotFoundModule { }\r\n","import { Metadata } from '../../shared/models';\r\nimport { build } from '../../shared/utils';\r\n\r\nexport class MilitaryDateTime {\r\n  date: Date = new Date();\r\n  hour = 0;\r\n  minutes = 0;\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['datetime']\r\n    });\r\n  }\r\n\r\n  set datetime(value: Date) {\r\n    const d = new Date(value);\r\n    this.date = d;\r\n    this.hour = d.getHours();\r\n    this.minutes = d.getMinutes();\r\n  }\r\n\r\n  get datetime(): Date {\r\n    const d = new Date(this.date);\r\n    d.setHours(this.hour);\r\n    d.setMinutes(this.minutes);\r\n    return d;\r\n  }\r\n}\r\n\r\nexport class DateTime {\r\n  date: Date = new Date();\r\n  hour = 0;\r\n  minutes = 0;\r\n  meridian: 'AM' | 'PM' = 'AM';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['datetime']\r\n    });\r\n  }\r\n\r\n  set datetime(value: Date) {\r\n    const d = new Date(value);\r\n    const hours = d.getHours();\r\n    this.date = d;\r\n    this.hour = hours === 12 ? 12 : hours % 12;\r\n    this.minutes = d.getMinutes();\r\n    this.meridian = hours >= 12 ? 'PM' : 'AM';\r\n  }\r\n\r\n  get datetime(): Date {\r\n    return build(MilitaryDateTime, this, {\r\n      hour: this.meridian === 'AM' ? this.hour : this.hour + 12\r\n    }).datetime;\r\n  }\r\n}\r\n\r\nexport class MilitaryTime {\r\n  hour = 0;\r\n  minutes = 0;\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: []\r\n    });\r\n  }\r\n}\r\n\r\nexport class Time {\r\n  hour = 0;\r\n  minutes = 0;\r\n  meridian: 'AM' | 'PM' = 'AM';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: []\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\r\nimport { FormGroup, NG_VALUE_ACCESSOR, ControlValueAccessor, FormControl } from '@angular/forms';\r\n\r\nimport { DateTime } from '../time.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { FormComponent } from '../../../shared/component';\r\nimport { build, integerArray } from '../../../shared/utils';\r\n\r\nexport const DATETIME_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => DateTimeControlComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-datetime-control',\r\n  templateUrl: './datetime-control.component.html',\r\n  styleUrls: ['./datetime-control.component.scss'],\r\n  providers: [DATETIME_ACCESSOR]\r\n})\r\nexport class DateTimeControlComponent extends FormComponent implements OnInit, ControlValueAccessor {\r\n  form: FormGroup = new FormGroup({\r\n    date: new FormControl(),\r\n    hour: new FormControl(),\r\n    minutes: new FormControl(),\r\n    meridian: new FormControl()\r\n  });\r\n  @Input() label = 'Time';\r\n  @Input() hideDate = false;\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  _value: Date;\r\n  focused: Date;\r\n  _time: DateTime = new DateTime();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  get value(): Date {\r\n    return this._value;\r\n  }\r\n\r\n  @Input()\r\n  set value(value: Date) {\r\n    this._value = value;\r\n    const time = build(DateTime, {\r\n      datetime: value\r\n    });\r\n    if (time.datetime.getTime() !== this.time.datetime.getTime()) {\r\n      this.time = time;\r\n    }\r\n  }\r\n\r\n  set time(value: DateTime) {\r\n    this.setValue(value);\r\n  }\r\n\r\n  get time(): DateTime {\r\n    return build(DateTime, this.form.value);\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: Date) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: Date) {\r\n    this.value = value;\r\n    if (this.onModelChange) {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onBlur(e: any) {\r\n    console.dir(e);\r\n  }\r\n\r\n  get hours(): any {\r\n    return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n  }\r\n\r\n  get minutes(): any {\r\n    return integerArray(60).filter(x => x > 9);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.form.valueChanges.subscribe(x => {\r\n      this.onChange(build(DateTime, x).datetime);\r\n    });\r\n  }\r\n}\r\n","<form [formGroup]=\"form\" class=\"time-control\">\r\n  <h3 class=\"time-text\">{{ label }}</h3>\r\n  <mat-form-field *ngIf=\"!hideDate\" class=\"date\">\r\n    <input matInput [matDatepicker]=\"picker\" formControlName=\"date\" placeholder=\"Choose a date\" />\r\n    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n    <mat-datepicker #picker></mat-datepicker>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"hour\" placeholder=\"Hour\">\r\n      <mat-option *ngFor=\"let hour of hours\" [value]=\"hour\">\r\n        {{ hour }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"minutes\" placeholder=\"Minute\">\r\n      <mat-option [value]=\"0\">00</mat-option>\r\n      <mat-option [value]=\"1\">01</mat-option>\r\n      <mat-option [value]=\"2\">02</mat-option>\r\n      <mat-option [value]=\"3\">03</mat-option>\r\n      <mat-option [value]=\"4\">04</mat-option>\r\n      <mat-option [value]=\"5\">05</mat-option>\r\n      <mat-option [value]=\"6\">06</mat-option>\r\n      <mat-option [value]=\"7\">07</mat-option>\r\n      <mat-option [value]=\"8\">08</mat-option>\r\n      <mat-option [value]=\"9\">09</mat-option>\r\n      <mat-option *ngFor=\"let minute of minutes\" [value]=\"minute\">\r\n        {{ minute }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"meridian\" placeholder=\"AM/PM\">\r\n      <mat-option value=\"AM\">AM</mat-option>\r\n      <mat-option value=\"PM\">PM</mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n</form>\r\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\r\nimport { FormGroup, NG_VALUE_ACCESSOR, ControlValueAccessor, FormControl } from '@angular/forms';\r\n\r\nimport { Time } from '../time.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { FormComponent } from '../../../shared/component';\r\nimport { build, integerArray, getValue } from '../../../shared/utils';\r\n\r\nexport const TIME_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => TimeControlComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-time-control',\r\n  templateUrl: './time-control.component.html',\r\n  styleUrls: ['./time-control.component.scss'],\r\n  providers: [TIME_ACCESSOR]\r\n})\r\nexport class TimeControlComponent extends FormComponent implements OnInit, ControlValueAccessor {\r\n  timeForm: FormGroup = new FormGroup({\r\n    hour: new FormControl(),\r\n    minutes: new FormControl(),\r\n    meridian: new FormControl()\r\n  });\r\n  @Input() label = 'Time';\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  _value: Date;\r\n  focused: Date;\r\n  _isDisabled = false;\r\n  _time: Time = new Time();\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  @Input() set isDisabled(value: boolean) {\r\n    this._isDisabled = value;\r\n    if (value) {\r\n      this.timeForm.disable();\r\n    } else {\r\n      this.timeForm.enable();\r\n    }\r\n  }\r\n\r\n  get isDisabled(): boolean {\r\n    return this._isDisabled;\r\n  }\r\n\r\n  get value(): Date {\r\n    return this._value;\r\n  }\r\n\r\n  @Input()\r\n  set value(value: Date) {\r\n    this._value = value;\r\n  }\r\n\r\n  set time(value: Time) {\r\n    this.setValue(value);\r\n  }\r\n\r\n  get time(): Time {\r\n    return build(Time, this.timeForm.value);\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: Date) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: Date) {\r\n    this.value = value;\r\n    if (this.onModelChange) {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  onBlur(e: any) {\r\n    console.dir(e);\r\n  }\r\n\r\n  get hours(): any {\r\n    return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n  }\r\n\r\n  get minutes(): any {\r\n    return integerArray(60).filter(x => x > 9);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  setValue(value: Time) {\r\n    this.timeForm.setValue(getValue(value));\r\n  }\r\n}\r\n","<form [formGroup]=\"timeForm\" class=\"time-control\">\r\n  <h3 class=\"time-text\">{{ label }}</h3>\r\n\r\n  <mat-form-field>\r\n    <mat-select formControlName=\"hour\" placeholder=\"Hour\">\r\n      <mat-option *ngFor=\"let hour of hours\" [value]=\"hour\">\r\n        {{ hour }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"minutes-control\">\r\n    <mat-select formControlName=\"minutes\" placeholder=\"Minute\">\r\n      <mat-option [value]=\"0\">00</mat-option>\r\n      <mat-option [value]=\"1\">01</mat-option>\r\n      <mat-option [value]=\"2\">02</mat-option>\r\n      <mat-option [value]=\"3\">03</mat-option>\r\n      <mat-option [value]=\"4\">04</mat-option>\r\n      <mat-option [value]=\"5\">05</mat-option>\r\n      <mat-option [value]=\"6\">06</mat-option>\r\n      <mat-option [value]=\"7\">07</mat-option>\r\n      <mat-option [value]=\"8\">08</mat-option>\r\n      <mat-option [value]=\"9\">09</mat-option>\r\n      <mat-option *ngFor=\"let minute of minutes\" [value]=\"minute\">\r\n        {{ minute }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <mat-form-field class=\"meridian-control\">\r\n    <mat-select formControlName=\"meridian\" placeholder=\"AM/PM\">\r\n      <mat-option value=\"AM\">AM</mat-option>\r\n      <mat-option value=\"PM\">PM</mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\nimport { DateTimeControlComponent } from './datetime-control/datetime-control.component';\r\nimport { TimeControlComponent } from './time-control/time-control.component';\r\nimport { FormsModule } from '../../forms/forms.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [DateTimeControlComponent, TimeControlComponent],\r\n  imports: [SharedModule, FormsModule, MatDatepickerModule, MatFormFieldModule, MatInputModule, MatSelectModule],\r\n  exports: [DateTimeControlComponent, TimeControlComponent]\r\n})\r\nexport class TimeModule {}\r\n","import { build } from '../../shared/utils';\r\n\r\nexport class Timer {\r\n  hours = 0;\r\n  minutes = 0;\r\n  seconds = 0;\r\n  milliseconds = 0;\r\n\r\n  static Equals(p: Timer, q: Timer): boolean {\r\n    return p.hours === q.hours && p.minutes === q.minutes && p.seconds === q.seconds && p.milliseconds === q.milliseconds;\r\n  }\r\n\r\n  get zero(): boolean {\r\n    return this.hours === 0 && this.minutes === 0 && this.seconds === 0 && this.milliseconds === 0;\r\n  }\r\n\r\n  decrementMillisecond(): Timer {\r\n    const milliseconds = this.milliseconds === 0 ? (this.seconds > 0 ? 999 : 0) : this.milliseconds - 1;\r\n    const seconds = milliseconds === 59 ? (this.seconds > 0 ? this.seconds - 1 : 0) : this.seconds;\r\n    const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n    const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  decrementSecond(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds === 0 ? (this.minutes > 0 ? 59 : 0) : this.seconds - 1;\r\n    const minutes = seconds === 59 ? (this.minutes > 0 ? this.minutes - 1 : 0) : this.minutes;\r\n    const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  decrementMinute(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds;\r\n    const minutes = this.minutes === 0 ? (this.hours > 0 ? 59 : 0) : this.minutes - 1;\r\n    const hours = minutes === 59 ? (this.hours > 0 ? this.hours - 1 : 0) : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  incrementMillisecond(): Timer {\r\n    const milliseconds = this.milliseconds === 999 ? 0 : this.milliseconds + 1;\r\n    const seconds = this.milliseconds === 999 ? (this.seconds === 59 ? 0 : this.seconds + 1) : this.seconds;\r\n    const minutes = this.milliseconds === 999 && this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n    const hours = this.milliseconds === 999 && this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  incrementSecond(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds === 59 ? 0 : this.seconds + 1;\r\n    const minutes = this.seconds === 59 ? (this.minutes === 59 ? 0 : this.minutes + 1) : this.minutes;\r\n    const hours = this.seconds === 59 && this.minutes === 59 ? this.hours + 1 : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n\r\n  incrementMinute(): Timer {\r\n    const milliseconds = this.milliseconds;\r\n    const seconds = this.seconds;\r\n    const minutes = this.minutes === 59 ? 0 : this.minutes + 1;\r\n    const hours = this.minutes === 59 ? this.hours + 1 : this.hours;\r\n    return build(Timer, this, { milliseconds, seconds, minutes, hours });\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { Timer } from './timer.model';\r\n\r\n@Pipe({\r\n  name: 'timer'\r\n})\r\nexport class TimerPipe implements PipeTransform {\r\n  transform(value: Timer, showHours = false, showMilliseconds = false): any {\r\n    const hours = showHours ? `${value.hours}:` : '';\r\n    const minutes = value.minutes.toString().padStart(2, '0');\r\n    const seconds = value.seconds.toString().padStart(2, '0');\r\n    const milliseconds = showMilliseconds\r\n      ? `:${Math.round(value.milliseconds / 10)\r\n          .toString()\r\n          .padStart(2, '0')}`\r\n      : '';\r\n    return `${hours}${minutes}:${seconds}${milliseconds}`;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Observable, BehaviorSubject, Subscription } from 'rxjs';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { Timer } from './timer.model';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { build } from '../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-timer',\r\n  templateUrl: './timer.component.html',\r\n  styleUrls: ['./timer.component.scss']\r\n})\r\nexport class TimerComponent extends DumbComponent implements OnInit {\r\n  @Input() countUp = false;\r\n  @Input() millisecondsAlways = false;\r\n  @Input() millisecondsUnderMinute = false;\r\n  @Input() showHours = false;\r\n  @Output() timesUp = new EventEmitter();\r\n  stopped = false;\r\n  timeElapsed: Timer = new Timer();\r\n  timeElapsed$: Observable<Timer>;\r\n  timeElapsedSubject = new BehaviorSubject<Timer>(new Timer());\r\n  timeRemaining: Timer = new Timer();\r\n  timeRemaining$: Observable<Timer>;\r\n  timeRemainingSubject = new BehaviorSubject<Timer>(new Timer());\r\n  _countDown = false;\r\n  _countdownFrom: Timer = new Timer();\r\n\r\n  constructor() {\r\n    super();\r\n    this.timeElapsed$ = this.timeElapsedSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n    this.timeRemaining$ = this.timeRemainingSubject.asObservable().pipe(distinctUntilChanged(Timer.Equals));\r\n  }\r\n\r\n  @Input() set countdownFrom(value: Timer) {\r\n    this._countdownFrom = build(Timer, value);\r\n    this.timeRemainingSubject.next(this._countdownFrom);\r\n  }\r\n\r\n  get countdownFrom(): Timer {\r\n    return this._countdownFrom;\r\n  }\r\n\r\n  @Input() set countDown(value: boolean) {\r\n    this._countDown = value;\r\n  }\r\n\r\n  get countDown(): boolean {\r\n    return this._countDown || !this.countdownFrom.zero;\r\n  }\r\n\r\n  get millisecondsEver(): boolean {\r\n    return this.millisecondsAlways || this.millisecondsUnderMinute;\r\n  }\r\n\r\n  get showElapsedMilliseconds(): boolean {\r\n    return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeElapsed.minutes < 1;\r\n  }\r\n\r\n  get showRemainingMilliseconds(): boolean {\r\n    return this.millisecondsAlways ? true : this.millisecondsUnderMinute && this.timeRemaining.minutes < 1;\r\n  }\r\n\r\n  get timeElapsedChanges(): Subscription {\r\n    return this.timeElapsed$.subscribe(x => {\r\n      this.timeElapsed = x;\r\n    });\r\n  }\r\n\r\n  get timeRemainingChanges(): Subscription {\r\n    return this.timeRemaining$.subscribe(x => {\r\n      this.timeRemaining = x;\r\n      if (this.timeRemaining.zero) {\r\n        this.timesUp.emit();\r\n      }\r\n    });\r\n  }\r\n\r\n  get zero(): boolean {\r\n    return this.timeRemaining.zero;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscribe([this.timeElapsedChanges, this.timeRemainingChanges]);\r\n  }\r\n\r\n  setTimeElapsed(time: Timer) {\r\n    this.stopped = true;\r\n    this.timeElapsedSubject.next(build(Timer, time));\r\n  }\r\n\r\n  setTimeRemaining(time: Timer) {\r\n    // this.stopped = true;\r\n    this.timeRemainingSubject.next(build(Timer, time));\r\n  }\r\n\r\n  start(e?: any) {\r\n    if (e && typeof e.preventDefault === 'function') {\r\n      e.preventDefault();\r\n    }\r\n    this.stopped = false;\r\n    if (this.millisecondsEver) {\r\n      this.timeoutMilliseconds();\r\n    } else {\r\n      this.timeoutSeconds();\r\n    }\r\n  }\r\n\r\n  startAt(time: Timer) {\r\n    this.setTimeRemaining(time);\r\n    // this.start();\r\n  }\r\n\r\n  stop(e?: any) {\r\n    if (e && typeof e.preventDefault === 'function') {\r\n      e.preventDefault();\r\n    }\r\n    this.stopped = true;\r\n  }\r\n\r\n  timeoutMilliseconds() {\r\n    if (!this.stopped && !this.zero) {\r\n      setTimeout(() => {\r\n        this.nextMillisecond();\r\n        this.timeoutMilliseconds();\r\n      }, 1);\r\n    }\r\n  }\r\n\r\n  timeoutSeconds() {\r\n    if (!this.stopped && !this.zero) {\r\n      setTimeout(() => {\r\n        if (!this.stopped) {\r\n          this.nextSecond();\r\n          if (!this.zero) {\r\n            this.timeoutSeconds();\r\n          }\r\n        }\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  nextMillisecond() {\r\n    if (this.countDown) {\r\n      this.timeRemainingSubject.next(this.timeRemaining.decrementMillisecond());\r\n    }\r\n    if (this.countUp) {\r\n      this.timeElapsedSubject.next(this.timeElapsed.incrementMillisecond());\r\n    }\r\n  }\r\n\r\n  nextSecond() {\r\n    if (this.countDown) {\r\n      this.timeRemainingSubject.next(this.timeRemaining.decrementSecond());\r\n    }\r\n    if (this.countUp) {\r\n      this.timeElapsedSubject.next(this.timeElapsed.incrementSecond());\r\n    }\r\n  }\r\n}\r\n","<div class=\"timer\">\r\n  <div *ngIf=\"countDown\" class=\"time-remaining\">\r\n    {{ timeRemaining | timer : showHours : showRemainingMilliseconds }}\r\n  </div>\r\n  <div *ngIf=\"countUp\" class=\"time-elapsed\">\r\n    {{ timeElapsed | timer : showHours : showElapsedMilliseconds }}\r\n  </div>\r\n  <button mat-raised-button (click)=\"start($event)\">Start</button>\r\n  <button mat-raised-button (click)=\"stop($event)\">Stop</button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\nimport { TimerComponent } from './timer.component';\r\nimport { TimerPipe } from './timer.pipe';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    MatButtonModule\r\n  ],\r\n  declarations: [\r\n    TimerComponent,\r\n    TimerPipe,\r\n  ],\r\n  exports: [\r\n    TimerComponent,\r\n    TimerPipe,\r\n  ]\r\n})\r\nexport class TimerModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'list'\r\n})\r\nexport class ListPipe implements PipeTransform {\r\n\r\n  transform(value: any[], key?: string): string {\r\n    return Array.isArray(value) ?\r\n      value.reduce((acc, x) => key ?\r\n        acc ? `${acc}, ${x[key]}` : x[key]\r\n        : acc ? `${acc}, ${x}`\r\n          : x, '')\r\n      : '';\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'padLeft'\r\n})\r\nexport class PadLeftPipe implements PipeTransform {\r\n\r\n  transform(value: any, targetLength: number, padString = '0'): any {\r\n    return value.toString().padStart(targetLength, padString);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'phone'\r\n})\r\nexport class PhoneNumberPipe implements PipeTransform {\r\n\r\n  transform(value: string, args?: any): string {\r\n    return value ? value.length !== 10 ? value\r\n      : `(${value[0]}${value[1]}${value[2]}) ${value[3]}${value[4]}${value[5]}-${value[6]}${value[7]}${value[8]}${value[9]}`\r\n      : '';\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safeHtml'\r\n})\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n  constructor(private sanitized: DomSanitizer) {}\r\n\r\n  transform(value: any, args?: any): any {\r\n    return this.sanitized.bypassSecurityTrustHtml(value);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\nimport { DateHelper } from '../shared/date';\r\n\r\n@Pipe({\r\n  name: 'timeago'\r\n})\r\nexport class TimeAgoPipe implements PipeTransform {\r\n\r\n  transform(value: Date, args?: any): string {\r\n    return DateHelper.TimeAgo(value);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'yesno'\r\n})\r\nexport class YesNoPipe implements PipeTransform {\r\n\r\n  transform(value: boolean, args?: any): 'Yes' | 'No' {\r\n    return value ? 'Yes' : 'No';\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ListPipe } from './list.pipe';\r\nimport { PadLeftPipe } from './pad-left.pipe';\r\nimport { PhoneNumberPipe } from './phone-number.pipe';\r\nimport { SafeHtmlPipe } from './safe-html.pipe';\r\nimport { TimeAgoPipe } from './time-ago.pipe';\r\nimport { YesNoPipe } from './yes-no.pipe';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [\r\n    ListPipe,\r\n    PadLeftPipe,\r\n    PhoneNumberPipe,\r\n    SafeHtmlPipe,\r\n    TimeAgoPipe,\r\n    YesNoPipe\r\n  ],\r\n  exports: [\r\n    ListPipe,\r\n    PadLeftPipe,\r\n    PhoneNumberPipe,\r\n    SafeHtmlPipe,\r\n    TimeAgoPipe,\r\n    YesNoPipe\r\n  ]\r\n})\r\nexport class PipesModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { LibraryComponent } from './library.component';\r\nimport { AccordionModule } from './components/accordion/accordion.module';\r\nimport { AddressModule } from './components/address/address.module';\r\nimport { AuditModule } from './components/audit/audit.module';\r\nimport { CollageModule } from './components/collage/collage.module';\r\nimport { ContainerModule } from './components/container/container.module';\r\nimport { DatepickerModule } from './components/datepicker/datepicker.module';\r\nimport { DialogModule } from './components/dialog/dialog.module';\r\nimport { FileUploadModule } from './components/file-upload/file-upload.module';\r\nimport { NotFoundModule } from './components/not-found/not-found.module';\r\nimport { TileModule } from './components/tile/tile.module';\r\nimport { TimeModule } from './components/time/time.module';\r\nimport { TimerModule } from './components/timer/timer.module';\r\nimport { PipesModule } from './pipes/pipes.module';\r\nimport { SharedModule } from './shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    AccordionModule,\r\n    AddressModule,\r\n    AuditModule,\r\n    \r\n    ContainerModule,\r\n    DatepickerModule,\r\n    DialogModule,\r\n    FileUploadModule,\r\n    NotFoundModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatTableModule,\r\n    MatToolbarModule,\r\n    PipesModule,\r\n    TimeModule,\r\n    TimerModule\r\n  ],\r\n  declarations: [LibraryComponent],\r\n  exports: [\r\n    LibraryComponent,\r\n    SharedModule,\r\n    AccordionModule,\r\n    AddressModule,\r\n    AuditModule,\r\n    CollageModule,\r\n    ContainerModule,\r\n    DatepickerModule,\r\n    DialogModule,\r\n    FileUploadModule,\r\n    TileModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    PipesModule,\r\n    TimeModule,\r\n    TimerModule\r\n  ]\r\n})\r\nexport class LibraryModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: []\r\n})\r\nexport class AnimationsModule { }\r\n","import { build, toArray } from '../shared/utils';\r\n\r\nexport class Lookup {\r\n  expires: Date;\r\n  typeName = '';\r\n  values: LookupValue[] = [];\r\n  _key = '';\r\n\r\n  get key(): string {\r\n    return this._key || this.typeName;\r\n  }\r\n\r\n  set key(value: string) {\r\n    this._key = value;\r\n  }\r\n\r\n  get name(): string {\r\n    return this.key;\r\n  }\r\n\r\n  set name(value: string) {\r\n    this.key = value;\r\n  }\r\n\r\n  get names(): string[] {\r\n    return this.values.map(x => x.name);\r\n  }\r\n}\r\n\r\nexport class LookupValue {\r\n  id = 0;\r\n  active = true;\r\n  description = '';\r\n  name = '';\r\n  sort = 0;\r\n  tooltip = ''; // use this for accessibility and/or help tooltip messages\r\n  _label = '';\r\n  _value: any;\r\n\r\n  get value(): any {\r\n    return this._value || this.id;\r\n  }\r\n\r\n  set value(value: any) {\r\n    this._value = value;\r\n  }\r\n\r\n  get label(): string {\r\n    return this._label || this.description;\r\n  }\r\n\r\n  set label(value: string) {\r\n    this._label = value;\r\n  }\r\n}\r\n\r\nexport class Lookups {\r\n  [key: string]: Lookup;\r\n\r\n  static AddLookups(state: Lookups, lookups: Lookup[]): Lookups {\r\n    return lookups.reduce(\r\n      (acc: Lookups, lookup: Lookup): Lookups =>\r\n        build(Lookups, acc, { [lookup.key]: build(Lookup, lookup) }),\r\n      state\r\n    );\r\n  }\r\n\r\n  static AddLookup(state: Lookups, lookup: Lookup): Lookups {\r\n    return build(Lookups, state, {\r\n      [lookup.key]: build(Lookup, lookup)\r\n    });\r\n  }\r\n\r\n  static BuildLookupValues(\r\n    values: LookupValue[],\r\n    names: string[]\r\n  ): LookupValue[] {\r\n    return names.reduce((acc, name) => {\r\n      const value = values.find(x => x.name === name);\r\n      return value ? [...acc, value] : [...acc];\r\n    }, []);\r\n  }\r\n\r\n  static FindLookupIdByName(values: LookupValue[], name: string): number {\r\n    const lkp = build(LookupValue, values.find(x => x.name === name));\r\n    return lkp.id;\r\n  }\r\n\r\n  static FindLookupNameById(values: LookupValue[], id: number): string {\r\n    const lkp = build(LookupValue, values.find(x => x.id === id));\r\n    return lkp.name;\r\n  }\r\n\r\n  static RemoveLookup(state: Lookups, removeKey: string): Lookups {\r\n    const newState = new Lookups();\r\n    const keys = Object.keys(state).filter(key => key !== removeKey);\r\n    keys.forEach(key => {\r\n      newState[key] = Object.assign({}, state[key]);\r\n    });\r\n    return newState;\r\n  }\r\n\r\n  static RemoveLookupValue(\r\n    state: Lookups,\r\n    lookupKey: string,\r\n    lookupValueId: number\r\n  ): Lookups {\r\n    const values = toArray(build(Lookup, state[lookupKey]).values).filter(\r\n      x => x.id !== lookupValueId\r\n    );\r\n    const lookup = build(Lookup, state[lookupKey], { values });\r\n    return build(Lookups, state, { [lookupKey]: lookup });\r\n  }\r\n\r\n  static UpdateLookupValue(\r\n    state: Lookups,\r\n    lookupKey: string,\r\n    lookupValue: LookupValue\r\n  ): Lookups {\r\n    const values = [\r\n      ...toArray(build(Lookup, state[lookupKey]).values).filter(\r\n        x => x.id !== lookupValue.id\r\n      ),\r\n      lookupValue\r\n    ];\r\n    const lookup = build(Lookup, state[lookupKey], { values });\r\n    return build(Lookups, state, { [lookupKey]: lookup });\r\n  }\r\n}\r\n\r\nexport class AddLookupPayload {\r\n  key = '';\r\n  value: '';\r\n}\r\n","import { Validators } from '@angular/forms';\r\n\r\nimport { LookupValue } from '../../lookup/lookup.models';\r\nimport { DateHelper } from '../../shared/date';\r\nimport { Metadata } from '../../shared/models';\r\nimport { build } from '../../shared/utils';\r\n\r\nexport class Calendar {\r\n  calendarName = '';\r\n  description = '';\r\n  isAllDayDefault = false;\r\n  isAllDayEnforced = false;\r\n  isMaster = false;\r\n  events: CalendarEvent[] = [];\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['firstDay', 'lastDay']\r\n    });\r\n  }\r\n\r\n  get firstDay() {\r\n    return;\r\n  }\r\n\r\n  get lastDay() {\r\n    return;\r\n  }\r\n}\r\n\r\nexport class CalendarEventType extends LookupValue {\r\n  allDay = false;\r\n  color = '';\r\n}\r\n\r\nexport class CalendarEvent {\r\n  id = 0;\r\n  description = '';\r\n  eventId = '';\r\n  name = '';\r\n  eventType: CalendarEventType = new CalendarEventType();\r\n  eventTypeId = 0;\r\n  calendarId = 0;\r\n  startTime: Date = new Date();\r\n  endTime: Date = null;\r\n  _allDay = false;\r\n  _color = '';\r\n\r\n  get metadata(): any {\r\n    return {\r\n      name: {\r\n        validators: [Validators.required]\r\n      },\r\n      ignore: [\r\n        '_allDay',\r\n        '_color',\r\n        'color',\r\n        'dayOf',\r\n        'description',\r\n        'startHour',\r\n        'startMinute',\r\n        'startTimePeriod',\r\n        'monthOf',\r\n        'endHour',\r\n        'endMinute',\r\n        'endTimePeriod',\r\n        'eventType',\r\n        'yearOf'\r\n      ]\r\n    };\r\n  }\r\n\r\n  set allDay(value: boolean) {\r\n    this._allDay = value;\r\n  }\r\n\r\n  get allDay(): boolean {\r\n    return this._allDay || this.eventType.allDay;\r\n  }\r\n\r\n  set color(value: string) {\r\n    this._color = value;\r\n  }\r\n\r\n  get color(): string {\r\n    return this._color || this.eventType.color;\r\n  }\r\n\r\n  get endHour(): number {\r\n    return DateHelper.GetHour(this.endTime);\r\n  }\r\n\r\n  get endMinute(): number {\r\n    return DateHelper.GetMinute(this.endTime);\r\n  }\r\n\r\n  get endTimePeriod(): string {\r\n    return DateHelper.GetMeridian(this.endTime);\r\n  }\r\n\r\n  get startHour(): number {\r\n    return DateHelper.GetHour(this.startTime);\r\n  }\r\n\r\n  get startMinute(): number {\r\n    return DateHelper.GetMinute(this.startTime);\r\n  }\r\n\r\n  get startTimePeriod(): string {\r\n    return DateHelper.GetMeridian(this.startTime);\r\n  }\r\n}\r\n\r\nexport class CalendarDay {\r\n  date: Date = new Date();\r\n  dayType: CalendarEventType = new CalendarEventType();\r\n  events: CalendarEvent[] = [];\r\n  isActive = false;\r\n  color = '';\r\n}\r\n","import { Component, OnInit, ElementRef, Input } from '@angular/core';\r\n\r\nimport { CalendarEvent } from '../calendar.model';\r\nimport { integerArray } from '../../../shared/utils';\r\nimport { DateHelper } from '../../../shared/date';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day-events',\r\n  templateUrl: './calendar-day-events.component.html',\r\n  styleUrls: ['./calendar-day-events.component.scss']\r\n})\r\nexport class CalendarDayEventsComponent implements OnInit {\r\n  @Input() dayTypeColor: string;\r\n  styles = {};\r\n  _calendarEvents: CalendarEvent[] = [];\r\n  totalHeight = 100;\r\n\r\n  constructor(public el: ElementRef) {}\r\n\r\n  @Input()\r\n  set calendarEvents(value: CalendarEvent[]) {\r\n    this._calendarEvents = value;\r\n    this.styles = value.reduce((acc, e, i) => {\r\n      const width =\r\n        DateHelper.HoursBetween(e.startTime, e.endTime) * this.hourWidth;\r\n      return Object.assign({}, acc, {\r\n        [i]: {\r\n          top: 5,\r\n          left:\r\n            DateHelper.HoursFromBeginningOfDay(e.startTime) * this.hourWidth,\r\n          width,\r\n          height: width < 200 ? this.rowHeight * 2 : this.rowHeight\r\n        }\r\n      });\r\n    }, {});\r\n  }\r\n\r\n  get calendarEvents(): CalendarEvent[] {\r\n    return this._calendarEvents;\r\n  }\r\n\r\n  get elementWidth(): number {\r\n    return Math.max(this.el.nativeElement.offsetWidth, 800);\r\n  }\r\n\r\n  get hours(): string[] {\r\n    return integerArray(24).map(\r\n      i => `${(i + 1) % 12 === 0 ? 12 : (i + 1) % 12}`\r\n    );\r\n  }\r\n\r\n  get hourWidth(): number {\r\n    return this.elementWidth / 24;\r\n  }\r\n\r\n  get rowHeight(): number {\r\n    return this.totalHeight / 5;\r\n  }\r\n\r\n  ngOnInit() {}\r\n}\r\n","<div class=\"calendar-day-events scrollable\">\r\n  <div\r\n    class=\"hours\"\r\n    [style.width.px]=\"elementWidth\"\r\n    [style.background-color]=\"dayTypeColor\"\r\n  >\r\n    <h4 *ngFor=\"let hour of hours\" [style.width.px]=\"hourWidth\">{{ hour }}</h4>\r\n  </div>\r\n  <div class=\"events-list\">\r\n    <span\r\n      class=\"inline-event\"\r\n      *ngFor=\"let event of calendarEvents; let i = index\"\r\n      [style.background]=\"event.color\"\r\n      [style.top.px]=\"styles[i].top\"\r\n      [style.left.px]=\"styles[i].left\"\r\n      [style.height.px]=\"styles[i].height\"\r\n      [style.width.px]=\"styles[i].width\"\r\n      >{{ event.name }}</span\r\n    >\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Inject, Optional, Input, TemplateRef, ViewChild, ElementRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\nimport { CalendarDay, CalendarEventType, CalendarEvent } from '../calendar.model';\r\nimport { LookupValue } from '../../../lookup/lookup.models';\r\nimport { toArray, build, toInt } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day-edit',\r\n  templateUrl: './calendar-day-edit.component.html',\r\n  styleUrls: ['./calendar-day-edit.component.scss']\r\n})\r\nexport class CalendarDayEditComponent implements OnInit, AfterViewInit {\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n  @Output() changeDayType = new EventEmitter<CalendarEventType>();\r\n  @ViewChild('dayTypeInput', { static: false }) dayTypeInput: ElementRef;\r\n  @ViewChild('wrapper', { static: false }) wrapper: ElementRef;\r\n  _calendarDay: CalendarDay = new CalendarDay();\r\n  _calendarDayEditTemplate: TemplateRef<any>;\r\n  _calendarDayTypes: LookupValue[] = [];\r\n  _calendarEventFormTemplate: TemplateRef<any>;\r\n  _calendarEventTypes: CalendarEventType[] = [];\r\n  _calendarEventViewTemplate: TemplateRef<any>;\r\n  calendarDayTypeId = 0;\r\n\r\n  constructor(public el: ElementRef, @Optional() @Inject(MAT_DIALOG_DATA) public data?: any) {}\r\n\r\n  @Input()\r\n  set calendarDay(value: CalendarDay) {\r\n    this._calendarDay = value;\r\n  }\r\n\r\n  get calendarDay(): CalendarDay {\r\n    return this.data && this.data['calendarDay'] ? this.data['calendarDay'] : this._calendarDay;\r\n  }\r\n\r\n  @Input()\r\n  set calendarDayEditTemplate(value: TemplateRef<any>) {\r\n    this._calendarDayEditTemplate = value;\r\n  }\r\n\r\n  get calendarDayEditTemplate() {\r\n    return this.data && this.data['calendarDayEditTemplate'] ? this.data['calendarDayEditTemplate'] : this._calendarDayEditTemplate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventFormTemplate(value: TemplateRef<any>) {\r\n    this._calendarEventFormTemplate = value;\r\n  }\r\n\r\n  get calendarEventFormTemplate() {\r\n    return this.data && this.data['calendarEventFormTemplate'] ? this.data['calendarEventFormTemplate'] : this._calendarEventFormTemplate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventViewTemplate(value: TemplateRef<any>) {\r\n    this._calendarEventViewTemplate = value;\r\n  }\r\n\r\n  get calendarEventViewTemplate() {\r\n    return this.data && this.data['calendarEventViewTemplate'] ? this.data['calendarEventViewTemplate'] : this._calendarEventViewTemplate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarDayTypes(value: LookupValue[]) {\r\n    this._calendarDayTypes = value;\r\n  }\r\n\r\n  get calendarDayTypes(): LookupValue[] {\r\n    return this.data && this.data['calendarDayTypes'] ? toArray(this.data['calendarDayTypes']) : toArray(this._calendarDayTypes);\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventTypes(value: CalendarEventType[]) {\r\n    this._calendarEventTypes = value;\r\n  }\r\n\r\n  get calendarEventTypes(): CalendarEventType[] {\r\n    return this.data && this.data['calendarEventTypes'] ? toArray(this.data['calendarEventTypes']) : toArray(this._calendarEventTypes);\r\n  }\r\n\r\n  get contentWidth(): number {\r\n    return this.wrapperWidth - 320;\r\n  }\r\n\r\n  get elementWidth(): number {\r\n    return this.el.nativeElement.offsetWidth;\r\n  }\r\n\r\n  get eventsWidth(): number {\r\n    return this.elementWidth - 320;\r\n  }\r\n\r\n  get valueOut(): CalendarDay {\r\n    return build(CalendarDay, this.calendarDay, {\r\n      dayTypeId: this.calendarDayTypeId\r\n    });\r\n  }\r\n\r\n  get wrapperWidth(): number {\r\n    return this.wrapper && this.wrapper.nativeElement ? this.wrapper.nativeElement.offsetWidth : 0;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngAfterViewInit() {\r\n    this.setDayType(this.calendarDay.dayType);\r\n  }\r\n\r\n  onChangeDayType(e: number) {\r\n    const id = toInt(e);\r\n    this.calendarDayTypeId = id;\r\n    this.changeDayType.emit(build(CalendarEventType, this.calendarDayTypes.find(x => x.id === id)));\r\n  }\r\n\r\n  setDayType(e: CalendarEventType) {\r\n    this.calendarDayTypeId = e.id;\r\n    if (this.dayTypeInput && this.dayTypeInput.nativeElement) {\r\n      this.dayTypeInput.nativeElement.value = e.id;\r\n    }\r\n  }\r\n}\r\n","<div class=\"calendar-day-edit\" #wrapper>\r\n  <div class=\"calendar-day-content\">\r\n    <div class=\"calendar-date accordion-trigger\" [style.background-color]=\"calendarDay.dayType.color\">\r\n      <h3 class=\"date-weekday font-effect-3d-float\">\r\n        {{ calendarDay.date | date: 'EEEE' }}\r\n      </h3>\r\n      <h2 class=\"date-month font-effect-3d-float\">\r\n        {{ calendarDay.date | date: 'MMMM' }}\r\n      </h2>\r\n      <h1 class=\"date-day font-effect-3d-float\">\r\n        {{ calendarDay.date | date: 'dd' }}\r\n      </h1>\r\n    </div>\r\n\r\n    <span class=\"day-type-label font-effect-outline\" [style.color]=\"calendarDay.dayType.color\">Day Type</span>\r\n\r\n    <div class=\"all-day-events\">\r\n      <select class=\"mat-select select-day-type\" #dayTypeInput (change)=\"onChangeDayType(dayTypeInput.value)\">\r\n        <option *ngFor=\"let lkp of calendarDayTypes\" [value]=\"lkp.id\">\r\n          {{ lkp.name }}\r\n        </option>\r\n      </select>\r\n\r\n      <!-- <mat-select class=\"mat-select select-day-type\">\r\n        <mat-option *ngFor=\"let lkp of calendarDayTypes\" [value]=\"lkp.id\">\r\n          {{ lkp.name }}\r\n        </mat-option>\r\n      </mat-select> -->\r\n\r\n      <!-- <div class=\"calendar-events-list\">\r\n        <div\r\n          class=\"calendar-event accordion-content\"\r\n          *ngFor=\"let event of calendarDay?.events; index as i\"\r\n        >\r\n          <iu-calendar-event-view\r\n            (saveEvent)=\"saveEvent.emit($event)\"\r\n            [calendarEvent]=\"event\"\r\n            [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n            [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n            [calendarEventTypes]=\"calendarEventTypes\"\r\n          ></iu-calendar-event-view>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <iu-calendar-day-events\r\n      *ngIf=\"!calendarDayEditTemplate\"\r\n      [style.width.px]=\"eventsWidth\"\r\n      [calendarEvents]=\"calendarDay.events\"\r\n      [dayTypeColor]=\"calendarDay.dayType.color\"\r\n      class=\"scrollable\"\r\n    ></iu-calendar-day-events>\r\n    <div class=\"custom-template\" [style.width.px]=\"contentWidth\" [style.background-color]=\"calendarDay.dayType.color\" *ngIf=\"calendarDayEditTemplate\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"\r\n          calendarDayEditTemplate;\r\n          context: {\r\n            day: calendarDay,\r\n            color: calendarDay.dayType.color\r\n          }\r\n        \"\r\n      ></ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy, TemplateRef, Output, EventEmitter } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\nimport { Calendar, CalendarDay, CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { LookupValue } from '../../../lookup/lookup.models';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-days',\r\n  templateUrl: './calendar-days.component.html',\r\n  styleUrls: ['./calendar-days.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarDaysComponent implements OnInit {\r\n  @Input() activeDate: Date = new Date();\r\n  @Input() calendarDayEditTemplate: TemplateRef<any>;\r\n  @Input() calendarDayListItemTemplate: TemplateRef<any>;\r\n  @Input() calendarDayTypes: LookupValue[] = [];\r\n  @Input() calendarDays: CalendarDay[] = [];\r\n  @Input() calendarEvents: CalendarEvent[] = [];\r\n  @Input() calendarEventFormTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() calendarEventViewTemplate: TemplateRef<any>;\r\n  @Control(Calendar) form: FormGroup;\r\n  @Output() changeDayType = new EventEmitter<{ date: Date; dayTypeId: number }>();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onChangeDayType(date: Date, e: CalendarEventType) {\r\n    this.changeDayType.emit({ date, dayTypeId: e.id });\r\n  }\r\n}\r\n","<div class=\"calendar-days\">\r\n  <div class=\"calendar-days-list-item\" *ngFor=\"let day of calendarDays; let odd = odd\">\r\n    <iu-calendar-day-edit\r\n      *ngIf=\"!calendarDayListItemTemplate\"\r\n      [calendarDay]=\"day\"\r\n      [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n      [calendarDayTypes]=\"calendarDayTypes\"\r\n      [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n      [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n      [calendarEventTypes]=\"calendarEventTypes\"\r\n      (changeDayType)=\"onChangeDayType(day.date, $event)\"\r\n      (saveEvent)=\"saveEvent.emit($event)\"\r\n      [class.right]=\"odd\"\r\n    ></iu-calendar-day-edit>\r\n\r\n    <div *ngIf=\"calendarDayListItemTemplate\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"\r\n          calendarDayListItemTemplate;\r\n          context: {\r\n            day: day\r\n          }\r\n        \"\r\n      ></ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy, TemplateRef, Output, EventEmitter } from '@angular/core';\r\nimport { CalendarDay, CalendarEventType, CalendarEvent } from '../calendar.model';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day',\r\n  templateUrl: './calendar-day.component.html',\r\n  styleUrls: ['./calendar-day.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarDayComponent implements OnInit {\r\n  @Input() day = new CalendarDay();\r\n  @Input() calendarDayTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Output() activate = new EventEmitter<CalendarDay>();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onSave(e: CalendarEvent) {\r\n    this.saveEvent.emit(e);\r\n  }\r\n}\r\n","<div class=\"calendar-day\" (click)=\"activate.emit(day)\">\r\n  <p [class.active-day]=\"day.isActive\" [style.background-color]=\"day.color\">{{ day.date.getDate() }}</p>\r\n  <div class=\"calendar-day-content\" *ngIf=\"!calendarDayTemplate\">\r\n    <div class=\"calendar-event\" *ngFor=\"let event of day.events; index as i\">\r\n      <!-- <iu-calendar-event\r\n        *ngIf=\"i < 3\"\r\n        [calendarEvent]=\"event\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        [plusMore]=\"day.events.length > 3 && i === 2 ? day.events.length - 2 : 0\"\r\n        (goToDay)=\"activate.emit(day)\"\r\n        (saveEvent)=\"onSave($event)\"\r\n      ></iu-calendar-event> -->\r\n    </div>\r\n  </div>\r\n  <div class=\"calendar-day-content\" *ngIf=\"calendarDayTemplate\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"\r\n        calendarDayTemplate;\r\n        context: {\r\n          day: day\r\n        }\r\n      \"\r\n    ></ng-container>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ElementRef,\r\n  ViewChild,\r\n  ChangeDetectionStrategy,\r\n  TemplateRef,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport {\r\n  CalendarDay,\r\n  CalendarEvent,\r\n  CalendarEventType\r\n} from '../calendar.model';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { DateHelper } from '../../../shared/date';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-view',\r\n  templateUrl: './calendar-view.component.html',\r\n  styleUrls: ['./calendar-view.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class CalendarViewComponent extends DumbComponent implements OnInit {\r\n  @ViewChild('wrapper', { static: true }) wrapper: ElementRef;\r\n  @Input() activeDate: Date = new Date();\r\n  @Input() calendarDayTemplate: TemplateRef<any>;\r\n  @Input() calendarDayEditTemplate: TemplateRef<any>;\r\n  @Input() calendarDays: CalendarDay[] = [];\r\n  @Input() calendarEvents: CalendarEvent[] = [];\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Output() activate = new EventEmitter<CalendarDay>();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n  weekdays = DateHelper.Weekdays;\r\n\r\n  get calendarWidth(): number {\r\n    return this.el.nativeElement.offsetWidth;\r\n  }\r\n\r\n  get dayWidth(): number {\r\n    return this.calendarWidth / 7 - 0.1;\r\n  }\r\n\r\n  get firstDayIndex(): number {\r\n    return DateHelper.GetFirstDayOfMonth(this.activeDate).getDay();\r\n  }\r\n\r\n  get lastDayIndex(): number {\r\n    return DateHelper.GetLastDayOfMonth(this.activeDate).getDay();\r\n  }\r\n\r\n  constructor(public dialog: MatDialog, public el: ElementRef) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  isActive(day: Date) {\r\n    return DateHelper.IsSameDay(day, this.activeDate);\r\n  }\r\n}\r\n","<div class=\"calendar\" id=\"calendar-view\" #wrapper>\r\n  <div class=\"cal-head\">\r\n    <div class=\"cal-day\" [style.width.px]=\"dayWidth\" *ngFor=\"let weekday of weekdays\">\r\n      <p>{{ weekday.name }}</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"cal-body\">\r\n    <div *ngFor=\"let weekday of weekdays\" class=\"beginningSpacer\">\r\n      <div class=\"day\" [style.height.px]=\"dayWidth\" [style.width.px]=\"dayWidth\" *ngIf=\"weekday.index < firstDayIndex\"></div>\r\n    </div>\r\n    <div class=\"day\" [style.height.px]=\"dayWidth\" [style.width.px]=\"dayWidth\" *ngFor=\"let day of calendarDays\">\r\n      <iu-calendar-day\r\n        [day]=\"day\"\r\n        [calendarDayTemplate]=\"calendarDayTemplate\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        (activate)=\"activate.emit($event)\"\r\n        (saveEvent)=\"saveEvent.emit($event)\"\r\n      ></iu-calendar-day>\r\n    </div>\r\n    <div *ngFor=\"let weekday of weekdays\" class=\"endSpacer\">\r\n      <div class=\"day\" [style.height.px]=\"dayWidth\" [style.width.px]=\"dayWidth\" *ngIf=\"weekday.index > lastDayIndex\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Optional,\r\n  Inject,\r\n  Input,\r\n  TemplateRef\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { Calendar } from '../calendar.model';\r\nimport { Control } from '../../../forms/decorators';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-form',\r\n  templateUrl: './calendar-form.component.html',\r\n  styleUrls: ['./calendar-form.component.scss']\r\n})\r\nexport class CalendarFormComponent implements OnInit {\r\n  @Control(Calendar) form: FormGroup;\r\n  _calendar: Calendar = new Calendar();\r\n  _calendarFormTemplate: TemplateRef<any>;\r\n\r\n  constructor(\r\n    @Optional() public dialogRef?: MatDialogRef<CalendarFormComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data?: any\r\n  ) {}\r\n\r\n  @Input()\r\n  set calendar(value: Calendar) {\r\n    this._calendar = value;\r\n  }\r\n\r\n  get calendar(): Calendar {\r\n    return this.data['calendar'] || this.calendar;\r\n  }\r\n\r\n  @Input()\r\n  set calendarFormTemplate(value: TemplateRef<any>) {\r\n    this._calendarFormTemplate = value;\r\n  }\r\n\r\n  get calendarFormTemplate(): TemplateRef<any> {\r\n    return this.data['calendarFormTemplate'] || this._calendarFormTemplate;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  submit() {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close();\r\n    }\r\n  }\r\n}\r\n","<div class=\"calendar-form\">\r\n  <div class=\"calendar-form\" *ngIf=\"calendarFormTemplate\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"\r\n        calendarFormTemplate;\r\n        context: {\r\n          calendar: calendar,\r\n          form: form,\r\n          submit: submit,\r\n          dialogRef: dialogRef\r\n        }\r\n      \"\r\n    ></ng-container>\r\n  </div>\r\n\r\n  <form [formGroup]=\"form\" *ngIf=\"!calendarFormTemplate\">\r\n    <h1>Create Calendar</h1>\r\n    <mat-form-field>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"calendarName\"\r\n        matInput\r\n        placeholder=\"Calendar Name\"\r\n      />\r\n    </mat-form-field>\r\n    <mat-form-field>\r\n      <textarea\r\n        matInput\r\n        formControlName=\"description\"\r\n        placeholder=\"Calendar Description\"\r\n      ></textarea>\r\n    </mat-form-field>\r\n    <button mat-button (click)=\"submit()\">Submit</button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, Input, ChangeDetectionStrategy } from '@angular/core';\r\n\r\nimport { CalendarEventType } from '../calendar.model';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-key',\r\n  templateUrl: './calendar-key.component.html',\r\n  styleUrls: ['./calendar-key.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarKeyComponent implements OnInit {\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() heading = '';\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<div class=\"calendar-key\">\r\n  <h2>{{ heading }}</h2>\r\n  <h3 *ngFor=\"let type of calendarEventTypes\" [style.background-color]=\"type.color\">\r\n    {{ type.name }}\r\n  </h3>\r\n</div>\r\n","import { \r\n  Component, \r\n  OnInit, \r\n  Input, \r\n  EventEmitter, \r\n  Output, \r\n  ViewChild, \r\n  ContentChild, \r\n  TemplateRef, \r\n  ElementRef, \r\n  ChangeDetectionStrategy \r\n} from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Calendar, CalendarDay, CalendarEventType, CalendarEvent } from './calendar.model';\r\nimport { CalendarDaysComponent } from './calendar-days/calendar-days.component';\r\nimport { CalendarViewComponent } from './calendar-view/calendar-view.component';\r\nimport { LookupValue } from '../../lookup/lookup.models';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { DateHelper } from '../../shared/date';\r\nimport { CalendarFormComponent } from './calendar-form/calendar-form.component';\r\nimport { build, inArray, toArray } from '../../shared/utils';\r\nimport { COLORS } from '../../shared/lookup';\r\nimport { TypeConstructor } from '../../shared/models';\r\nimport { SafeUrl } from '@angular/platform-browser/platform-browser';\r\n\r\n@Component({\r\n  selector: 'iu-calendar',\r\n  templateUrl: './calendar.component.html',\r\n  styleUrls: ['./calendar.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    trigger('overviewState', [\r\n      state(\r\n        'closed',\r\n        style({\r\n          width: '0px',\r\n          right: '0',\r\n          padding: '0',\r\n          background: 'rgba(0,0,0,0.9)'\r\n        })\r\n      ),\r\n      state(\r\n        'open',\r\n        style({\r\n          width: '50%',\r\n          right: '25%',\r\n          padding: '75px 30px 60px 30px',\r\n          background: '#fff'\r\n        })\r\n      ),\r\n      transition('closed => open', animate('1000ms ease-in')),\r\n      transition('open => closed', animate('1000ms ease-out'))\r\n    ])\r\n  ]\r\n})\r\nexport class CalendarComponent extends DumbComponent implements OnInit {\r\n  @Input() allDayDefault = false;\r\n  @Input() calendar = new Calendar();\r\n  @Input() calendarView: 'DAYS';\r\n  @Input() dayCtor: TypeConstructor<any>;\r\n  @Input() defaultInactiveTypeId = 0;\r\n  @Input() defaultWeekdayTypeId = 0;\r\n  @Input() defaultWeekendTypeId = 0;\r\n  @Input() keyHeading = 'Calendar Event Types';\r\n  @Input() showActions = false;\r\n  @Input() showKey = true;\r\n  @Input() startDate: Date;\r\n  @Input() endDate: Date;\r\n  @Output() addEvent = new EventEmitter<CalendarEvent>();\r\n  @Output() changeActiveDate = new EventEmitter<Date>();\r\n  @Output() changeDayType = new EventEmitter<{ date: Date; dayTypeId: number }>();\r\n  @Output() deleteEvent = new EventEmitter<CalendarEvent>();\r\n  @Output() updateCalendar = new EventEmitter<Calendar>();\r\n  @Output() updateEvent = new EventEmitter<CalendarEvent>();\r\n  @ViewChild(CalendarViewComponent, { static: true })\r\n  calendarViewComponent: CalendarViewComponent;\r\n  @ViewChild(CalendarDaysComponent, { static: true })\r\n  calendarListComponent: CalendarDaysComponent;\r\n  @ContentChild('actionsTemplate', { static: true })\r\n  actionsTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayTemplate', { static: true })\r\n  calendarDayTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayEditTemplate', { static: true })\r\n  calendarDayEditTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayListItemTemplate', { static: true })\r\n  calendarDayListItemTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarDayViewTemplate', { static: true })\r\n  calendarDayViewTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarFormTemplate', { static: true })\r\n  calendarFormTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarEventFormTemplate', { static: true })\r\n  calendarEventFormTemplate: TemplateRef<any>;\r\n  @ContentChild('calendarEventViewTemplate', { static: true })\r\n  calendarEventViewTemplate: TemplateRef<any>;\r\n  @ViewChild('pdfLink', { static: true }) pdfLink: ElementRef;\r\n  activeDay: CalendarDay;\r\n  fileUrl: SafeUrl = '';\r\n  now = new Date();\r\n  _activeDate: Date = new Date();\r\n  _calendarDays: CalendarDay[];\r\n  _calendarDayTypes: LookupValue[] = [];\r\n  _calendarEventTypes: CalendarEventType[] = [];\r\n  // dayTypes = [{ id: 1, name: '1' }, { id: 2, name: '2' }];\r\n  constructor(public dialog: MatDialog) {\r\n    super();\r\n  }\r\n\r\n  @Input()\r\n  set activeDate(value: Date) {\r\n    this._activeDate = value;\r\n    this.changeActiveDate.emit(value);\r\n  }\r\n\r\n  get activeDate(): Date {\r\n    return this._activeDate;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventTypes(value: CalendarEventType[]) {\r\n    const colors = [];\r\n    this._calendarEventTypes = toArray(value).map(x => {\r\n      let color = x.color;\r\n      while (!color) {\r\n        const randomColor = COLORS[Math.floor(Math.random() * COLORS.length)].name;\r\n        color = inArray(colors, randomColor) ? null : randomColor;\r\n      }\r\n      colors.push(color);\r\n      return build(CalendarEventType, x, {\r\n        color\r\n      });\r\n    });\r\n  }\r\n\r\n  get calendarEventTypes(): CalendarEventType[] {\r\n    return this._calendarEventTypes;\r\n  }\r\n\r\n  @Input()\r\n  set calendarDayTypes(value: LookupValue[]) {\r\n    this._calendarDayTypes = value;\r\n  }\r\n\r\n  get calendarDayTypes(): LookupValue[] {\r\n    const types = Array.isArray(this._calendarDayTypes) && this._calendarDayTypes.length > 0 ? this._calendarDayTypes : this.calendarEventTypes.filter(x => x.allDay);\r\n    return [build(LookupValue, { id: 0, name: '' }), ...types];\r\n  }\r\n\r\n  @Input()\r\n  set calendarDays(value: CalendarDay[]) {\r\n    this._calendarDays = value;\r\n  }\r\n\r\n  get calendarDays(): CalendarDay[] {\r\n    const d =\r\n      this._calendarDays && Array.isArray(this._calendarDays)\r\n        ? DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n            const day = build(this.ctor, this._calendarDays.find(x => DateHelper.IsSameDay(date, x.date)));\r\n            const dayType = build(\r\n              CalendarEventType,\r\n              this.calendarEventTypes.find(\r\n                x =>\r\n                  x.id ===\r\n                  (day && day.dayType\r\n                    ? day.dayType.id\r\n                    : DateHelper.IsBetween(date, this.startDate, this.endDate)\r\n                    ? DateHelper.IsWeekend(date)\r\n                      ? this.defaultWeekendTypeId\r\n                      : this.defaultWeekdayTypeId\r\n                    : this.defaultInactiveTypeId)\r\n              )\r\n            );\r\n            return build(this.ctor, day, {\r\n              date,\r\n              dayType,\r\n              isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n              color: day.dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n            });\r\n          })\r\n        : DateHelper.DaysInMonth(this.activeDate).map(date => {\r\n            const events = this.calendarEvents\r\n              .filter(event => DateHelper.IsBetween(date, event.startTime, event.endTime) || DateHelper.IsSameDay(date, event.startTime))\r\n              .map(event => build(CalendarEvent, event, {}));\r\n            const eventTypeId =\r\n              build(CalendarEvent, events.find(y => y.eventType.allDay)).eventTypeId || (DateHelper.IsWeekend(date) ? this.defaultWeekendTypeId : this.defaultWeekdayTypeId);\r\n            const dayType = build(CalendarEventType, this.calendarEventTypes.find(x => x.id === eventTypeId));\r\n            return build(this.ctor, {\r\n              date,\r\n              events,\r\n              dayType,\r\n              isActive: DateHelper.IsSameDay(date, this.activeDate),\r\n              color: dayType.color || build(CalendarEventType, this.calendarEventTypes.find(y => y.id === dayType.id)).color\r\n            });\r\n          });\r\n    // console.dir(d);\r\n    return d;\r\n  }\r\n\r\n  get calendarEvents(): CalendarEvent[] {\r\n    return this.calendar.events.map((x, i) =>\r\n      build(CalendarEvent, x, {\r\n        // color: COLORS[i % COLORS.length].name,\r\n        eventType: build(CalendarEventType, this.calendarEventTypes.find(y => y.id === x.eventTypeId))\r\n      })\r\n    );\r\n  }\r\n\r\n  get ctor(): TypeConstructor<any> {\r\n    return this.dayCtor ? this.dayCtor : CalendarDay;\r\n  }\r\n\r\n  get currentYear(): number {\r\n    return DateHelper.GetYear(this.activeDate);\r\n  }\r\n\r\n  get minWidth(): number {\r\n    return this.showKey ? 960 : 720;\r\n  }\r\n\r\n  get monthName(): string {\r\n    return DateHelper.GetMonthName(this.activeDate);\r\n  }\r\n\r\n  get selectedIndex(): number {\r\n    switch (this.calendarView) {\r\n      case 'DAYS':\r\n        return 1;\r\n      default:\r\n        return 0;\r\n    }\r\n  }\r\n\r\n  get shortMonthName(): string {\r\n    return DateHelper.GetShortMonthName(this.activeDate);\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngOnChanges(changes) {\r\n    // console.dir(changes);\r\n  }\r\n\r\n  changeTab(e: number) {\r\n    switch (e) {\r\n      case 1:\r\n        this.calendarView = 'DAYS';\r\n        break;\r\n      default:\r\n        this.calendarView = null;\r\n    }\r\n  }\r\n\r\n  closeOverview() {\r\n    this.activeDay = null;\r\n  }\r\n\r\n  editCalendar() {\r\n    this.openDialog(CalendarFormComponent, {\r\n      width: '600px',\r\n      data: {\r\n        calendar: this.calendar,\r\n        calendarFormTemplate: this.calendarFormTemplate\r\n      }\r\n    });\r\n  }\r\n\r\n  onDeleteEvent(e: CalendarEvent) {\r\n    this.deleteEvent.emit(e);\r\n  }\r\n\r\n  onSaveEvent(e: CalendarEvent) {\r\n    if (e.id === 0) {\r\n      this.addEvent.emit(e);\r\n    } else {\r\n      this.updateEvent.emit(e);\r\n    }\r\n  }\r\n\r\n  toDay(calendarDay: CalendarDay) {\r\n    this.activeDate = new Date(calendarDay.date);\r\n    this.activeDay = calendarDay;\r\n    // this.openDialog(CalendarDayEditComponent, {\r\n    //   width: '600px',\r\n    //   data: {\r\n    //     calendarDay,\r\n    //     calendarDayEditTemplate: this.calendarDayEditTemplate,\r\n    //     calendarDayTypes: this.calendarDayTypes,\r\n    //     calendarEventTypes: this.calendarEventTypes\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  toLastMonth() {\r\n    this.activeDate = DateHelper.GetFirstDayOfLastMonth(this.activeDate);\r\n  }\r\n\r\n  toNextMonth() {\r\n    this.activeDate = DateHelper.GetFirstDayOfNextMonth(this.activeDate);\r\n  }\r\n}\r\n","<div id=\"calendar-wrapper\" class=\"calendar-wrapper\" [style.min-width.px]=\"minWidth\">\r\n  <div *ngIf=\"showActions\" class=\"calendar-actions\">\r\n    <button class=\"btn-edit\" mat-button color=\"primary\" (click)=\"editCalendar()\">\r\n      Edit Calendar\r\n    </button>\r\n  </div>\r\n  <div class=\"date-heading-container\">\r\n    <div>\r\n      <button class=\"date-heading-arrow\" mat-mini-fab (click)=\"toLastMonth()\">\r\n        <i class=\"material-icons\">keyboard_arrow_left</i>\r\n      </button>\r\n    </div>\r\n    <div>\r\n      <h1 class=\"date-heading\">{{ monthName }} {{ currentYear }}</h1>\r\n    </div>\r\n    <div>\r\n      <button class=\"date-heading-arrow\" mat-mini-fab (click)=\"toNextMonth()\">\r\n        <i class=\"material-icons\">keyboard_arrow_right</i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <mat-tab-group (selectedTabChange)=\"changeTab($event.index)\" [selectedIndex]=\"selectedIndex\">\r\n    <mat-tab label=\"Calendar View\" id=\"calendar-view\">\r\n      <iu-calendar-view\r\n        [activeDate]=\"activeDate\"\r\n        [calendarDays]=\"calendarDays\"\r\n        [calendarEvents]=\"calendarEvents\"\r\n        [calendarDayTemplate]=\"calendarDayTemplate\"\r\n        [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        (activate)=\"toDay($event)\"\r\n        (saveEvent)=\"onSaveEvent($event)\"\r\n      ></iu-calendar-view>\r\n    </mat-tab>\r\n    <mat-tab label=\"List View\" id=\"list-view\">\r\n      <iu-calendar-days\r\n        [activeDate]=\"activeDate\"\r\n        [calendarDays]=\"calendarDays\"\r\n        [calendarEvents]=\"calendarEvents\"\r\n        [calendarDayListItemTemplate]=\"calendarDayListItemTemplate\"\r\n        [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n        [calendarDayTypes]=\"calendarDayTypes\"\r\n        [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n        [calendarEventTypes]=\"calendarEventTypes\"\r\n        [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n        (changeDayType)=\"changeDayType.emit($event)\"\r\n        (saveEvent)=\"onSaveEvent($event)\"\r\n      ></iu-calendar-days>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n  <a id=\"open-pdf\" [href]=\"fileUrl\" target=\"_blank\" #pdfLink></a>\r\n  <iu-calendar-key [calendarEventTypes]=\"calendarEventTypes\" *ngIf=\"showKey\" [heading]=\"keyHeading\"></iu-calendar-key>\r\n</div>\r\n<div id=\"overview\" [@overviewState]=\"activeDay ? 'open' : 'closed'\">\r\n  <iu-calendar-day-edit\r\n    *ngIf=\"activeDay\"\r\n    [calendarDay]=\"activeDay\"\r\n    [calendarDayEditTemplate]=\"calendarDayEditTemplate\"\r\n    [calendarDayTypes]=\"calendarDayTypes\"\r\n    [calendarEventFormTemplate]=\"calendarEventFormTemplate\"\r\n    [calendarEventViewTemplate]=\"calendarEventViewTemplate\"\r\n    [calendarEventTypes]=\"calendarEventTypes\"\r\n    (saveEvent)=\"onSaveEvent($event)\"\r\n  >\r\n  </iu-calendar-day-edit>\r\n  <mat-icon class=\"btn-close\" *ngIf=\"activeDay\" (click)=\"closeOverview()\">close</mat-icon>\r\n</div>\r\n\r\n<!-- <mat-form-field>\r\n  <mat-select placeholder=\"Calendar Day Type\">\r\n    <mat-option *ngFor=\"let lkp of dayTypes\" [value]=\"lkp.id\">\r\n      {{ lkp.name }}\r\n    </mat-option>\r\n  </mat-select>\r\n</mat-form-field> -->\r\n\r\n<!-- <mat-form-field>\r\n  <mat-select placeholder=\"Calendar Day Type\">\r\n    <mat-option [value]=\"1\">\r\n      1\r\n    </mat-option>\r\n    <mat-option [value]=\"2\">\r\n      2\r\n    </mat-option>\r\n    <mat-option [value]=\"3\">\r\n      3\r\n    </mat-option>\r\n  </mat-select>\r\n</mat-form-field> -->\r\n","import { Component, OnInit, Optional, Inject, Input, TemplateRef } from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { Control } from '../../../forms/decorators';\r\nimport { LookupValue } from '../../../lookup/lookup.models';\r\nimport { FormComponent } from '../../../shared/component';\r\nimport { build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-event-form',\r\n  templateUrl: './calendar-event-form.component.html',\r\n  styleUrls: ['./calendar-event-form.component.scss']\r\n})\r\nexport class CalendarEventFormComponent extends FormComponent implements OnInit {\r\n  @Control(CalendarEvent) form: FormGroup;\r\n  _allDayDefault = false;\r\n  _calendarEvent: CalendarEvent = new CalendarEvent();\r\n  _calendarEventFormTemplate: TemplateRef<any>;\r\n  _calendarEventTypes: CalendarEventType[] = [];\r\n\r\n  constructor(@Optional() public dialogRef?: MatDialogRef<CalendarEventFormComponent>, @Optional() @Inject(MAT_DIALOG_DATA) public data?: any) {\r\n    super();\r\n  }\r\n\r\n  get allDay(): boolean {\r\n    const event = this.calendarEvent;\r\n    return event.id === 0 ? this.allDayDefault : event.allDay;\r\n  }\r\n\r\n  @Input()\r\n  set allDayDefault(value: boolean) {\r\n    this._allDayDefault = value;\r\n  }\r\n\r\n  get allDayDefault(): boolean {\r\n    return this.data['allDayDefault'] || this._allDayDefault;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEvent(value: CalendarEvent) {\r\n    this._calendarEvent = value;\r\n  }\r\n\r\n  get calendarEvent(): CalendarEvent {\r\n    return this.data['calendarEvent'] || this._calendarEvent;\r\n  }\r\n\r\n  @Input()\r\n  set calendarEventFormTemplate(value: TemplateRef<any>) {\r\n    this._calendarEventFormTemplate = value;\r\n  }\r\n\r\n  get calendarEventFormTemplate(): TemplateRef<any> {\r\n    return this.data['calendarEventFormTemplate'] || this._calendarEventFormTemplate;\r\n  }\r\n\r\n  get editing(): boolean {\r\n    return this.calendarEvent.id !== 0;\r\n  }\r\n\r\n  set calendarEventTypes(value: CalendarEventType[]) {\r\n    this._calendarEventTypes = value;\r\n  }\r\n\r\n  get calendarEventTypes(): CalendarEventType[] {\r\n    return this.data && this.data['calendarEventTypes'] ? this.data['calendarEventTypes'] : this._calendarEventTypes;\r\n  }\r\n\r\n  get showTime(): boolean {\r\n    return !this.form.controls['allDay'].value;\r\n  }\r\n\r\n  get valueOut(): CalendarEvent {\r\n    return build(CalendarEvent, this.form.value, {\r\n      description: this.form.value.eventName,\r\n      eventName: this.form.value.eventTypeId ? build(LookupValue, this.calendarEventTypes.find(x => x.id === this.form.value.eventTypeId)).name : this.form.value.eventName,\r\n      calendarId: this.data.calendarId\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setValue(\r\n      build(CalendarEvent, this.calendarEvent, {\r\n        allDay: this.allDay\r\n      })\r\n    );\r\n  }\r\n\r\n  close(calendarEvent: CalendarEvent, action: string) {\r\n    if (this.dialogRef && this.dialogRef.close) {\r\n      this.dialogRef.close({ calendarEvent, action });\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    if (this.form.valid) {\r\n      this.close(this.valueOut, 'DELETE');\r\n    }\r\n  }\r\n\r\n  save() {\r\n    if (this.form.valid) {\r\n      this.close(this.valueOut, 'SAVE');\r\n    }\r\n  }\r\n}\r\n","<div class=\"calendar-form scrollable\">\r\n  <h1 *ngIf=\"!editing\">New Event</h1>\r\n  <h1 *ngIf=\"editing\">Edit Event</h1>\r\n  <!-- <mat-form-field *ngIf=\"data.editing != false && hideSelect === false\">\r\n    <mat-select\r\n      placeholder=\"Event to Edit\"\r\n      (selectionChange)=\"eventSelected($event)\"\r\n    >\r\n      <mat-option *ngFor=\"let event of eventsToday\" [value]=\"event\">\r\n        {{ event.eventName }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n  <button\r\n    mat-fab\r\n    color=\"warn\"\r\n    style=\"float: right;\"\r\n    (click)=\"deleteEvent(eventChosen)\"\r\n    *ngIf=\"\r\n      eventChosen.length > 0 && data.editing != false && noEvents === false\r\n    \"\r\n  >\r\n    <i class=\"material-icons\">delete </i>\r\n  </button>\r\n  <h1 *ngIf=\"noEvents === true\">No Events To Edit</h1> -->\r\n  <div *ngIf=\"calendarEventFormTemplate\">\r\n    <ng-container\r\n      *ngTemplateOutlet=\"\r\n        calendarEventFormTemplate;\r\n        context: {\r\n          calendarEvent: calendarEvent,\r\n          form: form,\r\n          save: save,\r\n          delete: delete,\r\n          dialogRef: dialogRef\r\n        }\r\n      \"\r\n    >\r\n    </ng-container>\r\n  </div>\r\n\r\n  <form [formGroup]=\"form\" *ngIf=\"!calendarEventFormTemplate\">\r\n    <mat-form-field class=\"event-name\">\r\n      <input type=\"text\" formControlName=\"name\" matInput placeholder=\"Event Name\" />\r\n    </mat-form-field>\r\n    <mat-form-field class=\"event-type\" *ngIf=\"calendarEventTypes\">\r\n      <mat-select placeholder=\"Event Type\" formControlName=\"eventTypeId\">\r\n        <mat-option *ngFor=\"let lkp of calendarEventTypes\" [value]=\"lkp.id\"> {{ lkp.name }}</mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n    <mat-checkbox class=\"all-day\" formControlName=\"allDay\">All Day Event</mat-checkbox>\r\n\r\n    <iu-time-control *ngIf=\"showTime\" formControlName=\"startTime\" label=\"Start Time\"></iu-time-control>\r\n    <iu-time-control *ngIf=\"showTime\" formControlName=\"endTime\" label=\"End Time\"></iu-time-control>\r\n    <button *ngIf=\"editing\" mat-raised-button class=\"btn-delete\" (click)=\"delete()\">\r\n      Delete\r\n    </button>\r\n    <button mat-raised-button color=\"accent\" class=\"btn-save\" (click)=\"save()\">\r\n      Save\r\n    </button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport { CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { CalendarEventFormComponent } from '../calendar-event-form/calendar-event-form.component';\r\nimport { DumbComponent } from '../../../shared/component';\r\nimport { CalendarComponent } from '../calendar.component';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-event',\r\n  templateUrl: './calendar-event.component.html',\r\n  styleUrls: ['./calendar-event.component.scss']\r\n})\r\nexport class CalendarEventComponent extends DumbComponent implements OnInit {\r\n  @Input() calendarEvent: CalendarEvent = new CalendarEvent();\r\n  @Input() calendarEventFormTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() plusMore = 0;\r\n  @Output() goToDay = new EventEmitter();\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor(public dialog: MatDialog, @Inject(CalendarComponent) private calendarComponent: CalendarComponent) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeDialog(e: any) {\r\n    if (e) {\r\n      switch (e.action) {\r\n        case 'DELETE':\r\n          this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n          break;\r\n        case 'SAVE':\r\n          this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n          break;\r\n      }\r\n    }\r\n    super.closeDialog(e);\r\n  }\r\n\r\n  editEvent() {\r\n    if (!this.plusMore) {\r\n      this.openDialog(CalendarEventFormComponent, {\r\n        width: '600px',\r\n        data: {\r\n          allDayDefault: this.calendarComponent.allDayDefault,\r\n          calendarEvent: this.calendarEvent,\r\n          calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n          calendarEventTypes: this.calendarEventTypes\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!plusMore\" class=\"calendar-event\" (click)=\"editEvent()\">\r\n  <p class=\"calendar-event-name\" [style.background]=\"calendarEvent.color\">\r\n    {{ calendarEvent.name }}\r\n  </p>\r\n</div>\r\n\r\n<div *ngIf=\"plusMore\" class=\"calendar-event plus-more\" (click)=\"goToDay.emit()\">\r\n  <p class=\"calendar-event-name\">+ {{ plusMore }} events</p>\r\n</div>\r\n\r\n<!-- <span *ngIf=\"calendarEvent.allDay != true\">\r\n    {{ calendarEvent.startHour }}:<span *ngIf=\"calendarEvent.startMinute < 10\"\r\n      >0</span\r\n    >{{ calendarEvent.startMinute }} {{ calendarEvent.startTimePeriod }}\r\n    -\r\n    {{ calendarEvent.endHour }}:<span *ngIf=\"calendarEvent.endMinute < 10\"\r\n      >0</span\r\n    >{{ calendarEvent.endMinute }} {{ calendarEvent.endTimePeriod }}\r\n  </span>\r\n  <span *ngIf=\"calendarEvent.allDay != false\">All Day</span> -->\r\n","import { Component, OnInit, Input, TemplateRef, Output, EventEmitter, Inject } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\nimport { CalendarEvent, CalendarEventType } from '../calendar.model';\r\nimport { CalendarComponent } from '../calendar.component';\r\nimport { CalendarEventFormComponent } from '../calendar-event-form/calendar-event-form.component';\r\nimport { DumbComponent } from '../../../shared/component';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-event-view',\r\n  templateUrl: './calendar-event-view.component.html',\r\n  styleUrls: ['./calendar-event-view.component.scss']\r\n})\r\nexport class CalendarEventViewComponent extends DumbComponent implements OnInit {\r\n  @Input() calendarEvent: CalendarEvent = new CalendarEvent();\r\n  @Input() calendarEventFormTemplate: TemplateRef<any>;\r\n  @Input() calendarEventTypes: CalendarEventType[] = [];\r\n  @Input() calendarEventViewTemplate: TemplateRef<any>;\r\n  @Output() saveEvent = new EventEmitter<CalendarEvent>();\r\n\r\n  constructor(public dialog: MatDialog, @Inject(CalendarComponent) private calendarComponent: CalendarComponent) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  closeDialog(e: any) {\r\n    if (e) {\r\n      switch (e.action) {\r\n        case 'DELETE':\r\n          this.calendarComponent.onDeleteEvent(e.calendarEvent);\r\n          break;\r\n        case 'ADD':\r\n          this.calendarComponent.onSaveEvent(e.calendarEvent);\r\n          break;\r\n      }\r\n    }\r\n    super.closeDialog(e);\r\n  }\r\n\r\n  editEvent() {\r\n    this.openDialog(CalendarEventFormComponent, {\r\n      width: '600px',\r\n      data: {\r\n        allDayDefault: this.calendarComponent.allDayDefault,\r\n        calendarEvent: this.calendarEvent,\r\n        calendarEventFormTemplate: this.calendarEventFormTemplate,\r\n        calendarEventTypes: this.calendarEventTypes\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"event-view\" *ngIf=\"calendarEventViewTemplate\">\r\n  <ng-container\r\n    *ngTemplateOutlet=\"\r\n      calendarEventViewTemplate;\r\n      context: {\r\n        calendarEvent: calendarEvent\r\n      }\r\n    \"\r\n  >\r\n  </ng-container>\r\n</div>\r\n<div class=\"event-view\" *ngIf=\"!calendarEventViewTemplate\">\r\n  <div *ngIf=\"!calendarEvent.allDay\" class=\"timeframe\">\r\n    {{ calendarEvent.startTime | date: 'shortTime' }} -\r\n    {{ calendarEvent.endTime | date: 'shortTime' }}:\r\n  </div>\r\n  <div *ngIf=\"calendarEvent.allDay\" class=\"timeframe\">\r\n    ALL DAY\r\n  </div>\r\n  <div class=\"event-name\">{{ calendarEvent.name }}</div>\r\n  <mat-icon color=\"primary\" (click)=\"editEvent()\">edit</mat-icon>\r\n  <!-- <p class=\"event-description\">{{ calendarEvent.description }}</p> -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'iu-calendar-day-view',\r\n  templateUrl: './calendar-day-view.component.html',\r\n  styleUrls: ['./calendar-day-view.component.scss']\r\n})\r\nexport class CalendarDayViewComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<p>\r\n  calendar-day-view works!\r\n</p>\r\n","import { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { CalendarComponent } from './calendar.component';\r\nimport { CalendarDayComponent } from './calendar-day/calendar-day.component';\r\nimport { CalendarDayEditComponent } from './calendar-day-edit/calendar-day-edit.component';\r\nimport { CalendarDaysComponent } from './calendar-days/calendar-days.component';\r\nimport { CalendarEventComponent } from './calendar-event/calendar-event.component';\r\nimport { CalendarEventFormComponent } from './calendar-event-form/calendar-event-form.component';\r\nimport { CalendarFormComponent } from './calendar-form/calendar-form.component';\r\nimport { CalendarViewComponent } from './calendar-view/calendar-view.component';\r\nimport { FormsModule } from '../../forms/forms.module';\r\nimport { TimeModule } from '../time/time.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { CalendarEventViewComponent } from './calendar-event-view/calendar-event-view.component';\r\nimport { CalendarDayViewComponent } from './calendar-day-view/calendar-day-view.component';\r\nimport { CalendarKeyComponent } from './calendar-key/calendar-key.component';\r\nimport { AccordionModule } from '../accordion/accordion.module';\r\nimport { CalendarDayEventsComponent } from './calendar-day-events/calendar-day-events.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CalendarComponent,\r\n    CalendarDayComponent,\r\n    CalendarDaysComponent,\r\n    CalendarEventComponent,\r\n    CalendarViewComponent,\r\n    CalendarDayEditComponent,\r\n    CalendarFormComponent,\r\n    CalendarEventFormComponent,\r\n    CalendarEventViewComponent,\r\n    CalendarDayViewComponent,\r\n    CalendarKeyComponent,\r\n    CalendarDayEventsComponent\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    TimeModule,\r\n    AccordionModule\r\n  ],\r\n  exports: [\r\n    CalendarComponent,\r\n    CalendarDayComponent,\r\n    CalendarDaysComponent,\r\n    CalendarEventComponent\r\n  ]\r\n})\r\nexport class CalendarModule { }\r\n","import { Component, Inject, ViewEncapsulation } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\r\n\r\nimport { EditorEvent } from '../editor.model';\r\nimport { DialogAction, DialogModel } from '../../dialog/dialog.model';\r\nimport { build } from '../../../shared/utils';\r\n\r\n@Component({\r\n  selector: 'iu-editor-window',\r\n  templateUrl: './editor-window.component.html',\r\n  styleUrls: ['./editor-window.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class EditorWindowComponent {\r\n  actionWidth = '100%';\r\n\r\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<EditorWindowComponent>) {}\r\n\r\n  get actions(): DialogAction[] {\r\n    return [build(DialogAction, { value: this.data, label: 'Save and Close' })];\r\n  }\r\n\r\n  get dialog(): DialogModel {\r\n    return build(DialogModel, {\r\n      title: this.title,\r\n      actions: this.actions\r\n    });\r\n  }\r\n\r\n  get title(): string {\r\n    return 'Editor';\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close(this.data);\r\n  }\r\n\r\n  update(e: EditorEvent) {\r\n    this.data = e.editor.getContent();\r\n  }\r\n}\r\n","<span id=\"editor-window\">\r\n  <mat-toolbar color=\"primary\" mat-dialog-title>\r\n    <span class=\"dialog-title\">\r\n      {{ title }}\r\n    </span>\r\n    <button mat-button [mat-dialog-close]=\"null\">\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </mat-toolbar>\r\n  <mat-dialog-content>\r\n    <div id=\"expanded-editor\">\r\n      <!-- <iu-editor [expanded]=\"true\" [initialValue]=\"data\" (onChange)=\"update($event)\"></iu-editor> -->\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button mat-raised-button (click)=\"close()\" [style.width]=\"actionWidth\" color=\"accent\">Save and Close</button>\r\n  </mat-dialog-actions>\r\n</span>\r\n","import { Output, EventEmitter, Directive } from '@angular/core';\r\n\r\nexport interface EventObj<T> {\r\n  event: T;\r\n  editor: any;\r\n}\r\n\r\n@Directive()\r\nexport class Events {\r\n  @Output() public onBeforePaste: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onBlur: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onClick: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onContextMenu: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onCopy: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onCut: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onDblclick: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onDrag: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragDrop: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragEnd: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragGesture: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDragOver: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onDrop: EventEmitter<EventObj<DragEvent>> = new EventEmitter();\r\n  @Output() public onFocus: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onFocusIn: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onFocusOut: EventEmitter<EventObj<FocusEvent>> = new EventEmitter();\r\n  @Output() public onKeyDown: EventEmitter<EventObj<KeyboardEvent>> = new EventEmitter();\r\n  @Output() public onKeyPress: EventEmitter<EventObj<KeyboardEvent>> = new EventEmitter();\r\n  @Output() public onKeyUp: EventEmitter<EventObj<KeyboardEvent>> = new EventEmitter();\r\n  @Output() public onMouseDown: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseEnter: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseLeave: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseMove: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseOut: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseOver: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onMouseUp: EventEmitter<EventObj<MouseEvent>> = new EventEmitter();\r\n  @Output() public onPaste: EventEmitter<EventObj<ClipboardEvent>> = new EventEmitter();\r\n  @Output() public onSelectionChange: EventEmitter<EventObj<Event>> = new EventEmitter();\r\n  @Output() public onActivate: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onAddUndo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeAddUndo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeExecCommand: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeGetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeRenderUI: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onBeforeSetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onChange: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onClearUndos: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onDeactivate: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onDirty: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onExecCommand: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onGetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onHide: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onInit: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onLoadContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onNodeChange: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPostProcess: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPostRender: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPreInit: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onPreProcess: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onProgressState: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onRedo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onRemove: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onReset: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSaveContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSetAttrib: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onObjectResizeStart: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onObjectResized: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onObjectSelected: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSetContent: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onShow: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onSubmit: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onUndo: EventEmitter<EventObj<any>> = new EventEmitter();\r\n  @Output() public onVisualAid: EventEmitter<EventObj<any>> = new EventEmitter();\r\n}\r\n\r\nexport const validEvents: (keyof Events)[] = [\r\n  'onActivate',\r\n  'onAddUndo',\r\n  'onBeforeAddUndo',\r\n  'onBeforeExecCommand',\r\n  'onBeforeGetContent',\r\n  'onBeforeRenderUI',\r\n  'onBeforeSetContent',\r\n  'onBeforePaste',\r\n  'onBlur',\r\n  'onChange',\r\n  'onClearUndos',\r\n  'onClick',\r\n  'onContextMenu',\r\n  'onCopy',\r\n  'onCut',\r\n  'onDblclick',\r\n  'onDeactivate',\r\n  'onDirty',\r\n  'onDrag',\r\n  'onDragDrop',\r\n  'onDragEnd',\r\n  'onDragGesture',\r\n  'onDragOver',\r\n  'onDrop',\r\n  'onExecCommand',\r\n  'onFocus',\r\n  'onFocusIn',\r\n  'onFocusOut',\r\n  'onGetContent',\r\n  'onHide',\r\n  'onInit',\r\n  'onKeyDown',\r\n  'onKeyPress',\r\n  'onKeyUp',\r\n  'onLoadContent',\r\n  'onMouseDown',\r\n  'onMouseEnter',\r\n  'onMouseLeave',\r\n  'onMouseMove',\r\n  'onMouseOut',\r\n  'onMouseOver',\r\n  'onMouseUp',\r\n  'onNodeChange',\r\n  'onObjectResizeStart',\r\n  'onObjectResized',\r\n  'onObjectSelected',\r\n  'onPaste',\r\n  'onPostProcess',\r\n  'onPostRender',\r\n  'onPreProcess',\r\n  'onProgressState',\r\n  'onRedo',\r\n  'onRemove',\r\n  'onReset',\r\n  'onSaveContent',\r\n  'onSelectionChange',\r\n  'onSetAttrib',\r\n  'onSetContent',\r\n  'onShow',\r\n  'onSubmit',\r\n  'onUndo',\r\n  'onVisualAid'\r\n];\r\n","import { EventEmitter } from '@angular/core';\r\n\r\nimport { EditorComponent } from './editor.component';\r\nimport { validEvents } from './Events';\r\n\r\nconst bindHandlers = (ctx: EditorComponent, editor: any, initEvent: Event): void => {\r\n  validEvents.forEach(eventName => {\r\n    const eventEmitter: EventEmitter<any> = ctx[eventName];\r\n    if (eventName === 'onInit') {\r\n      ctx.ngZone.run(() => eventEmitter.emit({ event: initEvent, editor }));\r\n    } else {\r\n      editor.on(eventName.substring(2), (event: any) => ctx.ngZone.run(() => eventEmitter.emit({ event, editor })));\r\n    }\r\n  });\r\n};\r\n\r\nlet unique = 0;\r\n\r\nconst uuid = (prefix: string): string => {\r\n  const date = new Date();\r\n  const time = date.getTime();\r\n  const random = Math.floor(Math.random() * 1000000000);\r\n\r\n  unique++;\r\n\r\n  return prefix + '_' + random + unique + String(time);\r\n};\r\n\r\nconst isTextarea = (element?: Element): element is HTMLTextAreaElement => {\r\n  return typeof element !== 'undefined' && element.tagName.toLowerCase() === 'textarea';\r\n};\r\n\r\nconst normalizePluginArray = (plugins?: string | string[]): string[] => {\r\n  if (typeof plugins === 'undefined' || plugins === '') {\r\n    return [];\r\n  }\r\n\r\n  return Array.isArray(plugins) ? plugins : plugins.split(' ');\r\n};\r\n\r\nconst mergePlugins = (initPlugins: string | string[], inputPlugins?: string | string[]) => normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins));\r\n\r\n// tslint:disable-next-line:no-empty\r\nconst noop: (...args: any[]) => void = () => {};\r\n\r\nexport { bindHandlers, uuid, isTextarea, normalizePluginArray, mergePlugins, noop };\r\n","import { uuid } from './utils';\r\n\r\nexport type callbackFn = () => void;\r\nexport interface IStateObj {\r\n  listeners: callbackFn[];\r\n  scriptId: string;\r\n  scriptLoaded: boolean;\r\n}\r\n\r\nconst injectScriptTag = (scriptId: string, doc: Document, url: string, callback: callbackFn) => {\r\n  const scriptTag = doc.createElement('script');\r\n  scriptTag.referrerPolicy = 'origin';\r\n  scriptTag.type = 'application/javascript';\r\n  scriptTag.id = scriptId;\r\n  scriptTag.addEventListener('load', callback);\r\n  scriptTag.src = url;\r\n  if (doc.head) {\r\n    doc.head.appendChild(scriptTag);\r\n  }\r\n};\r\n\r\nconst create = (): IStateObj => {\r\n  return {\r\n    listeners: [],\r\n    scriptId: uuid('tiny-script'),\r\n    scriptLoaded: false\r\n  };\r\n};\r\n\r\nconst load = (state: IStateObj, doc: Document, url: string, callback: callbackFn) => {\r\n  if (state.scriptLoaded) {\r\n    callback();\r\n  } else {\r\n    state.listeners.push(callback);\r\n    if (!doc.getElementById(state.scriptId)) {\r\n      injectScriptTag(state.scriptId, doc, url, () => {\r\n        state.listeners.forEach(fn => fn());\r\n        state.scriptLoaded = true;\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport { create, load };\r\n","const getTinymce = () => {\r\n  const w = typeof window !== 'undefined' ? (window as any) : undefined;\r\n  return w && w.tinymce ? w.tinymce : null;\r\n};\r\n\r\nexport { getTinymce };\r\n","export interface Editor {\r\n  getContent: () => string;\r\n}\r\n\r\nexport interface EditorEvent {\r\n  editor: Editor;\r\n  event: any;\r\n}\r\n\r\nexport const BASIC_PLUGINS = [\r\n  'advlist autolink lists link image charmap print preview anchor',\r\n  'searchreplace visualblocks code fullscreen',\r\n  'insertdatetime media table paste code'\r\n];\r\nexport const BASIC_TOOLBAR = `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link`;\r\nexport const FULL_PLUGINS = [\r\n  'advlist autolink lists link image charmap print preview hr anchor pagebreak',\r\n  'searchreplace wordcount visualblocks visualchars code fullscreen',\r\n  'insertdatetime media nonbreaking save table directionality',\r\n  'template paste textcolor colorpicker textpattern imagetools toc help'\r\n];\r\nexport const FULL_TOOLBAR = [\r\n  `undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent`,\r\n  'print preview | forecolor backcolor | link'\r\n];\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  Component,\r\n  Input,\r\n  OnDestroy,\r\n  AfterViewInit,\r\n  forwardRef,\r\n  ChangeDetectorRef,\r\n  ElementRef,\r\n  NgZone,\r\n  PLATFORM_ID,\r\n  Inject,\r\n  Output,\r\n  EventEmitter\r\n} from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { EditorWindowComponent } from './editor-window/editor-window.component';\r\nimport { Events } from './Events';\r\nimport * as ScriptLoader from './ScriptLoader';\r\nimport { getTinymce } from './TinyMCE';\r\nimport { bindHandlers, isTextarea, mergePlugins, uuid, noop } from './utils';\r\nimport { BASIC_PLUGINS, BASIC_TOOLBAR, FULL_PLUGINS, FULL_TOOLBAR } from './editor.model';\r\n\r\nconst scriptState = ScriptLoader.create();\r\n\r\nexport const EDITOR_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => EditorComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [EDITOR_ACCESSOR]\r\n})\r\nexport class EditorComponent extends Events implements AfterViewInit, ControlValueAccessor, OnDestroy {\r\n  @Input()\r\n  set disabled(val) {\r\n    this._disabled = val;\r\n    if (this._editor && this._editor.initialized) {\r\n      this._editor.setMode(val ? 'readonly' : 'design');\r\n    }\r\n  }\r\n\r\n  get disabled() {\r\n    return this._disabled;\r\n  }\r\n\r\n  get editor() {\r\n    return this._editor;\r\n  }\r\n\r\n  @Input()\r\n  set plugins(value: string | string[] | undefined) {\r\n    this._plugins = value;\r\n  }\r\n\r\n  get plugins(): string | string[] | undefined {\r\n    if (this._plugins) {\r\n      return this._plugins;\r\n    }\r\n    switch (this.type) {\r\n      case 'BASIC':\r\n        return BASIC_PLUGINS;\r\n      case 'FULL':\r\n        return FULL_PLUGINS;\r\n      default:\r\n        return 'lists advlist';\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set toolbar(value: string | string[] | null) {\r\n    this._toolbar = value;\r\n  }\r\n\r\n  get toolbar(): string | string[] | null {\r\n    if (this._toolbar) {\r\n      return this._toolbar;\r\n    }\r\n    switch (this.type) {\r\n      case 'BASIC':\r\n        return BASIC_TOOLBAR;\r\n      case 'FULL':\r\n        return FULL_TOOLBAR;\r\n      default:\r\n        return 'undo redo | bold italic | bullist numlist outdent indent';\r\n    }\r\n  }\r\n\r\n  public ngZone: NgZone;\r\n\r\n  @Input() debug = false;\r\n  @Input() public cloudChannel = '5';\r\n  @Input() public apiKey = 'no-api-key';\r\n  @Input() public init: Record<string, any> | undefined;\r\n  @Input() public id = '';\r\n  @Input() public initialValue: string | undefined;\r\n  @Input() public inline: boolean | undefined;\r\n  @Input() public tagName: string | undefined;\r\n  @Input() expanded = false;\r\n  @Input() height: number;\r\n  @Input() type: 'BASIC' | 'FULL' = null;\r\n  @Output() loaded = new EventEmitter<any>();\r\n\r\n  baseUrl = '/tinymce'; // Root for resources\r\n  suffix = '.min'; // Suffix to use when loading resources\r\n  dialogRef: Subscription;\r\n\r\n  private _elementRef: ElementRef;\r\n  private _element: Element | undefined = undefined;\r\n  private _disabled: boolean | undefined;\r\n  private _editor: any;\r\n  _plugins: string | string[] | undefined;\r\n  _toolbar: string | string[] | null;\r\n\r\n  private onTouchedCallback = noop;\r\n  private onChangeCallback = noop;\r\n\r\n  constructor(elementRef: ElementRef, ngZone: NgZone, @Inject(PLATFORM_ID) private platformId: Object, public dialog: MatDialog, private ref: ChangeDetectorRef) {\r\n    super();\r\n    this._elementRef = elementRef;\r\n    this.ngZone = ngZone;\r\n    this.initialise = this.initialise.bind(this);\r\n  }\r\n\r\n  get basic(): boolean {\r\n    return this.type === 'BASIC';\r\n  }\r\n\r\n  get full(): boolean {\r\n    return this.type === 'FULL';\r\n  }\r\n\r\n  get showExpand() {\r\n    return !this.expanded;\r\n  }\r\n\r\n  expand(e: any) {\r\n    if (e && e.preventDefault) {\r\n      e.preventDefault();\r\n    }\r\n    const config = {\r\n      data: this._editor.getContent(),\r\n      width: '1200px',\r\n      id: this.id ? `${this.id}-dialog` : null\r\n    };\r\n    this.openDialog(config);\r\n  }\r\n\r\n  openDialog(config: any) {\r\n    const dialogRef = this.dialog.open(EditorWindowComponent, config);\r\n    this.dialogRef = dialogRef.afterClosed().subscribe(result => {\r\n      this.closeDialog(result);\r\n    });\r\n  }\r\n\r\n  closeDialog(value: string) {\r\n    if (value) {\r\n      this.changeValue(value);\r\n    }\r\n    this.dialogRef.unsubscribe();\r\n  }\r\n\r\n  changeValue(value: string) {\r\n    this.writeValue(value);\r\n    this.onChangeCallback(value);\r\n  }\r\n\r\n  public writeValue(value: string | null): void {\r\n    this.initialValue = value || this.initialValue;\r\n    value = value || '';\r\n\r\n    if (this._editor && this._editor.initialized && typeof value === 'string') {\r\n      this._editor.setContent(value);\r\n    }\r\n  }\r\n\r\n  public registerOnChange(fn: (_: any) => void): void {\r\n    this.onChangeCallback = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: any): void {\r\n    this.onTouchedCallback = fn;\r\n  }\r\n\r\n  public setDisabledState(isDisabled: boolean) {\r\n    if (this._editor) {\r\n      this._editor.setMode(isDisabled ? 'readonly' : 'design');\r\n    } else if (isDisabled) {\r\n      this.init = { ...this.init, readonly: true };\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit() {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.id = this.id || uuid('tiny-angular');\r\n      this.inline = typeof this.inline !== 'undefined' ? (typeof this.inline === 'boolean' ? this.inline : true) : this.init && this.init.inline;\r\n      this.createElement();\r\n      if (getTinymce() !== null) {\r\n        this.initialise();\r\n      } else if (this._element && this._element.ownerDocument) {\r\n        const doc = this._element.ownerDocument;\r\n        const channel = this.cloudChannel;\r\n        const apiKey = this.apiKey;\r\n\r\n        ScriptLoader.load(scriptState, doc, `https://cdn.tiny.cloud/1/${apiKey}/tinymce/${channel}/tinymce.min.js`, this.initialise);\r\n      }\r\n    }\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    if (getTinymce() !== null) {\r\n      getTinymce().remove(this._editor);\r\n    }\r\n  }\r\n\r\n  public createElement() {\r\n    const tagName = typeof this.tagName === 'string' ? this.tagName : 'div';\r\n    this._element = document.createElement(this.inline ? tagName : 'textarea');\r\n    if (this._element) {\r\n      this._element.id = this.id;\r\n      if (isTextarea(this._element)) {\r\n        this._element.style.visibility = 'hidden';\r\n      }\r\n      this._elementRef.nativeElement.appendChild(this._element);\r\n    }\r\n  }\r\n\r\n  public initialise() {\r\n    const finalInit = Object.assign({}, {\r\n      base_url: this.baseUrl,\r\n      suffix: this.suffix,\r\n      target: this._element,\r\n      inline: this.inline,\r\n      readonly: this.disabled,\r\n      plugins: this.plugins,\r\n      toolbar: this.toolbar,\r\n      height: this.height,\r\n      branding: false, // Note: The “Powered by Tiny” product attribution is required for users on the Tiny Cloud Starter plan. Product attribution is optional for premium users.\r\n      default_link_target: \"_blank\",\r\n      contextmenu: false,\r\n      setup: (editor: any) => {\r\n        this._editor = editor;\r\n        editor.on('init', (e: Event) => {\r\n          this.initEditor(e, editor);\r\n        });\r\n\r\n        if (this.init && typeof this.init.setup === 'function') {\r\n          this.init.setup(editor);\r\n        }\r\n      }\r\n    }, this.init);\r\n\r\n    if (isTextarea(this._element)) {\r\n      this._element.style.visibility = '';\r\n    }\r\n    if (this.debug) {\r\n      console.dir(this.init);\r\n      console.dir(finalInit);\r\n    }\r\n    this.ngZone.runOutsideAngular(() => {\r\n      getTinymce().init(finalInit);\r\n    });\r\n    this.loaded.emit(finalInit);\r\n  }\r\n\r\n  private initEditor(initEvent: Event, editor: any) {\r\n    if (typeof this.initialValue === 'string') {\r\n      this.ngZone.run(() => editor.setContent(this.initialValue));\r\n    }\r\n    editor.on('blur', () => this.ngZone.run(() => this.onTouchedCallback()));\r\n    editor.on('change keyup undo redo', () => this.ngZone.run(() => this.onChangeCallback(editor.getContent())));\r\n    bindHandlers(this, editor, initEvent);\r\n  }\r\n}\r\n","<!-- <div class=\"editor\">\r\n  <textarea [id]=\"elementId\">\r\n    <ng-content *ngIf=\"!hasValue\"></ng-content>\r\n    <span *ngIf=\"hasValue\">{{ value }}</span>\r\n  </textarea>\r\n  <button *ngIf=\"showExpand\" id=\"expand-editor\" (click)=\"expand($event)\" mat-button>\r\n    <mat-icon>fullscreen</mat-icon>\r\n  </button>\r\n</div> -->\r\n\r\n<div class=\"editor\">\r\n  <ng-template></ng-template>\r\n  <button *ngIf=\"showExpand\" id=\"expand-editor\" (click)=\"expand($event)\" mat-button>\r\n    <mat-icon>fullscreen</mat-icon>\r\n  </button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\n\r\nimport { EditorComponent } from './editor.component';\r\nimport { EditorWindowComponent } from './editor-window/editor-window.component';\r\nimport { DialogModule } from '../dialog/dialog.module';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    FormsModule,\r\n    DialogModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatDialogModule,\r\n    MatIconModule,\r\n    MatToolbarModule,\r\n  ],\r\n  declarations: [\r\n    EditorComponent,\r\n    EditorWindowComponent,\r\n  ],\r\n  exports: [\r\n    EditorComponent,\r\n    EditorWindowComponent,\r\n  ],\r\n})\r\nexport class EditorModule { }\r\n","import { phoneNumberValidator } from '../../forms/validators';\r\nimport { Metadata } from '../../shared/models';\r\nimport { build } from '../../shared/utils';\r\n\r\nexport class PhoneNumber {\r\n  _full = '';\r\n  _countryCode = '';\r\n  _areaCode = '';\r\n  _prefix = '';\r\n  _lineNumber = '';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: ['_full', '_countryCode', '_areaCode', '_prefix', '_lineNumber'],\r\n      validators: [phoneNumberValidator]\r\n    });\r\n  }\r\n\r\n  get full(): string {\r\n    return `${this.areaCode}${this.prefix}${this.lineNumber}`;\r\n  }\r\n\r\n  set full(value: string) {\r\n    this._full = value;\r\n    const strValue = value.toString();\r\n    const end = strValue.length;\r\n    this.areaCode = end > 0 ? strValue.substring(0, Math.min(3, end)) : '';\r\n    this.prefix = end > 3 ? strValue.substring(3, Math.min(6, end)) : '';\r\n    this.lineNumber = end > 6 ? strValue.substring(6, Math.min(10, end)) : '';\r\n  }\r\n\r\n  get countryCode(): string {\r\n    return this._countryCode;\r\n  }\r\n\r\n  set countryCode(value: string) {\r\n    this._countryCode = value;\r\n  }\r\n\r\n  get areaCode(): string {\r\n    // return this._full ? this._areaCode || this._full.substring(0, 3) : '';\r\n    return this._areaCode;\r\n  }\r\n\r\n  set areaCode(value: string) {\r\n    this._areaCode = value;\r\n  }\r\n\r\n  get prefix(): string {\r\n    // return this._full ? this._prefix || this._full.substring(3, 6) : '';\r\n    return this._prefix;\r\n  }\r\n\r\n  set prefix(value: string) {\r\n    this._prefix = value;\r\n  }\r\n\r\n  get lineNumber(): string {\r\n    // return this._full ? this._lineNumber || this._full.substring(6, 10) : '';\r\n    return this._lineNumber;\r\n  }\r\n\r\n  set lineNumber(value: string) {\r\n    this._lineNumber = value;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, forwardRef, ChangeDetectionStrategy, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormGroup, ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { PhoneNumber } from './phone-number.model';\r\nimport { buildControlFromModel } from '../../forms/utils';\r\nimport { DumbComponent } from '../../shared/component';\r\nimport { build, getValue } from '../../shared/utils';\r\n\r\nexport const PHONE_NUMBER_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => PhoneNumberComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'iu-phone-number',\r\n  templateUrl: './phone-number.component.html',\r\n  styleUrls: ['./phone-number.component.scss'],\r\n  providers: [PHONE_NUMBER_ACCESSOR],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PhoneNumberComponent extends DumbComponent implements OnInit, ControlValueAccessor {\r\n  @Input() placeholder = '';\r\n  @Input() showPrefix = false;\r\n  @Input() multi = false;\r\n  @ViewChild('areaCodeEl') areaCodeEl: ElementRef;\r\n  @ViewChild('prefixEl') prefixEl: ElementRef;\r\n  @ViewChild('lineNumberEl') lineNumberEl: ElementRef;\r\n  fg: FormGroup;\r\n  private onModelChange: Function;\r\n  private onTouch: Function;\r\n  _value = '';\r\n  _phoneNumber: PhoneNumber = new PhoneNumber();\r\n\r\n  constructor() {\r\n    super();\r\n    this.fg = buildControlFromModel(new PhoneNumber());\r\n  }\r\n\r\n  set value(value: string) {\r\n    if (this.phoneNumber.full !== value) {\r\n      this._value = value;\r\n      this.phoneNumber = build(PhoneNumber, {\r\n        full: value\r\n      });\r\n    }\r\n  }\r\n\r\n  get value(): string {\r\n    return this._value;\r\n  }\r\n\r\n  set phoneNumber(value: PhoneNumber) {\r\n    this._phoneNumber = value;\r\n    this.fg.setValue(getValue(this.phoneNumber));\r\n  }\r\n\r\n  get phoneNumber(): PhoneNumber {\r\n    return this._phoneNumber;\r\n  }\r\n\r\n  registerOnChange(fn: Function) {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function) {\r\n    this.onTouch = fn;\r\n  }\r\n\r\n  writeValue(value: string) {\r\n    this.value = value;\r\n  }\r\n\r\n  onChange(value: string) {\r\n    this.value = value;\r\n    if (typeof (this.onModelChange) === 'function') {\r\n      this.onModelChange(value);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.addSubscription(this.fg.valueChanges.subscribe(x => {\r\n      if (typeof (this.onModelChange) === 'function') {\r\n        this.onModelChange(build(PhoneNumber, x).full);\r\n      }\r\n    }));\r\n  }\r\n\r\n  onChangeAreaCode(e: string) {\r\n    if (e.length === 3) {\r\n      this.prefixEl.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  onChangePrefix(e: string) {\r\n    if (e.length === 3) {\r\n      this.lineNumberEl.nativeElement.focus();\r\n    }\r\n  }\r\n}\r\n","<form class=\"phone-number\" [formGroup]=\"fg\">\r\n    <h3>Phone Number</h3>\r\n    <mat-form-field appearance=\"fill\" *ngIf=\"!multi\">\r\n        <span matPrefix *ngIf=\"showPrefix\">+1 &nbsp;</span>\r\n        <input type=\"tel\" matInput [placeholder]=\"placeholder\" formControlName=\"full\">\r\n        <mat-error *ngIf=\"fg.hasError('phoneNumber')\">\r\n            Please enter a valid phone number\r\n        </mat-error>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"multi\" *ngIf=\"multi\" appearance=\"fill\">\r\n        <span matPrefix>+1 &nbsp;</span>\r\n        <input matInput [placeholder]=\"placeholder\" formControlName=\"areaCode\"\r\n            (keyup)=\"onChangeAreaCode(areaCodeEl.value)\" #areaCodeEl>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"multi\" *ngIf=\"multi\" appearance=\"fill\">\r\n        <input matInput [placeholder]=\"placeholder\" formControlName=\"prefix\" (keyup)=\"onChangePrefix(prefixEl.value)\"\r\n            #prefixEl>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"multi\" *ngIf=\"multi\" appearance=\"fill\">\r\n        <input matInput [placeholder]=\"placeholder\" formControlName=\"lineNumber\" #lineNumberEl>\r\n    </mat-form-field>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\n\r\nimport { PhoneNumberComponent } from './phone-number.component';\r\n\r\n@NgModule({\r\n  declarations: [PhoneNumberComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatButtonModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [PhoneNumberComponent]\r\n})\r\nexport class PhoneNumberModule { }\r\n","import { NgModule, Type, ModuleWithProviders } from '@angular/core';\r\nimport { EffectsModule as NgrxEffectsModule } from '@ngrx/effects';\r\n\r\n@NgModule({\r\n  imports: [\r\n    NgrxEffectsModule\r\n  ],\r\n  declarations: []\r\n})\r\nexport class EffectsModule {\r\n\r\n  static forFeature(featureEffects: Type<any>[]): ModuleWithProviders<NgrxEffectsModule> {\r\n    return NgrxEffectsModule.forFeature(featureEffects);\r\n  }\r\n\r\n  static forRoot(rootEffects: Type<any>[]): ModuleWithProviders<NgrxEffectsModule> {\r\n    return NgrxEffectsModule.forRoot(rootEffects);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ErrorsService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Effect, Actions } from '@ngrx/effects';\r\nimport { Action } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { ErrorActions } from './errors.actions';\r\nimport { ErrorsService } from './errors.service';\r\n\r\n\r\n@Injectable()\r\nexport class ErrorEffects {\r\n    actionTypes: string[];\r\n\r\n    /**\r\n     * Listens for thrown errors and handles them accordingly\r\n     */\r\n    @Effect() handleError$: Observable<Action> = this.actions$.pipe(\r\n        filter((action: Action) => action.type === ErrorActions.THROW_ERROR),\r\n        map((data) => {\r\n            return <Action>{ type: ErrorActions.HANDLE_ERROR };\r\n        })\r\n    );\r\n\r\n    constructor(\r\n        private actions$: Actions,\r\n        private service: ErrorsService\r\n    ) { }\r\n}\r\n","import { Injectable, ErrorHandler } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GlobalErrorsService implements ErrorHandler {\r\n\r\n  constructor() { }\r\n\r\n  handleError(error) {\r\n    alert(error);\r\n    // IMPORTANT: Rethrow the error otherwise it gets swallowed\r\n    throw error;\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, ErrorHandler } from '@angular/core';\r\n\r\nimport { ErrorEffects } from './errors.effects';\r\nimport { ErrorsService } from './errors.service';\r\nimport { GlobalErrorsService } from './global-errors.service';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: []\r\n})\r\nexport class ErrorsModule {\r\n  static forRoot(): ModuleWithProviders<ErrorsModule> {\r\n    return {\r\n      ngModule: ErrorsModule,\r\n      providers: [\r\n        ErrorsService,\r\n        ErrorEffects,\r\n        {\r\n          provide: ErrorHandler,\r\n          useClass: GlobalErrorsService\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n","export class Error {\r\n    message?: string = '';\r\n    data?: any;\r\n    statusCode?: number = 0;\r\n}\r\n\r\nexport interface ErrorOutlet {\r\n    key: string;\r\n    handler?: (e: Error) => Error;\r\n}\r\n\r\nexport interface ErrorPayload {\r\n    key: string;\r\n    error: Error;\r\n}\r\n","import { ErrorActions } from './errors.actions';\r\nimport { Collection } from '../shared/collection';\r\nimport { Dictionary } from '../shared/models';\r\nimport { Action } from '../store/models';\r\n\r\n\r\nexport function errorsReducer(state: Dictionary<Error> = {}, action: Action): Dictionary<Error> {\r\n    switch (action.type) {\r\n\r\n        case ErrorActions.ADD:\r\n            let newState = Collection.AddItem(state, 'lastError', action.payload.error);\r\n            if (action.payload.key === 'lastError') {\r\n                return newState;\r\n            }\r\n            return Collection.AddItem(state, action.payload.key, action.payload.error);\r\n\r\n        case ErrorActions.REMOVE:\r\n            return Collection.RemoveItem(state, action.payload);\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { Error } from './errors.models';\r\nimport { Dictionary } from '../shared/models';\r\n\r\nexport function errorsSelector(store: Store<any>): Observable<Dictionary<Error>> {\r\n    return store.select(s => s['errors']);\r\n}\r\n\r\nexport function errorSelector(store: Store<any>, key: string): Observable<Error> {\r\n    return errorsSelector(store).pipe(map(errors => errors[key]));\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map, filter } from 'rxjs/operators';\r\n\r\nimport {\r\n  Events,\r\n  Event,\r\n  Messages,\r\n  MessageSubscription,\r\n  Message\r\n} from './events.models';\r\nimport { Dictionary } from '../shared/models';\r\nimport { truthy, build } from '../shared/utils';\r\n\r\nexport function eventsSelector(\r\n  store: Store<any>\r\n): Observable<Dictionary<Event>> {\r\n  return store\r\n    .select(s => s['events'])\r\n    .pipe(map((events: Events) => events.items));\r\n}\r\n\r\nexport function eventSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<Event> {\r\n  return eventsSelector(store).pipe(map(events => events[key]));\r\n}\r\n\r\nexport function eventValueSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<any> {\r\n  return eventSelector(store, key).pipe(map(e => (e ? e.value : null)));\r\n}\r\n\r\nexport function messagesSelector(store: Store<any>): Observable<Messages> {\r\n  return store.select('messages');\r\n}\r\n\r\nexport function messageSubscriptionsSelector(\r\n  store: Store<any>\r\n): Observable<MessageSubscription[]> {\r\n  return messagesSelector(store).pipe(map(x => x.subscriptions));\r\n}\r\n\r\nexport function messageSelector(\r\n  store: Store<any>,\r\n  channel: string\r\n): Observable<string> {\r\n  return messagesSelector(store).pipe(\r\n    map(x => build(Message, x.get(channel)).message),\r\n    filter(x => truthy(x))\r\n  );\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { EventActions, MessagesActions } from './events.actions';\r\nimport { Events, MessageSubscription } from './events.models';\r\nimport { messageSubscriptionsSelector } from './events.selectors';\r\nimport { Action } from '../store/models';\r\nimport { build } from '../shared/utils';\r\n\r\n@Injectable()\r\nexport class EventEffects {\r\n  events: Events = new Events();\r\n\r\n  /**\r\n   * Trigger event if action is a registered trigger.\r\n   */\r\n  @Effect() onTriggerEvent: Observable<Action> = this.actions$.pipe(\r\n    filter(action => this.events.actions.indexOf(action.type) !== -1),\r\n    map(this.trigger)\r\n  );\r\n\r\n  constructor(private actions$: Actions, private store: Store<any>) {\r\n    this.store\r\n      .select(s => s['events'])\r\n      .subscribe(events => {\r\n        this.events = events;\r\n      });\r\n  }\r\n\r\n  trigger(action: Action): Action {\r\n    return EventActions.triggerEvent(action);\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport class MessagesEffects {\r\n  messageSubscriptions: MessageSubscription[] = [];\r\n\r\n  /**\r\n   * Broadcast message if action has a registered subscription.\r\n   */\r\n  @Effect() onTriggerEvent: Observable<Action> = this.actions$.pipe(\r\n    filter(\r\n      action =>\r\n        this.messageSubscriptions.findIndex(x => x.action === action.type) !==\r\n        -1\r\n    ),\r\n    map(x => this.broadcast(x, this.messageSubscriptions))\r\n  );\r\n\r\n  /**\r\n   * Clear messages after they have been emitted.\r\n   */\r\n  @Effect() onMessageAdded: Observable<Action> = this.actions$.pipe(\r\n    ofType(MessagesActions.ADD),\r\n    map((action: Action) => this.clearMessages(action))\r\n  );\r\n\r\n  constructor(private actions$: Actions, private store: Store<any>) {\r\n    messageSubscriptionsSelector(store).subscribe(x => {\r\n      if (x && Array.isArray(x)) {\r\n        this.messageSubscriptions = x;\r\n      }\r\n    });\r\n  }\r\n\r\n  broadcast(\r\n    action: Action,\r\n    messageSubscriptions: MessageSubscription[]\r\n  ): Action {\r\n    const subscription = build(\r\n      MessageSubscription,\r\n      messageSubscriptions.find(x => x.action === action.type)\r\n    );\r\n    return MessagesActions.add(subscription, action);\r\n  }\r\n\r\n  clearMessages(action: Action): Action {\r\n    return {\r\n      type: MessagesActions.CLEAR,\r\n      payload: action.payload\r\n    };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription, of } from 'rxjs';\r\nimport { combineLatest, skip, take } from 'rxjs/operators';\r\n\r\nimport { EventActions } from './events.actions';\r\nimport { eventValueSelector } from './events.selectors';\r\nimport { HttpAction } from '../http/http.models';\r\nimport { Action } from '../store/models';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EventsService {\r\n\r\n  eventIndex = 0;\r\n  events: Event[] = [];\r\n\r\n  constructor(public store: Store<any>) {\r\n  }\r\n\r\n  get eventKey(): string {\r\n    this.eventIndex++;\r\n    return `event-${this.eventIndex}`;\r\n  }\r\n\r\n  addEvent(actionType: string, handler?: (action: Action) => any): string {\r\n    const f = handler ? handler : (action: Action) => true;\r\n    const actionWithKey = EventActions.addEvent(actionType, f, false);\r\n    this.store.dispatch(actionWithKey);\r\n    return actionWithKey.key;\r\n  }\r\n\r\n  dispatch(action: HttpAction, handler?: (action: Action) => any): Observable<any> {\r\n    return this.dispatchHttpAction(action, handler);\r\n  }\r\n\r\n  dispatchHttpAction(action: HttpAction, handler?: (action: Action) => any): Observable<any> {\r\n    const successAction = action.payload.onSuccess;\r\n    const errorAction = typeof (action.payload.onError) === 'string' ? action.payload.onError : null;\r\n    const success = this.takeOne(successAction, handler);\r\n    const obs = errorAction ? success.pipe(\r\n      combineLatest(this.takeOne(errorAction, handler), (x, y) => true)\r\n    ) : success;\r\n    this.store.dispatch(action);\r\n    return obs;\r\n  }\r\n\r\n  removeEvent(eventKey: string) {\r\n    this.store.dispatch(EventActions.removeEvent(eventKey));\r\n  }\r\n\r\n  subscribe(action: string, handler: (e: any) => void): Subscription {\r\n    return this.take(1, action).subscribe(handler);\r\n  }\r\n\r\n  take(n = 1, actionType: string, handler?: (action: Action) => any): Observable<any> {\r\n    const key = this.addEvent(actionType, handler);\r\n    return eventValueSelector(this.store, key).pipe(\r\n      skip(1),\r\n      take(n)\r\n    );\r\n  }\r\n\r\n  takeFrom(n = 1, actions: string[], handler?: (action: Action) => any): Observable<any> {\r\n    const keys = actions.map(action => this.addEvent(action, handler));\r\n    return keys.map(key => eventValueSelector(this.store, key))\r\n      .reduce((acc, obs) => {\r\n        return acc.pipe(\r\n          combineLatest(obs, (x, y) => true)\r\n        );\r\n      }, of(false)).pipe(\r\n        skip(1),\r\n        take(n)\r\n      );\r\n  }\r\n\r\n  takeOne(actionType: string, handler?: (action: Action) => any): Observable<any> {\r\n    return this.take(1, actionType, handler);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { EventEffects } from './events.effects';\r\nimport { EventsService } from './events.service';\r\n\r\n@NgModule({\r\n  providers: [\r\n    EventEffects,\r\n    EventsService,\r\n  ],\r\n  exports: []\r\n})\r\nexport class EventsModule { }\r\n","import { EventActions, MessagesActions } from './events.actions';\r\nimport { Events, Messages } from './events.models';\r\nimport { Action } from '../store/models';\r\n\r\nexport function eventsReducer(\r\n  state: Events = new Events(),\r\n  action: Action\r\n): Events {\r\n  switch (action.type) {\r\n    case EventActions.ADD_EVENT:\r\n      return state.addEvent(action.payload);\r\n\r\n    case EventActions.REMOVE_EVENT:\r\n      return state.removeEvent(action.payload);\r\n\r\n    case EventActions.TRIGGER_EVENT:\r\n      return state.triggerEvent(action.payload);\r\n\r\n    case EventActions.UPDATE_VALUE:\r\n      return state.updateValue(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function messagesReducer(\r\n  state: Messages = new Messages(),\r\n  action: Action\r\n): Messages {\r\n  switch (action.type) {\r\n    case MessagesActions.ADD:\r\n      return state.addMessages(action.payload);\r\n\r\n    case MessagesActions.CLEAR:\r\n      return state.clearMessages(action.payload);\r\n\r\n    case MessagesActions.SUBSCRIBE:\r\n      return state.addSubscriptions(action.payload);\r\n\r\n    case MessagesActions.REMOVE:\r\n      return state.removeMessages(action.payload);\r\n\r\n    case MessagesActions.UNSUBSCRIBE:\r\n      return state.removeSubscriptions(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { AbstractControl, Form } from '@angular/forms';\r\n\r\nimport { Action } from '../store/models';\r\n\r\n// export class FormActions {\r\n//     static ADD = '[forms] Add Form';\r\n//     static RESET = '[forms] Reset Forms';\r\n//     static NAVIGATE = '[forms] Navigate to Form';\r\n//     static STATUS_CHANGES = '[form] Status Changes';\r\n//     static VALUE_CHANGES = '[form] Value Changes';\r\n\r\n//     static addForm(control: AbstractControl): Action {\r\n//         return {\r\n//             type: FormActions.ADD,\r\n//             payload: control\r\n//         };\r\n//     }\r\n\r\n//     static changeStatus(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.STATUS_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n\r\n//     static changeValue(control: AbstractControl, changes: any): Action {\r\n//         return {\r\n//             type: FormActions.VALUE_CHANGES,\r\n//             payload: {\r\n//                 control: control,\r\n//                 changes: changes\r\n//             }\r\n//         };\r\n//     }\r\n\r\n//     static navigateToForm(route: string): Action {\r\n//         return {\r\n//             type: FormActions.NAVIGATE,\r\n//             payload: route\r\n//         };\r\n//     }\r\n\r\n//     static resetForms(forms: Form[]): Action {\r\n//         return {\r\n//             type: FormActions.RESET,\r\n//             payload: forms\r\n//         };\r\n//     }\r\n\r\n// }\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { HttpService } from './http.service';\r\nimport { HttpGetPayload, HttpPostPayload, HttpPutPayload, HttpDeletePayload } from './http.models';\r\n// import { Command } from '../shared/decorators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HttpCommands<T> {\r\n\r\n  constructor(private http: HttpService) {\r\n  }\r\n\r\n  // @Command()\r\n  delete$(payload: HttpDeletePayload<T>): Observable<any> {\r\n    return this.http.delete(payload.path, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  get$(payload: HttpGetPayload<T>): Observable<any> {\r\n    return this.http.get(payload.path, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  post$(payload: HttpPostPayload<T>): Observable<any> {\r\n    return this.http.post(payload.path, payload.model, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  postFormUrlEncoded$(payload: HttpPostPayload<T>): Observable<any> {\r\n    return this.http.postFormUrlEncoded(payload.path, payload.model, payload.headers, payload.options);\r\n  }\r\n\r\n  // @Command()\r\n  put$(payload: HttpPutPayload<T>): Observable<any> {\r\n    return this.http.put(payload.path, payload.model, payload.headers, payload.options);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, Effect, ofType } from '@ngrx/effects';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, mergeMap, catchError } from 'rxjs/operators';\r\n\r\nimport { HttpActions } from './http.actions';\r\nimport { HttpCommands } from './http.commands';\r\nimport {\r\n  HttpGetPayload,\r\n  HttpPostPayload,\r\n  HttpPutPayload,\r\n  HttpDeletePayload\r\n} from './http.models';\r\nimport { Error } from '../errors/errors.models';\r\nimport { Action } from '../store/models';\r\nimport { build } from '../shared/utils';\r\n\r\n@Injectable()\r\nexport class HttpEffects<T> {\r\n  @Effect() onDelete$ = this.actions$.pipe(\r\n    ofType(HttpActions.DELETE),\r\n    mergeMap((action: Action) => this.delete$(action.payload))\r\n  );\r\n\r\n  @Effect() onGet$ = this.actions$.pipe(\r\n    ofType(HttpActions.GET),\r\n    mergeMap((action: Action) => this.get$(action.payload))\r\n  );\r\n\r\n  @Effect() onPost$ = this.actions$.pipe(\r\n    ofType(HttpActions.POST),\r\n    mergeMap((action: Action) => this.post$(action.payload))\r\n  );\r\n\r\n  @Effect() onPostFormUrlEncoded$ = this.actions$.pipe(\r\n    ofType(HttpActions.POST_FORM_URL_ENCODED),\r\n    mergeMap((action: Action) => this.postFormUrlEncoded$(action.payload))\r\n  );\r\n\r\n  @Effect() onPut$ = this.actions$.pipe(\r\n    ofType(HttpActions.PUT),\r\n    mergeMap((action: Action) => this.put$(action.payload))\r\n  );\r\n\r\n  @Effect() onSearch$ = this.actions$.pipe(\r\n    ofType(HttpActions.SEARCH),\r\n    mergeMap((action: Action) => this.search$(action.payload))\r\n  );\r\n\r\n  constructor(private actions$: Actions, private commands: HttpCommands<T>) { }\r\n\r\n  delete$(payload: HttpDeletePayload<T>): Observable<Action> {\r\n    // console.log('DELETE:\\t', payload.onSuccess);\r\n    return this.commands.delete$(payload).pipe(\r\n      map((model: T) =>\r\n        HttpActions.deleteSuccess(payload.data || model, payload.onSuccess)\r\n      ),\r\n      catchError((e: Error) =>\r\n        of(\r\n          HttpActions.deleteError(\r\n            build(Error, e, { data: payload.data }),\r\n            payload.onError\r\n          )\r\n        )\r\n      )\r\n    );\r\n  }\r\n\r\n  get$(payload: HttpGetPayload<T>): Observable<Action> {\r\n    // console.log('GET:\\t', payload.onSuccess);\r\n    return this.commands.get$(payload).pipe(\r\n      map((model: T) => HttpActions.getSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => of(HttpActions.getError(e, payload.onError)))\r\n    );\r\n  }\r\n\r\n  post$(payload: HttpPostPayload<T>): Observable<Action> {\r\n    // console.log('POST:\\t', payload.onSuccess);\r\n    return this.commands.post$(payload).pipe(\r\n      map((model: T) => HttpActions.postSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => {\r\n        return of(HttpActions.postError(e, payload.onError));\r\n      })\r\n    );\r\n  }\r\n\r\n  postFormUrlEncoded$(payload: HttpPostPayload<T>): Observable<Action> {\r\n    // console.log('POST:\\t', payload.onSuccess);\r\n    return this.commands.postFormUrlEncoded$(payload).pipe(\r\n      map((model: T) => HttpActions.postSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => of(HttpActions.postError(e, payload.onError)))\r\n    );\r\n  }\r\n\r\n  put$(payload: HttpPutPayload<T>): Observable<Action> {\r\n    // console.log('PUT:\\t', payload.onSuccess);\r\n    return this.commands.put$(payload).pipe(\r\n      map((model: T) => HttpActions.putSuccess(model, payload.onSuccess)),\r\n      catchError((e: Error) => of(HttpActions.putError(e, payload.onError)))\r\n    );\r\n  }\r\n\r\n  search$(payload: HttpGetPayload<T>): Observable<Action> {\r\n    // console.log('SEARCH:\\t', payload.onSuccess);\r\n    return this.commands.get$(payload).pipe(\r\n      map((model: T) =>\r\n        HttpActions.searchSuccess(model, payload.onSuccess, payload.path)\r\n      ),\r\n      catchError((e: Error) => of(HttpActions.getError(e, payload.onError)))\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { HttpCommands } from './http.commands';\r\nimport { HttpEffects } from './http.effects';\r\nimport { HttpService } from './http.service';\r\nimport { Selector } from '../store/models';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nconst BASE_URL$ = new InjectionToken<Observable<string>>('API Base URL');\r\nconst AUTH_TOKEN$ = new InjectionToken<Observable<string>>('API Auth Token');\r\n\r\nexport function baseUrlFactory(store: Store<any>, baseUrlSelector: Selector<string>): Observable<string> {\r\n  return store.pipe(baseUrlSelector);\r\n}\r\n\r\nexport function authTokenFactory(store: Store<any>, authTokenSelector: Selector<string>): Observable<string> {\r\n  return store.pipe(authTokenSelector);\r\n}\r\n\r\nexport function httpServiceFactory(http: HttpClient, baseUrl$: Observable<string>, authToken$: Observable<string>): HttpService {\r\n  return new HttpService(http, baseUrl$, authToken$);\r\n}\r\n\r\nexport function provideHttpContext(urlSelector: Selector<string>, authTokenSelector: Selector<string>): any[] {\r\n  return [\r\n    HttpEffects,\r\n    HttpCommands,\r\n    { provide: HttpService, useFactory: httpServiceFactory, deps: [HttpClient, 'BASE_URL$', 'AUTH_TOKEN$'] },\r\n    { provide: 'URL_SELECTOR', useValue: urlSelector },\r\n    { provide: 'BASE_URL$', useFactory: baseUrlFactory, deps: [Store, 'URL_SELECTOR'] },\r\n    { provide: 'TOKEN_SELECTOR', useValue: authTokenSelector },\r\n    { provide: 'AUTH_TOKEN$', useFactory: authTokenFactory, deps: [Store, 'TOKEN_SELECTOR'] },\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  imports: [\r\n    HttpClientModule,\r\n  ],\r\n  exports: [\r\n    HttpClientModule,\r\n  ]\r\n})\r\nexport class HttpModule {\r\n\r\n  static forRoot(baseUrlSelector: Selector<string>, authTokenSelector: Selector<string>): ModuleWithProviders<HttpModule> {\r\n    return {\r\n      ngModule: HttpModule,\r\n      providers: provideHttpContext(baseUrlSelector, authTokenSelector)\r\n    };\r\n  }\r\n\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport * as signalR from '@Microsoft/signalr';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { SOCKET_URL } from './hub.module';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HubService {\r\n\r\n  private hubConnection: signalR.HubConnection;\r\n\r\n  constructor(public store: Store<any>, @Inject(SOCKET_URL) url: string) {\r\n    this.startConnection(url);\r\n  }\r\n\r\n  startConnection(url: string) {\r\n    this.hubConnection = new signalR.HubConnectionBuilder()\r\n      .withUrl(url, {\r\n        skipNegotiation: true,\r\n        transport: signalR.HttpTransportType.WebSockets\r\n      })\r\n      .build();\r\n\r\n    this.hubConnection.start();\r\n\r\n    return this.hubConnection;\r\n  }\r\n\r\n  addEffect(channel: string, action: string) {\r\n    this.removeEffect(channel); // make sure no existing streams exist for this channel\r\n    this.hubConnection.on(channel, (payload) => {\r\n      this.store.dispatch({\r\n        type: action,\r\n        payload\r\n      });\r\n    });\r\n  }\r\n\r\n  removeEffect(channel: string) {\r\n    this.removeListener(channel);\r\n  }\r\n\r\n  addListener(functionName: string, func: Function) {\r\n    this.hubConnection.on(functionName, (data) => func(data));\r\n  }\r\n\r\n  removeListener(channel: string) {\r\n    this.hubConnection.off(channel);\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { HubService } from './hub.service';\r\n\r\nexport const SOCKET_URL = new InjectionToken<string>('API hub endpoint');\r\nexport const SOCKET_KEYS = new InjectionToken<string[]>('API hub keys');\r\n\r\nexport function hubServiceFactory(store: Store<any>, url: string): HubService {\r\n  return new HubService(store, url);\r\n}\r\n\r\nexport function provideHub(url = '', keys: string[] = []): any[] {\r\n  return [\r\n    { provide: HubService, useFactory: hubServiceFactory, deps: [Store, SOCKET_URL] },\r\n    { provide: SOCKET_URL, useValue: url },\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: []\r\n})\r\nexport class HubModule {\r\n\r\n  static forRoot(url = ''): ModuleWithProviders<HubModule> {\r\n    return {\r\n      ngModule: HubModule,\r\n      providers: provideHub(url, [])\r\n    };\r\n  }\r\n}\r\n","import { AddLookupPayload, Lookup, LookupValue } from './lookup.models';\r\nimport { Action } from '../store/models';\r\n\r\nexport class LookupActions {\r\n  static ADD_KEYS = '[Lookup] Add keys';\r\n  static ADD_KEY = '[Lookup] Add key';\r\n  static ADD_VALUES = '[Lookup] Add values';\r\n  static REMOVE_KEY = '[Lookup] Remove key';\r\n  static REMOVE_VALUE = '[Lookup] Remove value';\r\n  static UPDATE_VALUE = '[Lookup] Update value';\r\n\r\n  static addKey(payload: AddLookupPayload): Action {\r\n    return {\r\n      type: LookupActions.ADD_KEY,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static addValue(lookupKey: string, lookupValue: LookupValue): Action {\r\n    return {\r\n      type: LookupActions.UPDATE_VALUE,\r\n      payload: { lookupKey, lookupValue }\r\n    };\r\n  }\r\n\r\n  static addValues(payload: Lookup[]): Action {\r\n    return {\r\n      type: LookupActions.ADD_VALUES,\r\n      payload: payload\r\n    };\r\n  }\r\n\r\n  static removeKey(key: string): Action {\r\n    return {\r\n      type: LookupActions.REMOVE_KEY,\r\n      payload: key\r\n    };\r\n  }\r\n\r\n  static removeValue(lookupKey: string, lookupValueId: number): Action {\r\n    return {\r\n      type: LookupActions.REMOVE_VALUE,\r\n      payload: { lookupKey, lookupValueId }\r\n    };\r\n  }\r\n\r\n  static updateValue(lookupKey: string, lookupValue: LookupValue): Action {\r\n    return {\r\n      type: LookupActions.UPDATE_VALUE,\r\n      payload: { lookupKey, lookupValue }\r\n    };\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { LookupActions } from './lookup.actions';\r\nimport { Lookup, AddLookupPayload } from './lookup.models';\r\nimport { LOOKUP_PATH, LOOKUP_KEYS } from './lookup.module';\r\nimport { HttpActions } from '../http/http.actions';\r\nimport { build } from '../shared/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LookupService {\r\n\r\n  _keys: string[] = [];\r\n  path = 'lookup';\r\n\r\n  constructor(\r\n    public store: Store<any>,\r\n    @Inject(LOOKUP_PATH) lookupPath = 'lookup',\r\n    @Inject(LOOKUP_KEYS) lookupKeys: string[] = []\r\n  ) {\r\n    this.path = lookupPath;\r\n    this.keys = lookupKeys;\r\n  }\r\n\r\n  get keys(): string[] {\r\n    return this._keys;\r\n  }\r\n\r\n  set keys(value: string[]) {\r\n    this._keys = value;\r\n  }\r\n\r\n  load(keys: string[], values?: Lookup[]): void {\r\n    if (values) {\r\n      this.loadValues(values);\r\n    }\r\n    this.loadKeys(keys);\r\n  }\r\n\r\n  loadKeys(keys: string[]): void {\r\n    this.keys = keys;\r\n    this.store.dispatch(HttpActions.get(`${this.path}${this.buildQueryString()}`, LookupActions.ADD_KEYS));\r\n  }\r\n\r\n  loadValues(values: Lookup[]): void {\r\n    this.store.dispatch(LookupActions.addValues(values));\r\n  }\r\n\r\n  lookup(key: string): Observable<any> {\r\n    return this.store.select('lookup').pipe(\r\n      map(s => s[key])\r\n    );\r\n  }\r\n\r\n  addKey(key: string, value: any): void {\r\n    this.store.dispatch(LookupActions.addKey(\r\n      build(AddLookupPayload,\r\n        {\r\n          key: key,\r\n          value: value\r\n        }\r\n      )));\r\n  }\r\n\r\n  removeKey(key: string): void {\r\n    this.store.dispatch(LookupActions.removeKey(key));\r\n  }\r\n\r\n  private buildQueryString(): string {\r\n    let query = this.keys.length > 0 ? `?keys=${this.keys[0]}` : '';\r\n    this.keys.filter((key: string, index: number) => index !== 0)\r\n      .forEach(key => {\r\n        query += `&keys=${key}`;\r\n      });\r\n    return query;\r\n  }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { LookupService } from './lookup.service';\r\n\r\nexport const LOOKUP_PATH = new InjectionToken<string>('API lookup endpoint');\r\nexport const LOOKUP_KEYS = new InjectionToken<string[]>('API lookup keys');\r\n\r\nexport function lookupServiceFactory(store: Store<any>, LOOKUP_PATH = 'lookup', LOOKUP_KEYS: string[] = []): LookupService {\r\n  return new LookupService(store, LOOKUP_PATH, LOOKUP_KEYS);\r\n}\r\n\r\nexport function provideLookup(path = '', keys: string[] = []): any[] {\r\n  return [\r\n    { provide: LookupService, useFactory: lookupServiceFactory, deps: [Store, LOOKUP_PATH, LOOKUP_KEYS] },\r\n    { provide: LOOKUP_PATH, useValue: path },\r\n    { provide: LOOKUP_KEYS, useValue: keys },\r\n  ];\r\n}\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: []\r\n})\r\nexport class LookupModule {\r\n\r\n  static forRoot(): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup('lookup', [])\r\n    };\r\n  }\r\n\r\n  static forRootWithPath(path = ''): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup(path, [])\r\n    };\r\n  }\r\n\r\n  static forRootWithKeys(keys: string[]): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup('lookup', keys)\r\n    };\r\n  }\r\n\r\n  static forRootWithPathAndKeys(path = '', keys: string[]): ModuleWithProviders<LookupModule> {\r\n    return {\r\n      ngModule: LookupModule,\r\n      providers: provideLookup(path, keys)\r\n    };\r\n  }\r\n\r\n}\r\n","import { Action as NgrxAction, ActionReducer, Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { Collection } from '../shared/collection';\r\nimport { build, truthy } from '../shared/utils';\r\n\r\nexport interface Action extends NgrxAction {\r\n  actionType?: ActionTypes | ActionTypes[];\r\n  payload?: any;\r\n}\r\n\r\nexport interface ActionWithKey extends Action {\r\n  key: string;\r\n}\r\n\r\nexport enum ActionTypes {\r\n  DEFAULT,\r\n  GET,\r\n  GET_SUCCESS,\r\n  GET_ERROR,\r\n  POST,\r\n  POST_SUCCESS,\r\n  POST_ERROR,\r\n  PUT,\r\n  PUT_SUCCESS,\r\n  PUT_ERROR,\r\n  DELETE,\r\n  DELETE_SUCCESS,\r\n  DELETE_ERROR,\r\n  SAVE\r\n}\r\n\r\nexport interface ActionWithPayload<T> extends Action {\r\n  payload: T;\r\n}\r\n\r\nexport type Mapper<T> = (store: any) => T;\r\n\r\nexport interface Reducers {\r\n  [key: string]: ActionReducer<any>;\r\n}\r\n\r\nexport class Redirect {\r\n  action = '';\r\n  redirectTo = '/';\r\n  redirectStatus: 'CANCEL' = null;\r\n\r\n  get id(): string {\r\n    return this.action;\r\n  }\r\n}\r\n\r\nexport class Redirects extends Collection<Redirect> {\r\n  constructor() {\r\n    super(Redirect);\r\n  }\r\n\r\n  add(data: Redirect): Redirects {\r\n    return build(Redirects, this.update([data]));\r\n  }\r\n\r\n  remove(data: string): Redirects {\r\n    return build(Redirects, this.delete(data));\r\n  }\r\n\r\n  update(data: Redirect[]): Redirects {\r\n    const items = Collection.BuildDictionaryFromArray(\r\n      data.reduce((acc, x) => {\r\n        const filtered = acc.filter(y => y.id !== x.action);\r\n        return truthy(x.redirectTo) ? [...filtered, x] : filtered;\r\n      }, this.asArray)\r\n    );\r\n    return build(Redirects, this, { items });\r\n  }\r\n}\r\n\r\nexport type Selector<T> = (store: Store<any>) => Observable<T>;\r\n\r\nexport type SelectorParameterized<T> = (\r\n  store: Store<any>,\r\n  ...params: any[]\r\n) => Observable<T>;\r\n\r\nexport interface UnsafeAction extends Action {\r\n  payload?: any;\r\n}\r\n\r\nexport class ViewSettings {\r\n  theme: 'dark' | 'light' = 'dark';\r\n\r\n  get isDarkTheme(): boolean {\r\n    return this.theme === 'dark';\r\n  }\r\n\r\n  get isLightTheme(): boolean {\r\n    return this.theme === 'light';\r\n  }\r\n}\r\n","import { Action, Redirect } from './models';\r\nimport { Config } from '../shared/config';\r\nimport { WindowResize } from '../shared/window';\r\nimport { build } from '../shared/utils';\r\n\r\nexport class AppActions {\r\n  static INIT_STORE = '[Storage] Init Store';\r\n  static NO_ACTION = '[App] No Action';\r\n\r\n  static noAction(): Action {\r\n    return {\r\n      type: AppActions.NO_ACTION\r\n    };\r\n  }\r\n}\r\n\r\nexport class ConfigActions {\r\n  static INITIALIZE = '[Config] Initialize Configuration';\r\n\r\n  static initialize(config: Config): Action {\r\n    return {\r\n      type: ConfigActions.INITIALIZE,\r\n      payload: config\r\n    };\r\n  }\r\n}\r\n\r\nexport class CurrentUserActions {\r\n  static LOGIN = '[CurrentUser] Login';\r\n  static LOGOUT = '[CurrentUser] Logout';\r\n  static RESET_PASSWORD = '[CurrentUser] Reset Password';\r\n  static ALL = [\r\n    CurrentUserActions.LOGIN,\r\n    CurrentUserActions.LOGOUT,\r\n    CurrentUserActions.RESET_PASSWORD\r\n  ];\r\n\r\n  static logout(): Action {\r\n    return {\r\n      type: CurrentUserActions.LOGOUT\r\n    };\r\n  }\r\n}\r\n\r\nexport class FormActions {\r\n  static SAVE = '[Form] SAVE';\r\n}\r\n\r\nexport class OrganizationsActions {\r\n  static GET = '[Organizations] GET';\r\n}\r\n\r\nexport class RedirectActions {\r\n  static ADD = '[Redirect] ADD';\r\n  static REMOVE = '[Redirect] REMOVE';\r\n  static UPDATE = '[Redirect] UPDATE';\r\n\r\n  static add(payload: Redirect | Redirect[]): Action {\r\n    return {\r\n      type: RedirectActions.ADD,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static update(actions: string[], redirectTo: string): Action {\r\n    const payload = actions.map(action =>\r\n      build(Redirect, {\r\n        action,\r\n        redirectTo\r\n      })\r\n    );\r\n    return {\r\n      type: RedirectActions.UPDATE,\r\n      payload\r\n    };\r\n  }\r\n\r\n  static remove(payload: string): Action {\r\n    return {\r\n      type: RedirectActions.ADD,\r\n      payload\r\n    };\r\n  }\r\n}\r\n\r\nexport class SidenavActions {\r\n  static CLOSE = '[Sidenav] Close';\r\n  static OPEN = '[Sidenav] Open';\r\n  static TOGGLE = '[Sidenav] Toggle';\r\n\r\n  static close(): Action {\r\n    return {\r\n      type: SidenavActions.CLOSE\r\n    };\r\n  }\r\n\r\n  static open(): Action {\r\n    return {\r\n      type: SidenavActions.OPEN\r\n    };\r\n  }\r\n\r\n  static toggle(): Action {\r\n    return {\r\n      type: SidenavActions.TOGGLE\r\n    };\r\n  }\r\n}\r\n\r\nexport class ViewSettingsActions {\r\n  static CHANGETHEME = '[viewSettingsReducer] Change Theme';\r\n  static changeTheme(theme: 'dark' | 'light'): Action {\r\n    return {\r\n      type: ViewSettingsActions.CHANGETHEME,\r\n      payload: theme\r\n    };\r\n  }\r\n}\r\n\r\nexport class WindowActions {\r\n  static RESIZE = '[Window] Resize';\r\n\r\n  static resize(payload: WindowResize): Action {\r\n    return {\r\n      type: WindowActions.RESIZE,\r\n      payload\r\n    };\r\n  }\r\n}\r\n","import { LookupActions } from './lookup.actions';\r\nimport { Lookups, Lookup } from './lookup.models';\r\nimport { AppActions } from '../store/actions';\r\nimport { Action } from '../store/models';\r\nimport { build, toArray } from '../shared/utils';\r\n\r\nexport function lookupReducer(\r\n  state: Lookups = new Lookups(),\r\n  action: Action\r\n): Lookups {\r\n  switch (action.type) {\r\n    case LookupActions.ADD_KEYS:\r\n      return Lookups.AddLookups(\r\n        state,\r\n        toArray(action.payload).map(x => build(Lookup, x))\r\n      );\r\n\r\n    case LookupActions.ADD_KEY:\r\n      return Lookups.AddLookup(state, action.payload);\r\n\r\n    case LookupActions.UPDATE_VALUE:\r\n      return Lookups.UpdateLookupValue(\r\n        state,\r\n        action.payload.lookupKey,\r\n        action.payload.lookupValue\r\n      );\r\n\r\n    case LookupActions.ADD_VALUES:\r\n      return Lookups.AddLookups(state, action.payload);\r\n\r\n    case LookupActions.REMOVE_KEY:\r\n      return Lookups.RemoveLookup(state, action.payload);\r\n\r\n    case LookupActions.REMOVE_VALUE:\r\n      return Lookups.RemoveLookupValue(\r\n        state,\r\n        action.payload.lookupKey,\r\n        action.payload.lookupValueId\r\n      );\r\n\r\n    case AppActions.INIT_STORE:\r\n      return build(Lookups, action.payload['lookup']);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { truthy } from '../shared/utils';\r\n\r\nimport { Lookups, Lookup, LookupValue } from './lookup.models';\r\n\r\nexport function lookupSelector(store: Store<any>): Observable<Lookups> {\r\n  return store.select(s => s['lookup']);\r\n}\r\n\r\nexport function lookupKeySelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<Lookup> {\r\n  return lookupSelector(store).pipe(map(lookup => lookup[key] || new Lookup()));\r\n}\r\n\r\nexport function lookupValuesSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<LookupValue[]> {\r\n  return lookupKeySelector(store, key).pipe(\r\n    map(lookup => lookup.values)\r\n    // map(statuses => statuses.filter(x => truthy(x.name) && x.name !== 'Select'))\r\n  );\r\n}\r\n\r\nexport function lookupValueSelector(\r\n  store: Store<any>,\r\n  key: string,\r\n  f: (x: LookupValue) => boolean\r\n): Observable<LookupValue> {\r\n  const values$ = lookupValuesSelector(store, key);\r\n  return values$.pipe(map(values => values.find(f) || new LookupValue()));\r\n}\r\n","import {\r\n    Route,\r\n    NavigationCancel,\r\n    NavigationEnd,\r\n    NavigationError,\r\n    NavigationStart,\r\n    RoutesRecognized\r\n} from '@angular/router';\r\n\r\nimport { ActivatedRoutePayload } from './models';\r\nimport { Action } from '../store/models';\r\n\r\nexport class RouterActions {\r\n\r\n    static ACTIVATE = '[Router] Activate Route';\r\n    static NAVIGATE = '[Router] Navigate';\r\n    static NAVIGATE_SUCCESS = '[Router] Navigate Success';\r\n    static NAVIGATE_ERROR = '[Router] Navigate Error';\r\n    static NAVIGATION_CANCEL = '[Router] Cancel Navigation';\r\n    static NAVIGATION_END = '[Router] End Navigation';\r\n    static NAVIGATION_ERROR = '[Router] Error Navigation';\r\n    static NAVIGATION_START = '[Router] Start Navigation';\r\n    static ROUTES_RECOGNIZED = '[Router] Routes Recognized';\r\n\r\n    static activate(routeName: string, parent?: string): Action {\r\n        const payload: ActivatedRoutePayload = {\r\n            routeName,\r\n            parent\r\n        };\r\n        return {\r\n            type: RouterActions.ACTIVATE,\r\n            payload\r\n        };\r\n    }\r\n    static navigate(r: string | Route | any[]): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATE,\r\n            payload: r\r\n        };\r\n    }\r\n\r\n    static navigateSuccess(): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATE_SUCCESS\r\n        };\r\n    }\r\n\r\n    static navigateError(): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATE_ERROR\r\n        };\r\n    }\r\n\r\n    static navCancel(e: NavigationCancel): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_CANCEL,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static navEnd(e: NavigationEnd): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_END,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static navError(e: NavigationError): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_ERROR,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static navStart(e: NavigationStart): Action {\r\n        return {\r\n            type: RouterActions.NAVIGATION_START,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n    static routesRecognized(e: RoutesRecognized): Action {\r\n        return {\r\n            type: RouterActions.ROUTES_RECOGNIZED,\r\n            payload: e\r\n        };\r\n    }\r\n\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport {\r\n  Router,\r\n  ActivatedRoute,\r\n  Event,\r\n  NavigationCancel,\r\n  NavigationEnd,\r\n  NavigationError,\r\n  NavigationStart,\r\n  RoutesRecognized,\r\n  Params,\r\n  Data,\r\n  NavigationExtras\r\n} from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, from } from 'rxjs';\r\n\r\nimport { RouterActions } from './actions';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RouterService {\r\n\r\n  navigationCancel = new EventEmitter<NavigationCancel>();\r\n  navigationEnd = new EventEmitter<NavigationEnd>();\r\n  navigationError = new EventEmitter<NavigationError>();\r\n  navigationStart = new EventEmitter<NavigationStart>();\r\n  routesRecognized = new EventEmitter<RoutesRecognized>();\r\n\r\n  constructor(\r\n    private _router: Router,\r\n    private _route: ActivatedRoute,\r\n    private store: Store<any>) {\r\n    _router.events.subscribe((e: Event) => {\r\n      if (e instanceof NavigationCancel) {\r\n        this.onNavigationCancel(e);\r\n      } else if (e instanceof NavigationEnd) {\r\n        this.onNavigationEnd(e);\r\n      } else if (e instanceof NavigationError) {\r\n        this.onNavigationError(e);\r\n      } else if (e instanceof NavigationStart) {\r\n        this.onNavigationStart(e);\r\n      } else if (e instanceof RoutesRecognized) {\r\n        this.onRoutesRecognized(e);\r\n      }\r\n    });\r\n  }\r\n\r\n  onNavigationCancel(e: NavigationCancel): void {\r\n    this.store.dispatch(RouterActions.navCancel(e));\r\n  }\r\n\r\n  onNavigationEnd(e: NavigationEnd): void {\r\n    this.store.dispatch(RouterActions.navEnd(e));\r\n  }\r\n\r\n  onNavigationError(e: NavigationError): void {\r\n    this.store.dispatch(RouterActions.navError(e));\r\n  }\r\n\r\n  onNavigationStart(e: NavigationStart): void {\r\n    this.store.dispatch(RouterActions.navStart(e));\r\n  }\r\n\r\n  onRoutesRecognized(e: RoutesRecognized): void {\r\n    this.store.dispatch(RouterActions.routesRecognized(e));\r\n  }\r\n\r\n  get activatedRoute(): ActivatedRoute {\r\n    return this._route;\r\n  }\r\n\r\n  get routeData$(): Observable<Data> {\r\n    return this.activatedRoute.data;\r\n  }\r\n\r\n  get routeParams$(): Observable<Params> {\r\n    return this.activatedRoute.params;\r\n  }\r\n\r\n  get router(): Router {\r\n    return this._router;\r\n  }\r\n\r\n  get url$(): Observable<string> {\r\n    return this.store.select(s => s.router.url);\r\n  }\r\n\r\n  navigate(commands: any[], extras?: NavigationExtras): Observable<boolean> {\r\n    const promise = this.router.navigate(commands, extras);\r\n    return from(promise);\r\n  }\r\n\r\n  navigateByUrl(url: string, extras?: NavigationExtras): Observable<boolean> {\r\n    const promise = this.router.navigateByUrl(url, extras);\r\n    return from(promise);\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { CanDeactivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { Effect, Actions, ofType } from '@ngrx/effects';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, switchMap, catchError } from 'rxjs/operators';\r\n\r\nimport { RouterActions } from './actions';\r\nimport { CanComponentDeactivate } from './models';\r\nimport { RouterService } from './router.service';\r\nimport { Action } from '../store/models';\r\n\r\n@Injectable()\r\nexport class RouterEffects {\r\n  actionTypes: string[];\r\n\r\n  /**\r\n   * All imperative navigation should be performed using this effects\r\n   * so that the state is aware of the navigation.\r\n   */\r\n  @Effect() navigate: Observable<Action> = this.actions$.pipe(\r\n    ofType(RouterActions.NAVIGATE),\r\n    switchMap((action: Action) => this.navigate$(action.payload))\r\n  );\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private router: RouterService\r\n  ) { }\r\n\r\n  navigate$(r: string | any[]): Observable<Action> {\r\n    const nav$: Observable<boolean> = typeof (r) === 'string' ? this.router.navigateByUrl(r) : this.router.navigate(r);\r\n    return nav$.pipe(\r\n      map(() => RouterActions.navigateSuccess()),\r\n      catchError((e) => {\r\n        return of(RouterActions.navigateError());\r\n      })\r\n    );\r\n  }\r\n}\r\n\r\n@Injectable()\r\nexport class CanDeactivateGuard implements CanDeactivate<CanComponentDeactivate> {\r\n  destUrl = '';\r\n\r\n  get routingDestination(): string {\r\n    return this.destUrl;\r\n  }\r\n\r\n  set routingDestination(url: string) {\r\n    this.destUrl = url;\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n\r\n  canDeactivate(component: CanComponentDeactivate, route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\r\n    Observable<boolean> | boolean {\r\n    return component.canDeactivate ? component.canDeactivate() : true;\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { RouterModule as NGRouterModule } from '@angular/router';\r\n\r\nimport { RouterEffects } from './router.effects';\r\nimport { RouterService } from './router.service';\r\n\r\n@NgModule({\r\n  imports: [NGRouterModule],\r\n  exports: [NGRouterModule]\r\n})\r\nexport class RouterModule {\r\n  static forRoot(): ModuleWithProviders<RouterModule> {\r\n    return {\r\n      ngModule: RouterModule,\r\n      providers: [RouterService, RouterEffects]\r\n    };\r\n  }\r\n}\r\n","import { Type } from '@angular/core';\r\nimport {\r\n  Route,\r\n  ActivatedRouteSnapshot,\r\n  Event,\r\n  NavigationCancel,\r\n  NavigationEnd,\r\n  NavigationError,\r\n  NavigationStart,\r\n  RoutesRecognized,\r\n  RouterStateSnapshot,\r\n  UrlSegment,\r\n  Params,\r\n  Data\r\n} from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { build, assignProps } from '../shared/utils';\r\nimport { Dictionary } from '../shared/models';\r\n\r\nexport class ActivatedRoutePayload {\r\n  routeName = '';\r\n  parent?: string;\r\n}\r\n\r\nexport class Breadcrumbs {\r\n  constructor(public segments: RouteSegment[]) { }\r\n}\r\n\r\nexport interface CanComponentDeactivate {\r\n  canDeactivate: (dest?: string) => boolean | Observable<boolean>;\r\n}\r\n\r\nexport class CustomRoute implements Route {\r\n  public children: Route[] = [];\r\n  public lazyChildren: Route[] = [];\r\n  public component: Type<any>;\r\n  private _path = '';\r\n\r\n  constructor(props: Dictionary<any>) {\r\n    assignProps(this, props);\r\n  }\r\n\r\n  get path() {\r\n    return this._path;\r\n  }\r\n\r\n  set path(value: string) {\r\n    this._path = value;\r\n  }\r\n\r\n  get route(): Route {\r\n    return {\r\n      component: this.component,\r\n      children: [...this.children, ...this.lazyChildren]\r\n    };\r\n  }\r\n}\r\n\r\nexport class LazyRoute extends CustomRoute {\r\n  constructor(props: Dictionary<any>) {\r\n    super(props);\r\n    this.path = '';\r\n  }\r\n}\r\n\r\nexport interface RouterEvent {\r\n  eventType: any;\r\n  event: Event;\r\n  navigationCancel?: NavigationCancel;\r\n  navigationEnd?: NavigationEnd;\r\n  navigationError?: NavigationError;\r\n  navigationStart?: NavigationStart;\r\n  routesRecognized?: RoutesRecognized;\r\n}\r\n\r\nexport enum NavigationStatus {\r\n  Default,\r\n  NavigationStart,\r\n  NavigationCancel,\r\n  NavigationError,\r\n  RoutesRecognized,\r\n  NavigationEnd\r\n}\r\n\r\nexport class RouteSegment {\r\n  /** The static and resolved data of this route */\r\n  data: Data;\r\n  /** The URL fragment shared by all the routes */\r\n  fragment = '';\r\n  /** The order of the segment in the route */\r\n  order = 0;\r\n  /** The outlet name of the route */\r\n  outlet = '';\r\n  /** The path from the root of the router state tree to this route */\r\n  pathFromRoot: ActivatedRouteSnapshot[];\r\n  /** The matrix parameters scoped to this route */\r\n  params: Params;\r\n  /** The label to pass to the anchor tag */\r\n  routeLabel = '';\r\n  /** The unique identifier for the route segment */\r\n  routeName = '';\r\n  /** The URL segments matched by this route */\r\n  url: UrlSegment[];\r\n\r\n  /** The link to pass to the anchor tag */\r\n  get routerLink(): string {\r\n    return this.pathFromRoot\r\n      .map(r => r.url)\r\n      .reduce((acc, x) => {\r\n        const segment = RouterState.BuildUrlSegment(x);\r\n        return segment && segment !== '/' ? `${acc}${segment}` : acc;\r\n      }, '');\r\n  }\r\n}\r\n\r\nexport class RouterState {\r\n  id = 0;\r\n  error: any = undefined;\r\n  events: RouterEvent[] = [];\r\n  history: VisitedRoute[] = [];\r\n  navigationStatus: NavigationStatus = NavigationStatus.Default;\r\n  pendingState: RouterStateSnapshot = undefined;\r\n  pendingUrl = '';\r\n  pendingUrlAfterRedirects = '';\r\n  reason = '';\r\n  state: RouterStateSnapshot = undefined;\r\n  url = '';\r\n  urlAfterRedirects = '';\r\n\r\n  get activatedRoute(): ActivatedRouteSnapshot {\r\n    return RouterState.GetActivatedRoute(this.rootRoute);\r\n  }\r\n\r\n  get rootRoute(): ActivatedRouteSnapshot {\r\n    return this.state ? this.state.root : null;\r\n  }\r\n\r\n  static BuildRoute(props: Dictionary<any>): Route {\r\n    const r = new CustomRoute(props);\r\n    return <Route>r;\r\n  }\r\n\r\n  static BuildLazyRoute(props: Dictionary<any>): Route {\r\n    const r = new LazyRoute(props);\r\n    return <Route>r;\r\n  }\r\n\r\n  static BuildUrlSegment(url: UrlSegment[]): string {\r\n    return url.reduce(\r\n      (acc, segment) =>\r\n        segment.path && segment.path !== '/' ? `${acc}/${segment.path}` : acc,\r\n      ''\r\n    );\r\n  }\r\n\r\n  static GetActivatedOutlets(\r\n    root: ActivatedRouteSnapshot,\r\n    index = 0\r\n  ): Dictionary<RouteSegment> {\r\n    return root\r\n      ? root.children.reduce(\r\n        (\r\n          acc: Dictionary<RouteSegment>,\r\n          r: ActivatedRouteSnapshot,\r\n          currentIndex\r\n        ) => {\r\n          const i = index + currentIndex;\r\n          const routeName = RouterState.GetRouteName(r);\r\n          const existing = build(RouteSegment, acc[routeName]);\r\n          const outlet = RouterState.GetRouteSegment(r, existing, i);\r\n          return routeName\r\n            ? Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1), {\r\n              [routeName]: outlet\r\n            })\r\n            : Object.assign(acc, RouterState.GetActivatedOutlets(r, i + 1));\r\n        },\r\n        {}\r\n      )\r\n      : {};\r\n  }\r\n\r\n  static GetActivatedRoute(\r\n    root: ActivatedRouteSnapshot\r\n  ): ActivatedRouteSnapshot {\r\n    return root && Array.isArray(root.children)\r\n      ? root.children.reduce(\r\n        (acc: ActivatedRouteSnapshot, r: ActivatedRouteSnapshot) => {\r\n          return RouterState.GetActivatedRoute(r);\r\n        },\r\n        root\r\n      )\r\n      : null;\r\n  }\r\n\r\n  static GetAllParams(route: ActivatedRouteSnapshot): any {\r\n    return route\r\n      ? route.children.reduce((acc: any, r: ActivatedRouteSnapshot) => {\r\n        return Object.assign({}, acc, RouterState.GetAllParams(r));\r\n      }, Object.assign({}, route.params, route.queryParams))\r\n      : {};\r\n  }\r\n\r\n  static GetRouteData(route: ActivatedRouteSnapshot): any {\r\n    return route.data;\r\n  }\r\n\r\n  static GetRouteSegment(\r\n    route: ActivatedRouteSnapshot,\r\n    existing: RouteSegment = new RouteSegment(),\r\n    index = 0\r\n  ): RouteSegment {\r\n    const routeName = RouterState.GetRouteName(route);\r\n    return build(RouteSegment, existing, {\r\n      data: route.data,\r\n      fragment: route.fragment,\r\n      order: index,\r\n      outlet: route.outlet,\r\n      pathFromRoot: route.pathFromRoot,\r\n      params: route.params,\r\n      routeName,\r\n      routeLabel:\r\n        RouterState.GetRouteData(route)['routeLabel'] || existing.routeLabel\r\n    });\r\n  }\r\n\r\n  static GetRouteName(route: ActivatedRouteSnapshot): string {\r\n    return route ? RouterState.GetRouteData(route)['routeName'] : '';\r\n  }\r\n\r\n  get activatedOutlets(): Dictionary<RouteSegment> {\r\n    return RouterState.GetActivatedOutlets(this.rootRoute);\r\n  }\r\n\r\n  get lastEvent(): RouterEvent {\r\n    return this.events[-1];\r\n  }\r\n\r\n  get params(): any {\r\n    return RouterState.GetAllParams(this.rootRoute);\r\n  }\r\n\r\n  get routeName(): string {\r\n    return RouterState.GetRouteName(this.activatedRoute);\r\n  }\r\n\r\n  get visited(): string[] {\r\n    return this.history.map(x => x.link);\r\n  }\r\n\r\n  addRouterEvent(e: Event, eventType: any): RouterEvent[] {\r\n    const newEvent = <RouterEvent>{ eventType: eventType, event: e };\r\n    return [...this.events, newEvent];\r\n  }\r\n\r\n  navigationCancel(payload: NavigationCancel): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.NavigationCancel,\r\n      events: this.addRouterEvent(payload, NavigationStatus.NavigationCancel),\r\n      id: payload.id,\r\n      pendingState: null,\r\n      pendingUrl: '',\r\n      pendingUrlAfterRedirects: '',\r\n      reason: payload.reason\r\n    });\r\n  }\r\n\r\n  navigationEnd(payload: NavigationEnd): RouterState {\r\n    const history = [payload.toString(), ...this.history];\r\n    return build(\r\n      RouterState,\r\n      this,\r\n      {\r\n        state: this.pendingState\r\n      },\r\n      {\r\n        history,\r\n        navigationStatus: NavigationStatus.NavigationEnd,\r\n        events: this.addRouterEvent(payload, NavigationStatus.NavigationEnd),\r\n        id: payload.id,\r\n        pendingState: null,\r\n        pendingUrl: '',\r\n        pendingUrlAfterRedirects: '',\r\n        url: payload.url,\r\n        urlAfterRedirects: payload.urlAfterRedirects\r\n      }\r\n    );\r\n  }\r\n\r\n  navigationError(payload: NavigationError): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.NavigationError,\r\n      events: this.addRouterEvent(payload, NavigationStatus.NavigationError),\r\n      id: payload.id,\r\n      pendingState: null,\r\n      pendingUrl: '',\r\n      pendingUrlAfterRedirects: '',\r\n      error: payload.error\r\n    });\r\n  }\r\n\r\n  navigationStart(payload: NavigationStart): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.NavigationStart,\r\n      events: this.addRouterEvent(payload, NavigationStatus.NavigationStart),\r\n      id: payload.id,\r\n      pendingUrl: payload.url\r\n    });\r\n  }\r\n\r\n  routesRecognized(payload: RoutesRecognized): RouterState {\r\n    return build(RouterState, this, {\r\n      navigationStatus: NavigationStatus.RoutesRecognized,\r\n      events: this.addRouterEvent(payload, NavigationStatus.RoutesRecognized),\r\n      id: payload.id,\r\n      pendingState: payload.state,\r\n      pendingUrl: payload.url,\r\n      pendingUrlAfterRedirects: payload.urlAfterRedirects\r\n    });\r\n  }\r\n}\r\n\r\nexport class VisitedRoute {\r\n  label = '';\r\n  link = '';\r\n  name = '';\r\n  visitTime = new Date();\r\n}\r\n","import { RouterActions } from './actions';\r\nimport { RouterState } from './models';\r\nimport { Action } from '../store/models';\r\n\r\nexport function routerReducer(\r\n  state: RouterState = new RouterState(),\r\n  action: Action\r\n): RouterState {\r\n  switch (action.type) {\r\n    case RouterActions.ACTIVATE:\r\n      return state;\r\n\r\n    case RouterActions.NAVIGATION_CANCEL:\r\n      // console.log(RouterActions.NAVIGATION_CANCEL, action.payload);\r\n      return state.navigationCancel(action.payload);\r\n\r\n    case RouterActions.NAVIGATION_END:\r\n      // console.log(RouterActions.NAVIGATION_END, action.payload);\r\n      return state.navigationEnd(action.payload);\r\n\r\n    case RouterActions.NAVIGATION_ERROR:\r\n      // console.log(RouterActions.NAVIGATION_ERROR, action.payload);\r\n      return state.navigationError(action.payload);\r\n\r\n    case RouterActions.NAVIGATION_START:\r\n      // console.log(RouterActions.NAVIGATION_START, action.payload);\r\n      return state.navigationStart(action.payload);\r\n\r\n    case RouterActions.ROUTES_RECOGNIZED:\r\n      // console.log(RouterActions.ROUTES_RECOGNIZED, action.payload);\r\n      // console.log(getAllParams(action.payload.state.root));\r\n      return state.routesRecognized(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { Observable, of, combineLatest } from 'rxjs';\r\nimport { map, distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { RouterState, Breadcrumbs, VisitedRoute } from './models';\r\nimport { BaseQueryModel, QueryModel } from '../shared/models';\r\nimport { toArray, toInt, truthy } from '../shared/utils';\r\nimport { NavigationEnd, NavigationStart } from '@angular/router';\r\n\r\nexport function routeSelector(store: Store<any>): Observable<RouterState> {\r\n  return store.select('route');\r\n}\r\n\r\nexport function breadcrumbsSelector(\r\n  store: Store<any>\r\n): Observable<Breadcrumbs> {\r\n  return routeSelector(store).pipe(\r\n    map(r => {\r\n      const outlets = r.activatedOutlets;\r\n      return new Breadcrumbs(Object.keys(outlets).map(key => outlets[key]));\r\n    })\r\n  );\r\n}\r\n\r\nexport function routeNameSelector(store: Store<any>): Observable<string> {\r\n  return routeSelector(store).pipe(\r\n    map(r => r.routeName),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function routeParamsSelector(store: Store<any>): Observable<any> {\r\n  return routeSelector(store).pipe(\r\n    map(r => r.params),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function lazyRouteParamsSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<any> {\r\n  return routeParamsSelector(store).pipe(\r\n    map(params => params[key]),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function routeParamSelector(\r\n  store: Store<any>,\r\n  key: string,\r\n  defaultValue = null\r\n): Observable<any> {\r\n  return combineLatest(\r\n    of(defaultValue),\r\n    lazyRouteParamsSelector(store, key),\r\n    (x, y) => {\r\n      return y || x;\r\n    }\r\n  ).pipe(distinctUntilChanged());\r\n}\r\n\r\nexport function routeParamArraySelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<any[]> {\r\n  return routeParamSelector(store, key, []).pipe(map(x => toArray(x)));\r\n}\r\n\r\nexport function routeParamBoolSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<boolean> {\r\n  return routeParamSelector(store, key).pipe(map(x => x !== 'false' && (x === 'true' || truthy(x))));\r\n}\r\n\r\nexport function routeParamIdSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<number> {\r\n  return routeParamIntSelector(store, key);\r\n}\r\n\r\nexport function routeParamIntSelector(\r\n  store: Store<any>,\r\n  key: string\r\n): Observable<number> {\r\n  return routeParamSelector(store, key, 0).pipe(map(x => toInt(x)));\r\n}\r\n\r\nexport function urlSelector(store: Store<any>): Observable<string> {\r\n  return routeSelector(store).pipe(\r\n    map(r => r.url),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function urlPathSelector(store: Store<any>): Observable<string> {\r\n  return urlSelector(store).pipe(\r\n    map(url => url.indexOf('?') === -1 ? url : url.substring(0, url.indexOf('?'))),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function querySelector(store: Store<any>, take = 10, skip = 0, term = 0): Observable<any> {\r\n  const skip$ = routeParamIntSelector(store, 'skip');\r\n  const take$ = routeParamIntSelector(store, 'take').pipe(\r\n    map(x => x === 0 ? take : x)\r\n  );\r\n  const term$ = routeParamSelector(store, 'term');\r\n  return combineLatest([skip$, take$, term$]).pipe(\r\n    map(x => Object.assign(new BaseQueryModel(), {\r\n      skip: x[0],\r\n      take: x[1],\r\n      term: x[2]\r\n    }))\r\n  );\r\n}\r\n\r\nexport function navigationStatusSelector(\r\n  store: Store<any>\r\n): Observable<number> {\r\n  return routeSelector(store).pipe(\r\n    map(x => x.navigationStatus),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function navigationEndedSelector(\r\n  store: Store<any>\r\n): Observable<boolean> {\r\n  return navigationStatusSelector(store).pipe(\r\n    map(x => x === 5),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function previousUrlsSelector(store: Store<any>): Observable<string[]> {\r\n  return routeSelector(store).pipe(\r\n    map(x => {\r\n      return x.events.filter(y => y.eventType === 5).map(y => (<NavigationStart>y.event)['urlAfterRedirects']);\r\n    })\r\n  );\r\n}\r\n\r\nexport function previousUrlSelector(store: Store<any>): Observable<string> {\r\n  return previousUrlsSelector(store).pipe(\r\n    map(x => {\r\n      return x.length > 0 ? x[x.length - 1] : '/';\r\n    })\r\n  );\r\n}\r\n","export class Token {\r\n    access_token = '';\r\n    expiresIn = 0;\r\n    expiresInDate: Date;\r\n\r\n    get authenticated(): boolean {\r\n        return !this.expired;\r\n    }\r\n\r\n    get expires_in(): number {\r\n        return this.expiresIn;\r\n    }\r\n\r\n    set expires_in(value: number) {\r\n        this.expiresIn = value;\r\n        this.expiresInDate = new Date();\r\n    }\r\n\r\n    get expirationDate(): Date {\r\n        const t = new Date(this.expiresInDate);\r\n        t.setSeconds(t.getSeconds() + this.expiresIn);\r\n        return t;\r\n    }\r\n\r\n    get expired(): boolean {\r\n        const now = new Date();\r\n        return this.access_token && this.expiresIn && this.expiresInDate ? now > this.expirationDate : true;\r\n    }\r\n\r\n    toString(): string {\r\n        return this.expired ? '' : this.access_token;\r\n    }\r\n\r\n}\r\n","export class Window {\r\n    windowHeight = 0;\r\n    windowWidth = 0;\r\n\r\n    get windowWidthSmall(): boolean {\r\n        return this.windowWidth < 1200;\r\n    }\r\n\r\n    get windowWidthMedium(): boolean {\r\n        return !this.windowWidthSmall && this.windowWidth < 1300;\r\n    }\r\n\r\n    get windowWidthLarge(): boolean {\r\n        return this.windowWidth >= 1300;\r\n    }\r\n}\r\n\r\nexport class WindowResize {\r\n    windowHeight = 0;\r\n    windowWidth = 0;\r\n}\r\n","import { Actions } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, of, combineLatest } from 'rxjs';\r\nimport { map, distinctUntilChanged, filter, take } from 'rxjs/operators';\r\n\r\nimport { Action } from './models';\r\nimport { Config } from '../shared/config';\r\nimport { Token } from '../shared/token';\r\nimport { CurrentUser } from '../shared/user';\r\nimport { build, isMobile } from '../shared/utils';\r\nimport { Window } from '../shared/window';\r\n\r\nexport function allSelector(store: Store<any>): Observable<any> {\r\n  return store.pipe(map(x => x));\r\n}\r\n\r\nexport function emptySelector(store: Store<any>): Observable<any> {\r\n  return of({});\r\n}\r\n\r\nexport function currentUserSelector(\r\n  store: Store<any>\r\n): Observable<CurrentUser> {\r\n  return store.select('currentUser');\r\n}\r\n\r\nexport function authenticatedSelector(store: Store<any>): Observable<boolean> {\r\n  return currentUserSelector(store).pipe(\r\n    map(user => user.authenticated),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function loggedInSelector(store: Store<any>): Observable<boolean> {\r\n  return currentUserSelector(store).pipe(\r\n    map(user => user.authenticated),\r\n    take(1)\r\n  );\r\n}\r\n\r\nexport function configSelector(store: Store<any>): Observable<Config> {\r\n  return store.select('config');\r\n}\r\n\r\nexport function windowSelector(store: Store<any>): Observable<Window> {\r\n  return store.select('window').pipe(map(w => build(Window, w)));\r\n}\r\n\r\nexport function windowHeightSelector(store: Store<any>): Observable<number> {\r\n  return windowSelector(store).pipe(\r\n    map(window => window.windowHeight),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function windowWidthSelector(store: Store<any>): Observable<number> {\r\n  return windowSelector(store).pipe(\r\n    map(window => window.windowWidth),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function containerHeightSelector(store: Store<any>): Observable<number> {\r\n  return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\n\r\nexport function containerWidthSelector(store: Store<any>): Observable<number> {\r\n  return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\n\r\nexport function contentHeightSelector(store: Store<any>): Observable<number> {\r\n  return windowHeightSelector(store).pipe(map(h => (h === 0 ? 700 : h)));\r\n}\r\n\r\nexport function contentWidthSelector(store: Store<any>): Observable<number> {\r\n  return windowWidthSelector(store).pipe(map(w => (w === 0 ? 1200 : w)));\r\n}\r\n\r\nexport function sidenavOpenedSelector(store: Store<any>): Observable<boolean> {\r\n  return (<Observable<boolean>>store.select('sidenav')).pipe(\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function apiBaseUrlSelector(store: Store<any>): Observable<string> {\r\n  return configSelector(store).pipe(map(config => config.apiBaseUrl));\r\n}\r\n\r\nexport function authTokenSelector(store: Store<any>): Observable<string> {\r\n  return currentUserSelector(store).pipe(\r\n    map(user => {\r\n      const token: Token =\r\n        user && user.token ? build(Token, user.token) : new Token();\r\n      return token.toString();\r\n    })\r\n  );\r\n}\r\n\r\nexport function userLastActiveSelector(store: Store<any>): Observable<Date> {\r\n  return currentUserSelector(store).pipe(map(x => new Date(x.lastActive)));\r\n}\r\n\r\nexport function isMobileSelector(store: Store<any>): Observable<boolean> {\r\n  return combineLatest([\r\n    windowHeightSelector(store),\r\n    windowWidthSelector(store)]).pipe(\r\n      map(x => x[1] < x[0] || isMobile())\r\n    );\r\n}\r\n\r\nexport function actionTypeSelector(actions$: Actions, actionType: string): Observable<any> {\r\n  return actions$.pipe(\r\n    map((action: Action) => (action.type === actionType ? action.payload : null)),\r\n    filter(x => x !== null)\r\n  );\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { RouterService } from '../router.service';\r\nimport { loggedInSelector } from '../../store/selectors';\r\n\r\n@Injectable()\r\nexport class AuthenticatedGuard implements CanActivate {\r\n\r\n  authenticated = false;\r\n\r\n  constructor(public store: Store<any>, public routerService: RouterService) {\r\n    loggedInSelector(store).subscribe(x => {\r\n      this.authenticated = x;\r\n    });\r\n  }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\r\n    if (!this.authenticated) {\r\n      this.routerService.navigate([`/login`]);\r\n    }\r\n    return true;\r\n  }\r\n\r\n}\r\n","import { Metadata } from './models';\r\nimport { build } from './utils';\r\n\r\nexport class BaseEntity {\r\n  createdBy = null;\r\n  createdById = 0;\r\n  createdDate: Date = new Date();\r\n  formId = 0;\r\n  lastModifiedBy = null;\r\n  lastModifiedById = 0;\r\n  lastModifiedDate: Date = new Date();\r\n  matches: string[] = [];\r\n  ignore = [\r\n    '_metadata',\r\n    'metadata',\r\n    'ignore',\r\n    'createdBy',\r\n    'createdById',\r\n    'createdDate',\r\n    'formId',\r\n    'lastModifiedBy',\r\n    'lastModifiedById',\r\n    'lastModifiedByName',\r\n    'lastModifiedDate',\r\n    'lastModifiedOn',\r\n    'lastUpdated',\r\n    'matches',\r\n  ];\r\n  _metadata: Metadata = new Metadata();\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, this._metadata, {\r\n      ignore: this.ignore\r\n    });\r\n  }\r\n\r\n  set metadata(value: Metadata) {\r\n    this._metadata = value;\r\n  }\r\n\r\n  static getGetters(): string[] {\r\n    return Object.keys(this.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['get'] === 'function';\r\n    });\r\n  }\r\n\r\n  static getSetters(): string[] {\r\n    return Object.keys(this.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.prototype, name)['set'] === 'function';\r\n    });\r\n  }\r\n\r\n  getGetters(): string[] {\r\n    return Object.keys(this.constructor.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['get'] === 'function';\r\n    });\r\n  }\r\n\r\n  getSetters(): string[] {\r\n    return Object.keys(this.constructor.prototype).filter(name => {\r\n      return typeof Object.getOwnPropertyDescriptor(this.constructor.prototype, name)['set'] === 'function';\r\n    });\r\n  }\r\n\r\n  update(value: any): BaseEntity {\r\n    return Object.assign(new BaseEntity(), value);\r\n  }\r\n}\r\n","export class Config {\r\n    dev = false;\r\n    test = false;\r\n    staging = false;\r\n    production = false;\r\n    apiBaseUrl = '';\r\n}\r\n\r\nexport class ViewConfig extends Config {\r\n    viewMode: 'Default' | 'Classic' | 'Material' = 'Default';\r\n}\r\n","import { BaseEntity } from './base-entity';\r\n\r\n// export const ActionCreator = (actionType?: any | any[]) => {\r\n\r\n//     return (target: any, propertySignature: string) => {\r\n//         const method = target[propertySignature];\r\n//         const decoratedMethod = function () {\r\n//             const $this = this;\r\n//             const action = method.apply($this, arguments);\r\n//             action.actionType = actionType;\r\n//             return action;\r\n//         };\r\n\r\n//         target[propertySignature] = decoratedMethod;\r\n//         return target;\r\n//     };\r\n// };\r\n\r\nexport const ActionType = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\n/**\r\n * Class Decorator Factory\r\n * Decorates a class.\r\n */\r\nexport const Class = (metadata: any) => {\r\n  const classDecorator = (target: any) => {\r\n    return target;\r\n  };\r\n  return classDecorator;\r\n};\r\n\r\nexport const Command = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\nexport const Dispatcher = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\n/**\r\n * Decorates a class with properties from BaseEntity\r\n */\r\nexport const Entity = (metadata?: any) => {\r\n  function classDecorator<TFunction extends Function>(target: TFunction) {\r\n    const ctor: Function = function () {\r\n      Object.assign(this, new BaseEntity(), { metadata: metadata || {} });\r\n    };\r\n    ctor.prototype = Object.create(target.prototype);\r\n    ctor.prototype.constructor = target;\r\n    return <TFunction>ctor;\r\n  };\r\n  return classDecorator;\r\n};\r\n\r\nexport const EventHandler = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\nexport const LifecycleHook = () => {\r\n\r\n  return (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n};\r\n\r\n/**\r\n * Method Decorator Factory\r\n * Decorates a method.\r\n */\r\nexport const Method = (metadata: any) => {\r\n  const methodDecorator = (target: any, propertySignature: string, descriptor: TypedPropertyDescriptor<any>) => {\r\n    return target;\r\n  };\r\n  return methodDecorator;\r\n};\r\n\r\n/**\r\n * Parameter Decorator Factory\r\n * Decorates a parameter.\r\n */\r\nexport const Parameter = (metadata: any) => {\r\n  const parameterDecorator = (target: any, propertySignature: string, parameterIndex: number) => {\r\n    return target;\r\n  };\r\n  return parameterDecorator;\r\n};\r\n\r\n/**\r\n * Property Decorator Factory\r\n * Decorates a Property.\r\n */\r\nexport const Property = (metadata: any) => {\r\n  const propertyDecorator = (target: any, propertySignature: string) => {\r\n    if (!target.metadata) {\r\n      target.metadata = {};\r\n    }\r\n    target.metadata[propertySignature] = Object.assign(metadata, { propertyName: propertySignature });\r\n    return target;\r\n  };\r\n  return propertyDecorator;\r\n};\r\n\r\n/**\r\n * Static Method Decorator Factory\r\n * Decorates a static method.\r\n */\r\nexport const StaticMethod = (metadata: any) => {\r\n  const staticMethodDecorator = (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n  return staticMethodDecorator;\r\n};\r\n\r\n/**\r\n *  Static Property Decorator Factory\r\n * Decorates a static property.\r\n */\r\nexport const StaticProperty = (metadata: any) => {\r\n  const staticPropertyDecorator = (target: any, propertySignature: string) => {\r\n    return target;\r\n  };\r\n  return staticPropertyDecorator;\r\n};\r\n","import { Collection } from './collection';\r\nimport { DateHelper } from './date';\r\nimport { build } from './utils';\r\n\r\nexport class Question {\r\n    answer?: any;\r\n    lookup?: any;\r\n    key: string | number;\r\n    question = '';\r\n    title?= '';\r\n    type?: string | AnswerType;\r\n}\r\n\r\nexport type AnswerType = 'date' | 'monthyear' | 'yesno';\r\n\r\nexport class Questions extends Collection<Question> {\r\n\r\n    static AnswerQuestions(questions: Question[], answers: any): Question[] {\r\n        return questions.map(question => Questions.AnswerQuestion(question, answers[question.key]));\r\n    }\r\n\r\n    static AnswerQuestion(question: Question, answerData: any): Question {\r\n        let answer = answerData;\r\n        switch (question.type) {\r\n            case 'date':\r\n                answer = answerData;\r\n                break;\r\n            case 'monthyear':\r\n                answer = DateHelper.ToMonthYearName(answerData);\r\n                break;\r\n            case 'yesno':\r\n                answer = answerData ? 'Yes' : 'No';\r\n                break;\r\n        }\r\n        return build(Question, question, { answer });\r\n    }\r\n\r\n    answerQuestions(answers: any): Question[] {\r\n        return Questions.AnswerQuestions(this.toArray(), answers);\r\n    }\r\n}\r\n\r\nexport abstract class QuestionsModel {\r\n    ignore = ['isAdd', 'questions'];\r\n    abstract questions: Question[];\r\n\r\n    get answers(): Question[] {\r\n        return Questions.AnswerQuestions(this.questions, this);\r\n    }\r\n}\r\n","import { TypeConstructor } from './models';\r\nimport { compareNumbers } from './utils';\r\n\r\nexport class TreeItem<T> {\r\n\r\n    id = 0;\r\n    order = 0;\r\n    parentId = 0;\r\n    treeId = 0;\r\n    index = 0; // overall order within the flattened tree\r\n\r\n    static Build<T>(item: T): TreeItem<T> {\r\n        return <TreeItem<T>>{\r\n            item: item,\r\n            id: item['id'],\r\n            order: item['order'],\r\n            parentId: item['parentId']\r\n        };\r\n    }\r\n\r\n    constructor(public item: T, public parent?: T) {\r\n\r\n    }\r\n\r\n    get hasParent(): boolean {\r\n        return this.parentId ? true : false;\r\n    }\r\n\r\n    get sortOrder(): number {\r\n        return this.parentId ? this.treeId + (.1 * this.order) : this.treeId;\r\n    }\r\n\r\n    get treeOrder(): number {\r\n        return this.parentId ? this.order : 0;\r\n    }\r\n}\r\n\r\nexport class Tree<T> {\r\n    _activeId = 0;\r\n    _activeIndex = -1;\r\n\r\n    static FindParent<T>(items: TreeItem<T>[], item: TreeItem<T>): TreeItem<T> {\r\n        return items.find(x => x.id === item.parentId) || new TreeItem<T>(<T>{});\r\n    }\r\n\r\n    static FindParentOrder<T>(items: TreeItem<T>[], item: TreeItem<T>): number {\r\n        const parent = Tree.FindParent(items, item);\r\n        return parent.order;\r\n    }\r\n\r\n    static Build<T>(items: TreeItem<T>[], ctor: TypeConstructor<T>): Tree<T> {\r\n        const treeItems = items.reduce((acc, item) => {\r\n            item.treeId = item.parentId ? Tree.FindParentOrder(items, item) : item.order;\r\n            const treeItem = Object.assign(new TreeItem<T>(<T>{}), item);\r\n            return [...acc, treeItem];\r\n        }, []);\r\n        const orderedItems = items.sort((a, b) => compareNumbers(a.sortOrder, b.sortOrder))\r\n            .reduce((acc: TreeItem<T>[], treeItem: TreeItem<T>, index: number) => {\r\n                const item = treeItem.item;\r\n                const parent = treeItem.parent;\r\n                return [...acc, <TreeItem<T>>Object.assign(new TreeItem<T>(item, parent), treeItem, { index })];\r\n            }, []);\r\n        return new Tree<T>(orderedItems, ctor);\r\n    }\r\n\r\n    constructor(private _treeItems: TreeItem<T>[], public ctor: TypeConstructor<T>) {\r\n    }\r\n\r\n    get activeId(): number {\r\n        return this._activeId;\r\n    }\r\n\r\n    set activeId(id: number) {\r\n        this._activeId = id;\r\n        this._activeIndex = this.getIndexById(id);\r\n    }\r\n\r\n    get activeIndex(): number {\r\n        return this._activeIndex;\r\n    }\r\n\r\n    set activeIndex(index: number) {\r\n        this._activeIndex = index;\r\n        this._activeId = this.getIdByIndex(index);\r\n    }\r\n\r\n    get copy(): Tree<T> {\r\n        return Object.assign(new Tree<T>(this._treeItems, this.ctor), this);\r\n    }\r\n\r\n    get instance(): T {\r\n        return new this.ctor() || <T>{};\r\n    }\r\n\r\n    get next(): TreeItem<T> {\r\n        return this.getNext(this.activeIndex);\r\n    }\r\n\r\n    get nextId(): number {\r\n        return this.next.id;\r\n    }\r\n\r\n    get nextIndex(): number {\r\n        return this.activeIndex + 1;\r\n    }\r\n\r\n    get previous(): TreeItem<T> {\r\n        return this.getPrevious(this.activeIndex);\r\n    }\r\n\r\n    get previousId(): number {\r\n        return this.previous.id;\r\n    }\r\n\r\n    get previousIndex(): number {\r\n        return this.activeIndex - 1;\r\n    }\r\n\r\n    get items(): T[] {\r\n        return this._treeItems.map(x => x.item);\r\n    }\r\n\r\n    get treeItems(): TreeItem<T>[] {\r\n        return this._treeItems;\r\n    }\r\n\r\n    get orderedItems(): TreeItem<T>[] {\r\n        return this.treeItems.sort((a, b) => compareNumbers(a.index, b.index));\r\n    }\r\n\r\n    get subtrees(): Tree<T>[] {\r\n        const trees = this.treeItems.reduce((acc, item) => {\r\n            const treeId = item.treeId;\r\n            const subitems = acc[treeId] || [];\r\n            acc[treeId] = [...subitems, item];\r\n            return acc;\r\n        }, {});\r\n        return Object.keys(trees).map(key => Tree.Build(trees[key], this.ctor));\r\n    }\r\n\r\n    get subtreeItems(): TreeItem<T>[][] {\r\n        return this.subtrees.map(tree => tree.treeItems.sort((a, b) => compareNumbers(a.index, b.index)));\r\n    }\r\n\r\n    getIdByIndex(index: number): number {\r\n        const item = this.getItemByIndex(index);\r\n        return item.id;\r\n    }\r\n\r\n    getIndexById(id: number): number {\r\n        return this.getItemById(id).index;\r\n    }\r\n\r\n    getItemById(id: number): TreeItem<T> {\r\n        return this.treeItems.find(item => item.id === id) || new TreeItem<T>(this.instance);\r\n    }\r\n\r\n    getItemByIndex(index: number): TreeItem<T> {\r\n        return this.treeItems.find(item => item.index === index) || new TreeItem<T>(this.instance);\r\n    }\r\n\r\n    getNext(index: number): TreeItem<T> {\r\n        return this.getItemByIndex(index + 1);\r\n    }\r\n\r\n    getNextId(index: number): number {\r\n        return this.getNext(index).id;\r\n    }\r\n\r\n    getPrevious(index: number): TreeItem<T> {\r\n        return this.getItemByIndex(index - 1);\r\n    }\r\n\r\n    getPreviousId(index: number): number {\r\n        return this.getPrevious(index).id;\r\n    }\r\n}\r\n","import { Validators as NgValidators } from '@angular/forms';\r\n\r\nimport { Metadata } from './models';\r\nimport { Token } from './token';\r\nimport { build } from './utils';\r\nimport {\r\n  confirmPasswordValidator,\r\n  Validators,\r\n  passwordValidator\r\n} from '../forms/validators';\r\n\r\nexport class User {\r\n  id = 0;\r\n  email = '';\r\n  firstName = '';\r\n  lastName = '';\r\n}\r\n\r\nexport class CurrentUser extends User {\r\n  lastActive: Date;\r\n  token: Token = new Token();\r\n\r\n  static Build(data: CurrentUser): CurrentUser {\r\n    const token = data && data.token ? build(Token, data.token) : new Token();\r\n    return build(CurrentUser, data, { token });\r\n  }\r\n\r\n  get authenticated(): boolean {\r\n    return this.token && this.token.authenticated;\r\n  }\r\n\r\n  set fullName(value: string) {\r\n  }\r\n\r\n  get fullName(): string {\r\n    return `${this.firstName} ${this.lastName}`;\r\n  }\r\n\r\n  set userRoles(value: UserRoles) {\r\n  }\r\n\r\n  get userRoles(): UserRoles {\r\n    return new UserRoles(this);\r\n  }\r\n}\r\n\r\nexport class UserRoles {\r\n  constructor(public user: CurrentUser = new CurrentUser()) { }\r\n}\r\n\r\nexport class Login {\r\n  grant_type = 'password';\r\n  email = '';\r\n  password = '';\r\n}\r\n\r\nexport class NewUser {\r\n  email = '';\r\n  password = '';\r\n  confirmPassword = '';\r\n  firstName = '';\r\n  lastName = '';\r\n\r\n  get metadata(): Metadata {\r\n    return build(Metadata, {\r\n      ignore: [],\r\n      validators: [confirmPasswordValidator],\r\n      firstName: {\r\n        validators: [NgValidators.required]\r\n      },\r\n      lastName: {\r\n        validators: [NgValidators.required]\r\n      },\r\n      email: {\r\n        validators: [NgValidators.required, Validators.email]\r\n      },\r\n      password: {\r\n        validators: [NgValidators.required, passwordValidator]\r\n      },\r\n      confirmPassword: {\r\n        validators: [NgValidators.required]\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport class ResetPassword {\r\n  passwordResetCode = '';\r\n  password = '';\r\n  confirmPassword = '';\r\n}\r\n","import { Action } from '../store/models';\r\n\r\nexport class StorageActions {\r\n    static UPDATE_LOCAL_STORAGE = '[Storage] Update Local Storage';\r\n    static UPDATE_SESSION_STORAGE = '[Storage] Update Session Storage';\r\n    static INIT_STORE = '[Storage] Init Store';\r\n\r\n    static initStore(localStore: any, sessionStore: any): Action {\r\n        return {\r\n            type: StorageActions.INIT_STORE,\r\n            payload: { localStore, sessionStore }\r\n        };\r\n    }\r\n\r\n}\r\n","import { Action } from '../store/models';\r\n\r\nexport class ActionStore {\r\n    store: any;\r\n    constructor(public lastAction: Action) {\r\n    }\r\n}\r\n\r\nexport class Storage {\r\n    [key: string]: any;\r\n    localStore: any = {};\r\n    sessionStore: any = {};\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { StorageActions } from './storage.actions';\r\nimport { ActionStore } from './storage.models';\r\nimport { STORE_KEY } from './storage.module';\r\nimport { Action } from '../store/models';\r\nimport { build, inArray, filterState } from '../shared/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StorageService {\r\n\r\n  localStorageActions: string[] = [];\r\n  sessionStorageActions: string[] = [];\r\n  localStorageMapper: (state: any) => any = s => s;\r\n  sessionStorageMapper: (state: any) => any = s => s;\r\n\r\n  constructor(public store: Store<any>, @Inject(STORE_KEY) public storeKey: string) {\r\n  }\r\n\r\n  get localStore(): any {\r\n    return localStorage.getItem(this.storeKey);\r\n  }\r\n\r\n  get sessionStore(): any {\r\n    return sessionStorage.getItem(this.storeKey);\r\n  }\r\n\r\n  get storage(): Storage {\r\n    const localStore = this.localStore;\r\n    const sessionStore = this.sessionStore;\r\n    return build(Storage, Object.assign({}, localStore, sessionStore), {\r\n      localStore,\r\n      sessionStore\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initialize the use of local storage and/or session storage\r\n   * @param localStorageMapper Mapper function for mapping state to local store\r\n   * @param sessionStorageMapper Mapper function for mapping state to session store\r\n   * @param localStorageActions Actions after which to save to local storage\r\n   * @param sessionStorageActions Actions after which to save to session storage\r\n   */\r\n  init(localStorageMapper: (state: any) => any = s => s, sessionStorageMapper: (state: any) => any = s => s, localStorageActions = [], sessionStorageActions = []) {\r\n    const localStore = this.initLocalStore(localStorageMapper, localStorageActions);\r\n    const sessionStore = this.initSessionStore(sessionStorageMapper, sessionStorageActions);\r\n    this.store.dispatch(StorageActions.initStore(localStore, sessionStore));\r\n  }\r\n\r\n  /**\r\n   * Initialize the use of local storage\r\n   * @param localStorageMapper Mapper function for mapping state to local store\r\n   * @param localStorageActions Actions after which to save to local storage\r\n   */\r\n  initLocalStore(localStorageMapper: (state: any) => any = s => s, localStorageActions = []): any {\r\n    this.localStorageMapper = localStorageMapper;\r\n    this.localStorageActions = localStorageActions;\r\n    const ls = this.localStore;\r\n    const localStore = ls ? JSON.parse(ls) : {};\r\n    return localStore;\r\n  }\r\n\r\n  /**\r\n   * Initialize the use of session storage\r\n   * @param sessionStorageMapper Mapper function for mapping state to session store\r\n   * @param sessionStorageActions Actions after which to save to session storage\r\n   */\r\n  initSessionStore(sessionStorageMapper: (state: any) => any = s => s, sessionStorageActions = []) {\r\n    this.sessionStorageMapper = sessionStorageMapper;\r\n    this.sessionStorageActions = sessionStorageActions;\r\n    const ss = this.sessionStore;\r\n    const sessionStore = ss ? JSON.parse(ss) : {};\r\n    return sessionStorage;\r\n  }\r\n\r\n  inLocalStorage(actionType: string): boolean {\r\n    return inArray(this.localStorageActions, actionType);\r\n  }\r\n\r\n  inSessionStorage(actionType: string): boolean {\r\n    return inArray(this.sessionStorageActions, actionType);\r\n  }\r\n\r\n  /**\r\n   * Store state to local storage.\r\n   */\r\n  storeLocal(state: any, action: Action) {\r\n    try {\r\n      // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n      const filteredState = Object.assign(\r\n        filterState(new ActionStore(action)),\r\n        filterState(Object.assign({},\r\n          this.localStorageMapper(state))));\r\n      const serializedState = JSON.stringify(filteredState);\r\n      localStorage.removeItem(this.storeKey);\r\n      localStorage.setItem(this.storeKey, serializedState);\r\n    } catch (err) {\r\n      console.error(`ERROR SAVING LOCAL STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Store state to session storage.\r\n   */\r\n  storeSession(state: any, action: Action) {\r\n    try {\r\n      // const filteredState = new ActionStore(action, this.filterState(Object.assign({}, state)));\r\n      // const filteredState = this.filterState(Object.assign({}, state));\r\n      const filteredState = Object.assign(\r\n        filterState(new ActionStore(action)),\r\n        filterState(Object.assign({},\r\n          this.sessionStorageMapper(state))));\r\n      const serializedState = JSON.stringify(filteredState);\r\n      localStorage.removeItem(this.storeKey);\r\n      sessionStorage.setItem(this.storeKey, serializedState);\r\n    } catch (err) {\r\n      console.error(`ERROR SAVING SESSION STATE!\\nAction:\\t${action.actionType}\\n`, err);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Effect, ofType, Actions } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map, filter, withLatestFrom } from 'rxjs/operators';\r\n\r\nimport { StorageActions } from './storage.actions';\r\nimport { StorageService } from './storage.service';\r\nimport { Action } from '../store/models';\r\nimport { toPayload } from '../shared/utils';\r\n\r\n\r\n@Injectable()\r\nexport class StorageEffects {\r\n\r\n    actionTypes: string[];\r\n\r\n    /**\r\n     * Listens for dispatched actions, updates local storage in response.\r\n     */\r\n    @Effect() onSyncLocalStorage: Observable<Action> = this.actions$.pipe(\r\n        filter((action: Action) => this.service.inLocalStorage(action.type)),\r\n        map(action => ({\r\n            type: StorageActions.UPDATE_LOCAL_STORAGE,\r\n            payload: action\r\n        }))\r\n    );\r\n\r\n    /**\r\n     * Listens for dispatched actions, updates session storage in response.\r\n     */\r\n    @Effect() onSyncSessionStorage: Observable<Action> = this.actions$.pipe(\r\n        filter((action: Action) => this.service.inSessionStorage(action.type)),\r\n        map(action => ({\r\n            type: StorageActions.UPDATE_SESSION_STORAGE,\r\n            payload: action\r\n        }))\r\n    );\r\n\r\n    /**\r\n     * Stores state to local storage after each action.\r\n     */\r\n    @Effect({ dispatch: false }) onStoreLocal: Observable<void> = this.actions$.pipe(\r\n        ofType(StorageActions.UPDATE_LOCAL_STORAGE),\r\n        map(toPayload),\r\n        withLatestFrom(this.state$, (action: Action, state: any) => {\r\n            this.service.storeLocal(state, action);\r\n        })\r\n    );\r\n\r\n    /**\r\n     * Stores state to local storage after each action.\r\n     */\r\n    @Effect({ dispatch: false }) onStoreSession: Observable<void> = this.actions$.pipe(\r\n        ofType(StorageActions.UPDATE_SESSION_STORAGE),\r\n        map(toPayload),\r\n        withLatestFrom(this.state$, (action: Action, state: any) => {\r\n            this.service.storeSession(state, action);\r\n        })\r\n    );\r\n\r\n    constructor(\r\n        private actions$: Actions,\r\n        private service: StorageService,\r\n        private state$: Store<any>\r\n    ) { }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { StorageEffects } from './storage.effects';\r\nimport { StorageService } from './storage.service';\r\n\r\nexport const STORE_KEY = new InjectionToken<string>('Local/Session Storage Key');\r\n\r\nexport function storageServiceFactory(store: Store<any>, storeKey: string): StorageService {\r\n  return new StorageService(store, storeKey);\r\n}\r\n\r\nexport function provideStorage(storeKey: string): any[] {\r\n  return [\r\n    StorageEffects,\r\n    { provide: StorageService, useFactory: storageServiceFactory, deps: [Store, STORE_KEY] },\r\n    { provide: STORE_KEY, useValue: storeKey },\r\n  ];\r\n}\r\n\r\n@NgModule()\r\nexport class StorageModule {\r\n\r\n  /**\r\n   * Provides StorageModule with storage service and effects.\r\n   * @param storeKey - The name of the key containing the store in storage.\r\n   */\r\n  static forRoot(storeKey: string): ModuleWithProviders<StorageModule> {\r\n    return {\r\n      ngModule: StorageModule,\r\n      providers: provideStorage(storeKey)\r\n    };\r\n  }\r\n\r\n}\r\n","import { NgModule, InjectionToken, ModuleWithProviders } from '@angular/core';\r\nimport { StoreModule as NgrxStoreModule, ActionReducer, Action, ActionReducerMap } from '@ngrx/store';\r\n\r\n@NgModule({\r\n  imports: [\r\n    NgrxStoreModule,\r\n  ],\r\n  declarations: [],\r\n  exports: [\r\n    NgrxStoreModule,\r\n  ]\r\n})\r\nexport class StoreModule {\r\n\r\n  static forRoot<T, V extends Action = Action>(reducers: ActionReducerMap<T, V> | InjectionToken<ActionReducerMap<T, V>>, config?: any): ModuleWithProviders<StoreModule> {\r\n    return NgrxStoreModule.forRoot(reducers, config);\r\n  }\r\n\r\n  static forFeatures<T, V extends Action = Action>(featureName: string, reducers: ActionReducerMap<T, V> | InjectionToken<ActionReducerMap<T, V>>, config?: any): ModuleWithProviders<StoreModule> {\r\n    return NgrxStoreModule.forFeature(featureName, reducers, config);\r\n  }\r\n\r\n  static forFeature<T, V extends Action = Action>(featureName: string, reducer: ActionReducer<T, V> | InjectionToken<ActionReducer<T, V>>, config?: any): ModuleWithProviders<StoreModule> {\r\n    return NgrxStoreModule.forFeature(featureName, reducer, config);\r\n  }\r\n\r\n}\r\n","import {\r\n  WindowActions,\r\n  ConfigActions,\r\n  SidenavActions,\r\n  FormActions,\r\n  RedirectActions,\r\n  ViewSettingsActions\r\n} from './actions';\r\nimport { Action, Redirects, ViewSettings } from './models';\r\nimport { Config } from '../shared/config';\r\nimport { build } from '../shared/utils';\r\nimport { Window, WindowResize } from '../shared/window';\r\n\r\nexport function configReducer(\r\n  state: Config = new Config(),\r\n  action: Action\r\n): Config {\r\n  switch (action.type) {\r\n    case ConfigActions.INITIALIZE:\r\n      return build(Config, state, action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function formReducer(state: any = {}, action: Action): any {\r\n  switch (action.type) {\r\n    case FormActions.SAVE:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function redirectsReducer(\r\n  state: Redirects = new Redirects(),\r\n  action: Action\r\n): Redirects {\r\n  switch (action.type) {\r\n    case RedirectActions.ADD:\r\n      return state.add(action.payload);\r\n\r\n    case RedirectActions.UPDATE:\r\n      return state.update(action.payload);\r\n\r\n    case RedirectActions.REMOVE:\r\n      return state.remove(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function sidenavReducer(state = false, action: Action): boolean {\r\n  switch (action.type) {\r\n    case SidenavActions.CLOSE:\r\n      return false;\r\n\r\n    case SidenavActions.OPEN:\r\n      return true;\r\n\r\n    case SidenavActions.TOGGLE:\r\n      return !state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function viewSettingsReducer(\r\n  state: ViewSettings = new ViewSettings(),\r\n  action: Action\r\n): ViewSettings {\r\n  switch (action.type) {\r\n    case ViewSettingsActions.CHANGETHEME:\r\n      return build(ViewSettings, { theme: action.payload });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function windowReducer(\r\n  state: Window = new Window(),\r\n  action: Action\r\n): Window {\r\n  switch (action.type) {\r\n    case WindowActions.RESIZE:\r\n      return build(Window, state, <WindowResize>action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { Collection } from '../shared/collection';\r\nimport { build } from '../shared/utils';\r\n\r\nexport class Widget {\r\n  id = 0;\r\n  active = false;\r\n  name = '';\r\n  userId = 0;\r\n  height = 0;\r\n  heightPx = 0;\r\n  justifyX: 'LEFT' | 'RIGHT' | 'CENTER';\r\n  justifyY: 'TOP' | 'BOTTOM' | 'CENTER';\r\n  offsetX = 0;\r\n  label = '';\r\n  left = 0;\r\n  offsetY = 0;\r\n  showIcons = false;\r\n  top = 0;\r\n  width = 0;\r\n  widthPx = 0;\r\n  zIndex = 0;\r\n}\r\n\r\nexport class Widgets extends Collection<Widget> {\r\n\r\n  borderWidth = 10;\r\n\r\n  constructor() {\r\n    super(Widget);\r\n  }\r\n\r\n  delete(id: number): Widgets {\r\n    return build(Widgets, super.delete(id));\r\n  }\r\n\r\n  hideIcons(id: number): Widgets {\r\n    const existing = this.get(id);\r\n    return build(Widgets, super.update(build(Widget, existing, { showIcons: false })));\r\n  }\r\n\r\n  replace(data: Widget[]): Widgets {\r\n    return build(Widgets, super.replace(data.map(x => build(Widget, x, {\r\n      showIcons: build(Widget, this.get(x.id)).showIcons\r\n    }))));\r\n  }\r\n\r\n  showIcons(id: number): Widgets {\r\n    const existing = this.get(id);\r\n    return build(Widgets, super.update(build(Widget, existing, { showIcons: true })));\r\n  }\r\n\r\n  update(data: Widget | Widget[]): Widgets {\r\n    const items = Array.isArray(data) ? data.map(x => build(Widget, x, {\r\n      showIcons: build(Widget, this.get(x.id)).showIcons\r\n    })) : build(Widget, data, {\r\n      showIcons: build(Widget, this.get(data.id)).showIcons\r\n    });\r\n    return build(Widgets, super.update(items));\r\n  }\r\n\r\n  getDefaultItems(h: number, w: number): Widget[] {\r\n    return [];\r\n  }\r\n\r\n}\r\n","import { Store } from '@ngrx/store';\r\nimport { combineLatest, Observable } from 'rxjs';\r\nimport { distinctUntilChanged, map } from 'rxjs/operators';\r\n\r\nimport { LookupValue } from '../lookup/lookup.models';\r\nimport { lookupValuesSelector } from '../lookup/lookup.selectors';\r\nimport { arrayDistinct, build, compareNumbers, truthy } from '../shared/utils';\r\nimport { Action } from '../store/models';\r\nimport { windowHeightSelector, windowWidthSelector } from '../store/selectors';\r\nimport { Widget, Widgets } from './widgets.model';\r\n\r\nexport class WidgetsActions {\r\n  static DELETE = '[Widgets] DELETE';\r\n  static GET = '[Widgets] GET';\r\n  static POST = '[Widgets] POST';\r\n  static POST_ERROR = '[Widgets] POST ERROR';\r\n  static PUT = '[Widgets] PUT';\r\n  static RESET = '[Widgets] RESET';\r\n  static RESET_ERROR = '[Widgets] RESET ERROR';\r\n  static SHOW_ICONS = '[Widgets] SHOW ICONS';\r\n  static HIDE_ICONS = '[Widgets] HIDE ICONS';\r\n\r\n  static toggleIcons(id: number, visible: boolean): Action {\r\n    return {\r\n      type: visible ? WidgetsActions.SHOW_ICONS : WidgetsActions.HIDE_ICONS,\r\n      payload: id\r\n    };\r\n  }\r\n}\r\n\r\nexport function widgetsReducer(state: Widgets = new Widgets(), action: Action): Widgets {\r\n  switch (action.type) {\r\n\r\n    case WidgetsActions.POST:\r\n    case WidgetsActions.PUT:\r\n      return state.update(action.payload);\r\n\r\n    case WidgetsActions.GET:\r\n    case WidgetsActions.RESET:\r\n      return state.replace(action.payload);\r\n\r\n    case WidgetsActions.DELETE:\r\n      return state.delete(action.payload);\r\n\r\n    case WidgetsActions.SHOW_ICONS:\r\n      return state.showIcons(action.payload);\r\n\r\n    case WidgetsActions.HIDE_ICONS:\r\n      return state.hideIcons(action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function widgetsSelector(store: Store<any>): Observable<Widgets> {\r\n  return store.select('widgets');\r\n}\r\n\r\nexport function userWidgetsSelector(store: Store<any>): Observable<Widget[]> {\r\n  return combineLatest([widgetsSelector(store), lookupValuesSelector(store, 'lkpWidgets'), windowHeightSelector(store), windowWidthSelector(store)]).pipe(\r\n    map(z => {\r\n      const userWidgets = arrayDistinct(z[0].asArray.map(x => build(Widget, x, {\r\n        label: build(LookupValue, z[1].find(y => y.name === x.name)).label,\r\n        left: x.offsetX * z[3],\r\n        top: x.offsetY * z[2],\r\n        heightPx: x.height === 0 ? 400 : x.height * z[2],\r\n        widthPx: x.width === 0 ? 500 : x.width * z[3]\r\n      })), x => x.name);\r\n      return userWidgets.length > 0 ? userWidgets : z[0].getDefaultItems(z[2], z[3]);\r\n    })\r\n  );\r\n}\r\n\r\nexport function widgetsLookupSelector(store: Store<any>): Observable<Widget[]> {\r\n  return combineLatest([lookupValuesSelector(store, 'lkpWidgets'), userWidgetsSelector(store)]).pipe(\r\n    map(x => {\r\n      return x[0].map(y => {\r\n        const widget = x[1].find(w => w.name === y.name);\r\n        return build(Widget, widget, {\r\n          label: y.label,\r\n          name: y.name,\r\n          active: truthy(widget)\r\n        });\r\n      }\r\n      )\r\n        .sort((a, b) => compareNumbers(-a.id, -b.id));\r\n    })\r\n  );\r\n}\r\n\r\nexport function widgetsDefaultSelector(store: Store<any>): Observable<Widget[]> {\r\n  return combineLatest([widgetsSelector(store), windowHeightSelector(store), windowWidthSelector(store)]).pipe(\r\n    map(x => x[0].getDefaultItems(x[1], x[2]))\r\n  );\r\n}\r\n\r\nexport function widgetsBorderWidthSelector(store: Store<any>): Observable<number> {\r\n  return widgetsSelector(store).pipe(\r\n    map(x => x.borderWidth),\r\n    distinctUntilChanged()\r\n  );\r\n}\r\n\r\nexport function widgetsHeightSelector(store: Store<any>): Observable<number> {\r\n  return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(\r\n    map(x => x[0].reduce((acc, y) => {\r\n      const topPx = y.top + y.heightPx + 2 * x[1];\r\n      return Math.max(acc, topPx);\r\n    }, 0)));\r\n}\r\n\r\nexport function widgetsWidthSelector(store: Store<any>): Observable<number> {\r\n  return combineLatest([userWidgetsSelector(store), widgetsBorderWidthSelector(store)]).pipe(\r\n    map(x => {\r\n      return x[0].reduce((acc, y) => {\r\n        const topPx = y.top + y.heightPx + 2 * x[1];\r\n        return Math.max(acc, topPx);\r\n      }, 0);\r\n    })\r\n  );\r\n}\r\n\r\nexport function hasDefaultWidgetsSelector(store: Store<any>): Observable<boolean> {\r\n  return widgetsSelector(store).pipe(\r\n    map(x => x.asArray.length === 0)\r\n  );\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter, ElementRef, ViewChild, AfterViewInit, OnChanges } from '@angular/core';\r\nimport { CdkDragEnd } from '@angular/cdk/drag-drop';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { Store } from '@ngrx/store';\r\n\r\nimport { WidgetsActions } from '../widgets.reducer';\r\nimport { SmartComponent } from '../../shared/component';\r\n\r\n@Component({\r\n  selector: 'iu-widget',\r\n  templateUrl: './widget.component.html',\r\n  styleUrls: ['./widget.component.scss'],\r\n  animations: [\r\n    trigger('toggle', [state('show', style({ width: '237px' })), state('hide', style({ width: '0px' })), transition('show <=> hide', [animate('300ms ease-out')])])\r\n  ]\r\n})\r\nexport class WidgetComponent extends SmartComponent implements OnInit, OnChanges, AfterViewInit {\r\n\r\n  @Input() borderWidth = 10;\r\n  @Input() heading = '';\r\n  @Input() id = 0;\r\n  @Input() isFocused = false;\r\n  @Input() key = '';\r\n  @Input() widthPx = 600;\r\n  @Input() heightPx = 300;\r\n  _top = 0;\r\n  _left = 0;\r\n  @Input() scrollLeft = 0;\r\n  @Input() scrollTop = 0;\r\n  @Input() startX = 0;\r\n  @Input() startY = 0;\r\n  @Input() zIndex = 1;\r\n  @Input() nextZIndex = 1;\r\n  @Output() dropped = new EventEmitter();\r\n  @Output() justifyLeft = new EventEmitter();\r\n  @Output() justifyRight = new EventEmitter();\r\n  @Output() justifyCenter = new EventEmitter();\r\n  @Output() justifyTop = new EventEmitter();\r\n  @Output() justifyBottom = new EventEmitter();\r\n  @Output() justifyCenterVertical = new EventEmitter();\r\n  @Output() focused = new EventEmitter<number>();\r\n  @Output() remove = new EventEmitter();\r\n  @Output() resized = new EventEmitter();\r\n  @Output() toFullScreen = new EventEmitter();\r\n  @ViewChild('widgetWrapper') widgetWrapperEl: ElementRef;\r\n  cursorStyle = 'move';\r\n  dragging = false;\r\n  _hasIcons = false;\r\n  hovering = false;\r\n  mouseBottom = false;\r\n  mouseLeft = false;\r\n  mouseRight = false;\r\n  mouseTop = false;\r\n  pageX = 0;\r\n  pageY = 0;\r\n  _resizable = false;\r\n  resizing = false;\r\n  _scrollbarYVisible = false;\r\n  scrollbarWidth = 12;\r\n  showIcons = false;\r\n  wrapperWidth = 55;\r\n\r\n  constructor(public store: Store<any>) {\r\n    super(store);\r\n  }\r\n\r\n  @Input()\r\n  set left(value: number) {\r\n    this._left = value;\r\n  }\r\n\r\n  get left(): number {\r\n    return this._left;\r\n  }\r\n\r\n  @Input()\r\n  set top(value: number) {\r\n    this._top = value;\r\n  }\r\n\r\n  get top(): number {\r\n    return this._top;\r\n  }\r\n\r\n  get headingLeftPx(): number {\r\n    return this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 2 : this.borderWidth === 2 ? 1 : 0) + 10;\r\n  }\r\n\r\n  get headingTopPx(): number {\r\n    return 67 - Math.min(3, this.borderWidth) - this.borderWidth + 1;\r\n  }\r\n\r\n  get iconsRightPx(): number {\r\n    const px = this.iconsTop ? this.wrapperWidth - this.borderWidth + (this.borderWidth === 1 ? 1 : 0) + this.borderWidth : 55;\r\n    return this.scrollbarYVisible ? px + this.scrollbarWidth : px;\r\n  }\r\n\r\n  get iconsTop(): boolean {\r\n    return this.widthPx > 500 || this.heightPx < 300;\r\n  }\r\n\r\n  get iconsTopPx(): number {\r\n    return this.iconsTop ? 61 + Math.min(3, this.borderWidth) - this.borderWidth : this.wrapperWidth - 1;\r\n  }\r\n\r\n  get mini(): boolean {\r\n    return this.widthPx < 400 && this.heightPx < 250;\r\n  }\r\n\r\n  set resizable(value: boolean) {\r\n    this._resizable = value;\r\n  }\r\n\r\n  get resizable(): boolean {\r\n    return this._resizable;\r\n  }\r\n\r\n  set scrollbarYVisible(value: boolean) {\r\n    this._scrollbarYVisible = value;\r\n  }\r\n\r\n  get scrollbarYVisible(): boolean {\r\n    return this._scrollbarYVisible;\r\n  }\r\n\r\n  @Input()\r\n  set hasIcons(value: boolean) {\r\n    if (value !== this._hasIcons) {\r\n      setTimeout(() => {\r\n        this._hasIcons = value;\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  get hasIcons(): boolean {\r\n    return this._hasIcons;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => {\r\n      this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n    }, 0);\r\n  }\r\n\r\n  ngOnChanges() {\r\n    setTimeout(() => {\r\n      this.scrollbarYVisible = this.widgetWrapperEl ? this.widgetWrapperEl.nativeElement.scrollHeight > this.widgetWrapperEl.nativeElement.offsetHeight : false;\r\n    }, 0);\r\n  }\r\n\r\n  onDrag() {\r\n    this.zIndex = this.nextZIndex;\r\n    this.dragging = true;\r\n  }\r\n\r\n  onDrop(e: CdkDragEnd) {\r\n    this.dropped.emit(Object.assign({}, e.distance, { zIndex: this.zIndex }));\r\n    setTimeout(() => {\r\n      this.dragging = false;\r\n    });\r\n  }\r\n\r\n  onFocus() {\r\n    if (!this.dragging && !this.resizing && !this.isFocused) {\r\n      this.zIndex = this.nextZIndex;\r\n      this.focused.emit(this.id);\r\n    }\r\n    this.showIcons = true;\r\n    setTimeout(() => {\r\n      this.showIcons = false;\r\n    }, 5000);\r\n  }\r\n\r\n  onMousedown(e) {\r\n    if (this.resizable) {\r\n      this.resizing = true;\r\n    }\r\n  }\r\n\r\n  onMousemove(e) {\r\n    this.pageX = e.pageX;\r\n    this.pageY = e.pageY;\r\n    if (this.resizing) {\r\n      this.onResize();\r\n    } else {\r\n      this.refreshCursorStyle();\r\n    }\r\n  }\r\n\r\n  onMouseout(e) {\r\n    this.onMouseup(e);\r\n    this.hovering = false;\r\n  }\r\n\r\n  onMouseup(e) {\r\n    if (this.resizing) {\r\n      this.resized.emit({\r\n        top: this.top,\r\n        left: this.left,\r\n        heightPx: this.heightPx,\r\n        widthPx: this.widthPx,\r\n        zIndex: this.nextZIndex\r\n      });\r\n    }\r\n    setTimeout(() => {\r\n      this.resizing = false;\r\n    });\r\n  }\r\n\r\n  onRemove() {\r\n    this.remove.emit({\r\n      id: this.id,\r\n      key: this.key\r\n    });\r\n  }\r\n\r\n  onResize() {\r\n    const dY = this.top - ((this.pageY + this.scrollTop) - this.startY);\r\n    const dX = this.left - (this.pageX - this.startX);\r\n    if (this.mouseTop) {\r\n      this.top = this.top - dY;\r\n      this.heightPx = this.heightPx + dY;\r\n    }\r\n    if (this.mouseBottom) {\r\n      this.heightPx = (this.pageY + this.scrollTop) - this.startY - this.top;\r\n    }\r\n    if (this.mouseLeft) {\r\n      this.left = this.left - dX;\r\n      this.widthPx = this.widthPx + dX;\r\n    }\r\n    if (this.mouseRight) {\r\n      this.widthPx = this.pageX - this.startX - this.left;\r\n    }\r\n  }\r\n\r\n  refreshCursorStyle() {\r\n    this.mouseLeft = this.left + this.startX - this.pageX >= 0\r\n      && this.left + this.startX - this.pageX <= this.borderWidth;\r\n    this.mouseRight = this.pageX - (this.widthPx + this.left + this.startX) >= 0\r\n      && this.pageX - (this.widthPx + this.left + this.startX) <= this.borderWidth;\r\n    this.mouseTop = this.top + this.startY - (this.pageY + this.scrollTop) >= 0\r\n      && this.top + this.startY - (this.pageY + this.scrollTop) <= this.borderWidth;\r\n    this.mouseBottom = (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) >= 0\r\n      && (this.pageY + this.scrollTop) - (this.heightPx + this.top + this.startY) <= this.borderWidth;\r\n    if (this.mouseTop && this.mouseLeft) { // top-left\r\n      this.cursorStyle = 'nw-resize';\r\n    } else if (this.mouseBottom && this.mouseRight) { // bottom-right\r\n      this.cursorStyle = 'se-resize';\r\n    } else if (this.mouseBottom && this.mouseLeft) { // bottom-left\r\n      this.cursorStyle = 'sw-resize';\r\n    } else if (this.mouseTop && this.mouseRight) { // top-right\r\n      this.cursorStyle = 'ne-resize';\r\n    } else if (this.mouseTop) { // top\r\n      this.cursorStyle = 'n-resize';\r\n    } else if (this.mouseBottom) { // bottom\r\n      this.cursorStyle = 's-resize';\r\n    } else if (this.mouseLeft) { // left\r\n      this.cursorStyle = 'w-resize';\r\n    } else if (this.mouseRight) { // right\r\n      this.cursorStyle = 'e-resize';\r\n    } else if (this.showIcons) {\r\n      this.cursorStyle = 'move';\r\n    } else {\r\n      this.cursorStyle = 'default';\r\n    }\r\n    this.resizable = this.cursorStyle !== 'move' && this.cursorStyle !== 'default';\r\n  }\r\n\r\n  onHideIcons() {\r\n    if (this.hasIcons === true) {\r\n      this.hasIcons = false;\r\n      this.dispatch(WidgetsActions.toggleIcons(this.id, false));\r\n    }\r\n  }\r\n\r\n  onShowIcons() {\r\n    if (this.hasIcons === false) {\r\n      this.hasIcons = true;\r\n      this.dispatch(WidgetsActions.toggleIcons(this.id, true));\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"wrapper\" [style.height.px]=\"heightPx + wrapperWidth + wrapperWidth\"\r\n  [style.width.px]=\"widthPx + wrapperWidth + wrapperWidth\" [style.top.px]=\"top - wrapperWidth\"\r\n  [style.left.px]=\"left - wrapperWidth\" [style.z-index]=\"zIndex\" (mouseenter)=\"hovering = true\"\r\n  (mousedown)=\"onMousedown($event)\" (mouseleave)=\"onMouseout($event)\" (mousemove)=\"onMousemove($event)\"\r\n  (mouseup)=\"onMouseup($event)\" (cdkDragEnded)=\"onDrop($event)\" (cdkDragStarted)=\"onDrag()\"\r\n  [cdkDragDisabled]=\"resizable\" cdkDrag>\r\n  <!-- <svg width=\"24px\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n    <path d=\"M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z\">\r\n    </path>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n  </svg> -->\r\n  <div class=\"widget scrollable\" [class.active]=\"isFocused\" [style.border-width.px]=\"borderWidth\"\r\n    [style.height.px]=\"heightPx\" [style.width.px]=\"widthPx\" [style.cursor]=\"cursorStyle\" (click)=\"onFocus()\"\r\n    #widgetWrapper>\r\n    <ng-content></ng-content>\r\n  </div>\r\n  <button class=\"icons-trigger\" *ngIf=\"!hasIcons && !mini && isFocused\" mat-button (click)=\"onShowIcons()\"\r\n    [class.open]=\"hasIcons\" [style.top.px]=\"iconsTopPx\" [style.right.px]=\"iconsRightPx\" [style.z-index]=\"zIndex + 1\">\r\n    <mat-icon>more_vert</mat-icon>\r\n  </button>\r\n  <h2 class=\"font-effect-emboss\" *ngIf=\"heading && borderWidth > 0\" [style.top.px]=\"headingTopPx\"\r\n    [style.left.px]=\"headingLeftPx\" [style.z-index]=\"zIndex + 1\">\r\n    {{ heading }}\r\n  </h2>\r\n  <div class=\"icons\" [class.top]=\"iconsTop\" [style.top.px]=\"iconsTopPx\" [style.right.px]=\"iconsRightPx\"\r\n    [style.z-index]=\"zIndex + 1\" [@toggle]=\"hasIcons ? 'show' : 'hide'\">\r\n    <mat-icon class=\"btn-collapse\" *ngIf=\"!mini\" (click)=\"onHideIcons()\">double_arrow</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyLeft.emit()\">format_align_left</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyCenter.emit()\">format_align_center</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyRight.emit()\">format_align_right</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyTop.emit()\">vertical_align_top</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyCenterVertical.emit()\">vertical_align_center</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" (click)=\"justifyBottom.emit()\">vertical_align_bottom</mat-icon>\r\n    <mat-icon *ngIf=\"!mini\" class=\"expand\" (click)=\"toFullScreen.emit()\">fullscreen</mat-icon>\r\n    <mat-icon class=\"btn-remove\" (click)=\"onRemove()\">cancel</mat-icon>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, Output, EventEmitter, ElementRef, ViewChildren, QueryList, AfterViewInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { Widget } from '../widgets.model';\r\nimport { WidgetsActions, widgetsLookupSelector, userWidgetsSelector, widgetsDefaultSelector, widgetsHeightSelector, hasDefaultWidgetsSelector } from '../widgets.reducer';\r\nimport { ConfirmDeleteComponent } from '../../components/dialog/confirm-delete/confirm-delete.component';\r\nimport { HttpActions } from '../../http/http.actions';\r\nimport { routeNameSelector } from '../../router/selectors';\r\nimport { SmartComponent } from '../../shared/component';\r\nimport { build } from '../../shared/utils';\r\nimport { windowHeightSelector, windowWidthSelector } from '../../store/selectors';\r\n\r\n@Component({\r\n  selector: 'iu-widgets-menu',\r\n  templateUrl: './widgets-menu.component.html',\r\n  styleUrls: ['./widgets-menu.component.scss']\r\n})\r\nexport class WidgetsMenuComponent extends SmartComponent implements OnInit, AfterViewInit {\r\n\r\n  @Input() increment = 3;\r\n  @Input() width = 300;\r\n  @Input() wrapperHeight = 0;\r\n  @Output() add = new EventEmitter<string>();\r\n  @Output() remove = new EventEmitter<number>();\r\n  @ViewChildren('btnWidget') widgetsList: QueryList<ElementRef>;\r\n  defaultWidgets: Widget[] = [];\r\n  defaultWidgets$: Observable<Widget[]>;\r\n  hasDefaultWidgets = true;\r\n  hasDefaultWidgets$: Observable<boolean>;\r\n  _index = 0;\r\n  lkpWidgets: Widget[] = [];\r\n  lkpWidgets$: Observable<Widget[]>;\r\n  restoringDefaults = false;\r\n  routeName$: Observable<string>;\r\n  _userId = 0;\r\n  visibleItems: Widget[] = [];\r\n  _widgets: Widget[] = [];\r\n  widgets$: Observable<Widget[]>;\r\n  widgetsHeight = 0;\r\n  widgetsHeight$: Observable<number>;\r\n  windowHeight = 0;\r\n  windowHeight$: Observable<number>;\r\n  windowWidth = 0;\r\n  windowWidth$: Observable<number>;\r\n  _elWidth = 0;\r\n  _visible = false;\r\n\r\n  constructor(public store: Store<any>, public el: ElementRef, public dialog: MatDialog) {\r\n    super(store);\r\n    this.defaultWidgets$ = widgetsDefaultSelector(store);\r\n    this.hasDefaultWidgets$ = hasDefaultWidgetsSelector(store);\r\n    this.lkpWidgets$ = widgetsLookupSelector(store);\r\n    this.routeName$ = routeNameSelector(store);\r\n    this.widgets$ = userWidgetsSelector(store);\r\n    this.widgetsHeight$ = widgetsHeightSelector(store);\r\n    this.windowHeight$ = windowHeightSelector(store);\r\n    this.windowWidth$ = windowWidthSelector(store);\r\n  }\r\n\r\n  @Input()\r\n  set visible(value: boolean) {\r\n    this._visible = value;\r\n  }\r\n\r\n  get visible(): boolean {\r\n    return this._visible;\r\n  }\r\n\r\n  @Input()\r\n  set userId(value: number) {\r\n    this._userId = value;\r\n  }\r\n\r\n  get userId(): number {\r\n    return this._userId;\r\n  }\r\n\r\n  get hostWidth(): number {\r\n    return this.el ? this.el.nativeElement.offsetWidth : 0;\r\n  }\r\n\r\n  set index(value: number) {\r\n    this._index = value;\r\n    this.toggle();\r\n  }\r\n\r\n  get index(): number {\r\n    return this._index;\r\n  }\r\n\r\n  get menuWidth(): number {\r\n    return this.hostWidth - 300;\r\n  }\r\n\r\n  get nextZIndex(): number {\r\n    return Math.max(...this.widgets.map(x => x.zIndex), 0) + 1;\r\n  }\r\n\r\n  get showBack(): boolean {\r\n    return this.index !== 0;\r\n  }\r\n\r\n  get showNext(): boolean {\r\n    return this.lkpWidgets.length > this.index + this.totalVisible;\r\n  }\r\n\r\n  get totalAfter(): number {\r\n    return this.lkpWidgets.length - (this.index + this.totalVisible);\r\n  }\r\n\r\n  get totalVisible(): number {\r\n    return Math.floor(this.menuWidth / 140);\r\n  }\r\n\r\n  set widgets(value: Widget[]) {\r\n    this._widgets = value;\r\n    // this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n    this.toggle();\r\n  }\r\n\r\n  get widgets(): Widget[] {\r\n    return this._widgets;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sync(['defaultWidgets', 'lkpWidgets', 'widgets', 'widgetsHeight', 'windowHeight', 'windowWidth', 'userId', 'hasDefaultWidgets']);\r\n  }\r\n\r\n  back() {\r\n    this.index -= this.totalVisible;\r\n  }\r\n\r\n  onAdd(e: string) {\r\n    const top = this.widgetsHeight + 20;\r\n    let w;\r\n    switch (e) {\r\n      case 'meetings':\r\n        w = build(Widget, {\r\n          name: 'meetings',\r\n          userId: this.userId,\r\n          label: 'Meetings',\r\n          left: 20,\r\n          top,\r\n          offsetY: top / this.windowHeight,\r\n          offsetX: 20 / this.windowWidth,\r\n          height: 500 / this.windowHeight,\r\n          width: .9,\r\n          heightPx: 500,\r\n          widthPx: .9 * this.windowWidth\r\n        });\r\n        break;\r\n      default:\r\n        w = build(Widget, {\r\n          name: e,\r\n          userId: this.userId,\r\n          offsetX: .25,\r\n          offsetY: top / this.windowHeight,\r\n          width: .5,\r\n          height: .5,\r\n          zIndex: this.nextZIndex,\r\n          top\r\n        });\r\n    }\r\n    if (this.hasDefaultWidgets) {\r\n      this.saveUserWidgets([...this.widgets, w]);\r\n    } else {\r\n      this.addWidget(w);\r\n    }\r\n  }\r\n\r\n  onFocus(e: number) {\r\n    this.updateWidget(build(Widget, this.widgets.find(x => x.id === e), { zIndex: this.nextZIndex }));\r\n  }\r\n\r\n  next() {\r\n    // this.index = this.totalAfter < this.increment ? this.index + this.totalAfter : this.index + this.increment;\r\n    this.index += this.totalVisible;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.toggle();\r\n  }\r\n\r\n  toggle() {\r\n    this.visibleItems = this.lkpWidgets.filter((x, i) => i >= this.index && i < this.index + this.totalVisible);\r\n  }\r\n\r\n  refresh() {\r\n\r\n  }\r\n\r\n  addWidget(e: Widget) {\r\n    this.dispatch(HttpActions.post(`widgets`, e, WidgetsActions.POST, WidgetsActions.POST_ERROR));\r\n    this.index = 0;\r\n  }\r\n\r\n  // not sure why deleteWidget is used when adding a widget. Adding isActive so the dialog only opens when deleting a widget.\r\n  deleteWidget(e: number, isActive: boolean) {\r\n    if (isActive) {\r\n      const ref = this.dialog.open(ConfirmDeleteComponent, {\r\n        width: '500px',\r\n        data: {\r\n          question: 'Would you like to remove this widget?'\r\n        }\r\n      })\r\n\r\n      ref.afterClosed().subscribe(result => {\r\n        if (result) {\r\n          this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n          this.index = 0;\r\n        }\r\n      })\r\n    } else {\r\n      this.dispatch(HttpActions.delete(`widgets/${e}`, e, WidgetsActions.DELETE));\r\n      this.index = 0;\r\n    }\r\n  }\r\n\r\n  updateWidget(e: Widget) {\r\n    this.dispatch(HttpActions.put(`widgets/${e.id}`, e, WidgetsActions.PUT));\r\n  }\r\n\r\n  restoreDefault() {\r\n    this.restoringDefaults = true;\r\n    this.httpPost(`widgets/user`, this.defaultWidgets, WidgetsActions.RESET, WidgetsActions.RESET_ERROR).subscribe(\r\n      x => {\r\n        this.restoringDefaults = false;\r\n      }\r\n    );\r\n    this.index = 0;\r\n  }\r\n\r\n  saveUserWidgets(e: Widget[]) {\r\n    this.dispatch(HttpActions.post(`widgets/user`, e, WidgetsActions.POST));\r\n    this.index = 0;\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"(routeName$ | async) === 'dashboard'\" class=\"widgets-menu\">\r\n  <button *ngIf=\"!restoringDefaults\" mat-raised-button class=\"btn-reset\" (click)=\"restoreDefault()\">\r\n    <mat-icon>settings_backup_restore</mat-icon>\r\n    Reset\r\n  </button>\r\n  <mat-spinner *ngIf=\"restoringDefaults\" color=\"accent\" [diameter]=\"30\"></mat-spinner>\r\n  <span class=\"hint font-effect-emboss\">Add Widgets to Dashboard:</span>\r\n  <button mat-fab class=\"arrow\" (click)=\"back()\" *ngIf=\"showBack\">\r\n    <mat-icon>navigate_before</mat-icon>\r\n  </button>\r\n  <!-- <mat-icon *ngIf=\"showBack\" class=\"more\">more_horiz</mat-icon> -->\r\n  <div class=\"widgets-list\" [style.width.px]=\"hostWidth\">\r\n    <button class=\"btn-widget font-effect-outline\" mat-button *ngFor=\"let w of visibleItems\" [disabled]=\"w.id !== 0\"\r\n      color=\"accent\" (click)=\"onAdd(w.name)\" #btnWidget>\r\n      <mat-icon *ngIf=\"!w.active\" class=\"btn-add\" (click)=\"deleteWidget(w.id, w.active)\">add_circle</mat-icon>\r\n      <mat-icon *ngIf=\"w.active\" class=\"btn-remove\" (click)=\"deleteWidget(w.id, w.active)\">cancel</mat-icon>\r\n      {{ w.label }}\r\n    </button>\r\n  </div>\r\n  <!-- <mat-icon class=\"more\" *ngIf=\"showNext\">more_horiz</mat-icon> -->\r\n  <button mat-fab class=\"arrow\" (click)=\"next()\" *ngIf=\"showNext\">\r\n    <mat-icon>navigate_next</mat-icon>\r\n  </button>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n\r\nimport { WidgetComponent } from './widget/widget.component';\r\nimport { WidgetsMenuComponent } from './widgets-menu/widgets-menu.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WidgetComponent,\r\n    WidgetsMenuComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    DragDropModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  exports: [\r\n    WidgetComponent,\r\n    WidgetsMenuComponent,\r\n    DragDropModule\r\n  ]\r\n})\r\nexport class WidgetsModule { }\r\n","// /*\r\n//  * Public API Surface of library\r\n//  */\r\n\r\nexport * from './lib/library.service';\r\nexport * from './lib/library.component';\r\nexport * from './lib/library.module';\r\n\r\n/**\r\n * Animations\r\n */\r\nexport * from './lib/animations/animations.module';\r\n\r\n/**\r\n * Components\r\n */\r\nexport * from './lib/components/accordion/accordion.module';\r\nexport * from './lib/components/accordion/accordion.component';\r\nexport * from './lib/components/address/address.module';\r\nexport * from './lib/components/address/address.pipe';\r\nexport * from './lib/components/address/address.component';\r\nexport * from './lib/components/address/address-form/address-form.component';\r\nexport * from './lib/components/address/inline-address/inline-address.component';\r\nexport * from './lib/components/address/state-picker/state-picker.component';\r\nexport * from './lib/components/audit/audit.module';\r\nexport * from './lib/components/audit/audit.model';\r\nexport * from './lib/components/audit/audit-fields/audit-fields.component';\r\nexport * from './lib/components/audit/audit-history/audit-history.component';\r\nexport * from './lib/components/audit/audit-history-link/audit-history-link.component';\r\nexport * from './lib/components/breadcrumbs/breadcrumbs.module';\r\nexport * from './lib/components/breadcrumbs/breadcrumbs.component';\r\nexport * from './lib/components/calendar/calendar.module';\r\nexport * from './lib/components/calendar/calendar.component';\r\nexport * from './lib/components/calendar/calendar-day/calendar-day.component';\r\nexport * from './lib/components/calendar/calendar-days/calendar-days.component';\r\nexport * from './lib/components/calendar/calendar-event/calendar-event.component';\r\nexport * from './lib/components/calendar/calendar.model';\r\nexport * from './lib/components/collage/collage.module';\r\nexport * from './lib/components/collage/collage.component';\r\nexport * from './lib/components/collage/collage.model';\r\nexport * from './lib/components/container/container.module';\r\nexport * from './lib/components/container/container.component';\r\nexport * from './lib/components/datepicker/datepicker.module';\r\nexport * from './lib/components/datepicker/datepicker.component';\r\nexport * from './lib/components/datepicker/daterange/daterange.component';\r\nexport * from './lib/components/dialog/dialog.module';\r\nexport * from './lib/components/dialog/dialog.component';\r\nexport * from './lib/components/dialog/dialog.model';\r\nexport * from './lib/components/dialog/auto-logout/auto-logout.component';\r\nexport * from './lib/components/dialog/confirm-delete/confirm-delete.component';\r\nexport * from './lib/components/dialog/unsaved-changes/unsaved-changes.component';\r\nexport * from './lib/components/editor/editor.module';\r\nexport * from './lib/components/editor/editor.model';\r\nexport * from './lib/components/editor/editor.component';\r\nexport * from './lib/components/editor/editor-window/editor-window.component';\r\nexport * from './lib/components/file-upload/file-upload.module';\r\nexport * from './lib/components/file-upload/file-upload.component';\r\nexport * from './lib/components/file-upload/file-upload.model';\r\nexport * from './lib/components/file-upload/file-preview/file-preview.component';\r\nexport * from './lib/components/file-upload/file-control/file-control.component';\r\nexport * from './lib/components/file-upload/upload/upload.component';\r\nexport * from './lib/components/file-upload/uploader/uploader.component';\r\nexport * from './lib/components/file-upload/uploads/uploads.component';\r\nexport * from './lib/components/header/header.module';\r\nexport * from './lib/components/header/header.component';\r\nexport * from './lib/components/phone-number/phone-number.module';\r\nexport * from './lib/components/phone-number/phone-number.component';\r\nexport * from './lib/components/phone-number/phone-number.model';\r\nexport * from './lib/components/navbar/navbar.module';\r\nexport * from './lib/components/navbar/navbar.component';\r\nexport * from './lib/components/not-found/not-found.module';\r\nexport * from './lib/components/not-found/not-found.component';\r\nexport * from './lib/components/sidenav/sidenav.module';\r\nexport * from './lib/components/sidenav/sidenav.component';\r\nexport * from './lib/components/social-icons/social-icons.module';\r\nexport * from './lib/components/social-icons/social-icons.component';\r\nexport * from './lib/components/tile/tile.module';\r\nexport * from './lib/components/tile/tile.component';\r\nexport * from './lib/components/tile/tile.model';\r\nexport * from './lib/components/time/time.module';\r\nexport * from './lib/components/time/datetime-control/datetime-control.component';\r\nexport * from './lib/components/time/time-control/time-control.component';\r\nexport * from './lib/components/time/time.model';\r\nexport * from './lib/components/timer/timer.module';\r\nexport * from './lib/components/timer/timer.component';\r\nexport * from './lib/components/timer/timer.model';\r\nexport * from './lib/components/timer/timer.pipe';\r\nexport * from './lib/components/wallpaper/wallpaper.module';\r\nexport * from './lib/components/wallpaper/wallpaper.component';\r\n\r\n// /**\r\n//  * Effects\r\n//  */\r\nexport * from './lib/effects/effects.module';\r\n\r\n// /**\r\n//  * Errors\r\n//  */\r\nexport * from './lib/errors/errors.module';\r\nexport * from './lib/errors/errors.actions';\r\nexport * from './lib/errors/errors.effects';\r\nexport * from './lib/errors/errors.models';\r\nexport * from './lib/errors/errors.reducer';\r\nexport * from './lib/errors/errors.selectors';\r\nexport * from './lib/errors/errors.service';\r\nexport * from './lib/errors/global-errors.service';\r\n\r\n// /**\r\n//  * Events\r\n//  */\r\nexport * from './lib/events/events.module';\r\nexport * from './lib/events/events.actions';\r\nexport * from './lib/events/events.effects';\r\nexport * from './lib/events/events.models';\r\nexport * from './lib/events/events.reducer';\r\nexport * from './lib/events/events.selectors';\r\nexport * from './lib/events/events.service';\r\n\r\n// /**\r\n//  * Forms\r\n//  */\r\nexport * from './lib/forms/forms.module';\r\nexport * from './lib/forms/actions';\r\nexport * from './lib/forms/decorators';\r\nexport * from './lib/forms/models';\r\nexport * from './lib/forms/validators';\r\nexport * from './lib/forms/utils';\r\n\r\n// /**\r\n//  * HTTP\r\n//  */\r\nexport * from './lib/http/http.module';\r\nexport * from './lib/http/http.actions';\r\nexport * from './lib/http/http.commands';\r\nexport * from './lib/http/http.effects';\r\nexport * from './lib/http/http.models';\r\nexport * from './lib/http/http.service';\r\n\r\n/**\r\n * Hub\r\n */\r\nexport * from './lib/hub/hub.module';\r\nexport * from './lib/hub/hub.service';\r\n\r\n// /**\r\n//  * Lookup\r\n//  */\r\nexport * from './lib/lookup/lookup.module';\r\nexport * from './lib/lookup/lookup.actions';\r\nexport * from './lib/lookup/lookup.models';\r\nexport * from './lib/lookup/lookup.reducer';\r\nexport * from './lib/lookup/lookup.selectors';\r\nexport * from './lib/lookup/lookup.service';\r\n\r\n// /**\r\n//  * Pipes\r\n//  */\r\nexport * from './lib/pipes/pipes.module';\r\nexport * from './lib/pipes/list.pipe';\r\nexport * from './lib/pipes/pad-left.pipe';\r\nexport * from './lib/pipes/phone-number.pipe';\r\nexport * from './lib/pipes/safe-html.pipe';\r\nexport * from './lib/pipes/time-ago.pipe';\r\nexport * from './lib/pipes/yes-no.pipe';\r\n\r\n// /**\r\n//  * Router\r\n//  */\r\nexport * from './lib/router/router.module';\r\nexport * from './lib/router/actions';\r\nexport * from './lib/router/router.effects';\r\nexport * from './lib/router/models';\r\nexport * from './lib/router/router.reducer';\r\nexport * from './lib/router/selectors';\r\nexport * from './lib/router/router.service';\r\nexport * from './lib/router/guards/authenticated.guard';\r\n\r\n// /**\r\n//  * Shared\r\n//  */\r\nexport * from './lib/shared/shared.module';\r\nexport * from './lib/shared/actions';\r\nexport * from './lib/shared/base-entity';\r\nexport * from './lib/shared/collection';\r\nexport * from './lib/shared/component';\r\nexport * from './lib/shared/config';\r\nexport * from './lib/shared/date';\r\nexport * from './lib/shared/date-mask.directive';\r\nexport * from './lib/shared/decorators';\r\nexport * from './lib/shared/lookup';\r\nexport * from './lib/shared/models';\r\nexport * from './lib/shared/ordering';\r\nexport * from './lib/shared/question';\r\nexport * from './lib/shared/token';\r\nexport * from './lib/shared/tree';\r\nexport * from './lib/shared/user';\r\nexport * from './lib/shared/utils';\r\nexport * from './lib/shared/window';\r\n\r\n/**\r\n * Storage\r\n */\r\nexport * from './lib/storage/storage.module';\r\nexport * from './lib/storage/storage.actions';\r\nexport * from './lib/storage/storage.effects';\r\nexport * from './lib/storage/storage.models';\r\nexport * from './lib/storage/storage.service';\r\n\r\n// /**\r\n//  * Store\r\n//  */\r\nexport * from './lib/store/store.module';\r\nexport * from './lib/store/actions';\r\nexport * from './lib/store/models';\r\nexport * from './lib/store/reducers';\r\nexport * from './lib/store/selectors';\r\n\r\n/**\r\n * Widgets\r\n */\r\nexport * from './lib/widgets/widgets.module';\r\nexport * from './lib/widgets/widgets.model';\r\nexport * from './lib/widgets/widgets.reducer';\r\nexport * from './lib/widgets/widget/widget.component';\r\nexport * from './lib/widgets/widgets-menu/widgets-menu.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["AngularValidators","Events","i1","RouterModule","i4","i2.DialogComponent","i2","i3","i4.AddressPipe","Ng2FormArray","i4.StatePickerComponent","i5","i6","i7","i4.InlineAddressComponent","i5.AddressFormComponent","i1.DialogComponent","Ng2FormsModule","i2.HttpService","i1.TileComponent","i2.SocialIconsComponent","i1.CollageComponent","i5.DateMaskDirective","i1.DatepickerComponent","i1.FilePreviewComponent","i2.UploadsComponent","i3.UploadComponent","i1.FileUploadComponent","FormsModule","i3.TimerPipe","Validators","i1.CalendarDayEventsComponent","i1.CalendarDayEditComponent","i2.CalendarDayComponent","i4.CalendarViewComponent","i5.CalendarDaysComponent","i6.CalendarKeyComponent","i7.CalendarDayEditComponent","i8","i9","i6.TimeControlComponent","i10","ScriptLoader.create","ScriptLoader.load","NgrxEffectsModule","i2.ErrorsService","combineLatest","i1.HttpService","i2.HttpCommands","i2.RouterService","NGRouterModule","NgValidators","Storage","i2.StorageService","NgrxStoreModule"],"mappings":"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"}}}