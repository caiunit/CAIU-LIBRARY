{"ast":null,"code":"import { of, combineLatest } from 'rxjs';\nimport { map, distinctUntilChanged, filter, take } from 'rxjs/operators';\nimport { Token } from '../shared/token';\nimport { build, isMobile } from '../shared/utils';\nimport { Window } from '../shared/window';\nexport function allSelector(store) {\n  return store.pipe(map(function (x) {\n    return x;\n  }));\n}\nexport function emptySelector(store) {\n  return of({});\n}\nexport function currentUserSelector(store) {\n  return store.select('currentUser');\n}\nexport function authenticatedSelector(store) {\n  return currentUserSelector(store).pipe(map(function (user) {\n    return user.authenticated;\n  }), distinctUntilChanged());\n}\nexport function loggedInSelector(store) {\n  return currentUserSelector(store).pipe(map(function (user) {\n    return user.authenticated;\n  }), take(1));\n}\nexport function configSelector(store) {\n  return store.select('config');\n}\nexport function windowSelector(store) {\n  return store.select('window').pipe(map(function (w) {\n    return build(Window, w);\n  }));\n}\nexport function windowHeightSelector(store) {\n  return windowSelector(store).pipe(map(function (window) {\n    return window.windowHeight;\n  }), distinctUntilChanged());\n}\nexport function windowWidthSelector(store) {\n  return windowSelector(store).pipe(map(function (window) {\n    return window.windowWidth;\n  }), distinctUntilChanged());\n}\nexport function containerHeightSelector(store) {\n  return windowHeightSelector(store).pipe(map(function (h) {\n    return h === 0 ? 700 : h;\n  }));\n}\nexport function containerWidthSelector(store) {\n  return windowWidthSelector(store).pipe(map(function (w) {\n    return w === 0 ? 1200 : w;\n  }));\n}\nexport function contentHeightSelector(store) {\n  return windowHeightSelector(store).pipe(map(function (h) {\n    return h === 0 ? 700 : h;\n  }));\n}\nexport function contentWidthSelector(store) {\n  return windowWidthSelector(store).pipe(map(function (w) {\n    return w === 0 ? 1200 : w;\n  }));\n}\nexport function sidenavOpenedSelector(store) {\n  return store.select('sidenav').pipe(distinctUntilChanged());\n}\nexport function apiBaseUrlSelector(store) {\n  return configSelector(store).pipe(map(function (config) {\n    return config.apiBaseUrl;\n  }));\n}\nexport function authTokenSelector(store) {\n  return currentUserSelector(store).pipe(map(function (user) {\n    var token = user && user.token ? build(Token, user.token) : new Token();\n    return token.toString();\n  }));\n}\nexport function userLastActiveSelector(store) {\n  return currentUserSelector(store).pipe(map(function (x) {\n    return new Date(x.lastActive);\n  }));\n}\nexport function isMobileSelector(store) {\n  return combineLatest([windowHeightSelector(store), windowWidthSelector(store)]).pipe(map(function (x) {\n    return x[1] < x[0] || isMobile();\n  }));\n}\nexport function actionTypeSelector(actions$, actionType) {\n  return actions$.pipe(map(function (action) {\n    return action.type === actionType ? action.payload : null;\n  }), filter(function (x) {\n    return x !== null;\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}