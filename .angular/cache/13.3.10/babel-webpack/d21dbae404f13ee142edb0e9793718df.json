{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";\nimport _classCallCheck from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport _inherits from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";\nimport _createSuper from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { AuditHistory } from '../audit.model';\nimport { SmartComponent } from '../../../shared/component';\nimport { toArray } from '../../../shared/utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../audit.model\";\n\nfunction AuditHistoryComponent_mat_header_cell_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \"Start Date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuditHistoryComponent_mat_cell_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r10.startDate, \"shortDate\"), \" \");\n  }\n}\n\nfunction AuditHistoryComponent_mat_footer_cell_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-footer-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r2.activeRow == null ? null : ctx_r2.activeRow.startDate, \"shortDate\"), \" \");\n  }\n}\n\nfunction AuditHistoryComponent_mat_header_cell_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \"End Date\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuditHistoryComponent_mat_cell_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, element_r11.endDate, \"shortDate\"), \" \");\n  }\n}\n\nfunction AuditHistoryComponent_mat_footer_cell_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-footer-cell\", 12);\n    i0.ɵɵtext(1, \"ACTIVE\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_header_cell_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(column_r12.label);\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_cell_2_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r17 = i0.ɵɵnextContext().$implicit;\n    var column_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r17[column_r12.name]);\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_cell_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r17 = i0.ɵɵnextContext().$implicit;\n    var column_r12 = i0.ɵɵnextContext().$implicit;\n    var ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r19.getDate(element_r17[column_r12.name]), \"shortDate\"), \" \");\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_cell_2_span_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r26, \" \");\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_cell_2_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, AuditHistoryComponent_ng_container_10_mat_cell_2_span_3_div_1_Template, 2, 1, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r17 = i0.ɵɵnextContext().$implicit;\n    var column_r12 = i0.ɵɵnextContext().$implicit;\n    var ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r20.getList(element_r17[column_r12.name]));\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_cell_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtemplate(1, AuditHistoryComponent_ng_container_10_mat_cell_2_span_1_Template, 2, 1, \"span\", 14);\n    i0.ɵɵtemplate(2, AuditHistoryComponent_ng_container_10_mat_cell_2_span_2_Template, 3, 4, \"span\", 14);\n    i0.ɵɵtemplate(3, AuditHistoryComponent_ng_container_10_mat_cell_2_span_3_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !column_r12.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r12.type === \"DATE\" || column_r12.name === \"lastModifiedDate\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r12.type === \"LIST\");\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = i0.ɵɵnextContext(2).$implicit;\n    var ctx_r30 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r30.activeRow[column_r12.name]);\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = i0.ɵɵnextContext(2).$implicit;\n    var ctx_r31 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r31.getDate(ctx_r31.activeRow[column_r12.name]), \"shortDate\"), \" \");\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var item_r36 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r36, \" \");\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_3_div_1_Template, 2, 1, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = i0.ɵɵnextContext(2).$implicit;\n    var ctx_r32 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r32.getList(ctx_r32.activeRow[column_r12.name]));\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_mat_footer_cell_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-footer-cell\");\n    i0.ɵɵtemplate(1, AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_1_Template, 2, 1, \"span\", 14);\n    i0.ɵɵtemplate(2, AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_2_Template, 3, 4, \"span\", 14);\n    i0.ɵɵtemplate(3, AuditHistoryComponent_ng_container_10_mat_footer_cell_3_span_3_Template, 2, 1, \"span\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !column_r12.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r12.type === \"DATE\" || column_r12.name === \"lastModifiedDate\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r12.type === \"LIST\");\n  }\n}\n\nfunction AuditHistoryComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 13);\n    i0.ɵɵtemplate(1, AuditHistoryComponent_ng_container_10_mat_header_cell_1_Template, 2, 1, \"mat-header-cell\", 3);\n    i0.ɵɵtemplate(2, AuditHistoryComponent_ng_container_10_mat_cell_2_Template, 4, 3, \"mat-cell\", 4);\n    i0.ɵɵtemplate(3, AuditHistoryComponent_ng_container_10_mat_footer_cell_3_Template, 4, 3, \"mat-footer-cell\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var column_r12 = ctx.$implicit;\n    i0.ɵɵproperty(\"matColumnDef\", column_r12.name);\n  }\n}\n\nfunction AuditHistoryComponent_mat_header_row_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\n\nfunction AuditHistoryComponent_mat_row_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\");\n  }\n}\n\nfunction AuditHistoryComponent_mat_footer_row_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-footer-row\", 16);\n  }\n}\n\nexport var AuditHistoryComponent = /*#__PURE__*/(function () {\n  var AuditHistoryComponent = /*#__PURE__*/function (_SmartComponent) {\n    _inherits(AuditHistoryComponent, _SmartComponent);\n\n    var _super = _createSuper(AuditHistoryComponent);\n\n    function AuditHistoryComponent(store, dialogRef, data) {\n      var _this;\n\n      _classCallCheck(this, AuditHistoryComponent);\n\n      _this = _super.call(this, store);\n      _this.store = store;\n      _this.dialogRef = dialogRef;\n      _this.data = data;\n      _this.columns = [];\n      _this.dataSource = [];\n      return _this;\n    }\n\n    _createClass(AuditHistoryComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.sync(['dataSource', 'columns']);\n      }\n    }, {\n      key: \"activeRow\",\n      get: function get() {\n        return this.dataSource.length > 0 ? this.dataSource.find(function (x) {\n          return x.endDate === null;\n        }) || this.dataSource[0] : null;\n      }\n    }, {\n      key: \"columns$\",\n      get: function get() {\n        return this.data.columns;\n      }\n    }, {\n      key: \"dataSource$\",\n      get: function get() {\n        return this.data.dataSource;\n      }\n    }, {\n      key: \"displayedColumns\",\n      get: function get() {\n        return ['startDate', 'endDate'].concat(_toConsumableArray(this.columns.map(function (x) {\n          return x.name;\n        })));\n      }\n    }, {\n      key: \"getDate\",\n      value: function getDate(date) {\n        return new Date(date);\n      }\n    }, {\n      key: \"getList\",\n      value: function getList(list) {\n        return toArray(list).map(function (x) {\n          return x.toString();\n        });\n      }\n    }]);\n\n    return AuditHistoryComponent;\n  }(SmartComponent);\n\n  AuditHistoryComponent.ɵfac = function AuditHistoryComponent_Factory(t) {\n    return new (t || AuditHistoryComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n  };\n\n  AuditHistoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AuditHistoryComponent,\n    selectors: [[\"iu-audit-history\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 14,\n    vars: 7,\n    consts: [[\"id\", \"audit-history\", 1, \"scrollable\"], [1, \"audit\", 3, \"dataSource\"], [\"matColumnDef\", \"startDate\"], [4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [4, \"matFooterCellDef\"], [\"matColumnDef\", \"endDate\", \"sticky\", \"\"], [\"class\", \"active\", 4, \"matFooterCellDef\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [4, \"matHeaderRowDef\", \"matHeaderRowDefSticky\"], [4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"bold\", 4, \"matFooterRowDef\", \"matFooterRowDefSticky\"], [1, \"active\"], [3, \"matColumnDef\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bold\"]],\n    template: function AuditHistoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-table\", 1);\n        i0.ɵɵelementContainerStart(2, 2);\n        i0.ɵɵtemplate(3, AuditHistoryComponent_mat_header_cell_3_Template, 2, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(4, AuditHistoryComponent_mat_cell_4_Template, 3, 4, \"mat-cell\", 4);\n        i0.ɵɵtemplate(5, AuditHistoryComponent_mat_footer_cell_5_Template, 3, 4, \"mat-footer-cell\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(6, 6);\n        i0.ɵɵtemplate(7, AuditHistoryComponent_mat_header_cell_7_Template, 2, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(8, AuditHistoryComponent_mat_cell_8_Template, 3, 4, \"mat-cell\", 4);\n        i0.ɵɵtemplate(9, AuditHistoryComponent_mat_footer_cell_9_Template, 2, 0, \"mat-footer-cell\", 7);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(10, AuditHistoryComponent_ng_container_10_Template, 4, 1, \"ng-container\", 8);\n        i0.ɵɵtemplate(11, AuditHistoryComponent_mat_header_row_11_Template, 1, 0, \"mat-header-row\", 9);\n        i0.ɵɵtemplate(12, AuditHistoryComponent_mat_row_12_Template, 1, 0, \"mat-row\", 10);\n        i0.ɵɵtemplate(13, AuditHistoryComponent_mat_footer_row_13_Template, 1, 0, \"mat-footer-row\", 11);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.columns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns)(\"matHeaderRowDefSticky\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matFooterRowDef\", ctx.displayedColumns)(\"matFooterRowDefSticky\", true);\n      }\n    },\n    directives: [i3.MatTable, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatHeaderCell, i3.MatCellDef, i3.MatCell, i3.MatFooterCellDef, i3.MatFooterCell, i4.NgForOf, i4.NgIf, i3.MatHeaderRowDef, i3.MatHeaderRow, i3.MatRowDef, i3.MatRow, i3.MatFooterRowDef, i3.MatFooterRow],\n    pipes: [i4.DatePipe],\n    styles: [\"#audit-history[_ngcontent-%COMP%]{max-height:400px;overflow:auto}#audit-history[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;min-width:500px}#audit-history[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #audit-history[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 5px}#audit-history[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:700}#audit-history[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:green}\"]\n  });\n  return AuditHistoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}