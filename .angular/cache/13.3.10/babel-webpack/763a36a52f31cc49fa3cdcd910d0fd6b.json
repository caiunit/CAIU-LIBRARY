{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport _inherits from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";\nimport _createSuper from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport { TemplateRef } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { CalendarEvent } from '../calendar.model';\nimport { Control } from '../../../forms/decorators';\nimport { LookupValue } from '../../../lookup/lookup.models';\nimport { FormComponent } from '../../../shared/component';\nimport { build } from '../../../shared/utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\nimport * as i8 from \"@angular/material/checkbox\";\nimport * as i9 from \"../../time/time-control/time-control.component\";\nimport * as i10 from \"@angular/material/button\";\n\nfunction CalendarEventFormComponent_h1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"New Event\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CalendarEventFormComponent_h1_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"Edit Event\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CalendarEventFormComponent_div_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\n\nvar _c0 = function _c0(a0, a1, a2, a3, a4) {\n  return {\n    calendarEvent: a0,\n    form: a1,\n    save: a2,\n    delete: a3,\n    dialogRef: a4\n  };\n};\n\nfunction CalendarEventFormComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CalendarEventFormComponent_div_3_ng_container_1_Template, 1, 0, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.calendarEventFormTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction5(2, _c0, ctx_r2.calendarEvent, ctx_r2.form, ctx_r2.save, ctx_r2.delete, ctx_r2.dialogRef));\n  }\n}\n\nfunction CalendarEventFormComponent_form_4_mat_form_field_3_mat_option_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var lkp_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", lkp_r10.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", lkp_r10.name, \"\");\n  }\n}\n\nfunction CalendarEventFormComponent_form_4_mat_form_field_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 13)(1, \"mat-select\", 14);\n    i0.ɵɵtemplate(2, CalendarEventFormComponent_form_4_mat_form_field_3_mat_option_2_Template, 2, 2, \"mat-option\", 15);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.calendarEventTypes);\n  }\n}\n\nfunction CalendarEventFormComponent_form_4_iu_time_control_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"iu-time-control\", 17);\n  }\n}\n\nfunction CalendarEventFormComponent_form_4_iu_time_control_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"iu-time-control\", 18);\n  }\n}\n\nfunction CalendarEventFormComponent_form_4_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function CalendarEventFormComponent_form_4_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      var ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.delete();\n    });\n    i0.ɵɵtext(1, \" Delete \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CalendarEventFormComponent_form_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 4)(1, \"mat-form-field\", 5);\n    i0.ɵɵelement(2, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CalendarEventFormComponent_form_4_mat_form_field_3_Template, 3, 1, \"mat-form-field\", 7);\n    i0.ɵɵelementStart(4, \"mat-checkbox\", 8);\n    i0.ɵɵtext(5, \"All Day Event\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CalendarEventFormComponent_form_4_iu_time_control_6_Template, 1, 0, \"iu-time-control\", 9);\n    i0.ɵɵtemplate(7, CalendarEventFormComponent_form_4_iu_time_control_7_Template, 1, 0, \"iu-time-control\", 10);\n    i0.ɵɵtemplate(8, CalendarEventFormComponent_form_4_button_8_Template, 2, 0, \"button\", 11);\n    i0.ɵɵelementStart(9, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CalendarEventFormComponent_form_4_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r14);\n      var ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.save();\n    });\n    i0.ɵɵtext(10, \" Save \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.form);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.calendarEventTypes);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showTime);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showTime);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.editing);\n  }\n}\n\nexport var CalendarEventFormComponent = /*#__PURE__*/function (_FormComponent) {\n  _inherits(CalendarEventFormComponent, _FormComponent);\n\n  var _super = _createSuper(CalendarEventFormComponent);\n\n  function CalendarEventFormComponent(dialogRef, data) {\n    var _this;\n\n    _classCallCheck(this, CalendarEventFormComponent);\n\n    _this = _super.call(this);\n    _this.dialogRef = dialogRef;\n    _this.data = data;\n    _this._allDayDefault = false;\n    _this._calendarEvent = new CalendarEvent();\n    _this._calendarEventTypes = [];\n    return _this;\n  }\n\n  _createClass(CalendarEventFormComponent, [{\n    key: \"allDay\",\n    get: function get() {\n      var event = this.calendarEvent;\n      return event.id === 0 ? this.allDayDefault : event.allDay;\n    }\n  }, {\n    key: \"allDayDefault\",\n    get: function get() {\n      return this.data['allDayDefault'] || this._allDayDefault;\n    },\n    set: function set(value) {\n      this._allDayDefault = value;\n    }\n  }, {\n    key: \"calendarEvent\",\n    get: function get() {\n      return this.data['calendarEvent'] || this._calendarEvent;\n    },\n    set: function set(value) {\n      this._calendarEvent = value;\n    }\n  }, {\n    key: \"calendarEventFormTemplate\",\n    get: function get() {\n      return this.data['calendarEventFormTemplate'] || this._calendarEventFormTemplate;\n    },\n    set: function set(value) {\n      this._calendarEventFormTemplate = value;\n    }\n  }, {\n    key: \"editing\",\n    get: function get() {\n      return this.calendarEvent.id !== 0;\n    }\n  }, {\n    key: \"calendarEventTypes\",\n    get: function get() {\n      return this.data && this.data['calendarEventTypes'] ? this.data['calendarEventTypes'] : this._calendarEventTypes;\n    },\n    set: function set(value) {\n      this._calendarEventTypes = value;\n    }\n  }, {\n    key: \"showTime\",\n    get: function get() {\n      return !this.form.controls['allDay'].value;\n    }\n  }, {\n    key: \"valueOut\",\n    get: function get() {\n      var _this2 = this;\n\n      return build(CalendarEvent, this.form.value, {\n        description: this.form.value.eventName,\n        eventName: this.form.value.eventTypeId ? build(LookupValue, this.calendarEventTypes.find(function (x) {\n          return x.id === _this2.form.value.eventTypeId;\n        })).name : this.form.value.eventName,\n        calendarId: this.data.calendarId\n      });\n    }\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.setValue(build(CalendarEvent, this.calendarEvent, {\n        allDay: this.allDay\n      }));\n    }\n  }, {\n    key: \"close\",\n    value: function close(calendarEvent, action) {\n      if (this.dialogRef && this.dialogRef.close) {\n        this.dialogRef.close({\n          calendarEvent: calendarEvent,\n          action: action\n        });\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this.form.valid) {\n        this.close(this.valueOut, 'DELETE');\n      }\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      if (this.form.valid) {\n        this.close(this.valueOut, 'SAVE');\n      }\n    }\n  }]);\n\n  return CalendarEventFormComponent;\n}(FormComponent);\n\nCalendarEventFormComponent.ɵfac = function CalendarEventFormComponent_Factory(t) {\n  return new (t || CalendarEventFormComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef, 8), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA, 8));\n};\n\nCalendarEventFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalendarEventFormComponent,\n  selectors: [[\"iu-calendar-event-form\"]],\n  inputs: {\n    allDayDefault: \"allDayDefault\",\n    calendarEvent: \"calendarEvent\",\n    calendarEventFormTemplate: \"calendarEventFormTemplate\"\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 5,\n  vars: 4,\n  consts: [[1, \"calendar-form\", \"scrollable\"], [4, \"ngIf\"], [3, \"formGroup\", 4, \"ngIf\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"formGroup\"], [1, \"event-name\"], [\"type\", \"text\", \"formControlName\", \"name\", \"matInput\", \"\", \"placeholder\", \"Event Name\"], [\"class\", \"event-type\", 4, \"ngIf\"], [\"formControlName\", \"allDay\", 1, \"all-day\"], [\"formControlName\", \"startTime\", \"label\", \"Start Time\", 4, \"ngIf\"], [\"formControlName\", \"endTime\", \"label\", \"End Time\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"class\", \"btn-delete\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 1, \"btn-save\", 3, \"click\"], [1, \"event-type\"], [\"placeholder\", \"Event Type\", \"formControlName\", \"eventTypeId\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [\"formControlName\", \"startTime\", \"label\", \"Start Time\"], [\"formControlName\", \"endTime\", \"label\", \"End Time\"], [\"mat-raised-button\", \"\", 1, \"btn-delete\", 3, \"click\"]],\n  template: function CalendarEventFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, CalendarEventFormComponent_h1_1_Template, 2, 0, \"h1\", 1);\n      i0.ɵɵtemplate(2, CalendarEventFormComponent_h1_2_Template, 2, 0, \"h1\", 1);\n      i0.ɵɵtemplate(3, CalendarEventFormComponent_div_3_Template, 2, 8, \"div\", 1);\n      i0.ɵɵtemplate(4, CalendarEventFormComponent_form_4_Template, 11, 5, \"form\", 2);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.editing);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.editing);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.calendarEventFormTemplate);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.calendarEventFormTemplate);\n    }\n  },\n  directives: [i2.NgIf, i2.NgTemplateOutlet, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i4.MatFormField, i3.DefaultValueAccessor, i5.MatInput, i3.NgControlStatus, i3.FormControlName, i6.MatSelect, i2.NgForOf, i7.MatOption, i8.MatCheckbox, i9.TimeControlComponent, i10.MatButton],\n  styles: [\".calendar-form[_ngcontent-%COMP%]{position:relative;overflow:auto}.calendar-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0}.calendar-form[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{margin-right:4%}.calendar-form[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%], .calendar-form[_ngcontent-%COMP%]   .event-type[_ngcontent-%COMP%]{width:344px;width:48%}.calendar-form[_ngcontent-%COMP%]   .all-day[_ngcontent-%COMP%]{position:absolute;top:174px;right:30px}.calendar-form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{font-size:16px;position:absolute;bottom:10px}.calendar-form[_ngcontent-%COMP%]   .mat-raised-button.btn-delete[_ngcontent-%COMP%]{color:#fff;background-color:red;right:85px}.calendar-form[_ngcontent-%COMP%]   .mat-raised-button.btn-save[_ngcontent-%COMP%]{color:#fff;background-color:green;right:10px}\"]\n});\n\n__decorate([Control(CalendarEvent), __metadata(\"design:type\", FormGroup)], CalendarEventFormComponent.prototype, \"form\", void 0);","map":null,"metadata":{},"sourceType":"module"}