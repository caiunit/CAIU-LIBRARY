{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport _inherits from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";\nimport _createSuper from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createSuper.js\";\nimport { forwardRef, ElementRef } from '@angular/core';\nimport { FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { PhoneNumber } from './phone-number.model';\nimport { buildControlFromModel } from '../../forms/utils';\nimport { DumbComponent } from '../../shared/component';\nimport { build, getValue } from '../../shared/utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nvar _c0 = [\"areaCodeEl\"];\nvar _c1 = [\"prefixEl\"];\nvar _c2 = [\"lineNumberEl\"];\n\nfunction PhoneNumberComponent_mat_form_field_3_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1, \"+1 \\xA0\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PhoneNumberComponent_mat_form_field_3_mat_error_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Please enter a valid phone number \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PhoneNumberComponent_mat_form_field_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 3);\n    i0.ɵɵtemplate(1, PhoneNumberComponent_mat_form_field_3_span_1_Template, 2, 0, \"span\", 4);\n    i0.ɵɵelement(2, \"input\", 5);\n    i0.ɵɵtemplate(3, PhoneNumberComponent_mat_form_field_3_mat_error_3_Template, 2, 0, \"mat-error\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showPrefix);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"placeholder\", ctx_r0.placeholder);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.fg.hasError(\"phoneNumber\"));\n  }\n}\n\nfunction PhoneNumberComponent_mat_form_field_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-form-field\", 8)(1, \"span\", 7);\n    i0.ɵɵtext(2, \"+1 \\xA0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 9, 10);\n    i0.ɵɵlistener(\"keyup\", function PhoneNumberComponent_mat_form_field_4_Template_input_keyup_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n\n      var _r6 = i0.ɵɵreference(4);\n\n      var ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onChangeAreaCode(_r6.value);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"placeholder\", ctx_r1.placeholder);\n  }\n}\n\nfunction PhoneNumberComponent_mat_form_field_5_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-form-field\", 8)(1, \"input\", 11, 12);\n    i0.ɵɵlistener(\"keyup\", function PhoneNumberComponent_mat_form_field_5_Template_input_keyup_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n\n      var _r9 = i0.ɵɵreference(2);\n\n      var ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.onChangePrefix(_r9.value);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"placeholder\", ctx_r2.placeholder);\n  }\n}\n\nfunction PhoneNumberComponent_mat_form_field_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 8);\n    i0.ɵɵelement(1, \"input\", 13, 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"placeholder\", ctx_r3.placeholder);\n  }\n}\n\nexport var PHONE_NUMBER_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(function () {\n    return PhoneNumberComponent;\n  }),\n  multi: true\n};\nexport var PhoneNumberComponent = /*#__PURE__*/(function () {\n  var PhoneNumberComponent = /*#__PURE__*/function (_DumbComponent) {\n    _inherits(PhoneNumberComponent, _DumbComponent);\n\n    var _super = _createSuper(PhoneNumberComponent);\n\n    function PhoneNumberComponent() {\n      var _this;\n\n      _classCallCheck(this, PhoneNumberComponent);\n\n      _this = _super.call(this);\n      _this.placeholder = '';\n      _this.showPrefix = false;\n      _this.multi = false;\n      _this._value = '';\n      _this._phoneNumber = new PhoneNumber();\n      _this.fg = buildControlFromModel(new PhoneNumber());\n      return _this;\n    }\n\n    _createClass(PhoneNumberComponent, [{\n      key: \"value\",\n      get: function get() {\n        return this._value;\n      },\n      set: function set(value) {\n        if (this.phoneNumber.full !== value) {\n          this._value = value;\n          this.phoneNumber = build(PhoneNumber, {\n            full: value\n          });\n        }\n      }\n    }, {\n      key: \"phoneNumber\",\n      get: function get() {\n        return this._phoneNumber;\n      },\n      set: function set(value) {\n        this._phoneNumber = value;\n        this.fg.setValue(getValue(this.phoneNumber));\n      }\n    }, {\n      key: \"registerOnChange\",\n      value: function registerOnChange(fn) {\n        this.onModelChange = fn;\n      }\n    }, {\n      key: \"registerOnTouched\",\n      value: function registerOnTouched(fn) {\n        this.onTouch = fn;\n      }\n    }, {\n      key: \"writeValue\",\n      value: function writeValue(value) {\n        this.value = value;\n      }\n    }, {\n      key: \"onChange\",\n      value: function onChange(value) {\n        this.value = value;\n\n        if (typeof this.onModelChange === 'function') {\n          this.onModelChange(value);\n        }\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this2 = this;\n\n        this.addSubscription(this.fg.valueChanges.subscribe(function (x) {\n          if (typeof _this2.onModelChange === 'function') {\n            _this2.onModelChange(build(PhoneNumber, x).full);\n          }\n        }));\n      }\n    }, {\n      key: \"onChangeAreaCode\",\n      value: function onChangeAreaCode(e) {\n        if (e.length === 3) {\n          this.prefixEl.nativeElement.focus();\n        }\n      }\n    }, {\n      key: \"onChangePrefix\",\n      value: function onChangePrefix(e) {\n        if (e.length === 3) {\n          this.lineNumberEl.nativeElement.focus();\n        }\n      }\n    }]);\n\n    return PhoneNumberComponent;\n  }(DumbComponent);\n\n  PhoneNumberComponent.ɵfac = function PhoneNumberComponent_Factory(t) {\n    return new (t || PhoneNumberComponent)();\n  };\n\n  PhoneNumberComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PhoneNumberComponent,\n    selectors: [[\"iu-phone-number\"]],\n    viewQuery: function PhoneNumberComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.areaCodeEl = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.prefixEl = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lineNumberEl = _t.first);\n      }\n    },\n    inputs: {\n      placeholder: \"placeholder\",\n      showPrefix: \"showPrefix\",\n      multi: \"multi\"\n    },\n    features: [i0.ɵɵProvidersFeature([PHONE_NUMBER_ACCESSOR]), i0.ɵɵInheritDefinitionFeature],\n    decls: 7,\n    vars: 5,\n    consts: [[1, \"phone-number\", 3, \"formGroup\"], [\"appearance\", \"fill\", 4, \"ngIf\"], [\"class\", \"multi\", \"appearance\", \"fill\", 4, \"ngIf\"], [\"appearance\", \"fill\"], [\"matPrefix\", \"\", 4, \"ngIf\"], [\"type\", \"tel\", \"matInput\", \"\", \"formControlName\", \"full\", 3, \"placeholder\"], [4, \"ngIf\"], [\"matPrefix\", \"\"], [\"appearance\", \"fill\", 1, \"multi\"], [\"matInput\", \"\", \"formControlName\", \"areaCode\", 3, \"placeholder\", \"keyup\"], [\"areaCodeEl\", \"\"], [\"matInput\", \"\", \"formControlName\", \"prefix\", 3, \"placeholder\", \"keyup\"], [\"prefixEl\", \"\"], [\"matInput\", \"\", \"formControlName\", \"lineNumber\", 3, \"placeholder\"], [\"lineNumberEl\", \"\"]],\n    template: function PhoneNumberComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"h3\");\n        i0.ɵɵtext(2, \"Phone Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, PhoneNumberComponent_mat_form_field_3_Template, 4, 3, \"mat-form-field\", 1);\n        i0.ɵɵtemplate(4, PhoneNumberComponent_mat_form_field_4_Template, 5, 1, \"mat-form-field\", 2);\n        i0.ɵɵtemplate(5, PhoneNumberComponent_mat_form_field_5_Template, 3, 1, \"mat-form-field\", 2);\n        i0.ɵɵtemplate(6, PhoneNumberComponent_mat_form_field_6_Template, 3, 1, \"mat-form-field\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.fg);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", !ctx.multi);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.multi);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.multi);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.multi);\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i2.NgIf, i3.MatFormField, i3.MatPrefix, i4.MatInput, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i3.MatError],\n    styles: [\"form.phone-number[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;position:relative;padding-top:24px}form.phone-number[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:absolute;top:0;left:0;margin:0;color:#0009;font-size:14px;font-weight:400}form.phone-number[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{padding-top:0!important}form.phone-number[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center!important;font-size:24px!important}form.phone-number[_ngcontent-%COMP%]   mat-form-field.multi[_ngcontent-%COMP%]:nth-of-type(1){width:34%}form.phone-number[_ngcontent-%COMP%]   mat-form-field.multi[_ngcontent-%COMP%]:nth-of-type(2){width:28%}form.phone-number[_ngcontent-%COMP%]   mat-form-field.multi[_ngcontent-%COMP%]:nth-of-type(3){width:34%}\"],\n    changeDetection: 0\n  });\n  return PhoneNumberComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}