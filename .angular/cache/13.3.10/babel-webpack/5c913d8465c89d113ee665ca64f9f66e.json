{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";\nimport _classCallCheck from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\dsalgado.contr\\\\source\\\\Workspaces\\\\CAIU-LIBRARY\\\\CAIU-LIBRARY\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { EventEmitter } from '@angular/core';\nimport { FileUpload } from '../file-upload.model';\nimport { clamp, build } from '../../../shared/utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/drag-drop\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../file-preview/file-preview.component\";\n\nfunction UploadsComponent_iu_file_preview_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"iu-file-preview\", 2);\n    i0.ɵɵlistener(\"moveUp\", function UploadsComponent_iu_file_preview_1_Template_iu_file_preview_moveUp_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onMoveUp($event);\n    })(\"moveDown\", function UploadsComponent_iu_file_preview_1_Template_iu_file_preview_moveDown_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.onMoveDown($event);\n    })(\"remove\", function UploadsComponent_iu_file_preview_1_Template_iu_file_preview_remove_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onRemove($event);\n    })(\"changePrivacyStatus\", function UploadsComponent_iu_file_preview_1_Template_iu_file_preview_changePrivacyStatus_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      var ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.onChangePrivacyStatus($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var upload_r1 = ctx.$implicit;\n    var first_r2 = ctx.first;\n    var last_r3 = ctx.last;\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"file\", upload_r1)(\"first\", first_r2)(\"last\", last_r3)(\"ordered\", ctx_r0.ordered)(\"isPrivateMessage\", ctx_r0.isPrivateMessage);\n  }\n}\n\nexport var UploadsComponent = /*#__PURE__*/(function () {\n  var UploadsComponent = /*#__PURE__*/function () {\n    function UploadsComponent() {\n      _classCallCheck(this, UploadsComponent);\n\n      this.ordered = true;\n      this.isPrivateMessage = '';\n      this.changePrivacyStatus = new EventEmitter();\n      this.moveUp = new EventEmitter();\n      this.moveDown = new EventEmitter();\n      this.remove = new EventEmitter();\n      this.reorder = new EventEmitter();\n      this._uploads = [];\n    }\n\n    _createClass(UploadsComponent, [{\n      key: \"uploads\",\n      get: function get() {\n        return this._uploads;\n      },\n      set: function set(value) {\n        this._uploads = value;\n      }\n    }, {\n      key: \"onChangePrivacyStatus\",\n      value: function onChangePrivacyStatus(f) {\n        this.changePrivacyStatus.emit(f);\n      }\n    }, {\n      key: \"onDrop\",\n      value: function onDrop(e) {\n        this.moveItemInArray(e.previousIndex, e.currentIndex);\n      }\n    }, {\n      key: \"onMoveUp\",\n      value: function onMoveUp(f) {\n        this.moveUp.emit(f);\n      }\n    }, {\n      key: \"onMoveDown\",\n      value: function onMoveDown(f) {\n        this.moveDown.emit(f);\n      }\n    }, {\n      key: \"onRemove\",\n      value: function onRemove(f) {\n        this.remove.emit(f);\n      }\n      /**\r\n       * Moves an item one index in an array to another.\r\n       * @param fromIndex Starting index of the item.\r\n       * @param toIndex Index to which the item should be moved.\r\n       */\n\n    }, {\n      key: \"moveItemInArray\",\n      value: function moveItemInArray(fromIndex, toIndex) {\n        var uploads = _toConsumableArray(this.uploads);\n\n        var from = clamp(fromIndex, uploads.length - 1);\n        var to = clamp(toIndex, uploads.length - 1);\n\n        if (from === to) {\n          return;\n        }\n\n        var target = uploads[from];\n        var delta = to < from ? -1 : 1;\n\n        for (var i = from; i !== to; i += delta) {\n          uploads[i] = uploads[i + delta];\n        }\n\n        uploads[to] = target;\n        this.reorder.emit(uploads.map(function (x, i) {\n          return build(FileUpload, x, {\n            order: i + 1\n          });\n        }));\n      }\n    }]);\n\n    return UploadsComponent;\n  }();\n\n  UploadsComponent.ɵfac = function UploadsComponent_Factory(t) {\n    return new (t || UploadsComponent)();\n  };\n\n  UploadsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UploadsComponent,\n    selectors: [[\"iu-uploads\"]],\n    inputs: {\n      height: \"height\",\n      width: \"width\",\n      ordered: \"ordered\",\n      isPrivateMessage: \"isPrivateMessage\",\n      uploads: \"uploads\"\n    },\n    outputs: {\n      changePrivacyStatus: \"changePrivacyStatus\",\n      moveUp: \"moveUp\",\n      moveDown: \"moveDown\",\n      remove: \"remove\",\n      reorder: \"reorder\"\n    },\n    decls: 2,\n    vars: 5,\n    consts: [[\"cdkDropList\", \"\", 1, \"uploads\", 3, \"cdkDropListDropped\"], [\"cdkDrag\", \"\", 3, \"file\", \"first\", \"last\", \"ordered\", \"isPrivateMessage\", \"moveUp\", \"moveDown\", \"remove\", \"changePrivacyStatus\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 3, \"file\", \"first\", \"last\", \"ordered\", \"isPrivateMessage\", \"moveUp\", \"moveDown\", \"remove\", \"changePrivacyStatus\"]],\n    template: function UploadsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"cdkDropListDropped\", function UploadsComponent_Template_div_cdkDropListDropped_0_listener($event) {\n          return ctx.onDrop($event);\n        });\n        i0.ɵɵtemplate(1, UploadsComponent_iu_file_preview_1_Template, 1, 5, \"iu-file-preview\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"height\", ctx.height)(\"width\", ctx.width);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.uploads);\n      }\n    },\n    directives: [i1.CdkDropList, i2.NgForOf, i3.FilePreviewComponent, i1.CdkDrag],\n    styles: [\".uploads[_ngcontent-%COMP%]{max-height:420px;max-width:600px;overflow-y:scroll;margin:10px 20px}.uploads[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#424242}.uploads[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#424242}.uploads[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.uploads[_ngcontent-%COMP%]   .dragging[_ngcontent-%COMP%]{background-color:#424242}\"],\n    changeDetection: 0\n  });\n  return UploadsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}